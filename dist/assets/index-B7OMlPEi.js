(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();function kne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vU={exports:{}},h4={},wU={exports:{}},jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=Symbol.for("react.element"),xne=Symbol.for("react.portal"),Ane=Symbol.for("react.fragment"),One=Symbol.for("react.strict_mode"),Pne=Symbol.for("react.profiler"),Tne=Symbol.for("react.provider"),Ine=Symbol.for("react.context"),Bne=Symbol.for("react.forward_ref"),Nne=Symbol.for("react.suspense"),Mne=Symbol.for("react.memo"),Rne=Symbol.for("react.lazy"),LI=Symbol.iterator;function Cne(e){return e===null||typeof e!="object"?null:(e=LI&&e[LI]||e["@@iterator"],typeof e=="function"?e:null)}var EU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_U=Object.assign,SU={};function Ry(e,t,r){this.props=e,this.context=t,this.refs=SU,this.updater=r||EU}Ry.prototype.isReactComponent={};Ry.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ry.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kU(){}kU.prototype=Ry.prototype;function Yk(e,t,r){this.props=e,this.context=t,this.refs=SU,this.updater=r||EU}var Jk=Yk.prototype=new kU;Jk.constructor=Yk;_U(Jk,Ry.prototype);Jk.isPureReactComponent=!0;var $I=Array.isArray,xU=Object.prototype.hasOwnProperty,ex={current:null},AU={key:!0,ref:!0,__self:!0,__source:!0};function OU(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)xU.call(t,n)&&!AU.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Pv,type:e,key:o,ref:s,props:i,_owner:ex.current}}function jne(e,t){return{$$typeof:Pv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function tx(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pv}function Une(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var FI=/\/+/g;function j5(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Une(""+e.key):t.toString(36)}function j3(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Pv:case xne:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+j5(s,0):n,$I(i)?(r="",e!=null&&(r=e.replace(FI,"$&/")+"/"),j3(i,t,r,"",function(c){return c})):i!=null&&(tx(i)&&(i=jne(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(FI,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",$I(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+j5(o,a);s+=j3(o,t,r,l,i)}else if(l=Cne(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+j5(o,a++),s+=j3(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function y2(e,t,r){if(e==null)return e;var n=[],i=0;return j3(e,n,"","",function(o){return t.call(r,o,i++)}),n}function zne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zo={current:null},U3={transition:null},Lne={ReactCurrentDispatcher:Zo,ReactCurrentBatchConfig:U3,ReactCurrentOwner:ex};function PU(){throw Error("act(...) is not supported in production builds of React.")}jr.Children={map:y2,forEach:function(e,t,r){y2(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return y2(e,function(){t++}),t},toArray:function(e){return y2(e,function(t){return t})||[]},only:function(e){if(!tx(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jr.Component=Ry;jr.Fragment=Ane;jr.Profiler=Pne;jr.PureComponent=Yk;jr.StrictMode=One;jr.Suspense=Nne;jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lne;jr.act=PU;jr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_U({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=ex.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)xU.call(t,l)&&!AU.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Pv,type:e.type,key:i,ref:o,props:n,_owner:s}};jr.createContext=function(e){return e={$$typeof:Ine,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Tne,_context:e},e.Consumer=e};jr.createElement=OU;jr.createFactory=function(e){var t=OU.bind(null,e);return t.type=e,t};jr.createRef=function(){return{current:null}};jr.forwardRef=function(e){return{$$typeof:Bne,render:e}};jr.isValidElement=tx;jr.lazy=function(e){return{$$typeof:Rne,_payload:{_status:-1,_result:e},_init:zne}};jr.memo=function(e,t){return{$$typeof:Mne,type:e,compare:t===void 0?null:t}};jr.startTransition=function(e){var t=U3.transition;U3.transition={};try{e()}finally{U3.transition=t}};jr.unstable_act=PU;jr.useCallback=function(e,t){return Zo.current.useCallback(e,t)};jr.useContext=function(e){return Zo.current.useContext(e)};jr.useDebugValue=function(){};jr.useDeferredValue=function(e){return Zo.current.useDeferredValue(e)};jr.useEffect=function(e,t){return Zo.current.useEffect(e,t)};jr.useId=function(){return Zo.current.useId()};jr.useImperativeHandle=function(e,t,r){return Zo.current.useImperativeHandle(e,t,r)};jr.useInsertionEffect=function(e,t){return Zo.current.useInsertionEffect(e,t)};jr.useLayoutEffect=function(e,t){return Zo.current.useLayoutEffect(e,t)};jr.useMemo=function(e,t){return Zo.current.useMemo(e,t)};jr.useReducer=function(e,t,r){return Zo.current.useReducer(e,t,r)};jr.useRef=function(e){return Zo.current.useRef(e)};jr.useState=function(e){return Zo.current.useState(e)};jr.useSyncExternalStore=function(e,t,r){return Zo.current.useSyncExternalStore(e,t,r)};jr.useTransition=function(){return Zo.current.useTransition()};jr.version="18.3.1";wU.exports=jr;var $r=wU.exports;const $ne=kne($r);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fne=$r,Dne=Symbol.for("react.element"),Hne=Symbol.for("react.fragment"),Kne=Object.prototype.hasOwnProperty,Vne=Fne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Wne={key:!0,ref:!0,__self:!0,__source:!0};function TU(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Kne.call(t,n)&&!Wne.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Dne,type:e,key:o,ref:s,props:i,_owner:Vne.current}}h4.Fragment=Hne;h4.jsx=TU;h4.jsxs=TU;vU.exports=h4;var Fs=vU.exports,u7={},IU={exports:{}},Ys={},BU={exports:{}},NU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(x,E){var T=x.length;x.push(E);e:for(;0<T;){var M=T-1>>>1,Q=x[M];if(0<i(Q,E))x[M]=E,x[T]=Q,T=M;else break e}}function r(x){return x.length===0?null:x[0]}function n(x){if(x.length===0)return null;var E=x[0],T=x.pop();if(T!==E){x[0]=T;e:for(var M=0,Q=x.length,he=Q>>>1;M<he;){var ue=2*(M+1)-1,W=x[ue],se=ue+1,Z=x[se];if(0>i(W,T))se<Q&&0>i(Z,W)?(x[M]=Z,x[se]=T,M=se):(x[M]=W,x[ue]=T,M=ue);else if(se<Q&&0>i(Z,T))x[M]=Z,x[se]=T,M=se;else break e}}return E}function i(x,E){var T=x.sortIndex-E.sortIndex;return T!==0?T:x.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,g=3,k=!1,R=!1,F=!1,D=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(x){for(var E=r(c);E!==null;){if(E.callback===null)n(c);else if(E.startTime<=x)n(c),E.sortIndex=E.expirationTime,t(l,E);else break;E=r(c)}}function q(x){if(F=!1,U(x),!R)if(r(l)!==null)R=!0,S(ee);else{var E=r(c);E!==null&&A(q,E.startTime-x)}}function ee(x,E){R=!1,F&&(F=!1,$(K),K=-1),k=!0;var T=g;try{for(U(E),h=r(l);h!==null&&(!(h.expirationTime>E)||x&&!v());){var M=h.callback;if(typeof M=="function"){h.callback=null,g=h.priorityLevel;var Q=M(h.expirationTime<=E);E=e.unstable_now(),typeof Q=="function"?h.callback=Q:h===r(l)&&n(l),U(E)}else n(l);h=r(l)}if(h!==null)var he=!0;else{var ue=r(c);ue!==null&&A(q,ue.startTime-E),he=!1}return he}finally{h=null,g=T,k=!1}}var ae=!1,re=null,K=-1,C=5,G=-1;function v(){return!(e.unstable_now()-G<C)}function I(){if(re!==null){var x=e.unstable_now();G=x;var E=!0;try{E=re(!0,x)}finally{E?p():(ae=!1,re=null)}}else ae=!1}var p;if(typeof B=="function")p=function(){B(I)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,w=_.port2;_.port1.onmessage=I,p=function(){w.postMessage(null)}}else p=function(){D(I,0)};function S(x){re=x,ae||(ae=!0,p())}function A(x,E){K=D(function(){x(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(x){x.callback=null},e.unstable_continueExecution=function(){R||k||(R=!0,S(ee))},e.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<x?Math.floor(1e3/x):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(x){switch(g){case 1:case 2:case 3:var E=3;break;default:E=g}var T=g;g=E;try{return x()}finally{g=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(x,E){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var T=g;g=x;try{return E()}finally{g=T}},e.unstable_scheduleCallback=function(x,E,T){var M=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?M+T:M):T=M,x){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=T+Q,x={id:u++,callback:E,priorityLevel:x,startTime:T,expirationTime:Q,sortIndex:-1},T>M?(x.sortIndex=T,t(c,x),r(l)===null&&x===r(c)&&(F?($(K),K=-1):F=!0,A(q,T-M))):(x.sortIndex=Q,t(l,x),R||k||(R=!0,S(ee))),x},e.unstable_shouldYield=v,e.unstable_wrapCallback=function(x){var E=g;return function(){var T=g;g=E;try{return x.apply(this,arguments)}finally{g=T}}}})(NU);BU.exports=NU;var qne=BU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zne=$r,Gs=qne;function pt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MU=new Set,d0={};function Jh(e,t){ey(e,t),ey(e+"Capture",t)}function ey(e,t){for(d0[e]=t,e=0;e<t.length;e++)MU.add(t[e])}var Ec=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l7=Object.prototype.hasOwnProperty,Gne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DI={},HI={};function Xne(e){return l7.call(HI,e)?!0:l7.call(DI,e)?!1:Gne.test(e)?HI[e]=!0:(DI[e]=!0,!1)}function Qne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Yne(e,t,r,n){if(t===null||typeof t>"u"||Qne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Go(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yi[e]=new Go(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yi[t]=new Go(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yi[e]=new Go(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yi[e]=new Go(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yi[e]=new Go(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yi[e]=new Go(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yi[e]=new Go(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yi[e]=new Go(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yi[e]=new Go(e,5,!1,e.toLowerCase(),null,!1,!1)});var rx=/[\-:]([a-z])/g;function nx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rx,nx);Yi[t]=new Go(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rx,nx);Yi[t]=new Go(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rx,nx);Yi[t]=new Go(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yi[e]=new Go(e,1,!1,e.toLowerCase(),null,!1,!1)});Yi.xlinkHref=new Go("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yi[e]=new Go(e,1,!1,e.toLowerCase(),null,!0,!0)});function ix(e,t,r,n){var i=Yi.hasOwnProperty(t)?Yi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yne(t,r,i,n)&&(r=null),n||i===null?Xne(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Cc=Zne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,m2=Symbol.for("react.element"),fg=Symbol.for("react.portal"),dg=Symbol.for("react.fragment"),ox=Symbol.for("react.strict_mode"),c7=Symbol.for("react.profiler"),RU=Symbol.for("react.provider"),CU=Symbol.for("react.context"),sx=Symbol.for("react.forward_ref"),f7=Symbol.for("react.suspense"),d7=Symbol.for("react.suspense_list"),ax=Symbol.for("react.memo"),If=Symbol.for("react.lazy"),jU=Symbol.for("react.offscreen"),KI=Symbol.iterator;function Rm(e){return e===null||typeof e!="object"?null:(e=KI&&e[KI]||e["@@iterator"],typeof e=="function"?e:null)}var Dn=Object.assign,U5;function _b(e){if(U5===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U5=t&&t[1]||""}return`
`+U5+e}var z5=!1;function L5(e,t){if(!e||z5)return"";z5=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{z5=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?_b(e):""}function Jne(e){switch(e.tag){case 5:return _b(e.type);case 16:return _b("Lazy");case 13:return _b("Suspense");case 19:return _b("SuspenseList");case 0:case 2:case 15:return e=L5(e.type,!1),e;case 11:return e=L5(e.type.render,!1),e;case 1:return e=L5(e.type,!0),e;default:return""}}function h7(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case dg:return"Fragment";case fg:return"Portal";case c7:return"Profiler";case ox:return"StrictMode";case f7:return"Suspense";case d7:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case CU:return(e.displayName||"Context")+".Consumer";case RU:return(e._context.displayName||"Context")+".Provider";case sx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ax:return t=e.displayName||null,t!==null?t:h7(e.type)||"Memo";case If:t=e._payload,e=e._init;try{return h7(e(t))}catch{}}return null}function eie(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h7(t);case 8:return t===ox?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function td(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function UU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tie(e){var t=UU(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function b2(e){e._valueTracker||(e._valueTracker=tie(e))}function zU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=UU(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function w8(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function p7(e,t){var r=t.checked;return Dn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function VI(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=td(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function LU(e,t){t=t.checked,t!=null&&ix(e,"checked",t,!1)}function g7(e,t){LU(e,t);var r=td(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?y7(e,t.type,r):t.hasOwnProperty("defaultValue")&&y7(e,t.type,td(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function WI(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function y7(e,t,r){(t!=="number"||w8(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Sb=Array.isArray;function Cg(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+td(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function m7(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pt(91));return Dn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qI(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pt(92));if(Sb(r)){if(1<r.length)throw Error(pt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:td(r)}}function $U(e,t){var r=td(t.value),n=td(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ZI(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function FU(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b7(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?FU(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var v2,DU=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(v2=v2||document.createElement("div"),v2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=v2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function h0(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Cb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rie=["Webkit","ms","Moz","O"];Object.keys(Cb).forEach(function(e){rie.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Cb[t]=Cb[e]})});function HU(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Cb.hasOwnProperty(e)&&Cb[e]?(""+t).trim():t+"px"}function KU(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=HU(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var nie=Dn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function v7(e,t){if(t){if(nie[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pt(62))}}function w7(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E7=null;function ux(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _7=null,jg=null,Ug=null;function GI(e){if(e=Bv(e)){if(typeof _7!="function")throw Error(pt(280));var t=e.stateNode;t&&(t=b4(t),_7(e.stateNode,e.type,t))}}function VU(e){jg?Ug?Ug.push(e):Ug=[e]:jg=e}function WU(){if(jg){var e=jg,t=Ug;if(Ug=jg=null,GI(e),t)for(e=0;e<t.length;e++)GI(t[e])}}function qU(e,t){return e(t)}function ZU(){}var $5=!1;function GU(e,t,r){if($5)return e(t,r);$5=!0;try{return qU(e,t,r)}finally{$5=!1,(jg!==null||Ug!==null)&&(ZU(),WU())}}function p0(e,t){var r=e.stateNode;if(r===null)return null;var n=b4(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pt(231,t,typeof r));return r}var S7=!1;if(Ec)try{var Cm={};Object.defineProperty(Cm,"passive",{get:function(){S7=!0}}),window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{S7=!1}function iie(e,t,r,n,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var jb=!1,E8=null,_8=!1,k7=null,oie={onError:function(e){jb=!0,E8=e}};function sie(e,t,r,n,i,o,s,a,l){jb=!1,E8=null,iie.apply(oie,arguments)}function aie(e,t,r,n,i,o,s,a,l){if(sie.apply(this,arguments),jb){if(jb){var c=E8;jb=!1,E8=null}else throw Error(pt(198));_8||(_8=!0,k7=c)}}function ep(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function XU(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XI(e){if(ep(e)!==e)throw Error(pt(188))}function uie(e){var t=e.alternate;if(!t){if(t=ep(e),t===null)throw Error(pt(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return XI(i),e;if(o===n)return XI(i),t;o=o.sibling}throw Error(pt(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(pt(189))}}if(r.alternate!==n)throw Error(pt(190))}if(r.tag!==3)throw Error(pt(188));return r.stateNode.current===r?e:t}function QU(e){return e=uie(e),e!==null?YU(e):null}function YU(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=YU(e);if(t!==null)return t;e=e.sibling}return null}var JU=Gs.unstable_scheduleCallback,QI=Gs.unstable_cancelCallback,lie=Gs.unstable_shouldYield,cie=Gs.unstable_requestPaint,ri=Gs.unstable_now,fie=Gs.unstable_getCurrentPriorityLevel,lx=Gs.unstable_ImmediatePriority,ez=Gs.unstable_UserBlockingPriority,S8=Gs.unstable_NormalPriority,die=Gs.unstable_LowPriority,tz=Gs.unstable_IdlePriority,p4=null,fl=null;function hie(e){if(fl&&typeof fl.onCommitFiberRoot=="function")try{fl.onCommitFiberRoot(p4,e,void 0,(e.current.flags&128)===128)}catch{}}var gu=Math.clz32?Math.clz32:yie,pie=Math.log,gie=Math.LN2;function yie(e){return e>>>=0,e===0?32:31-(pie(e)/gie|0)|0}var w2=64,E2=4194304;function kb(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function k8(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=kb(a):(o&=s,o!==0&&(n=kb(o)))}else s=r&~i,s!==0?n=kb(s):o!==0&&(n=kb(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gu(t),i=1<<r,n|=e[r],t&=~i;return n}function mie(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bie(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-gu(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=mie(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function x7(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function rz(){var e=w2;return w2<<=1,!(w2&4194240)&&(w2=64),e}function F5(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Tv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gu(t),e[t]=r}function vie(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-gu(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function cx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gu(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ln=0;function nz(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iz,fx,oz,sz,az,A7=!1,_2=[],Kf=null,Vf=null,Wf=null,g0=new Map,y0=new Map,Uf=[],wie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function YI(e,t){switch(e){case"focusin":case"focusout":Kf=null;break;case"dragenter":case"dragleave":Vf=null;break;case"mouseover":case"mouseout":Wf=null;break;case"pointerover":case"pointerout":g0.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":y0.delete(t.pointerId)}}function jm(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Bv(t),t!==null&&fx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Eie(e,t,r,n,i){switch(t){case"focusin":return Kf=jm(Kf,e,t,r,n,i),!0;case"dragenter":return Vf=jm(Vf,e,t,r,n,i),!0;case"mouseover":return Wf=jm(Wf,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return g0.set(o,jm(g0.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,y0.set(o,jm(y0.get(o)||null,e,t,r,n,i)),!0}return!1}function uz(e){var t=ah(e.target);if(t!==null){var r=ep(t);if(r!==null){if(t=r.tag,t===13){if(t=XU(r),t!==null){e.blockedOn=t,az(e.priority,function(){oz(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function z3(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=O7(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);E7=n,r.target.dispatchEvent(n),E7=null}else return t=Bv(r),t!==null&&fx(t),e.blockedOn=r,!1;t.shift()}return!0}function JI(e,t,r){z3(e)&&r.delete(t)}function _ie(){A7=!1,Kf!==null&&z3(Kf)&&(Kf=null),Vf!==null&&z3(Vf)&&(Vf=null),Wf!==null&&z3(Wf)&&(Wf=null),g0.forEach(JI),y0.forEach(JI)}function Um(e,t){e.blockedOn===t&&(e.blockedOn=null,A7||(A7=!0,Gs.unstable_scheduleCallback(Gs.unstable_NormalPriority,_ie)))}function m0(e){function t(i){return Um(i,e)}if(0<_2.length){Um(_2[0],e);for(var r=1;r<_2.length;r++){var n=_2[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Kf!==null&&Um(Kf,e),Vf!==null&&Um(Vf,e),Wf!==null&&Um(Wf,e),g0.forEach(t),y0.forEach(t),r=0;r<Uf.length;r++)n=Uf[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Uf.length&&(r=Uf[0],r.blockedOn===null);)uz(r),r.blockedOn===null&&Uf.shift()}var zg=Cc.ReactCurrentBatchConfig,x8=!0;function Sie(e,t,r,n){var i=ln,o=zg.transition;zg.transition=null;try{ln=1,dx(e,t,r,n)}finally{ln=i,zg.transition=o}}function kie(e,t,r,n){var i=ln,o=zg.transition;zg.transition=null;try{ln=4,dx(e,t,r,n)}finally{ln=i,zg.transition=o}}function dx(e,t,r,n){if(x8){var i=O7(e,t,r,n);if(i===null)Q5(e,t,n,A8,r),YI(e,n);else if(Eie(i,e,t,r,n))n.stopPropagation();else if(YI(e,n),t&4&&-1<wie.indexOf(e)){for(;i!==null;){var o=Bv(i);if(o!==null&&iz(o),o=O7(e,t,r,n),o===null&&Q5(e,t,n,A8,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Q5(e,t,n,null,r)}}var A8=null;function O7(e,t,r,n){if(A8=null,e=ux(n),e=ah(e),e!==null)if(t=ep(e),t===null)e=null;else if(r=t.tag,r===13){if(e=XU(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return A8=e,null}function lz(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fie()){case lx:return 1;case ez:return 4;case S8:case die:return 16;case tz:return 536870912;default:return 16}default:return 16}}var $f=null,hx=null,L3=null;function cz(){if(L3)return L3;var e,t=hx,r=t.length,n,i="value"in $f?$f.value:$f.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return L3=i.slice(e,1<n?1-n:void 0)}function $3(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function S2(){return!0}function eB(){return!1}function Js(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?S2:eB,this.isPropagationStopped=eB,this}return Dn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=S2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=S2)},persist:function(){},isPersistent:S2}),t}var Cy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},px=Js(Cy),Iv=Dn({},Cy,{view:0,detail:0}),xie=Js(Iv),D5,H5,zm,g4=Dn({},Iv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zm&&(zm&&e.type==="mousemove"?(D5=e.screenX-zm.screenX,H5=e.screenY-zm.screenY):H5=D5=0,zm=e),D5)},movementY:function(e){return"movementY"in e?e.movementY:H5}}),tB=Js(g4),Aie=Dn({},g4,{dataTransfer:0}),Oie=Js(Aie),Pie=Dn({},Iv,{relatedTarget:0}),K5=Js(Pie),Tie=Dn({},Cy,{animationName:0,elapsedTime:0,pseudoElement:0}),Iie=Js(Tie),Bie=Dn({},Cy,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Nie=Js(Bie),Mie=Dn({},Cy,{data:0}),rB=Js(Mie),Rie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uie(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jie[e])?!!t[e]:!1}function gx(){return Uie}var zie=Dn({},Iv,{key:function(e){if(e.key){var t=Rie[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$3(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cie[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gx,charCode:function(e){return e.type==="keypress"?$3(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$3(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lie=Js(zie),$ie=Dn({},g4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nB=Js($ie),Fie=Dn({},Iv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gx}),Die=Js(Fie),Hie=Dn({},Cy,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kie=Js(Hie),Vie=Dn({},g4,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Wie=Js(Vie),qie=[9,13,27,32],yx=Ec&&"CompositionEvent"in window,Ub=null;Ec&&"documentMode"in document&&(Ub=document.documentMode);var Zie=Ec&&"TextEvent"in window&&!Ub,fz=Ec&&(!yx||Ub&&8<Ub&&11>=Ub),iB=" ",oB=!1;function dz(e,t){switch(e){case"keyup":return qie.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hz(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var hg=!1;function Gie(e,t){switch(e){case"compositionend":return hz(t);case"keypress":return t.which!==32?null:(oB=!0,iB);case"textInput":return e=t.data,e===iB&&oB?null:e;default:return null}}function Xie(e,t){if(hg)return e==="compositionend"||!yx&&dz(e,t)?(e=cz(),L3=hx=$f=null,hg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fz&&t.locale!=="ko"?null:t.data;default:return null}}var Qie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sB(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qie[e.type]:t==="textarea"}function pz(e,t,r,n){VU(n),t=O8(t,"onChange"),0<t.length&&(r=new px("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var zb=null,b0=null;function Yie(e){xz(e,0)}function y4(e){var t=yg(e);if(zU(t))return e}function Jie(e,t){if(e==="change")return t}var gz=!1;if(Ec){var V5;if(Ec){var W5="oninput"in document;if(!W5){var aB=document.createElement("div");aB.setAttribute("oninput","return;"),W5=typeof aB.oninput=="function"}V5=W5}else V5=!1;gz=V5&&(!document.documentMode||9<document.documentMode)}function uB(){zb&&(zb.detachEvent("onpropertychange",yz),b0=zb=null)}function yz(e){if(e.propertyName==="value"&&y4(b0)){var t=[];pz(t,b0,e,ux(e)),GU(Yie,t)}}function eoe(e,t,r){e==="focusin"?(uB(),zb=t,b0=r,zb.attachEvent("onpropertychange",yz)):e==="focusout"&&uB()}function toe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return y4(b0)}function roe(e,t){if(e==="click")return y4(t)}function noe(e,t){if(e==="input"||e==="change")return y4(t)}function ioe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _u=typeof Object.is=="function"?Object.is:ioe;function v0(e,t){if(_u(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!l7.call(t,i)||!_u(e[i],t[i]))return!1}return!0}function lB(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cB(e,t){var r=lB(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lB(r)}}function mz(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mz(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bz(){for(var e=window,t=w8();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=w8(e.document)}return t}function mx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ooe(e){var t=bz(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&mz(r.ownerDocument.documentElement,r)){if(n!==null&&mx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=cB(r,o);var s=cB(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var soe=Ec&&"documentMode"in document&&11>=document.documentMode,pg=null,P7=null,Lb=null,T7=!1;function fB(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;T7||pg==null||pg!==w8(n)||(n=pg,"selectionStart"in n&&mx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lb&&v0(Lb,n)||(Lb=n,n=O8(P7,"onSelect"),0<n.length&&(t=new px("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pg)))}function k2(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var gg={animationend:k2("Animation","AnimationEnd"),animationiteration:k2("Animation","AnimationIteration"),animationstart:k2("Animation","AnimationStart"),transitionend:k2("Transition","TransitionEnd")},q5={},vz={};Ec&&(vz=document.createElement("div").style,"AnimationEvent"in window||(delete gg.animationend.animation,delete gg.animationiteration.animation,delete gg.animationstart.animation),"TransitionEvent"in window||delete gg.transitionend.transition);function m4(e){if(q5[e])return q5[e];if(!gg[e])return e;var t=gg[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in vz)return q5[e]=t[r];return e}var wz=m4("animationend"),Ez=m4("animationiteration"),_z=m4("animationstart"),Sz=m4("transitionend"),kz=new Map,dB="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yd(e,t){kz.set(e,t),Jh(t,[e])}for(var Z5=0;Z5<dB.length;Z5++){var G5=dB[Z5],aoe=G5.toLowerCase(),uoe=G5[0].toUpperCase()+G5.slice(1);yd(aoe,"on"+uoe)}yd(wz,"onAnimationEnd");yd(Ez,"onAnimationIteration");yd(_z,"onAnimationStart");yd("dblclick","onDoubleClick");yd("focusin","onFocus");yd("focusout","onBlur");yd(Sz,"onTransitionEnd");ey("onMouseEnter",["mouseout","mouseover"]);ey("onMouseLeave",["mouseout","mouseover"]);ey("onPointerEnter",["pointerout","pointerover"]);ey("onPointerLeave",["pointerout","pointerover"]);Jh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),loe=new Set("cancel close invalid load scroll toggle".split(" ").concat(xb));function hB(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,aie(n,t,void 0,e),e.currentTarget=null}function xz(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;hB(i,a,c),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;hB(i,a,c),o=l}}}if(_8)throw e=k7,_8=!1,k7=null,e}function Sn(e,t){var r=t[R7];r===void 0&&(r=t[R7]=new Set);var n=e+"__bubble";r.has(n)||(Az(t,e,2,!1),r.add(n))}function X5(e,t,r){var n=0;t&&(n|=4),Az(r,e,n,t)}var x2="_reactListening"+Math.random().toString(36).slice(2);function w0(e){if(!e[x2]){e[x2]=!0,MU.forEach(function(r){r!=="selectionchange"&&(loe.has(r)||X5(r,!1,e),X5(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[x2]||(t[x2]=!0,X5("selectionchange",!1,t))}}function Az(e,t,r,n){switch(lz(t)){case 1:var i=Sie;break;case 4:i=kie;break;default:i=dx}r=i.bind(null,t,r,e),i=void 0,!S7||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Q5(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=ah(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}GU(function(){var c=o,u=ux(r),h=[];e:{var g=kz.get(e);if(g!==void 0){var k=px,R=e;switch(e){case"keypress":if($3(r)===0)break e;case"keydown":case"keyup":k=Lie;break;case"focusin":R="focus",k=K5;break;case"focusout":R="blur",k=K5;break;case"beforeblur":case"afterblur":k=K5;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=tB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Oie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Die;break;case wz:case Ez:case _z:k=Iie;break;case Sz:k=Kie;break;case"scroll":k=xie;break;case"wheel":k=Wie;break;case"copy":case"cut":case"paste":k=Nie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=nB}var F=(t&4)!==0,D=!F&&e==="scroll",$=F?g!==null?g+"Capture":null:g;F=[];for(var B=c,U;B!==null;){U=B;var q=U.stateNode;if(U.tag===5&&q!==null&&(U=q,$!==null&&(q=p0(B,$),q!=null&&F.push(E0(B,q,U)))),D)break;B=B.return}0<F.length&&(g=new k(g,R,null,r,u),h.push({event:g,listeners:F}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",g&&r!==E7&&(R=r.relatedTarget||r.fromElement)&&(ah(R)||R[_c]))break e;if((k||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,k?(R=r.relatedTarget||r.toElement,k=c,R=R?ah(R):null,R!==null&&(D=ep(R),R!==D||R.tag!==5&&R.tag!==6)&&(R=null)):(k=null,R=c),k!==R)){if(F=tB,q="onMouseLeave",$="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(F=nB,q="onPointerLeave",$="onPointerEnter",B="pointer"),D=k==null?g:yg(k),U=R==null?g:yg(R),g=new F(q,B+"leave",k,r,u),g.target=D,g.relatedTarget=U,q=null,ah(u)===c&&(F=new F($,B+"enter",R,r,u),F.target=U,F.relatedTarget=D,q=F),D=q,k&&R)t:{for(F=k,$=R,B=0,U=F;U;U=Cp(U))B++;for(U=0,q=$;q;q=Cp(q))U++;for(;0<B-U;)F=Cp(F),B--;for(;0<U-B;)$=Cp($),U--;for(;B--;){if(F===$||$!==null&&F===$.alternate)break t;F=Cp(F),$=Cp($)}F=null}else F=null;k!==null&&pB(h,g,k,F,!1),R!==null&&D!==null&&pB(h,D,R,F,!0)}}e:{if(g=c?yg(c):window,k=g.nodeName&&g.nodeName.toLowerCase(),k==="select"||k==="input"&&g.type==="file")var ee=Jie;else if(sB(g))if(gz)ee=noe;else{ee=toe;var ae=eoe}else(k=g.nodeName)&&k.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(ee=roe);if(ee&&(ee=ee(e,c))){pz(h,ee,r,u);break e}ae&&ae(e,g,c),e==="focusout"&&(ae=g._wrapperState)&&ae.controlled&&g.type==="number"&&y7(g,"number",g.value)}switch(ae=c?yg(c):window,e){case"focusin":(sB(ae)||ae.contentEditable==="true")&&(pg=ae,P7=c,Lb=null);break;case"focusout":Lb=P7=pg=null;break;case"mousedown":T7=!0;break;case"contextmenu":case"mouseup":case"dragend":T7=!1,fB(h,r,u);break;case"selectionchange":if(soe)break;case"keydown":case"keyup":fB(h,r,u)}var re;if(yx)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else hg?dz(e,r)&&(K="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(K="onCompositionStart");K&&(fz&&r.locale!=="ko"&&(hg||K!=="onCompositionStart"?K==="onCompositionEnd"&&hg&&(re=cz()):($f=u,hx="value"in $f?$f.value:$f.textContent,hg=!0)),ae=O8(c,K),0<ae.length&&(K=new rB(K,e,null,r,u),h.push({event:K,listeners:ae}),re?K.data=re:(re=hz(r),re!==null&&(K.data=re)))),(re=Zie?Gie(e,r):Xie(e,r))&&(c=O8(c,"onBeforeInput"),0<c.length&&(u=new rB("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:c}),u.data=re))}xz(h,t)})}function E0(e,t,r){return{instance:e,listener:t,currentTarget:r}}function O8(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=p0(e,r),o!=null&&n.unshift(E0(e,o,i)),o=p0(e,t),o!=null&&n.push(E0(e,o,i))),e=e.return}return n}function Cp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pB(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,i?(l=p0(r,o),l!=null&&s.unshift(E0(r,l,a))):i||(l=p0(r,o),l!=null&&s.push(E0(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var coe=/\r\n?/g,foe=/\u0000|\uFFFD/g;function gB(e){return(typeof e=="string"?e:""+e).replace(coe,`
`).replace(foe,"")}function A2(e,t,r){if(t=gB(t),gB(e)!==t&&r)throw Error(pt(425))}function P8(){}var I7=null,B7=null;function N7(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var M7=typeof setTimeout=="function"?setTimeout:void 0,doe=typeof clearTimeout=="function"?clearTimeout:void 0,yB=typeof Promise=="function"?Promise:void 0,hoe=typeof queueMicrotask=="function"?queueMicrotask:typeof yB<"u"?function(e){return yB.resolve(null).then(e).catch(poe)}:M7;function poe(e){setTimeout(function(){throw e})}function Y5(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),m0(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);m0(t)}function qf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mB(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var jy=Math.random().toString(36).slice(2),al="__reactFiber$"+jy,_0="__reactProps$"+jy,_c="__reactContainer$"+jy,R7="__reactEvents$"+jy,goe="__reactListeners$"+jy,yoe="__reactHandles$"+jy;function ah(e){var t=e[al];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_c]||r[al]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mB(e);e!==null;){if(r=e[al])return r;e=mB(e)}return t}e=r,r=e.parentNode}return null}function Bv(e){return e=e[al]||e[_c],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pt(33))}function b4(e){return e[_0]||null}var C7=[],mg=-1;function md(e){return{current:e}}function xn(e){0>mg||(e.current=C7[mg],C7[mg]=null,mg--)}function vn(e,t){mg++,C7[mg]=e.current,e.current=t}var rd={},Ao=md(rd),ms=md(!1),Mh=rd;function ty(e,t){var r=e.type.contextTypes;if(!r)return rd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function bs(e){return e=e.childContextTypes,e!=null}function T8(){xn(ms),xn(Ao)}function bB(e,t,r){if(Ao.current!==rd)throw Error(pt(168));vn(Ao,t),vn(ms,r)}function Oz(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(pt(108,eie(e)||"Unknown",i));return Dn({},r,n)}function I8(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rd,Mh=Ao.current,vn(Ao,e),vn(ms,ms.current),!0}function vB(e,t,r){var n=e.stateNode;if(!n)throw Error(pt(169));r?(e=Oz(e,t,Mh),n.__reactInternalMemoizedMergedChildContext=e,xn(ms),xn(Ao),vn(Ao,e)):xn(ms),vn(ms,r)}var sc=null,v4=!1,J5=!1;function Pz(e){sc===null?sc=[e]:sc.push(e)}function moe(e){v4=!0,Pz(e)}function bd(){if(!J5&&sc!==null){J5=!0;var e=0,t=ln;try{var r=sc;for(ln=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sc=null,v4=!1}catch(i){throw sc!==null&&(sc=sc.slice(e+1)),JU(lx,bd),i}finally{ln=t,J5=!1}}return null}var bg=[],vg=0,B8=null,N8=0,xa=[],Aa=0,Rh=null,dc=1,hc="";function Qd(e,t){bg[vg++]=N8,bg[vg++]=B8,B8=e,N8=t}function Tz(e,t,r){xa[Aa++]=dc,xa[Aa++]=hc,xa[Aa++]=Rh,Rh=e;var n=dc;e=hc;var i=32-gu(n)-1;n&=~(1<<i),r+=1;var o=32-gu(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,dc=1<<32-gu(t)+i|r<<i|n,hc=o+e}else dc=1<<o|r<<i|n,hc=e}function bx(e){e.return!==null&&(Qd(e,1),Tz(e,1,0))}function vx(e){for(;e===B8;)B8=bg[--vg],bg[vg]=null,N8=bg[--vg],bg[vg]=null;for(;e===Rh;)Rh=xa[--Aa],xa[Aa]=null,hc=xa[--Aa],xa[Aa]=null,dc=xa[--Aa],xa[Aa]=null}var Vs=null,Hs=null,In=!1,cu=null;function Iz(e,t){var r=Oa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wB(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vs=e,Hs=qf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vs=e,Hs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rh!==null?{id:dc,overflow:hc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Oa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Vs=e,Hs=null,!0):!1;default:return!1}}function j7(e){return(e.mode&1)!==0&&(e.flags&128)===0}function U7(e){if(In){var t=Hs;if(t){var r=t;if(!wB(e,t)){if(j7(e))throw Error(pt(418));t=qf(r.nextSibling);var n=Vs;t&&wB(e,t)?Iz(n,r):(e.flags=e.flags&-4097|2,In=!1,Vs=e)}}else{if(j7(e))throw Error(pt(418));e.flags=e.flags&-4097|2,In=!1,Vs=e}}}function EB(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vs=e}function O2(e){if(e!==Vs)return!1;if(!In)return EB(e),In=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!N7(e.type,e.memoizedProps)),t&&(t=Hs)){if(j7(e))throw Bz(),Error(pt(418));for(;t;)Iz(e,t),t=qf(t.nextSibling)}if(EB(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Hs=qf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Hs=null}}else Hs=Vs?qf(e.stateNode.nextSibling):null;return!0}function Bz(){for(var e=Hs;e;)e=qf(e.nextSibling)}function ry(){Hs=Vs=null,In=!1}function wx(e){cu===null?cu=[e]:cu.push(e)}var boe=Cc.ReactCurrentBatchConfig;function Lm(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pt(309));var n=r.stateNode}if(!n)throw Error(pt(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(pt(284));if(!r._owner)throw Error(pt(290,e))}return e}function P2(e,t){throw e=Object.prototype.toString.call(t),Error(pt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _B(e){var t=e._init;return t(e._payload)}function Nz(e){function t($,B){if(e){var U=$.deletions;U===null?($.deletions=[B],$.flags|=16):U.push(B)}}function r($,B){if(!e)return null;for(;B!==null;)t($,B),B=B.sibling;return null}function n($,B){for($=new Map;B!==null;)B.key!==null?$.set(B.key,B):$.set(B.index,B),B=B.sibling;return $}function i($,B){return $=Qf($,B),$.index=0,$.sibling=null,$}function o($,B,U){return $.index=U,e?(U=$.alternate,U!==null?(U=U.index,U<B?($.flags|=2,B):U):($.flags|=2,B)):($.flags|=1048576,B)}function s($){return e&&$.alternate===null&&($.flags|=2),$}function a($,B,U,q){return B===null||B.tag!==6?(B=s_(U,$.mode,q),B.return=$,B):(B=i(B,U),B.return=$,B)}function l($,B,U,q){var ee=U.type;return ee===dg?u($,B,U.props.children,q,U.key):B!==null&&(B.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===If&&_B(ee)===B.type)?(q=i(B,U.props),q.ref=Lm($,B,U),q.return=$,q):(q=q3(U.type,U.key,U.props,null,$.mode,q),q.ref=Lm($,B,U),q.return=$,q)}function c($,B,U,q){return B===null||B.tag!==4||B.stateNode.containerInfo!==U.containerInfo||B.stateNode.implementation!==U.implementation?(B=a_(U,$.mode,q),B.return=$,B):(B=i(B,U.children||[]),B.return=$,B)}function u($,B,U,q,ee){return B===null||B.tag!==7?(B=Sh(U,$.mode,q,ee),B.return=$,B):(B=i(B,U),B.return=$,B)}function h($,B,U){if(typeof B=="string"&&B!==""||typeof B=="number")return B=s_(""+B,$.mode,U),B.return=$,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case m2:return U=q3(B.type,B.key,B.props,null,$.mode,U),U.ref=Lm($,null,B),U.return=$,U;case fg:return B=a_(B,$.mode,U),B.return=$,B;case If:var q=B._init;return h($,q(B._payload),U)}if(Sb(B)||Rm(B))return B=Sh(B,$.mode,U,null),B.return=$,B;P2($,B)}return null}function g($,B,U,q){var ee=B!==null?B.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return ee!==null?null:a($,B,""+U,q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case m2:return U.key===ee?l($,B,U,q):null;case fg:return U.key===ee?c($,B,U,q):null;case If:return ee=U._init,g($,B,ee(U._payload),q)}if(Sb(U)||Rm(U))return ee!==null?null:u($,B,U,q,null);P2($,U)}return null}function k($,B,U,q,ee){if(typeof q=="string"&&q!==""||typeof q=="number")return $=$.get(U)||null,a(B,$,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case m2:return $=$.get(q.key===null?U:q.key)||null,l(B,$,q,ee);case fg:return $=$.get(q.key===null?U:q.key)||null,c(B,$,q,ee);case If:var ae=q._init;return k($,B,U,ae(q._payload),ee)}if(Sb(q)||Rm(q))return $=$.get(U)||null,u(B,$,q,ee,null);P2(B,q)}return null}function R($,B,U,q){for(var ee=null,ae=null,re=B,K=B=0,C=null;re!==null&&K<U.length;K++){re.index>K?(C=re,re=null):C=re.sibling;var G=g($,re,U[K],q);if(G===null){re===null&&(re=C);break}e&&re&&G.alternate===null&&t($,re),B=o(G,B,K),ae===null?ee=G:ae.sibling=G,ae=G,re=C}if(K===U.length)return r($,re),In&&Qd($,K),ee;if(re===null){for(;K<U.length;K++)re=h($,U[K],q),re!==null&&(B=o(re,B,K),ae===null?ee=re:ae.sibling=re,ae=re);return In&&Qd($,K),ee}for(re=n($,re);K<U.length;K++)C=k(re,$,K,U[K],q),C!==null&&(e&&C.alternate!==null&&re.delete(C.key===null?K:C.key),B=o(C,B,K),ae===null?ee=C:ae.sibling=C,ae=C);return e&&re.forEach(function(v){return t($,v)}),In&&Qd($,K),ee}function F($,B,U,q){var ee=Rm(U);if(typeof ee!="function")throw Error(pt(150));if(U=ee.call(U),U==null)throw Error(pt(151));for(var ae=ee=null,re=B,K=B=0,C=null,G=U.next();re!==null&&!G.done;K++,G=U.next()){re.index>K?(C=re,re=null):C=re.sibling;var v=g($,re,G.value,q);if(v===null){re===null&&(re=C);break}e&&re&&v.alternate===null&&t($,re),B=o(v,B,K),ae===null?ee=v:ae.sibling=v,ae=v,re=C}if(G.done)return r($,re),In&&Qd($,K),ee;if(re===null){for(;!G.done;K++,G=U.next())G=h($,G.value,q),G!==null&&(B=o(G,B,K),ae===null?ee=G:ae.sibling=G,ae=G);return In&&Qd($,K),ee}for(re=n($,re);!G.done;K++,G=U.next())G=k(re,$,K,G.value,q),G!==null&&(e&&G.alternate!==null&&re.delete(G.key===null?K:G.key),B=o(G,B,K),ae===null?ee=G:ae.sibling=G,ae=G);return e&&re.forEach(function(I){return t($,I)}),In&&Qd($,K),ee}function D($,B,U,q){if(typeof U=="object"&&U!==null&&U.type===dg&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case m2:e:{for(var ee=U.key,ae=B;ae!==null;){if(ae.key===ee){if(ee=U.type,ee===dg){if(ae.tag===7){r($,ae.sibling),B=i(ae,U.props.children),B.return=$,$=B;break e}}else if(ae.elementType===ee||typeof ee=="object"&&ee!==null&&ee.$$typeof===If&&_B(ee)===ae.type){r($,ae.sibling),B=i(ae,U.props),B.ref=Lm($,ae,U),B.return=$,$=B;break e}r($,ae);break}else t($,ae);ae=ae.sibling}U.type===dg?(B=Sh(U.props.children,$.mode,q,U.key),B.return=$,$=B):(q=q3(U.type,U.key,U.props,null,$.mode,q),q.ref=Lm($,B,U),q.return=$,$=q)}return s($);case fg:e:{for(ae=U.key;B!==null;){if(B.key===ae)if(B.tag===4&&B.stateNode.containerInfo===U.containerInfo&&B.stateNode.implementation===U.implementation){r($,B.sibling),B=i(B,U.children||[]),B.return=$,$=B;break e}else{r($,B);break}else t($,B);B=B.sibling}B=a_(U,$.mode,q),B.return=$,$=B}return s($);case If:return ae=U._init,D($,B,ae(U._payload),q)}if(Sb(U))return R($,B,U,q);if(Rm(U))return F($,B,U,q);P2($,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,B!==null&&B.tag===6?(r($,B.sibling),B=i(B,U),B.return=$,$=B):(r($,B),B=s_(U,$.mode,q),B.return=$,$=B),s($)):r($,B)}return D}var ny=Nz(!0),Mz=Nz(!1),M8=md(null),R8=null,wg=null,Ex=null;function _x(){Ex=wg=R8=null}function Sx(e){var t=M8.current;xn(M8),e._currentValue=t}function z7(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Lg(e,t){R8=e,Ex=wg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(cs=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(Ex!==e)if(e={context:e,memoizedValue:t,next:null},wg===null){if(R8===null)throw Error(pt(308));wg=e,R8.dependencies={lanes:0,firstContext:e}}else wg=wg.next=e;return t}var uh=null;function kx(e){uh===null?uh=[e]:uh.push(e)}function Rz(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,kx(t)):(r.next=i.next,i.next=r),t.interleaved=r,Sc(e,n)}function Sc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bf=!1;function xx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cz(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Gr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Sc(e,r)}return i=n.interleaved,i===null?(t.next=t,kx(n)):(t.next=i.next,i.next=t),n.interleaved=t,Sc(e,r)}function F3(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cx(e,r)}}function SB(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function C8(e,t,r,n){var i=e.updateQueue;Bf=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,u=c=l=null,a=o;do{var g=a.lane,k=a.eventTime;if((n&g)===g){u!==null&&(u=u.next={eventTime:k,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var R=e,F=a;switch(g=t,k=r,F.tag){case 1:if(R=F.payload,typeof R=="function"){h=R.call(k,h,g);break e}h=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=F.payload,g=typeof R=="function"?R.call(k,h,g):R,g==null)break e;h=Dn({},h,g);break e;case 2:Bf=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else k={eventTime:k,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=k,l=h):u=u.next=k,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);jh|=s,e.lanes=s,e.memoizedState=h}}function kB(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(pt(191,i));i.call(n)}}}var Nv={},dl=md(Nv),S0=md(Nv),k0=md(Nv);function lh(e){if(e===Nv)throw Error(pt(174));return e}function Ax(e,t){switch(vn(k0,t),vn(S0,e),vn(dl,Nv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:b7(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=b7(t,e)}xn(dl),vn(dl,t)}function iy(){xn(dl),xn(S0),xn(k0)}function jz(e){lh(k0.current);var t=lh(dl.current),r=b7(t,e.type);t!==r&&(vn(S0,e),vn(dl,r))}function Ox(e){S0.current===e&&(xn(dl),xn(S0))}var jn=md(0);function j8(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var e_=[];function Px(){for(var e=0;e<e_.length;e++)e_[e]._workInProgressVersionPrimary=null;e_.length=0}var D3=Cc.ReactCurrentDispatcher,t_=Cc.ReactCurrentBatchConfig,Ch=0,Ln=null,vi=null,Ri=null,U8=!1,$b=!1,x0=0,voe=0;function oo(){throw Error(pt(321))}function Tx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_u(e[r],t[r]))return!1;return!0}function Ix(e,t,r,n,i,o){if(Ch=o,Ln=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D3.current=e===null||e.memoizedState===null?Soe:koe,e=r(n,i),$b){o=0;do{if($b=!1,x0=0,25<=o)throw Error(pt(301));o+=1,Ri=vi=null,t.updateQueue=null,D3.current=xoe,e=r(n,i)}while($b)}if(D3.current=z8,t=vi!==null&&vi.next!==null,Ch=0,Ri=vi=Ln=null,U8=!1,t)throw Error(pt(300));return e}function Bx(){var e=x0!==0;return x0=0,e}function tl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ri===null?Ln.memoizedState=Ri=e:Ri=Ri.next=e,Ri}function Ma(){if(vi===null){var e=Ln.alternate;e=e!==null?e.memoizedState:null}else e=vi.next;var t=Ri===null?Ln.memoizedState:Ri.next;if(t!==null)Ri=t,vi=e;else{if(e===null)throw Error(pt(310));vi=e,e={memoizedState:vi.memoizedState,baseState:vi.baseState,baseQueue:vi.baseQueue,queue:vi.queue,next:null},Ri===null?Ln.memoizedState=Ri=e:Ri=Ri.next=e}return Ri}function A0(e,t){return typeof t=="function"?t(e):t}function r_(e){var t=Ma(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=vi,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Ch&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=n):l=l.next=h,Ln.lanes|=u,jh|=u}c=c.next}while(c!==null&&c!==o);l===null?s=n:l.next=a,_u(n,t.memoizedState)||(cs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,Ln.lanes|=o,jh|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function n_(e){var t=Ma(),r=t.queue;if(r===null)throw Error(pt(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);_u(o,t.memoizedState)||(cs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Uz(){}function zz(e,t){var r=Ln,n=Ma(),i=t(),o=!_u(n.memoizedState,i);if(o&&(n.memoizedState=i,cs=!0),n=n.queue,Nx(Fz.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Ri!==null&&Ri.memoizedState.tag&1){if(r.flags|=2048,O0(9,$z.bind(null,r,n,i,t),void 0,null),Ui===null)throw Error(pt(349));Ch&30||Lz(r,t,i)}return i}function Lz(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ln.updateQueue,t===null?(t={lastEffect:null,stores:null},Ln.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function $z(e,t,r,n){t.value=r,t.getSnapshot=n,Dz(t)&&Hz(e)}function Fz(e,t,r){return r(function(){Dz(t)&&Hz(e)})}function Dz(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_u(e,r)}catch{return!0}}function Hz(e){var t=Sc(e,1);t!==null&&yu(t,e,1,-1)}function xB(e){var t=tl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:A0,lastRenderedState:e},t.queue=e,e=e.dispatch=_oe.bind(null,Ln,e),[t.memoizedState,e]}function O0(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ln.updateQueue,t===null?(t={lastEffect:null,stores:null},Ln.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Kz(){return Ma().memoizedState}function H3(e,t,r,n){var i=tl();Ln.flags|=e,i.memoizedState=O0(1|t,r,void 0,n===void 0?null:n)}function w4(e,t,r,n){var i=Ma();n=n===void 0?null:n;var o=void 0;if(vi!==null){var s=vi.memoizedState;if(o=s.destroy,n!==null&&Tx(n,s.deps)){i.memoizedState=O0(t,r,o,n);return}}Ln.flags|=e,i.memoizedState=O0(1|t,r,o,n)}function AB(e,t){return H3(8390656,8,e,t)}function Nx(e,t){return w4(2048,8,e,t)}function Vz(e,t){return w4(4,2,e,t)}function Wz(e,t){return w4(4,4,e,t)}function qz(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Zz(e,t,r){return r=r!=null?r.concat([e]):null,w4(4,4,qz.bind(null,t,e),r)}function Mx(){}function Gz(e,t){var r=Ma();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Xz(e,t){var r=Ma();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Tx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qz(e,t,r){return Ch&21?(_u(r,t)||(r=rz(),Ln.lanes|=r,jh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,cs=!0),e.memoizedState=r)}function woe(e,t){var r=ln;ln=r!==0&&4>r?r:4,e(!0);var n=t_.transition;t_.transition={};try{e(!1),t()}finally{ln=r,t_.transition=n}}function Yz(){return Ma().memoizedState}function Eoe(e,t,r){var n=Xf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jz(e))eL(t,r);else if(r=Rz(e,t,r,n),r!==null){var i=Fo();yu(r,e,n,i),tL(r,t,n)}}function _oe(e,t,r){var n=Xf(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jz(e))eL(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,_u(a,s)){var l=t.interleaved;l===null?(i.next=i,kx(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=Rz(e,t,i,n),r!==null&&(i=Fo(),yu(r,e,n,i),tL(r,t,n))}}function Jz(e){var t=e.alternate;return e===Ln||t!==null&&t===Ln}function eL(e,t){$b=U8=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function tL(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,cx(e,r)}}var z8={readContext:Na,useCallback:oo,useContext:oo,useEffect:oo,useImperativeHandle:oo,useInsertionEffect:oo,useLayoutEffect:oo,useMemo:oo,useReducer:oo,useRef:oo,useState:oo,useDebugValue:oo,useDeferredValue:oo,useTransition:oo,useMutableSource:oo,useSyncExternalStore:oo,useId:oo,unstable_isNewReconciler:!1},Soe={readContext:Na,useCallback:function(e,t){return tl().memoizedState=[e,t===void 0?null:t],e},useContext:Na,useEffect:AB,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,H3(4194308,4,qz.bind(null,t,e),r)},useLayoutEffect:function(e,t){return H3(4194308,4,e,t)},useInsertionEffect:function(e,t){return H3(4,2,e,t)},useMemo:function(e,t){var r=tl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Eoe.bind(null,Ln,e),[n.memoizedState,e]},useRef:function(e){var t=tl();return e={current:e},t.memoizedState=e},useState:xB,useDebugValue:Mx,useDeferredValue:function(e){return tl().memoizedState=e},useTransition:function(){var e=xB(!1),t=e[0];return e=woe.bind(null,e[1]),tl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ln,i=tl();if(In){if(r===void 0)throw Error(pt(407));r=r()}else{if(r=t(),Ui===null)throw Error(pt(349));Ch&30||Lz(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,AB(Fz.bind(null,n,o,e),[e]),n.flags|=2048,O0(9,$z.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=tl(),t=Ui.identifierPrefix;if(In){var r=hc,n=dc;r=(n&~(1<<32-gu(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=x0++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=voe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},koe={readContext:Na,useCallback:Gz,useContext:Na,useEffect:Nx,useImperativeHandle:Zz,useInsertionEffect:Vz,useLayoutEffect:Wz,useMemo:Xz,useReducer:r_,useRef:Kz,useState:function(){return r_(A0)},useDebugValue:Mx,useDeferredValue:function(e){var t=Ma();return Qz(t,vi.memoizedState,e)},useTransition:function(){var e=r_(A0)[0],t=Ma().memoizedState;return[e,t]},useMutableSource:Uz,useSyncExternalStore:zz,useId:Yz,unstable_isNewReconciler:!1},xoe={readContext:Na,useCallback:Gz,useContext:Na,useEffect:Nx,useImperativeHandle:Zz,useInsertionEffect:Vz,useLayoutEffect:Wz,useMemo:Xz,useReducer:n_,useRef:Kz,useState:function(){return n_(A0)},useDebugValue:Mx,useDeferredValue:function(e){var t=Ma();return vi===null?t.memoizedState=e:Qz(t,vi.memoizedState,e)},useTransition:function(){var e=n_(A0)[0],t=Ma().memoizedState;return[e,t]},useMutableSource:Uz,useSyncExternalStore:zz,useId:Yz,unstable_isNewReconciler:!1};function iu(e,t){if(e&&e.defaultProps){t=Dn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function L7(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Dn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var E4={isMounted:function(e){return(e=e._reactInternals)?ep(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fo(),i=Xf(e),o=mc(n,i);o.payload=t,r!=null&&(o.callback=r),t=Zf(e,o,i),t!==null&&(yu(t,e,i,n),F3(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fo(),i=Xf(e),o=mc(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Zf(e,o,i),t!==null&&(yu(t,e,i,n),F3(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fo(),n=Xf(e),i=mc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Zf(e,i,n),t!==null&&(yu(t,e,n,r),F3(t,e,n))}};function OB(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!v0(r,n)||!v0(i,o):!0}function rL(e,t,r){var n=!1,i=rd,o=t.contextType;return typeof o=="object"&&o!==null?o=Na(o):(i=bs(t)?Mh:Ao.current,n=t.contextTypes,o=(n=n!=null)?ty(e,i):rd),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=E4,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function PB(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&E4.enqueueReplaceState(t,t.state,null)}function $7(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},xx(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Na(o):(o=bs(t)?Mh:Ao.current,i.context=ty(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(L7(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&E4.enqueueReplaceState(i,i.state,null),C8(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function oy(e,t){try{var r="",n=t;do r+=Jne(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function i_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function F7(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Aoe=typeof WeakMap=="function"?WeakMap:Map;function nL(e,t,r){r=mc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){$8||($8=!0,Q7=n),F7(e,t)},r}function iL(e,t,r){r=mc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){F7(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){F7(e,t),typeof n!="function"&&(Gf===null?Gf=new Set([this]):Gf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function TB(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Aoe;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=$oe.bind(null,e,t,r),t.then(e,e))}function IB(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BB(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=mc(-1,1),t.tag=2,Zf(r,t,1))),r.lanes|=1),e)}var Ooe=Cc.ReactCurrentOwner,cs=!1;function jo(e,t,r,n){t.child=e===null?Mz(t,null,r,n):ny(t,e.child,r,n)}function NB(e,t,r,n,i){r=r.render;var o=t.ref;return Lg(t,i),n=Ix(e,t,r,n,o,i),r=Bx(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kc(e,t,i)):(In&&r&&bx(t),t.flags|=1,jo(e,t,n,i),t.child)}function MB(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!Fx(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,oL(e,t,o,n,i)):(e=q3(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:v0,r(s,n)&&e.ref===t.ref)return kc(e,t,i)}return t.flags|=1,e=Qf(o,n),e.ref=t.ref,e.return=t,t.child=e}function oL(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(v0(o,n)&&e.ref===t.ref)if(cs=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(cs=!0);else return t.lanes=e.lanes,kc(e,t,i)}return D7(e,t,r,n,i)}function sL(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(_g,Us),Us|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,vn(_g,Us),Us|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,vn(_g,Us),Us|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,vn(_g,Us),Us|=n;return jo(e,t,i,r),t.child}function aL(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function D7(e,t,r,n,i){var o=bs(r)?Mh:Ao.current;return o=ty(t,o),Lg(t,i),r=Ix(e,t,r,n,o,i),n=Bx(),e!==null&&!cs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,kc(e,t,i)):(In&&n&&bx(t),t.flags|=1,jo(e,t,r,i),t.child)}function RB(e,t,r,n,i){if(bs(r)){var o=!0;I8(t)}else o=!1;if(Lg(t,i),t.stateNode===null)K3(e,t),rL(t,r,n),$7(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Na(c):(c=bs(r)?Mh:Ao.current,c=ty(t,c));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==c)&&PB(t,s,n,c),Bf=!1;var g=t.memoizedState;s.state=g,C8(t,n,s,i),l=t.memoizedState,a!==n||g!==l||ms.current||Bf?(typeof u=="function"&&(L7(t,r,u,n),l=t.memoizedState),(a=Bf||OB(t,r,a,n,g,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Cz(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:iu(t.type,a),s.props=c,h=t.pendingProps,g=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Na(l):(l=bs(r)?Mh:Ao.current,l=ty(t,l));var k=r.getDerivedStateFromProps;(u=typeof k=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||g!==l)&&PB(t,s,n,l),Bf=!1,g=t.memoizedState,s.state=g,C8(t,n,s,i);var R=t.memoizedState;a!==h||g!==R||ms.current||Bf?(typeof k=="function"&&(L7(t,r,k,n),R=t.memoizedState),(c=Bf||OB(t,r,c,n,g,R,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,R,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,R,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=R),s.props=n,s.state=R,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return H7(e,t,r,n,o,i)}function H7(e,t,r,n,i,o){aL(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&vB(t,r,!1),kc(e,t,o);n=t.stateNode,Ooe.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=ny(t,e.child,null,o),t.child=ny(t,null,a,o)):jo(e,t,a,o),t.memoizedState=n.state,i&&vB(t,r,!0),t.child}function uL(e){var t=e.stateNode;t.pendingContext?bB(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bB(e,t.context,!1),Ax(e,t.containerInfo)}function CB(e,t,r,n,i){return ry(),wx(i),t.flags|=256,jo(e,t,r,n),t.child}var K7={dehydrated:null,treeContext:null,retryLane:0};function V7(e){return{baseLanes:e,cachePool:null,transitions:null}}function lL(e,t,r){var n=t.pendingProps,i=jn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),vn(jn,i&1),e===null)return U7(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=k4(s,n,0,null),e=Sh(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=V7(r),t.memoizedState=K7,e):Rx(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Poe(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Qf(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Qf(a,o):(o=Sh(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?V7(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=K7,n}return o=e.child,e=o.sibling,n=Qf(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Rx(e,t){return t=k4({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function T2(e,t,r,n){return n!==null&&wx(n),ny(t,e.child,null,r),e=Rx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Poe(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=i_(Error(pt(422))),T2(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=k4({mode:"visible",children:n.children},i,0,null),o=Sh(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&ny(t,e.child,null,s),t.child.memoizedState=V7(s),t.memoizedState=K7,o);if(!(t.mode&1))return T2(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(pt(419)),n=i_(o,n,void 0),T2(e,t,s,n)}if(a=(s&e.childLanes)!==0,cs||a){if(n=Ui,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Sc(e,i),yu(n,e,i,-1))}return $x(),n=i_(Error(pt(421))),T2(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Foe.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Hs=qf(i.nextSibling),Vs=t,In=!0,cu=null,e!==null&&(xa[Aa++]=dc,xa[Aa++]=hc,xa[Aa++]=Rh,dc=e.id,hc=e.overflow,Rh=t),t=Rx(t,n.children),t.flags|=4096,t)}function jB(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),z7(e.return,t,r)}function o_(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function cL(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(jo(e,t,n.children,r),n=jn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jB(e,r,t);else if(e.tag===19)jB(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(vn(jn,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&j8(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),o_(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&j8(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}o_(t,!0,r,null,o);break;case"together":o_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function K3(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pt(153));if(t.child!==null){for(e=t.child,r=Qf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Qf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Toe(e,t,r){switch(t.tag){case 3:uL(t),ry();break;case 5:jz(t);break;case 1:bs(t.type)&&I8(t);break;case 4:Ax(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;vn(M8,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vn(jn,jn.current&1),t.flags|=128,null):r&t.child.childLanes?lL(e,t,r):(vn(jn,jn.current&1),e=kc(e,t,r),e!==null?e.sibling:null);vn(jn,jn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return cL(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(jn,jn.current),n)break;return null;case 22:case 23:return t.lanes=0,sL(e,t,r)}return kc(e,t,r)}var fL,W7,dL,hL;fL=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};W7=function(){};dL=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,lh(dl.current);var o=null;switch(r){case"input":i=p7(e,i),n=p7(e,n),o=[];break;case"select":i=Dn({},i,{value:void 0}),n=Dn({},n,{value:void 0}),o=[];break;case"textarea":i=m7(e,i),n=m7(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=P8)}v7(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(d0.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in n){var l=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(d0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Sn("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}r&&(o=o||[]).push("style",r);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};hL=function(e,t,r,n){r!==n&&(t.flags|=4)};function $m(e,t){if(!In)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function so(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ioe(e,t,r){var n=t.pendingProps;switch(vx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return so(t),null;case 1:return bs(t.type)&&T8(),so(t),null;case 3:return n=t.stateNode,iy(),xn(ms),xn(Ao),Px(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(O2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,cu!==null&&(e9(cu),cu=null))),W7(e,t),so(t),null;case 5:Ox(t);var i=lh(k0.current);if(r=t.type,e!==null&&t.stateNode!=null)dL(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pt(166));return so(t),null}if(e=lh(dl.current),O2(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[al]=t,n[_0]=o,e=(t.mode&1)!==0,r){case"dialog":Sn("cancel",n),Sn("close",n);break;case"iframe":case"object":case"embed":Sn("load",n);break;case"video":case"audio":for(i=0;i<xb.length;i++)Sn(xb[i],n);break;case"source":Sn("error",n);break;case"img":case"image":case"link":Sn("error",n),Sn("load",n);break;case"details":Sn("toggle",n);break;case"input":VI(n,o),Sn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Sn("invalid",n);break;case"textarea":qI(n,o),Sn("invalid",n)}v7(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&A2(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&A2(n.textContent,a,e),i=["children",""+a]):d0.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Sn("scroll",n)}switch(r){case"input":b2(n),WI(n,o,!0);break;case"textarea":b2(n),ZI(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=P8)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=FU(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[al]=t,e[_0]=n,fL(e,t,!1,!1),t.stateNode=e;e:{switch(s=w7(r,n),r){case"dialog":Sn("cancel",e),Sn("close",e),i=n;break;case"iframe":case"object":case"embed":Sn("load",e),i=n;break;case"video":case"audio":for(i=0;i<xb.length;i++)Sn(xb[i],e);i=n;break;case"source":Sn("error",e),i=n;break;case"img":case"image":case"link":Sn("error",e),Sn("load",e),i=n;break;case"details":Sn("toggle",e),i=n;break;case"input":VI(e,n),i=p7(e,n),Sn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Dn({},n,{value:void 0}),Sn("invalid",e);break;case"textarea":qI(e,n),i=m7(e,n),Sn("invalid",e);break;default:i=n}v7(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?KU(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&DU(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&h0(e,l):typeof l=="number"&&h0(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(d0.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Sn("scroll",e):l!=null&&ix(e,o,l,s))}switch(r){case"input":b2(e),WI(e,n,!1);break;case"textarea":b2(e),ZI(e);break;case"option":n.value!=null&&e.setAttribute("value",""+td(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Cg(e,!!n.multiple,o,!1):n.defaultValue!=null&&Cg(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=P8)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return so(t),null;case 6:if(e&&t.stateNode!=null)hL(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pt(166));if(r=lh(k0.current),lh(dl.current),O2(t)){if(n=t.stateNode,r=t.memoizedProps,n[al]=t,(o=n.nodeValue!==r)&&(e=Vs,e!==null))switch(e.tag){case 3:A2(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&A2(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[al]=t,t.stateNode=n}return so(t),null;case 13:if(xn(jn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(In&&Hs!==null&&t.mode&1&&!(t.flags&128))Bz(),ry(),t.flags|=98560,o=!1;else if(o=O2(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(pt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pt(317));o[al]=t}else ry(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;so(t),o=!1}else cu!==null&&(e9(cu),cu=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jn.current&1?Si===0&&(Si=3):$x())),t.updateQueue!==null&&(t.flags|=4),so(t),null);case 4:return iy(),W7(e,t),e===null&&w0(t.stateNode.containerInfo),so(t),null;case 10:return Sx(t.type._context),so(t),null;case 17:return bs(t.type)&&T8(),so(t),null;case 19:if(xn(jn),o=t.memoizedState,o===null)return so(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)$m(o,!1);else{if(Si!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=j8(e),s!==null){for(t.flags|=128,$m(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return vn(jn,jn.current&1|2),t.child}e=e.sibling}o.tail!==null&&ri()>sy&&(t.flags|=128,n=!0,$m(o,!1),t.lanes=4194304)}else{if(!n)if(e=j8(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),$m(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!In)return so(t),null}else 2*ri()-o.renderingStartTime>sy&&r!==1073741824&&(t.flags|=128,n=!0,$m(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=ri(),t.sibling=null,r=jn.current,vn(jn,n?r&1|2:r&1),t):(so(t),null);case 22:case 23:return Lx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Us&1073741824&&(so(t),t.subtreeFlags&6&&(t.flags|=8192)):so(t),null;case 24:return null;case 25:return null}throw Error(pt(156,t.tag))}function Boe(e,t){switch(vx(t),t.tag){case 1:return bs(t.type)&&T8(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return iy(),xn(ms),xn(Ao),Px(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ox(t),null;case 13:if(xn(jn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pt(340));ry()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xn(jn),null;case 4:return iy(),null;case 10:return Sx(t.type._context),null;case 22:case 23:return Lx(),null;case 24:return null;default:return null}}var I2=!1,wo=!1,Noe=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Eg(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Gn(e,t,n)}else r.current=null}function q7(e,t,r){try{r()}catch(n){Gn(e,t,n)}}var UB=!1;function Moe(e,t){if(I7=x8,e=bz(),mx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=e,g=null;t:for(;;){for(var k;h!==r||i!==0&&h.nodeType!==3||(a=s+i),h!==o||n!==0&&h.nodeType!==3||(l=s+n),h.nodeType===3&&(s+=h.nodeValue.length),(k=h.firstChild)!==null;)g=h,h=k;for(;;){if(h===e)break t;if(g===r&&++c===i&&(a=s),g===o&&++u===n&&(l=s),(k=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=k}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(B7={focusedElem:e,selectionRange:r},x8=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){t=Rt;try{var R=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var F=R.memoizedProps,D=R.memoizedState,$=t.stateNode,B=$.getSnapshotBeforeUpdate(t.elementType===t.type?F:iu(t.type,F),D);$.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var U=t.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pt(163))}}catch(q){Gn(t,t.return,q)}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}return R=UB,UB=!1,R}function Fb(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&q7(t,r,o)}i=i.next}while(i!==n)}}function _4(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Z7(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function pL(e){var t=e.alternate;t!==null&&(e.alternate=null,pL(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[al],delete t[_0],delete t[R7],delete t[goe],delete t[yoe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gL(e){return e.tag===5||e.tag===3||e.tag===4}function zB(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gL(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function G7(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=P8));else if(n!==4&&(e=e.child,e!==null))for(G7(e,t,r),e=e.sibling;e!==null;)G7(e,t,r),e=e.sibling}function X7(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(X7(e,t,r),e=e.sibling;e!==null;)X7(e,t,r),e=e.sibling}var Vi=null,au=!1;function Qc(e,t,r){for(r=r.child;r!==null;)yL(e,t,r),r=r.sibling}function yL(e,t,r){if(fl&&typeof fl.onCommitFiberUnmount=="function")try{fl.onCommitFiberUnmount(p4,r)}catch{}switch(r.tag){case 5:wo||Eg(r,t);case 6:var n=Vi,i=au;Vi=null,Qc(e,t,r),Vi=n,au=i,Vi!==null&&(au?(e=Vi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Vi.removeChild(r.stateNode));break;case 18:Vi!==null&&(au?(e=Vi,r=r.stateNode,e.nodeType===8?Y5(e.parentNode,r):e.nodeType===1&&Y5(e,r),m0(e)):Y5(Vi,r.stateNode));break;case 4:n=Vi,i=au,Vi=r.stateNode.containerInfo,au=!0,Qc(e,t,r),Vi=n,au=i;break;case 0:case 11:case 14:case 15:if(!wo&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&q7(r,t,s),i=i.next}while(i!==n)}Qc(e,t,r);break;case 1:if(!wo&&(Eg(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Gn(r,t,a)}Qc(e,t,r);break;case 21:Qc(e,t,r);break;case 22:r.mode&1?(wo=(n=wo)||r.memoizedState!==null,Qc(e,t,r),wo=n):Qc(e,t,r);break;default:Qc(e,t,r)}}function LB(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Noe),t.forEach(function(n){var i=Doe.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ga(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Vi=a.stateNode,au=!1;break e;case 3:Vi=a.stateNode.containerInfo,au=!0;break e;case 4:Vi=a.stateNode.containerInfo,au=!0;break e}a=a.return}if(Vi===null)throw Error(pt(160));yL(o,s,i),Vi=null,au=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Gn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mL(t,e),t=t.sibling}function mL(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ga(t,e),zu(e),n&4){try{Fb(3,e,e.return),_4(3,e)}catch(F){Gn(e,e.return,F)}try{Fb(5,e,e.return)}catch(F){Gn(e,e.return,F)}}break;case 1:Ga(t,e),zu(e),n&512&&r!==null&&Eg(r,r.return);break;case 5:if(Ga(t,e),zu(e),n&512&&r!==null&&Eg(r,r.return),e.flags&32){var i=e.stateNode;try{h0(i,"")}catch(F){Gn(e,e.return,F)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&LU(i,o),w7(a,s);var c=w7(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];u==="style"?KU(i,h):u==="dangerouslySetInnerHTML"?DU(i,h):u==="children"?h0(i,h):ix(i,u,h,c)}switch(a){case"input":g7(i,o);break;case"textarea":$U(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var k=o.value;k!=null?Cg(i,!!o.multiple,k,!1):g!==!!o.multiple&&(o.defaultValue!=null?Cg(i,!!o.multiple,o.defaultValue,!0):Cg(i,!!o.multiple,o.multiple?[]:"",!1))}i[_0]=o}catch(F){Gn(e,e.return,F)}}break;case 6:if(Ga(t,e),zu(e),n&4){if(e.stateNode===null)throw Error(pt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(F){Gn(e,e.return,F)}}break;case 3:if(Ga(t,e),zu(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{m0(t.containerInfo)}catch(F){Gn(e,e.return,F)}break;case 4:Ga(t,e),zu(e);break;case 13:Ga(t,e),zu(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ux=ri())),n&4&&LB(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(wo=(c=wo)||u,Ga(t,e),wo=c):Ga(t,e),zu(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Rt=e,u=e.child;u!==null;){for(h=Rt=u;Rt!==null;){switch(g=Rt,k=g.child,g.tag){case 0:case 11:case 14:case 15:Fb(4,g,g.return);break;case 1:Eg(g,g.return);var R=g.stateNode;if(typeof R.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,R.props=t.memoizedProps,R.state=t.memoizedState,R.componentWillUnmount()}catch(F){Gn(n,r,F)}}break;case 5:Eg(g,g.return);break;case 22:if(g.memoizedState!==null){FB(h);continue}}k!==null?(k.return=g,Rt=k):FB(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HU("display",s))}catch(F){Gn(e,e.return,F)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(F){Gn(e,e.return,F)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ga(t,e),zu(e),n&4&&LB(e);break;case 21:break;default:Ga(t,e),zu(e)}}function zu(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gL(r)){var n=r;break e}r=r.return}throw Error(pt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(h0(i,""),n.flags&=-33);var o=zB(e);X7(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=zB(e);G7(e,a,s);break;default:throw Error(pt(161))}}catch(l){Gn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Roe(e,t,r){Rt=e,bL(e)}function bL(e,t,r){for(var n=(e.mode&1)!==0;Rt!==null;){var i=Rt,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||I2;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||wo;a=I2;var c=wo;if(I2=s,(wo=l)&&!c)for(Rt=i;Rt!==null;)s=Rt,l=s.child,s.tag===22&&s.memoizedState!==null?DB(i):l!==null?(l.return=s,Rt=l):DB(i);for(;o!==null;)Rt=o,bL(o),o=o.sibling;Rt=i,I2=a,wo=c}$B(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Rt=o):$B(e)}}function $B(e){for(;Rt!==null;){var t=Rt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:wo||_4(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!wo)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:iu(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kB(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kB(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&m0(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pt(163))}wo||t.flags&512&&Z7(t)}catch(g){Gn(t,t.return,g)}}if(t===e){Rt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function FB(e){for(;Rt!==null;){var t=Rt;if(t===e){Rt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Rt=r;break}Rt=t.return}}function DB(e){for(;Rt!==null;){var t=Rt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{_4(4,t)}catch(l){Gn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Gn(t,i,l)}}var o=t.return;try{Z7(t)}catch(l){Gn(t,o,l)}break;case 5:var s=t.return;try{Z7(t)}catch(l){Gn(t,s,l)}}}catch(l){Gn(t,t.return,l)}if(t===e){Rt=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Rt=a;break}Rt=t.return}}var Coe=Math.ceil,L8=Cc.ReactCurrentDispatcher,Cx=Cc.ReactCurrentOwner,Ta=Cc.ReactCurrentBatchConfig,Gr=0,Ui=null,li=null,Qi=0,Us=0,_g=md(0),Si=0,P0=null,jh=0,S4=0,jx=0,Db=null,as=null,Ux=0,sy=1/0,rc=null,$8=!1,Q7=null,Gf=null,B2=!1,Ff=null,F8=0,Hb=0,Y7=null,V3=-1,W3=0;function Fo(){return Gr&6?ri():V3!==-1?V3:V3=ri()}function Xf(e){return e.mode&1?Gr&2&&Qi!==0?Qi&-Qi:boe.transition!==null?(W3===0&&(W3=rz()),W3):(e=ln,e!==0||(e=window.event,e=e===void 0?16:lz(e.type)),e):1}function yu(e,t,r,n){if(50<Hb)throw Hb=0,Y7=null,Error(pt(185));Tv(e,r,n),(!(Gr&2)||e!==Ui)&&(e===Ui&&(!(Gr&2)&&(S4|=r),Si===4&&zf(e,Qi)),vs(e,n),r===1&&Gr===0&&!(t.mode&1)&&(sy=ri()+500,v4&&bd()))}function vs(e,t){var r=e.callbackNode;bie(e,t);var n=k8(e,e===Ui?Qi:0);if(n===0)r!==null&&QI(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&QI(r),t===1)e.tag===0?moe(HB.bind(null,e)):Pz(HB.bind(null,e)),hoe(function(){!(Gr&6)&&bd()}),r=null;else{switch(nz(n)){case 1:r=lx;break;case 4:r=ez;break;case 16:r=S8;break;case 536870912:r=tz;break;default:r=S8}r=AL(r,vL.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function vL(e,t){if(V3=-1,W3=0,Gr&6)throw Error(pt(327));var r=e.callbackNode;if($g()&&e.callbackNode!==r)return null;var n=k8(e,e===Ui?Qi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=D8(e,n);else{t=n;var i=Gr;Gr|=2;var o=EL();(Ui!==e||Qi!==t)&&(rc=null,sy=ri()+500,_h(e,t));do try{zoe();break}catch(a){wL(e,a)}while(!0);_x(),L8.current=o,Gr=i,li!==null?t=0:(Ui=null,Qi=0,t=Si)}if(t!==0){if(t===2&&(i=x7(e),i!==0&&(n=i,t=J7(e,i))),t===1)throw r=P0,_h(e,0),zf(e,n),vs(e,ri()),r;if(t===6)zf(e,n);else{if(i=e.current.alternate,!(n&30)&&!joe(i)&&(t=D8(e,n),t===2&&(o=x7(e),o!==0&&(n=o,t=J7(e,o))),t===1))throw r=P0,_h(e,0),zf(e,n),vs(e,ri()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(pt(345));case 2:Yd(e,as,rc);break;case 3:if(zf(e,n),(n&130023424)===n&&(t=Ux+500-ri(),10<t)){if(k8(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Fo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=M7(Yd.bind(null,e,as,rc),t);break}Yd(e,as,rc);break;case 4:if(zf(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-gu(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=ri()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Coe(n/1960))-n,10<n){e.timeoutHandle=M7(Yd.bind(null,e,as,rc),n);break}Yd(e,as,rc);break;case 5:Yd(e,as,rc);break;default:throw Error(pt(329))}}}return vs(e,ri()),e.callbackNode===r?vL.bind(null,e):null}function J7(e,t){var r=Db;return e.current.memoizedState.isDehydrated&&(_h(e,t).flags|=256),e=D8(e,t),e!==2&&(t=as,as=r,t!==null&&e9(t)),e}function e9(e){as===null?as=e:as.push.apply(as,e)}function joe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!_u(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zf(e,t){for(t&=~jx,t&=~S4,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gu(t),n=1<<r;e[r]=-1,t&=~n}}function HB(e){if(Gr&6)throw Error(pt(327));$g();var t=k8(e,0);if(!(t&1))return vs(e,ri()),null;var r=D8(e,t);if(e.tag!==0&&r===2){var n=x7(e);n!==0&&(t=n,r=J7(e,n))}if(r===1)throw r=P0,_h(e,0),zf(e,t),vs(e,ri()),r;if(r===6)throw Error(pt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yd(e,as,rc),vs(e,ri()),null}function zx(e,t){var r=Gr;Gr|=1;try{return e(t)}finally{Gr=r,Gr===0&&(sy=ri()+500,v4&&bd())}}function Uh(e){Ff!==null&&Ff.tag===0&&!(Gr&6)&&$g();var t=Gr;Gr|=1;var r=Ta.transition,n=ln;try{if(Ta.transition=null,ln=1,e)return e()}finally{ln=n,Ta.transition=r,Gr=t,!(Gr&6)&&bd()}}function Lx(){Us=_g.current,xn(_g)}function _h(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,doe(r)),li!==null)for(r=li.return;r!==null;){var n=r;switch(vx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&T8();break;case 3:iy(),xn(ms),xn(Ao),Px();break;case 5:Ox(n);break;case 4:iy();break;case 13:xn(jn);break;case 19:xn(jn);break;case 10:Sx(n.type._context);break;case 22:case 23:Lx()}r=r.return}if(Ui=e,li=e=Qf(e.current,null),Qi=Us=t,Si=0,P0=null,jx=S4=jh=0,as=Db=null,uh!==null){for(t=0;t<uh.length;t++)if(r=uh[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}uh=null}return e}function wL(e,t){do{var r=li;try{if(_x(),D3.current=z8,U8){for(var n=Ln.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}U8=!1}if(Ch=0,Ri=vi=Ln=null,$b=!1,x0=0,Cx.current=null,r===null||r.return===null){Si=1,P0=t,li=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=Qi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var k=IB(s);if(k!==null){k.flags&=-257,BB(k,s,a,o,t),k.mode&1&&TB(o,c,t),t=k,l=c;var R=t.updateQueue;if(R===null){var F=new Set;F.add(l),t.updateQueue=F}else R.add(l);break e}else{if(!(t&1)){TB(o,c,t),$x();break e}l=Error(pt(426))}}else if(In&&a.mode&1){var D=IB(s);if(D!==null){!(D.flags&65536)&&(D.flags|=256),BB(D,s,a,o,t),wx(oy(l,a));break e}}o=l=oy(l,a),Si!==4&&(Si=2),Db===null?Db=[o]:Db.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var $=nL(o,l,t);SB(o,$);break e;case 1:a=l;var B=o.type,U=o.stateNode;if(!(o.flags&128)&&(typeof B.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Gf===null||!Gf.has(U)))){o.flags|=65536,t&=-t,o.lanes|=t;var q=iL(o,a,t);SB(o,q);break e}}o=o.return}while(o!==null)}SL(r)}catch(ee){t=ee,li===r&&r!==null&&(li=r=r.return);continue}break}while(!0)}function EL(){var e=L8.current;return L8.current=z8,e===null?z8:e}function $x(){(Si===0||Si===3||Si===2)&&(Si=4),Ui===null||!(jh&268435455)&&!(S4&268435455)||zf(Ui,Qi)}function D8(e,t){var r=Gr;Gr|=2;var n=EL();(Ui!==e||Qi!==t)&&(rc=null,_h(e,t));do try{Uoe();break}catch(i){wL(e,i)}while(!0);if(_x(),Gr=r,L8.current=n,li!==null)throw Error(pt(261));return Ui=null,Qi=0,Si}function Uoe(){for(;li!==null;)_L(li)}function zoe(){for(;li!==null&&!lie();)_L(li)}function _L(e){var t=xL(e.alternate,e,Us);e.memoizedProps=e.pendingProps,t===null?SL(e):li=t,Cx.current=null}function SL(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Boe(r,t),r!==null){r.flags&=32767,li=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Si=6,li=null;return}}else if(r=Ioe(r,t,Us),r!==null){li=r;return}if(t=t.sibling,t!==null){li=t;return}li=t=e}while(t!==null);Si===0&&(Si=5)}function Yd(e,t,r){var n=ln,i=Ta.transition;try{Ta.transition=null,ln=1,Loe(e,t,r,n)}finally{Ta.transition=i,ln=n}return null}function Loe(e,t,r,n){do $g();while(Ff!==null);if(Gr&6)throw Error(pt(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pt(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(vie(e,o),e===Ui&&(li=Ui=null,Qi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||B2||(B2=!0,AL(S8,function(){return $g(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ta.transition,Ta.transition=null;var s=ln;ln=1;var a=Gr;Gr|=4,Cx.current=null,Moe(e,r),mL(r,e),ooe(B7),x8=!!I7,B7=I7=null,e.current=r,Roe(r),cie(),Gr=a,ln=s,Ta.transition=o}else e.current=r;if(B2&&(B2=!1,Ff=e,F8=i),o=e.pendingLanes,o===0&&(Gf=null),hie(r.stateNode),vs(e,ri()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if($8)throw $8=!1,e=Q7,Q7=null,e;return F8&1&&e.tag!==0&&$g(),o=e.pendingLanes,o&1?e===Y7?Hb++:(Hb=0,Y7=e):Hb=0,bd(),null}function $g(){if(Ff!==null){var e=nz(F8),t=Ta.transition,r=ln;try{if(Ta.transition=null,ln=16>e?16:e,Ff===null)var n=!1;else{if(e=Ff,Ff=null,F8=0,Gr&6)throw Error(pt(331));var i=Gr;for(Gr|=4,Rt=e.current;Rt!==null;){var o=Rt,s=o.child;if(Rt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Rt=c;Rt!==null;){var u=Rt;switch(u.tag){case 0:case 11:case 15:Fb(8,u,o)}var h=u.child;if(h!==null)h.return=u,Rt=h;else for(;Rt!==null;){u=Rt;var g=u.sibling,k=u.return;if(pL(u),u===c){Rt=null;break}if(g!==null){g.return=k,Rt=g;break}Rt=k}}}var R=o.alternate;if(R!==null){var F=R.child;if(F!==null){R.child=null;do{var D=F.sibling;F.sibling=null,F=D}while(F!==null)}}Rt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Rt=s;else e:for(;Rt!==null;){if(o=Rt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fb(9,o,o.return)}var $=o.sibling;if($!==null){$.return=o.return,Rt=$;break e}Rt=o.return}}var B=e.current;for(Rt=B;Rt!==null;){s=Rt;var U=s.child;if(s.subtreeFlags&2064&&U!==null)U.return=s,Rt=U;else e:for(s=B;Rt!==null;){if(a=Rt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_4(9,a)}}catch(ee){Gn(a,a.return,ee)}if(a===s){Rt=null;break e}var q=a.sibling;if(q!==null){q.return=a.return,Rt=q;break e}Rt=a.return}}if(Gr=i,bd(),fl&&typeof fl.onPostCommitFiberRoot=="function")try{fl.onPostCommitFiberRoot(p4,e)}catch{}n=!0}return n}finally{ln=r,Ta.transition=t}}return!1}function KB(e,t,r){t=oy(r,t),t=nL(e,t,1),e=Zf(e,t,1),t=Fo(),e!==null&&(Tv(e,1,t),vs(e,t))}function Gn(e,t,r){if(e.tag===3)KB(e,e,r);else for(;t!==null;){if(t.tag===3){KB(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gf===null||!Gf.has(n))){e=oy(r,e),e=iL(t,e,1),t=Zf(t,e,1),e=Fo(),t!==null&&(Tv(t,1,e),vs(t,e));break}}t=t.return}}function $oe(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Fo(),e.pingedLanes|=e.suspendedLanes&r,Ui===e&&(Qi&r)===r&&(Si===4||Si===3&&(Qi&130023424)===Qi&&500>ri()-Ux?_h(e,0):jx|=r),vs(e,t)}function kL(e,t){t===0&&(e.mode&1?(t=E2,E2<<=1,!(E2&130023424)&&(E2=4194304)):t=1);var r=Fo();e=Sc(e,t),e!==null&&(Tv(e,t,r),vs(e,r))}function Foe(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),kL(e,r)}function Doe(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pt(314))}n!==null&&n.delete(t),kL(e,r)}var xL;xL=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ms.current)cs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return cs=!1,Toe(e,t,r);cs=!!(e.flags&131072)}else cs=!1,In&&t.flags&1048576&&Tz(t,N8,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;K3(e,t),e=t.pendingProps;var i=ty(t,Ao.current);Lg(t,r),i=Ix(null,t,n,e,i,r);var o=Bx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,bs(n)?(o=!0,I8(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,xx(t),i.updater=E4,t.stateNode=i,i._reactInternals=t,$7(t,n,e,r),t=H7(null,t,n,!0,o,r)):(t.tag=0,In&&o&&bx(t),jo(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(K3(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Koe(n),e=iu(n,e),i){case 0:t=D7(null,t,n,e,r);break e;case 1:t=RB(null,t,n,e,r);break e;case 11:t=NB(null,t,n,e,r);break e;case 14:t=MB(null,t,n,iu(n.type,e),r);break e}throw Error(pt(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:iu(n,i),D7(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:iu(n,i),RB(e,t,n,i,r);case 3:e:{if(uL(t),e===null)throw Error(pt(387));n=t.pendingProps,o=t.memoizedState,i=o.element,Cz(e,t),C8(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=oy(Error(pt(423)),t),t=CB(e,t,n,r,i);break e}else if(n!==i){i=oy(Error(pt(424)),t),t=CB(e,t,n,r,i);break e}else for(Hs=qf(t.stateNode.containerInfo.firstChild),Vs=t,In=!0,cu=null,r=Mz(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ry(),n===i){t=kc(e,t,r);break e}jo(e,t,n,r)}t=t.child}return t;case 5:return jz(t),e===null&&U7(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,N7(n,i)?s=null:o!==null&&N7(n,o)&&(t.flags|=32),aL(e,t),jo(e,t,s,r),t.child;case 6:return e===null&&U7(t),null;case 13:return lL(e,t,r);case 4:return Ax(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ny(t,null,n,r):jo(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:iu(n,i),NB(e,t,n,i,r);case 7:return jo(e,t,t.pendingProps,r),t.child;case 8:return jo(e,t,t.pendingProps.children,r),t.child;case 12:return jo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,vn(M8,n._currentValue),n._currentValue=s,o!==null)if(_u(o.value,s)){if(o.children===i.children&&!ms.current){t=kc(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=mc(-1,r&-r),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),z7(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(pt(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),z7(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jo(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Lg(t,r),i=Na(i),n=n(i),t.flags|=1,jo(e,t,n,r),t.child;case 14:return n=t.type,i=iu(n,t.pendingProps),i=iu(n.type,i),MB(e,t,n,i,r);case 15:return oL(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:iu(n,i),K3(e,t),t.tag=1,bs(n)?(e=!0,I8(t)):e=!1,Lg(t,r),rL(t,n,i),$7(t,n,i,r),H7(null,t,n,!0,e,r);case 19:return cL(e,t,r);case 22:return sL(e,t,r)}throw Error(pt(156,t.tag))};function AL(e,t){return JU(e,t)}function Hoe(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oa(e,t,r,n){return new Hoe(e,t,r,n)}function Fx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Koe(e){if(typeof e=="function")return Fx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===sx)return 11;if(e===ax)return 14}return 2}function Qf(e,t){var r=e.alternate;return r===null?(r=Oa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function q3(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")Fx(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case dg:return Sh(r.children,i,o,t);case ox:s=8,i|=8;break;case c7:return e=Oa(12,r,t,i|2),e.elementType=c7,e.lanes=o,e;case f7:return e=Oa(13,r,t,i),e.elementType=f7,e.lanes=o,e;case d7:return e=Oa(19,r,t,i),e.elementType=d7,e.lanes=o,e;case jU:return k4(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case RU:s=10;break e;case CU:s=9;break e;case sx:s=11;break e;case ax:s=14;break e;case If:s=16,n=null;break e}throw Error(pt(130,e==null?e:typeof e,""))}return t=Oa(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Sh(e,t,r,n){return e=Oa(7,e,n,t),e.lanes=r,e}function k4(e,t,r,n){return e=Oa(22,e,n,t),e.elementType=jU,e.lanes=r,e.stateNode={isHidden:!1},e}function s_(e,t,r){return e=Oa(6,e,null,t),e.lanes=r,e}function a_(e,t,r){return t=Oa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Voe(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=F5(0),this.expirationTimes=F5(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F5(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dx(e,t,r,n,i,o,s,a,l){return e=new Voe(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Oa(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xx(o),e}function Woe(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function OL(e){if(!e)return rd;e=e._reactInternals;e:{if(ep(e)!==e||e.tag!==1)throw Error(pt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(bs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pt(171))}if(e.tag===1){var r=e.type;if(bs(r))return Oz(e,r,t)}return t}function PL(e,t,r,n,i,o,s,a,l){return e=Dx(r,n,!0,e,i,o,s,a,l),e.context=OL(null),r=e.current,n=Fo(),i=Xf(r),o=mc(n,i),o.callback=t??null,Zf(r,o,i),e.current.lanes=i,Tv(e,i,n),vs(e,n),e}function x4(e,t,r,n){var i=t.current,o=Fo(),s=Xf(i);return r=OL(r),t.context===null?t.context=r:t.pendingContext=r,t=mc(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zf(i,t,s),e!==null&&(yu(e,i,s,o),F3(e,i,s)),s}function H8(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function VB(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hx(e,t){VB(e,t),(e=e.alternate)&&VB(e,t)}function qoe(){return null}var TL=typeof reportError=="function"?reportError:function(e){console.error(e)};function Kx(e){this._internalRoot=e}A4.prototype.render=Kx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pt(409));x4(e,t,null,null)};A4.prototype.unmount=Kx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uh(function(){x4(null,e,null,null)}),t[_c]=null}};function A4(e){this._internalRoot=e}A4.prototype.unstable_scheduleHydration=function(e){if(e){var t=sz();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Uf.length&&t!==0&&t<Uf[r].priority;r++);Uf.splice(r,0,e),r===0&&uz(e)}};function Vx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function O4(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WB(){}function Zoe(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var c=H8(s);o.call(c)}}var s=PL(t,n,e,0,null,!1,!1,"",WB);return e._reactRootContainer=s,e[_c]=s.current,w0(e.nodeType===8?e.parentNode:e),Uh(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=H8(l);a.call(c)}}var l=Dx(e,0,!1,null,null,!1,!1,"",WB);return e._reactRootContainer=l,e[_c]=l.current,w0(e.nodeType===8?e.parentNode:e),Uh(function(){x4(t,l,r,n)}),l}function P4(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=H8(s);a.call(l)}}x4(t,s,e,i)}else s=Zoe(r,t,e,i,n);return H8(s)}iz=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=kb(t.pendingLanes);r!==0&&(cx(t,r|1),vs(t,ri()),!(Gr&6)&&(sy=ri()+500,bd()))}break;case 13:Uh(function(){var n=Sc(e,1);if(n!==null){var i=Fo();yu(n,e,1,i)}}),Hx(e,1)}};fx=function(e){if(e.tag===13){var t=Sc(e,134217728);if(t!==null){var r=Fo();yu(t,e,134217728,r)}Hx(e,134217728)}};oz=function(e){if(e.tag===13){var t=Xf(e),r=Sc(e,t);if(r!==null){var n=Fo();yu(r,e,t,n)}Hx(e,t)}};sz=function(){return ln};az=function(e,t){var r=ln;try{return ln=e,t()}finally{ln=r}};_7=function(e,t,r){switch(t){case"input":if(g7(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=b4(n);if(!i)throw Error(pt(90));zU(n),g7(n,i)}}}break;case"textarea":$U(e,r);break;case"select":t=r.value,t!=null&&Cg(e,!!r.multiple,t,!1)}};qU=zx;ZU=Uh;var Goe={usingClientEntryPoint:!1,Events:[Bv,yg,b4,VU,WU,zx]},Fm={findFiberByHostInstance:ah,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Xoe={bundleType:Fm.bundleType,version:Fm.version,rendererPackageName:Fm.rendererPackageName,rendererConfig:Fm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=QU(e),e===null?null:e.stateNode},findFiberByHostInstance:Fm.findFiberByHostInstance||qoe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var N2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!N2.isDisabled&&N2.supportsFiber)try{p4=N2.inject(Xoe),fl=N2}catch{}}Ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Goe;Ys.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vx(t))throw Error(pt(200));return Woe(e,t,null,r)};Ys.createRoot=function(e,t){if(!Vx(e))throw Error(pt(299));var r=!1,n="",i=TL;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Dx(e,1,!1,null,null,r,!1,n,i),e[_c]=t.current,w0(e.nodeType===8?e.parentNode:e),new Kx(t)};Ys.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pt(188)):(e=Object.keys(e).join(","),Error(pt(268,e)));return e=QU(t),e=e===null?null:e.stateNode,e};Ys.flushSync=function(e){return Uh(e)};Ys.hydrate=function(e,t,r){if(!O4(t))throw Error(pt(200));return P4(null,e,t,!0,r)};Ys.hydrateRoot=function(e,t,r){if(!Vx(e))throw Error(pt(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=TL;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=PL(t,null,e,1,r??null,i,!1,o,s),e[_c]=t.current,w0(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new A4(t)};Ys.render=function(e,t,r){if(!O4(t))throw Error(pt(200));return P4(null,e,t,!1,r)};Ys.unmountComponentAtNode=function(e){if(!O4(e))throw Error(pt(40));return e._reactRootContainer?(Uh(function(){P4(null,null,e,!1,function(){e._reactRootContainer=null,e[_c]=null})}),!0):!1};Ys.unstable_batchedUpdates=zx;Ys.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!O4(r))throw Error(pt(200));if(e==null||e._reactInternals===void 0)throw Error(pt(38));return P4(e,t,r,!1,n)};Ys.version="18.3.1-next-f1338f8080-20240426";function IL(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IL)}catch(e){console.error(e)}}IL(),IU.exports=Ys;var Qoe=IU.exports,qB=Qoe;u7.createRoot=qB.createRoot,u7.hydrateRoot=qB.hydrateRoot;var BL=e=>{throw TypeError(e)},Wx=(e,t,r)=>t.has(e)||BL("Cannot "+r),ot=(e,t,r)=>(Wx(e,t,"read from private field"),r?r.call(e):t.get(e)),Jr=(e,t,r)=>t.has(e)?BL("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),pr=(e,t,r,n)=>(Wx(e,t,"write to private field"),t.set(e,r),r),Uo=(e,t,r)=>(Wx(e,t,"access private method"),r),t9=(e,t,r,n)=>({set _(i){pr(e,t,i)},get _(){return ot(e,t,n)}}),Yoe=Object.defineProperty,Joe=(e,t,r)=>t in e?Yoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vt=(e,t,r)=>Joe(e,typeof t!="symbol"?t+"":t,r);function ese(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Pu={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},tse={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};function rse(e){if(e.length<8||e.length>72||e[0]!==48||e[1]!==e.length-2||e[2]!==2)return!1;const t=e[3];if(t===0||5+t>=e.length||e[4+t]!==2)return!1;const r=e[5+t];return!(r===0||6+t+r!==e.length||e[4]&128||t>1&&e[4]===0&&!(e[5]&128)||e[t+6]&128||r>1&&e[t+6]===0&&!(e[t+7]&128))}function nse(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(e[0]!==48)throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(e[2]!==2)throw new Error("Expected DER integer");const t=e[3];if(t===0)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(e[4+t]!==2)throw new Error("Expected DER integer (2)");const r=e[5+t];if(r===0)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(e[4]&128)throw new Error("R value is negative");if(t>1&&e[4]===0&&!(e[5]&128))throw new Error("R value excessively padded");if(e[t+6]&128)throw new Error("S value is negative");if(r>1&&e[t+6]===0&&!(e[t+7]&128))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}}function ise(e,t){const r=e.length,n=t.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(e[0]&128)throw new Error("R value is negative");if(t[0]&128)throw new Error("S value is negative");if(r>1&&e[0]===0&&!(e[1]&128))throw new Error("R value excessively padded");if(n>1&&t[0]===0&&!(t[1]&128))throw new Error("S value excessively padded");const i=new Uint8Array(6+r+n);return i[0]=48,i[1]=i.length-2,i[2]=2,i[3]=e.length,i.set(e,4),i[4+r]=2,i[5+r]=t.length,i.set(t,6+r),i}const Qr={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},NL={};for(const e of Object.keys(Qr)){const t=Qr[e];NL[t]=e}const K8="0123456789abcdefABCDEF",V8=K8.split("").map(e=>e.codePointAt(0)),W8=Array(256).fill(!0).map((e,t)=>{const r=String.fromCodePoint(t),n=K8.indexOf(r);return n<0?void 0:n<16?n:n-6}),ML=new TextEncoder,RL=new TextDecoder;function ose(e){return RL.decode(e)}function sse(e){return ML.encode(e)}function Hn(e){const t=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function rr(e){const t=e||new Uint8Array;return t.length>512?use(t):ase(t)}function ase(e){let t="";for(let r=0;r<e.length;++r)t+=K8[W8[V8[e[r]>>4]]],t+=K8[W8[V8[e[r]&15]]];return t}function use(e){const t=new Uint8Array(e.length*2);for(let r=0;r<e.length;++r)t[r*2]=V8[e[r]>>4],t[r*2+1]=V8[e[r]&15];return RL.decode(t)}function jc(e){const t=ML.encode(e||""),r=new Uint8Array(Math.floor(t.length/2));let n;for(n=0;n<r.length;n++){const i=W8[t[n*2]],o=W8[t[n*2+1]];if(i===void 0||o===void 0)break;r[n]=i<<4|o}return n===r.length?r:r.slice(0,n)}function lse(e){return btoa(String.fromCharCode(...e))}function CL(e){const t=atob(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}function Ot(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return e.length===t.length?0:e.length>t.length?1:-1}function Ds(e,t,r){if(t+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r>255)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 255. Received ${r}`);return e[t]=r,t+1}function cse(e,t,r,n){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),r>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${r}`);return n==="LE"?(e[t]=r&255,e[t+1]=r>>8&255):(e[t]=r>>8&255,e[t+1]=r&255),t+2}function Mv(e,t,r,n){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),r>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${r}`);return n==="LE"?(e[t]=r&255,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255):(e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r&255),t+4}function fse(e,t,r,n){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),r>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${r}`);return n==="LE"?(e[t]=Number(r&0xffn),e[t+1]=Number(r>>8n&0xffn),e[t+2]=Number(r>>16n&0xffn),e[t+3]=Number(r>>24n&0xffn),e[t+4]=Number(r>>32n&0xffn),e[t+5]=Number(r>>40n&0xffn),e[t+6]=Number(r>>48n&0xffn),e[t+7]=Number(r>>56n&0xffn)):(e[t]=Number(r>>56n&0xffn),e[t+1]=Number(r>>48n&0xffn),e[t+2]=Number(r>>40n&0xffn),e[t+3]=Number(r>>32n&0xffn),e[t+4]=Number(r>>24n&0xffn),e[t+5]=Number(r>>16n&0xffn),e[t+6]=Number(r>>8n&0xffn),e[t+7]=Number(r&0xffn)),t+8}function xc(e,t){if(t+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");return e[t]}function dse(e,t,r){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),r==="LE"){let n=0;return n=(n<<8)+e[t+1],n=(n<<8)+e[t],n}else{let n=0;return n=(n<<8)+e[t],n=(n<<8)+e[t+1],n}}function Uy(e,t,r){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),r==="LE"){let n=0;return n=(n<<8)+e[t+3]>>>0,n=(n<<8)+e[t+2]>>>0,n=(n<<8)+e[t+1]>>>0,n=(n<<8)+e[t]>>>0,n}else{let n=0;return n=(n<<8)+e[t]>>>0,n=(n<<8)+e[t+1]>>>0,n=(n<<8)+e[t+2]>>>0,n=(n<<8)+e[t+3]>>>0,n}}function jL(e,t,r,n){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r>2147483647||r<-2147483648)throw new Error(`The value of "value" is out of range. It must be >= -2147483648 and <= 2147483647. Received ${r}`);return n=n.toUpperCase(),n==="LE"?(e[t]=r&255,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255):(e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r&255),t+4}function UL(e,t,r,n){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r>0x7fffffffffffffffn||r<-0x8000000000000000n)throw new Error(`The value of "value" is out of range. It must be >= ${-0x8000000000000000n} and <= ${0x7fffffffffffffffn}. Received ${r}`);return n=n.toUpperCase(),n==="LE"?(e[t]=Number(r&0xffn),e[t+1]=Number(r>>8n&0xffn),e[t+2]=Number(r>>16n&0xffn),e[t+3]=Number(r>>24n&0xffn),e[t+4]=Number(r>>32n&0xffn),e[t+5]=Number(r>>40n&0xffn),e[t+6]=Number(r>>48n&0xffn),e[t+7]=Number(r>>56n&0xffn)):(e[t]=Number(r>>56n&0xffn),e[t+1]=Number(r>>48n&0xffn),e[t+2]=Number(r>>40n&0xffn),e[t+3]=Number(r>>32n&0xffn),e[t+4]=Number(r>>24n&0xffn),e[t+5]=Number(r>>16n&0xffn),e[t+6]=Number(r>>8n&0xffn),e[t+7]=Number(r&0xffn)),t+8}function hse(e,t,r){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),r==="LE"){const n=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24>>>0);return e[t+3]<=127?n:n-4294967296}else{const n=(e[t]<<24>>>0)+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];return e[t]<=127?n:n-4294967296}}function zL(e,t,r){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");r=r.toUpperCase();let n=0n;if(r==="LE")return n=(n<<8n)+BigInt(e[t+7]),n=(n<<8n)+BigInt(e[t+6]),n=(n<<8n)+BigInt(e[t+5]),n=(n<<8n)+BigInt(e[t+4]),n=(n<<8n)+BigInt(e[t+3]),n=(n<<8n)+BigInt(e[t+2]),n=(n<<8n)+BigInt(e[t+1]),n=(n<<8n)+BigInt(e[t]),e[t+7]<=127?n:n-0x10000000000000000n;{let i=0n;return i=(i<<8n)+BigInt(e[t]),i=(i<<8n)+BigInt(e[t+1]),i=(i<<8n)+BigInt(e[t+2]),i=(i<<8n)+BigInt(e[t+3]),i=(i<<8n)+BigInt(e[t+4]),i=(i<<8n)+BigInt(e[t+5]),i=(i<<8n)+BigInt(e[t+6]),i=(i<<8n)+BigInt(e[t+7]),e[t]<=127?i:i-0x10000000000000000n}}function LL(e){return e<Qr.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}function pse(e,t,r){const n=LL(t);return n===1?Ds(e,r,t):n===2?(Ds(e,r,Qr.OP_PUSHDATA1),Ds(e,r+1,t)):n===3?(Ds(e,r,Qr.OP_PUSHDATA2),cse(e,r+1,t,"LE")):(Ds(e,r,Qr.OP_PUSHDATA4),Mv(e,r+1,t,"LE")),n}function gse(e,t){const r=xc(e,t);let n,i;if(r<Qr.OP_PUSHDATA1)n=r,i=1;else if(r===Qr.OP_PUSHDATA1){if(t+2>e.length)return null;n=xc(e,t+1),i=2}else if(r===Qr.OP_PUSHDATA2){if(t+3>e.length)return null;n=dse(e,t+1,"LE"),i=3}else{if(t+5>e.length)return null;if(r!==Qr.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=Uy(e,t+1,"LE"),i=5}return{opcode:r,number:n,size:i}}function yse(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}function mse(e){let t=Math.abs(e);const r=yse(t),n=new Uint8Array(r),i=e<0;for(let o=0;o<r;++o)Ds(n,o,t&255),t>>=8;return n[r-1]&128?Ds(n,r-1,i?128:0):i&&(n[r-1]|=128),n}function bse(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function vse(e,t){var r;return(r=void 0)==null?void 0:r.get(t)}function T0(e){var t,r;const n=typeof e;return n==="string"?`"${e}"`:n==="number"||n==="bigint"||n==="boolean"?`${e}`:n==="object"||n==="function"?(e&&((r=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:r.name))??"null":n}function Oo(e,t,r,n,i){const o=i&&"input"in i?i.input:r.value,s=(i==null?void 0:i.expected)??e.expects??null,a=(i==null?void 0:i.received)??T0(o),l={kind:e.kind,type:e.type,input:o,expected:s,received:a,message:`Invalid ${t}: ${s?`Expected ${s} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=e.kind==="schema",u=(i==null?void 0:i.message)??e.message??vse(e.reference,l.lang)??(c?(l.lang,void 0):null)??n.message??(l.lang,void 0);u&&(l.message=typeof u=="function"?u(l):u),c&&(r.typed=!1),r.issues?r.issues.push(l):r.issues=[l]}function wse(e,t){const r=[...new Set(e)];return r.length>1?`(${r.join(` ${t} `)})`:r[0]??"never"}var Ese=class extends Error{constructor(e){super(e[0].message),vt(this,"issues"),this.name="ValiError",this.issues=e}};function $L(e,t){return{kind:"validation",type:"every_item",reference:$L,async:!1,expects:null,requirement:e,message:t,_run(r,n){return r.typed&&!r.value.every(this.requirement)&&Oo(this,"item",r,n),r}}}function qx(e){return{kind:"validation",type:"integer",reference:qx,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(t,r){return t.typed&&!this.requirement(t.value)&&Oo(this,"integer",t,r),t}}}function FL(e,t){return{kind:"validation",type:"length",reference:FL,async:!1,expects:`${e}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value.length!==this.requirement&&Oo(this,"length",r,n,{received:`${r.value.length}`}),r}}}function T4(e,t){return{kind:"validation",type:"max_value",reference:T4,async:!1,expects:`<=${e instanceof Date?e.toJSON():T0(e)}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value>this.requirement&&Oo(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():T0(r.value)}),r}}}function I4(e,t){return{kind:"validation",type:"min_value",reference:I4,async:!1,expects:`>=${e instanceof Date?e.toJSON():T0(e)}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value<this.requirement&&Oo(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():T0(r.value)}),r}}}function DL(e,t){return{kind:"validation",type:"regex",reference:DL,async:!1,expects:`${e}`,requirement:e,message:t,_run(r,n){return r.typed&&!this.requirement.test(r.value)&&Oo(this,"format",r,n),r}}}function Zx(e,t,r){return typeof e.default=="function"?e.default(t,r):e.default}function B4(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function HL(){return{kind:"schema",type:"any",reference:HL,expects:"any",async:!1,_run(e){return e.typed=!0,e}}}function ws(e,t){return{kind:"schema",type:"array",reference:ws,expects:"Array",async:!1,item:e,message:t,_run(r,n){var i;const o=r.value;if(Array.isArray(o)){r.typed=!0,r.value=[];for(let s=0;s<o.length;s++){const a=o[s],l=this.item._run({typed:!1,value:a},n);if(l.issues){const c={type:"array",origin:"value",input:o,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value.push(l.value)}}else Oo(this,"type",r,n);return r}}}function KL(e){return{kind:"schema",type:"bigint",reference:KL,expects:"bigint",async:!1,message:e,_run(t,r){return typeof t.value=="bigint"?t.typed=!0:Oo(this,"type",t,r),t}}}function Su(e,t){return{kind:"schema",type:"custom",reference:Su,expects:"unknown",async:!1,check:e,message:t,_run(r,n){return this.check(r.value)?r.typed=!0:Oo(this,"type",r,n),r}}}function N4(e,t){return{kind:"schema",type:"instance",reference:N4,expects:e.name,async:!1,class:e,message:t,_run(r,n){return r.value instanceof this.class?r.typed=!0:Oo(this,"type",r,n),r}}}function r9(e,...t){const r={kind:"schema",type:"nullable",reference:r9,expects:`(${e.expects} | null)`,async:!1,wrapped:e,_run(n,i){return n.value===null&&("default"in this&&(n.value=Zx(this,n,i)),n.value===null)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in t&&(r.default=t[0]),r}function VL(e,...t){const r={kind:"schema",type:"nullish",reference:VL,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,_run(n,i){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=Zx(this,n,i)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in t&&(r.default=t[0]),r}function fs(e){return{kind:"schema",type:"number",reference:fs,expects:"number",async:!1,message:e,_run(t,r){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:Oo(this,"type",t,r),t}}}function fi(e,t){return{kind:"schema",type:"object",reference:fi,expects:"Object",async:!1,entries:e,message:t,_run(r,n){var i;const o=r.value;if(o&&typeof o=="object"){r.typed=!0,r.value={};for(const s in this.entries){const a=o[s],l=this.entries[s]._run({typed:!1,value:a},n);if(l.issues){const c={type:"object",origin:"value",input:o,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),(l.value!==void 0||s in o)&&(r.value[s]=l.value)}}else Oo(this,"type",r,n);return r}}}function q8(e,...t){const r={kind:"schema",type:"optional",reference:q8,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,_run(n,i){return n.value===void 0&&("default"in this&&(n.value=Zx(this,n,i)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in t&&(r.default=t[0]),r}function tp(e){return{kind:"schema",type:"string",reference:tp,expects:"string",async:!1,message:e,_run(t,r){return typeof t.value=="string"?t.typed=!0:Oo(this,"type",t,r),t}}}function rl(e,t){return{kind:"schema",type:"tuple",reference:rl,expects:"Array",async:!1,items:e,message:t,_run(r,n){var i;const o=r.value;if(Array.isArray(o)){r.typed=!0,r.value=[];for(let s=0;s<this.items.length;s++){const a=o[s],l=this.items[s]._run({typed:!1,value:a},n);if(l.issues){const c={type:"array",origin:"value",input:o,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value.push(l.value)}}else Oo(this,"type",r,n);return r}}}function ZB(e){let t;if(e)for(const r of e)t?t.push(...r.issues):t=r.issues;return t}function Gx(e,t){return{kind:"schema",type:"union",reference:Gx,expects:wse(e.map(r=>r.expects),"|"),async:!1,options:e,message:t,_run(r,n){let i,o,s;for(const a of this.options){const l=a._run({typed:!1,value:r.value},n);if(l.typed)if(l.issues)o?o.push(l):o=[l];else{i=l;break}else s?s.push(l):s=[l]}if(i)return i;if(o){if(o.length===1)return o[0];Oo(this,"type",r,n,{issues:ZB(o)}),r.typed=!0}else{if((s==null?void 0:s.length)===1)return s[0];Oo(this,"type",r,n,{issues:ZB(s)})}return r}}}function Un(e,t,r){const n=e._run({typed:!1,value:t},bse(r));if(n.issues)throw new Ese(n.issues);return n.value}function nd(e,t){const r={};for(const n in e.entries)r[n]=q8(e.entries[n]);return{...e,entries:r}}function zy(...e){return{...e[0],pipe:e,_run(t,r){for(const n of e)if(n.kind!=="metadata"){if(t.issues&&(n.kind==="schema"||n.kind==="transformation")){t.typed=!1;break}(!t.issues||!r.abortEarly&&!r.abortPipeEarly)&&(t=n._run(t,r))}return t}}}const GB=new Uint8Array(32),XB=jc("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ei=e=>zy(N4(Uint8Array),FL(e));function I0(e,t){return e.length!==t.length?!1:e.every((r,n)=>Ot(r,t[n])===0)}function mu(e){if(!(e instanceof Uint8Array)||e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(Ot(GB,r)===0||Ot(r,XB)>=0)return!1;if((t===2||t===3)&&e.length===33)return!0;const n=e.slice(33);return Ot(GB,n)===0||Ot(n,XB)>=0?!1:t===4&&e.length===65}const Z3=254;function Xx(e){return!e||!("output"in e)||!(e.output instanceof Uint8Array)?!1:e.version!==void 0?(e.version&Z3)===e.version:!0}function WL(e){return Array.isArray(e)?e.length!==2?!1:e.every(t=>WL(t)):Xx(e)}const _se=Ei(32),Sse=Ei(20),QB=Ei(32),un=N4(Uint8Array);zy(tp(),DL(/^([0-9a-f]{2})+$/i));const kse=zy(fs(),qx(),I4(0),T4(255)),nc=zy(fs(),qx(),I4(0),T4(4294967295)),u_=zy(KL(),I4(0n),T4(0x7fffffffffffffffn)),YB=e=>fi(Object.entries(e).reduce((t,r)=>({...t,[r[0]]:VL(r[1])}),{})),JB=new Uint8Array(1);function eN(e){let t=0;for(;e[t]===0;)++t;return t===e.length?JB:(e=e.slice(t),e[0]&128?Hn([JB,e]):e)}function tN(e){e[0]===0&&(e=e.slice(1));const t=new Uint8Array(32),r=Math.max(0,32-e.length);return t.set(e,r),t}function xse(e){const t=xc(e,e.length-1);if(!Yx(t))throw new Error("Invalid hashType "+t);const r=nse(e.subarray(0,-1)),n=tN(r.r),i=tN(r.s);return{signature:Hn([n,i]),hashType:t}}function Ase(e,t){if(Un(fi({signature:Ei(64),hashType:kse}),{signature:e,hashType:t}),!Yx(t))throw new Error("Invalid hashType "+t);const r=new Uint8Array(1);Ds(r,0,t);const n=eN(e.slice(0,32)),i=eN(e.slice(32,64));return Hn([ise(n,i),r])}const Ose=Object.freeze(Object.defineProperty({__proto__:null,decode:xse,encode:Ase},Symbol.toStringTag,{value:"Module"})),qL=Qr.OP_RESERVED,ZL=ws(Gx([N4(Uint8Array),fs()]));function Pse(e){return B4(fs(),e)&&(e===Qr.OP_0||e>=Qr.OP_1&&e<=Qr.OP_16||e===Qr.OP_1NEGATE)}function GL(e){return B4(un,e)||Pse(e)}function Qx(e){return B4(zy(HL(),$L(GL)),e)}function XL(e){return e.length-e.filter(GL).length}function Z8(e){if(e.length===0)return Qr.OP_0;if(e.length===1){if(e[0]>=1&&e[0]<=16)return qL+e[0];if(e[0]===129)return Qr.OP_1NEGATE}}function QL(e){return e instanceof Uint8Array}function Tse(e){return B4(ZL,e)}function G8(e){return e instanceof Uint8Array}function ko(e){if(QL(e))return e;Un(ZL,e);const t=e.reduce((i,o)=>G8(o)?o.length===1&&Z8(o)!==void 0?i+1:i+LL(o.length)+o.length:i+1,0),r=new Uint8Array(t);let n=0;if(e.forEach(i=>{if(G8(i)){const o=Z8(i);if(o!==void 0){Ds(r,n,o),n+=1;return}n+=pse(r,i.length,n),r.set(i,n),n+=i.length}else Ds(r,n,i),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}function zn(e){if(Tse(e))return e;Un(un,e);const t=[];let r=0;for(;r<e.length;){const n=e[r];if(n>Qr.OP_0&&n<=Qr.OP_PUSHDATA4){const i=gse(e,r);if(i===null||(r+=i.size,r+i.number>e.length))return null;const o=e.slice(r,r+i.number);r+=i.number;const s=Z8(o);s!==void 0?t.push(s):t.push(o)}else t.push(n),r+=1}return t}function Ise(e){if(QL(e)&&(e=zn(e)),!e)throw new Error("Could not convert invalid chunks to ASM");return e.map(t=>{if(G8(t)){const r=Z8(t);if(r===void 0)return rr(t);t=r}return NL[t]}).join(" ")}function Bse(e){return e=zn(e),Un(Su(Qx),e),e.map(t=>G8(t)?t:t===Qr.OP_0?new Uint8Array(0):mse(t-qL))}function Nse(e){return mu(e)}function Yx(e){const t=e&-129;return t>0&&t<4}function Ac(e){return!(e instanceof Uint8Array)||!Yx(e[e.length-1])?!1:rse(e.slice(0,-1))}const Kb=Ose;function Xt(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const n=r.call(this);return this[t]=n,n},set(n){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}function Ia(e){let t;return()=>(t!==void 0||(t=e()),t)}const ig=Qr,M2=ig.OP_RESERVED;function M4(e,t){if(!e.input&&!e.output&&!(e.pubkeys&&e.m!==void 0)&&!e.signatures)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{});function r(a){return Ac(a)||(t.allowIncomplete&&a===ig.OP_0)!==void 0}Un(nd(fi({network:fi({}),m:fs(),n:fs(),output:un,pubkeys:ws(Su(mu),"Received invalid pubkey"),signatures:ws(Su(r),"Expected signature to be of type isAcceptableSignature"),input:un})),e);const n={network:e.network||Pu};let i=[],o=!1;function s(a){o||(o=!0,i=zn(a),n.m=i[0]-M2,n.n=i[i.length-2]-M2,n.pubkeys=i.slice(1,-2))}if(Xt(n,"output",()=>{if(e.m&&n.n&&e.pubkeys)return ko([].concat(M2+e.m,e.pubkeys,M2+n.n,ig.OP_CHECKMULTISIG))}),Xt(n,"m",()=>{if(n.output)return s(n.output),n.m}),Xt(n,"n",()=>{if(n.pubkeys)return n.pubkeys.length}),Xt(n,"pubkeys",()=>{if(e.output)return s(e.output),n.pubkeys}),Xt(n,"signatures",()=>{if(e.input)return zn(e.input).slice(1)}),Xt(n,"input",()=>{if(e.signatures)return ko([ig.OP_0].concat(e.signatures))}),Xt(n,"witness",()=>{if(n.input)return[]}),Xt(n,"name",()=>{if(!(!n.m||!n.n))return`p2ms(${n.m} of ${n.n})`}),t.validate){if(e.output){if(s(e.output),Un(fs(),i[0],{message:"Output is invalid"}),Un(fs(),i[i.length-2],{message:"Output is invalid"}),i[i.length-1]!==ig.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(n.m<=0||n.n>16||n.m>n.n||n.n!==i.length-3)throw new TypeError("Output is invalid");if(!n.pubkeys.every(a=>mu(a)))throw new TypeError("Output is invalid");if(e.m!==void 0&&e.m!==n.m)throw new TypeError("m mismatch");if(e.n!==void 0&&e.n!==n.n)throw new TypeError("n mismatch");if(e.pubkeys&&!I0(e.pubkeys,n.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(e.n!==void 0&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(n.n=e.pubkeys.length,n.n<n.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<n.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>n.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==ig.OP_0)throw new TypeError("Input is invalid");if(n.signatures.length===0||!n.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!I0(e.signatures,n.signatures))throw new TypeError("Signature mismatch");if(e.m!==void 0&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(n,e)}const rN=Qr;function YL(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Un(nd(fi({network:fi({}),output:un,pubkey:Su(mu,"invalid pubkey"),signature:Su(Ac,"Expected signature to be of type isCanonicalScriptSignature"),input:un})),e);const r=Ia(()=>zn(e.input)),n={name:"p2pk",network:e.network||Pu};if(Xt(n,"output",()=>{if(e.pubkey)return ko([e.pubkey,rN.OP_CHECKSIG])}),Xt(n,"pubkey",()=>{if(e.output)return e.output.slice(1,-1)}),Xt(n,"signature",()=>{if(e.input)return r()[0]}),Xt(n,"input",()=>{if(e.signature)return ko([e.signature])}),Xt(n,"witness",()=>{if(n.input)return[]}),t.validate){if(e.output){if(e.output[e.output.length-1]!==rN.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!mu(n.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&Ot(e.pubkey,n.pubkey)!==0)throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&Ot(e.input,n.input)!==0)throw new TypeError("Signature mismatch");if(e.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!Ac(n.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(n,e)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Mse(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function nN(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function R4(e,...t){if(!Mse(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Rse(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");nN(e.outputLen),nN(e.blockLen)}function X8(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Cse(e,t){R4(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function id(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function l_(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Lu(e,t){return e<<32-t|e>>>t}function R2(e,t){return e<<t|e>>>32-t>>>0}function jse(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Jx(e){return typeof e=="string"&&(e=jse(e)),R4(e),e}let JL=class{};function eA(e){const t=n=>e().update(Jx(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Use(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}function zse(e,t,r){return e&t^~e&r}function Lse(e,t,r){return e&t^e&r^t&r}let tA=class extends JL{constructor(e,t,r,n){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.buffer=new Uint8Array(e),this.view=l_(this.buffer)}update(e){X8(this),e=Jx(e),R4(e);const{view:t,buffer:r,blockLen:n}=this,i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){const a=l_(e);for(;n<=i-o;o+=n)this.process(a,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){X8(this),Cse(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,id(this.buffer.subarray(o)),this.padOffset>n-o&&(this.process(r,0),o=0);for(let u=o;u<n;u++)t[u]=0;Use(r,n-8,BigInt(this.length*8),i),this.process(r,0);const s=l_(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)s.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.destroyed=o,e.finished=i,e.length=n,e.pos=s,n%t&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const Yc=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ao=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),$se=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),e$=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),Fse=e$.map(e=>(9*e+5)%16),t$=(()=>{const e=[[e$],[Fse]];for(let t=0;t<4;t++)for(let r of e)r.push(r[t].map(n=>$se[n]));return e})(),r$=t$[0],n$=t$[1],i$=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),Dse=r$.map((e,t)=>e.map(r=>i$[t][r])),Hse=n$.map((e,t)=>e.map(r=>i$[t][r])),Kse=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Vse=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function iN(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}const C2=new Uint32Array(16);let Wse=class extends tA{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=n|0,this.h4=i|0}process(e,t){for(let g=0;g<16;g++,t+=4)C2[g]=e.getUint32(t,!0);let r=this.h0|0,n=r,i=this.h1|0,o=i,s=this.h2|0,a=s,l=this.h3|0,c=l,u=this.h4|0,h=u;for(let g=0;g<5;g++){const k=4-g,R=Kse[g],F=Vse[g],D=r$[g],$=n$[g],B=Dse[g],U=Hse[g];for(let q=0;q<16;q++){const ee=R2(r+iN(g,i,s,l)+C2[D[q]]+R,B[q])+u|0;r=u,u=l,l=R2(s,10)|0,s=i,i=ee}for(let q=0;q<16;q++){const ee=R2(n+iN(k,o,a,c)+C2[$[q]]+F,U[q])+h|0;n=h,h=c,c=R2(a,10)|0,a=o,o=ee}}this.set(this.h1+s+c|0,this.h2+l+h|0,this.h3+u+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){id(C2)}destroy(){this.destroyed=!0,id(this.buffer),this.set(0,0,0,0,0)}};const qse=eA(()=>new Wse),o$=qse,j2=BigInt(2**32-1),oN=BigInt(32);function Zse(e,t=!1){return t?{h:Number(e&j2),l:Number(e>>oN&j2)}:{h:Number(e>>oN&j2)|0,l:Number(e&j2)|0}}function Gse(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:s,l:a}=Zse(e[o],t);[n[o],i[o]]=[s,a]}return[n,i]}const sN=(e,t,r)=>e>>>r,aN=(e,t,r)=>e<<32-r|t>>>r,jp=(e,t,r)=>e>>>r|t<<32-r,Up=(e,t,r)=>e<<32-r|t>>>r,U2=(e,t,r)=>e<<64-r|t>>>r-32,z2=(e,t,r)=>e>>>r-32|t<<64-r;function Kl(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const Xse=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),Qse=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,Yse=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),Jse=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,eae=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),tae=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,rae=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jc=new Uint32Array(64);let nae=class extends tA{constructor(e=32){super(64,e,8,!1),this.A=Yc[0]|0,this.B=Yc[1]|0,this.C=Yc[2]|0,this.D=Yc[3]|0,this.E=Yc[4]|0,this.F=Yc[5]|0,this.G=Yc[6]|0,this.H=Yc[7]|0}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=e|0,this.B=t|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)Jc[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const h=Jc[u-15],g=Jc[u-2],k=Lu(h,7)^Lu(h,18)^h>>>3,R=Lu(g,17)^Lu(g,19)^g>>>10;Jc[u]=R+Jc[u-7]+k+Jc[u-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const h=Lu(s,6)^Lu(s,11)^Lu(s,25),g=c+h+zse(s,a,l)+rae[u]+Jc[u]|0,k=(Lu(r,2)^Lu(r,13)^Lu(r,22))+Lse(r,n,i)|0;c=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+k|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,l,c)}roundClean(){id(Jc)}destroy(){this.set(0,0,0,0,0,0,0,0),id(this.buffer)}};const s$=Gse(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),iae=s$[0],oae=s$[1],ef=new Uint32Array(80),tf=new Uint32Array(80);let sae=class extends tA{constructor(e=64){super(128,e,16,!1),this.Ah=ao[0]|0,this.Al=ao[1]|0,this.Bh=ao[2]|0,this.Bl=ao[3]|0,this.Ch=ao[4]|0,this.Cl=ao[5]|0,this.Dh=ao[6]|0,this.Dl=ao[7]|0,this.Eh=ao[8]|0,this.El=ao[9]|0,this.Fh=ao[10]|0,this.Fl=ao[11]|0,this.Gh=ao[12]|0,this.Gl=ao[13]|0,this.Hh=ao[14]|0,this.Hl=ao[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:g,Gl:k,Hh:R,Hl:F}=this;return[e,t,r,n,i,o,s,a,l,c,u,h,g,k,R,F]}set(e,t,r,n,i,o,s,a,l,c,u,h,g,k,R,F){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=n|0,this.Ch=i|0,this.Cl=o|0,this.Dh=s|0,this.Dl=a|0,this.Eh=l|0,this.El=c|0,this.Fh=u|0,this.Fl=h|0,this.Gh=g|0,this.Gl=k|0,this.Hh=R|0,this.Hl=F|0}process(e,t){for(let B=0;B<16;B++,t+=4)ef[B]=e.getUint32(t),tf[B]=e.getUint32(t+=4);for(let B=16;B<80;B++){const U=ef[B-15]|0,q=tf[B-15]|0,ee=jp(U,q,1)^jp(U,q,8)^sN(U,q,7),ae=Up(U,q,1)^Up(U,q,8)^aN(U,q,7),re=ef[B-2]|0,K=tf[B-2]|0,C=jp(re,K,19)^U2(re,K,61)^sN(re,K,6),G=Up(re,K,19)^z2(re,K,61)^aN(re,K,6),v=Yse(ae,G,tf[B-7],tf[B-16]),I=Jse(v,ee,C,ef[B-7],ef[B-16]);ef[B]=I|0,tf[B]=v|0}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:g,Fl:k,Gh:R,Gl:F,Hh:D,Hl:$}=this;for(let B=0;B<80;B++){const U=jp(u,h,14)^jp(u,h,18)^U2(u,h,41),q=Up(u,h,14)^Up(u,h,18)^z2(u,h,41),ee=u&g^~u&R,ae=h&k^~h&F,re=eae($,q,ae,oae[B],tf[B]),K=tae(re,D,U,ee,iae[B],ef[B]),C=re|0,G=jp(r,n,28)^U2(r,n,34)^U2(r,n,39),v=Up(r,n,28)^z2(r,n,34)^z2(r,n,39),I=r&i^r&s^i&s,p=n&o^n&a^o&a;D=R|0,$=F|0,R=g|0,F=k|0,g=u|0,k=h|0,{h:u,l:h}=Kl(l|0,c|0,K|0,C|0),l=s|0,c=a|0,s=i|0,a=o|0,i=r|0,o=n|0;const _=Xse(C,v,p);r=Qse(_,K,G,I),n=_|0}({h:r,l:n}=Kl(this.Ah|0,this.Al|0,r|0,n|0)),{h:i,l:o}=Kl(this.Bh|0,this.Bl|0,i|0,o|0),{h:s,l:a}=Kl(this.Ch|0,this.Cl|0,s|0,a|0),{h:l,l:c}=Kl(this.Dh|0,this.Dl|0,l|0,c|0),{h:u,l:h}=Kl(this.Eh|0,this.El|0,u|0,h|0),{h:g,l:k}=Kl(this.Fh|0,this.Fl|0,g|0,k|0),{h:R,l:F}=Kl(this.Gh|0,this.Gl|0,R|0,F|0),{h:D,l:$}=Kl(this.Hh|0,this.Hl|0,D|0,$|0),this.set(r,n,i,o,s,a,l,c,u,h,g,k,R,F,D,$)}roundClean(){id(ef,tf)}destroy(){id(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const aae=eA(()=>new nae),uae=eA(()=>new sae),Gi=aae;function bu(e){return o$(Gi(e))}function Ld(e){return Gi(Gi(e))}const lae={"BIP0340/challenge":Uint8Array.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":Uint8Array.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":Uint8Array.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:Uint8Array.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:Uint8Array.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:Uint8Array.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:Uint8Array.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":Uint8Array.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":Uint8Array.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function C4(e,t){return Gi(Hn([lae[e],t]))}function cae(e){if(e.length>=255)throw new TypeError("Alphabet too long");const t=new Uint8Array(256);for(let c=0;c<t.length;c++)t[c]=255;for(let c=0;c<e.length;c++){const u=e.charAt(c),h=u.charCodeAt(0);if(t[h]!==255)throw new TypeError(u+" is ambiguous");t[h]=c}const r=e.length,n=e.charAt(0),i=Math.log(r)/Math.log(256),o=Math.log(256)/Math.log(r);function s(c){if(c instanceof Uint8Array||(ArrayBuffer.isView(c)?c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength):Array.isArray(c)&&(c=Uint8Array.from(c))),!(c instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(c.length===0)return"";let u=0,h=0,g=0;const k=c.length;for(;g!==k&&c[g]===0;)g++,u++;const R=(k-g)*o+1>>>0,F=new Uint8Array(R);for(;g!==k;){let B=c[g],U=0;for(let q=R-1;(B!==0||U<h)&&q!==-1;q--,U++)B+=256*F[q]>>>0,F[q]=B%r>>>0,B=B/r>>>0;if(B!==0)throw new Error("Non-zero carry");h=U,g++}let D=R-h;for(;D!==R&&F[D]===0;)D++;let $=n.repeat(u);for(;D<R;++D)$+=e.charAt(F[D]);return $}function a(c){if(typeof c!="string")throw new TypeError("Expected String");if(c.length===0)return new Uint8Array;let u=0,h=0,g=0;for(;c[u]===n;)h++,u++;const k=(c.length-u)*i+1>>>0,R=new Uint8Array(k);for(;u<c.length;){const B=c.charCodeAt(u);if(B>255)return;let U=t[B];if(U===255)return;let q=0;for(let ee=k-1;(U!==0||q<g)&&ee!==-1;ee--,q++)U+=r*R[ee]>>>0,R[ee]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");g=q,u++}let F=k-g;for(;F!==k&&R[F]===0;)F++;const D=new Uint8Array(h+(k-F));let $=h;for(;F!==k;)D[$++]=R[F++];return D}function l(c){const u=a(c);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:l}}var fae="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const c_=cae(fae);function dae(e){function t(o){var s=Uint8Array.from(o),a=e(s),l=s.length+4,c=new Uint8Array(l);return c.set(s,0),c.set(a.subarray(0,4),s.length),c_.encode(c)}function r(o){var s=o.slice(0,-4),a=o.slice(-4),l=e(s);if(!(a[0]^l[0]|a[1]^l[1]|a[2]^l[2]|a[3]^l[3]))return s}function n(o){var s=c_.decodeUnsafe(o);if(s!=null)return r(s)}function i(o){var s=c_.decode(o),a=r(s);if(a==null)throw new Error("Invalid checksum");return a}return{encode:t,decode:i,decodeUnsafe:n}}function hae(e){return Gi(Gi(e))}const ay=dae(hae),rf=Qr;function Rv(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Un(nd(fi({network:fi({}),address:tp(),hash:Sse,output:Ei(25),pubkey:Su(mu),signature:Su(Ac),input:un})),e);const r=Ia(()=>{const s=ay.decode(e.address),a=xc(s,0),l=s.slice(1);return{version:a,hash:l}}),n=Ia(()=>zn(e.input)),i=e.network||Pu,o={name:"p2pkh",network:i};if(Xt(o,"address",()=>{if(!o.hash)return;const s=new Uint8Array(21);return Ds(s,0,i.pubKeyHash),s.set(o.hash,1),ay.encode(s)}),Xt(o,"hash",()=>{if(e.output)return e.output.slice(3,23);if(e.address)return r().hash;if(e.pubkey||o.pubkey)return bu(e.pubkey||o.pubkey)}),Xt(o,"output",()=>{if(o.hash)return ko([rf.OP_DUP,rf.OP_HASH160,o.hash,rf.OP_EQUALVERIFY,rf.OP_CHECKSIG])}),Xt(o,"pubkey",()=>{if(e.input)return n()[1]}),Xt(o,"signature",()=>{if(e.input)return n()[0]}),Xt(o,"input",()=>{if(e.pubkey&&e.signature)return ko([e.signature,e.pubkey])}),Xt(o,"witness",()=>{if(o.input)return[]}),t.validate){let s=Uint8Array.from([]);if(e.address){if(r().version!==i.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(e.hash){if(s.length>0&&Ot(s,e.hash)!==0)throw new TypeError("Hash mismatch");s=e.hash}if(e.output){if(e.output.length!==25||e.output[0]!==rf.OP_DUP||e.output[1]!==rf.OP_HASH160||e.output[2]!==20||e.output[23]!==rf.OP_EQUALVERIFY||e.output[24]!==rf.OP_CHECKSIG)throw new TypeError("Output is invalid");const a=e.output.slice(3,23);if(s.length>0&&Ot(s,a)!==0)throw new TypeError("Hash mismatch");s=a}if(e.pubkey){const a=bu(e.pubkey);if(s.length>0&&Ot(s,a)!==0)throw new TypeError("Hash mismatch");s=a}if(e.input){const a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!Ac(a[0]))throw new TypeError("Input has invalid signature");if(!mu(a[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&Ot(e.signature,a[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&Ot(e.pubkey,a[1])!==0)throw new TypeError("Pubkey mismatch");const l=bu(a[1]);if(s.length>0&&Ot(s,l)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(o,e)}const Dm=Qr;function Ly(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Un(nd(fi({network:fi({}),address:tp(),hash:Ei(20),output:Ei(23),redeem:nd(fi({network:fi({}),output:un,input:un,witness:ws(un)})),input:un,witness:ws(un)})),e);let r=e.network;r||(r=e.redeem&&e.redeem.network||Pu);const n={network:r},i=Ia(()=>{const a=ay.decode(e.address),l=xc(a,0),c=a.slice(1);return{version:l,hash:c}}),o=Ia(()=>zn(e.input)),s=Ia(()=>{const a=o(),l=a[a.length-1];return{network:r,output:l===Dm.OP_FALSE?Uint8Array.from([]):l,input:ko(a.slice(0,-1)),witness:e.witness||[]}});if(Xt(n,"address",()=>{if(!n.hash)return;const a=new Uint8Array(21);return Ds(a,0,n.network.scriptHash),a.set(n.hash,1),ay.encode(a)}),Xt(n,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return i().hash;if(n.redeem&&n.redeem.output)return bu(n.redeem.output)}),Xt(n,"output",()=>{if(n.hash)return ko([Dm.OP_HASH160,n.hash,Dm.OP_EQUAL])}),Xt(n,"redeem",()=>{if(e.input)return s()}),Xt(n,"input",()=>{if(!(!e.redeem||!e.redeem.input||!e.redeem.output))return ko([].concat(zn(e.redeem.input),e.redeem.output))}),Xt(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Xt(n,"name",()=>{const a=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&a.push(n.redeem.name),a.join("-")}),t.validate){let a=Uint8Array.from([]);if(e.address){if(i().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(i().hash.length!==20)throw new TypeError("Invalid address");a=i().hash}if(e.hash){if(a.length>0&&Ot(a,e.hash)!==0)throw new TypeError("Hash mismatch");a=e.hash}if(e.output){if(e.output.length!==23||e.output[0]!==Dm.OP_HASH160||e.output[1]!==20||e.output[22]!==Dm.OP_EQUAL)throw new TypeError("Output is invalid");const c=e.output.slice(2,22);if(a.length>0&&Ot(a,c)!==0)throw new TypeError("Hash mismatch");a=c}const l=c=>{if(c.output){const u=zn(c.output);if(!u||u.length<1)throw new TypeError("Redeem.output too short");if(c.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(XL(u)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const h=bu(c.output);if(a.length>0&&Ot(a,h)!==0)throw new TypeError("Hash mismatch");a=h}if(c.input){const u=c.input.length>0,h=c.witness&&c.witness.length>0;if(!u&&!h)throw new TypeError("Empty input");if(u&&h)throw new TypeError("Input and witness provided");if(u){const g=zn(c.input);if(!Qx(g))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const c=o();if(!c||c.length<1)throw new TypeError("Input too short");if(!(s().output instanceof Uint8Array))throw new TypeError("Input is invalid");l(s())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const c=s();if(e.redeem.output&&Ot(e.redeem.output,c.output)!==0)throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&Ot(e.redeem.input,c.input)!==0)throw new TypeError("Redeem.input mismatch")}l(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!I0(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,e)}var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function a$(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function pae(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var B0={};Object.defineProperty(B0,"__esModule",{value:!0});var N0=B0.bech32m=Ks=B0.bech32=void 0;const Q8="qpzry9x8gf2tvdw0s3jn54khce6mua7l",u$={};for(let e=0;e<Q8.length;e++){const t=Q8.charAt(e);u$[t]=e}function Fg(e){const t=e>>25;return(e&33554431)<<5^-(t>>0&1)&996825010^-(t>>1&1)&642813549^-(t>>2&1)&513874426^-(t>>3&1)&1027748829^-(t>>4&1)&705979059}function uN(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=Fg(t)^n>>5}t=Fg(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=Fg(t)^n&31}return t}function rA(e,t,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let l=0;l<e.length;++l)for(i=i<<t|e[l],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function gae(e){return rA(e,8,5,!0)}function yae(e){const t=rA(e,5,8,!1);if(Array.isArray(t))return t}function mae(e){const t=rA(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function l$(e){let t;e==="bech32"?t=1:t=734539939;function r(s,a,l){if(l=l||90,s.length+7+a.length>l)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let c=uN(s);if(typeof c=="string")throw new Error(c);let u=s+"1";for(let h=0;h<a.length;++h){const g=a[h];if(g>>5)throw new Error("Non 5-bit word");c=Fg(c)^g,u+=Q8.charAt(g)}for(let h=0;h<6;++h)c=Fg(c);c^=t;for(let h=0;h<6;++h){const g=c>>(5-h)*5&31;u+=Q8.charAt(g)}return u}function n(s,a){if(a=a||90,s.length<8)return s+" too short";if(s.length>a)return"Exceeds length limit";const l=s.toLowerCase(),c=s.toUpperCase();if(s!==l&&s!==c)return"Mixed-case string "+s;s=l;const u=s.lastIndexOf("1");if(u===-1)return"No separator character for "+s;if(u===0)return"Missing prefix for "+s;const h=s.slice(0,u),g=s.slice(u+1);if(g.length<6)return"Data too short";let k=uN(h);if(typeof k=="string")return k;const R=[];for(let F=0;F<g.length;++F){const D=g.charAt(F),$=u$[D];if($===void 0)return"Unknown character "+D;k=Fg(k)^$,!(F+6>=g.length)&&R.push($)}return k!==t?"Invalid checksum for "+s:{prefix:h,words:R}}function i(s,a){const l=n(s,a);if(typeof l=="object")return l}function o(s,a){const l=n(s,a);if(typeof l=="object")return l;throw new Error(l)}return{decodeUnsafe:i,decode:o,encode:r,toWords:gae,fromWordsUnsafe:yae,fromWords:mae}}var Ks=B0.bech32=l$("bech32");N0=B0.bech32m=l$("bech32m");const lN=Qr,bae=new Uint8Array(0);function Cv(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Un(nd(fi({address:tp(),hash:Ei(20),input:Ei(0),network:fi({}),output:Ei(22),pubkey:Su(mu,"Not a valid pubkey"),signature:Su(Ac),witness:ws(un)})),e);const r=Ia(()=>{const o=Ks.decode(e.address),s=o.words.shift(),a=Ks.fromWords(o.words);return{version:s,prefix:o.prefix,data:Uint8Array.from(a)}}),n=e.network||Pu,i={name:"p2wpkh",network:n};if(Xt(i,"address",()=>{if(!i.hash)return;const o=Ks.toWords(i.hash);return o.unshift(0),Ks.encode(n.bech32,o)}),Xt(i,"hash",()=>{if(e.output)return e.output.slice(2,22);if(e.address)return r().data;if(e.pubkey||i.pubkey)return bu(e.pubkey||i.pubkey)}),Xt(i,"output",()=>{if(i.hash)return ko([lN.OP_0,i.hash])}),Xt(i,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.witness)return e.witness[1]}),Xt(i,"signature",()=>{if(e.witness)return e.witness[0]}),Xt(i,"input",()=>{if(i.witness)return bae}),Xt(i,"witness",()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]}),t.validate){let o=Uint8Array.from([]);if(e.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");o=r().data}if(e.hash){if(o.length>0&&Ot(o,e.hash)!==0)throw new TypeError("Hash mismatch");o=e.hash}if(e.output){if(e.output.length!==22||e.output[0]!==lN.OP_0||e.output[1]!==20)throw new TypeError("Output is invalid");if(o.length>0&&Ot(o,e.output.slice(2))!==0)throw new TypeError("Hash mismatch");o=e.output.slice(2)}if(e.pubkey){const s=bu(e.pubkey);if(o.length>0&&Ot(o,s)!==0)throw new TypeError("Hash mismatch");if(o=s,!mu(e.pubkey)||e.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(e.witness.length!==2)throw new TypeError("Witness is invalid");if(!Ac(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!mu(e.witness[1])||e.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(e.signature&&Ot(e.signature,e.witness[0])!==0)throw new TypeError("Signature mismatch");if(e.pubkey&&Ot(e.pubkey,e.witness[1])!==0)throw new TypeError("Pubkey mismatch");const s=bu(e.witness[1]);if(o.length>0&&Ot(o,s)!==0)throw new TypeError("Hash mismatch")}}return Object.assign(i,e)}const cN=Qr,f_=new Uint8Array(0);function L2(e){return!!(e instanceof Uint8Array&&e.length===65&&e[0]===4&&mu(e))}function jv(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Un(YB({network:fi({}),address:tp(),hash:_se,output:Ei(34),redeem:YB({input:un,network:fi({}),output:un,witness:ws(un)}),input:Ei(0),witness:ws(un)}),e);const r=Ia(()=>{const s=Ks.decode(e.address),a=s.words.shift(),l=Ks.fromWords(s.words);return{version:a,prefix:s.prefix,data:Uint8Array.from(l)}}),n=Ia(()=>zn(e.redeem.input));let i=e.network;i||(i=e.redeem&&e.redeem.network||Pu);const o={network:i};if(Xt(o,"address",()=>{if(!o.hash)return;const s=Ks.toWords(o.hash);return s.unshift(0),Ks.encode(i.bech32,s)}),Xt(o,"hash",()=>{if(e.output)return e.output.slice(2);if(e.address)return r().data;if(o.redeem&&o.redeem.output)return Gi(o.redeem.output)}),Xt(o,"output",()=>{if(o.hash)return ko([cN.OP_0,o.hash])}),Xt(o,"redeem",()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:f_,witness:e.witness.slice(0,-1)}}),Xt(o,"input",()=>{if(o.witness)return f_}),Xt(o,"witness",()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const s=Bse(n());return o.redeem=Object.assign({witness:s},e.redeem),o.redeem.input=f_,[].concat(s,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)}),Xt(o,"name",()=>{const s=["p2wsh"];return o.redeem!==void 0&&o.redeem.name!==void 0&&s.push(o.redeem.name),s.join("-")}),t.validate){let s=Uint8Array.from([]);if(e.address){if(r().prefix!==i.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(e.hash){if(s.length>0&&Ot(s,e.hash)!==0)throw new TypeError("Hash mismatch");s=e.hash}if(e.output){if(e.output.length!==34||e.output[0]!==cN.OP_0||e.output[1]!==32)throw new TypeError("Output is invalid");const a=e.output.slice(2);if(s.length>0&&Ot(s,a)!==0)throw new TypeError("Hash mismatch");s=a}if(e.redeem){if(e.redeem.network&&e.redeem.network!==i)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const a=zn(e.redeem.output);if(!a||a.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(XL(a)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const l=Gi(e.redeem.output);if(s.length>0&&Ot(s,l)!==0)throw new TypeError("Hash mismatch");s=l}if(e.redeem.input&&!Qx(n()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!I0(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&n().some(L2)||e.redeem.output&&(zn(e.redeem.output)||[]).some(L2))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const a=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&Ot(e.redeem.output,a)!==0)throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(L2)||(zn(a)||[]).some(L2))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(o,e)}const Vb={};function nA(e){e?e!==Vb.eccLib&&(vae(e),Vb.eccLib=e):Vb.eccLib=e}function n9(){if(!Vb.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return Vb.eccLib}const Vl=e=>jc(e);function vae(e){ha(typeof e.isXOnlyPoint=="function"),ha(e.isXOnlyPoint(Vl("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),ha(e.isXOnlyPoint(Vl("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),ha(e.isXOnlyPoint(Vl("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),ha(e.isXOnlyPoint(Vl("0000000000000000000000000000000000000000000000000000000000000001"))),ha(!e.isXOnlyPoint(Vl("0000000000000000000000000000000000000000000000000000000000000000"))),ha(!e.isXOnlyPoint(Vl("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),ha(typeof e.xOnlyPointAddTweak=="function"),wae.forEach(t=>{const r=e.xOnlyPointAddTweak(Vl(t.pubkey),Vl(t.tweak));t.result===null?ha(r===null):(ha(r!==null),ha(r.parity===t.parity),ha(Ot(r.xOnlyPubkey,Vl(t.result))===0))})}function ha(e){if(!e)throw new Error("ecc library invalid")}const wae=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}],c$="0123456789abcdefABCDEF";c$.split("").map(e=>e.codePointAt(0));const fN=Array(256).fill(!0).map((e,t)=>{const r=String.fromCodePoint(t),n=c$.indexOf(r);return n<0?void 0:n<16?n:n-6}),f$=new TextEncoder;new TextDecoder;function Eae(e){return f$.encode(e)}function _ae(e){const t=e.reduce((i,o)=>i+o.length,0),r=new Uint8Array(t);let n=0;for(const i of e)r.set(i,n),n+=i.length;return r}function Sae(e){const t=f$.encode(e||""),r=new Uint8Array(Math.floor(t.length/2));let n;for(n=0;n<r.length;n++){const i=fN[t[n*2]],o=fN[t[n*2+1]];if(i===void 0||o===void 0)break;r[n]=i<<4|o}return n===r.length?r:r.slice(0,n)}function Wl(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;++n)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return e.length===t.length?0:e.length>t.length?1:-1}function dN(e,t,r){if(t+1>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r>255)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 255. Received ${r}`);e[t]=r}function kae(e,t,r,n){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),r>65535)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= 65535. Received ${r}`);n==="LE"?(e[t]=r&255,e[t+1]=r>>8&255):(e[t]=r>>8&255,e[t+1]=r&255)}function Jd(e,t,r,n){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),r>4294967295)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${4294967295}. Received ${r}`);n==="LE"?(e[t]=r&255,e[t+1]=r>>8&255,e[t+2]=r>>16&255,e[t+3]=r>>24&255):(e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=r&255)}function xae(e,t,r,n){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(n=n.toUpperCase(),r>0xffffffffffffffffn)throw new Error(`The value of "value" is out of range. It must be >= 0 and <= ${0xffffffffffffffffn}. Received ${r}`);n==="LE"?(e[t]=Number(r&0xffn),e[t+1]=Number(r>>8n&0xffn),e[t+2]=Number(r>>16n&0xffn),e[t+3]=Number(r>>24n&0xffn),e[t+4]=Number(r>>32n&0xffn),e[t+5]=Number(r>>40n&0xffn),e[t+6]=Number(r>>48n&0xffn),e[t+7]=Number(r>>56n&0xffn)):(e[t]=Number(r>>56n&0xffn),e[t+1]=Number(r>>48n&0xffn),e[t+2]=Number(r>>40n&0xffn),e[t+3]=Number(r>>32n&0xffn),e[t+4]=Number(r>>24n&0xffn),e[t+5]=Number(r>>16n&0xffn),e[t+6]=Number(r>>8n&0xffn),e[t+7]=Number(r&0xffn))}function Aae(e,t,r){if(t+2>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),r==="LE"){let n=0;return n=(n<<8)+e[t+1],n=(n<<8)+e[t],n}else{let n=0;return n=(n<<8)+e[t],n=(n<<8)+e[t+1],n}}function og(e,t,r){if(t+4>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),r==="LE"){let n=0;return n=(n<<8)+e[t+3]>>>0,n=(n<<8)+e[t+2]>>>0,n=(n<<8)+e[t+1]>>>0,n=(n<<8)+e[t]>>>0,n}else{let n=0;return n=(n<<8)+e[t]>>>0,n=(n<<8)+e[t+1]>>>0,n=(n<<8)+e[t+2]>>>0,n=(n<<8)+e[t+3]>>>0,n}}function Oae(e,t,r){if(t+8>e.length)throw new Error("Offset is outside the bounds of Uint8Array");if(r=r.toUpperCase(),r==="LE"){let n=0n;return n=(n<<8n)+BigInt(e[t+7]),n=(n<<8n)+BigInt(e[t+6]),n=(n<<8n)+BigInt(e[t+5]),n=(n<<8n)+BigInt(e[t+4]),n=(n<<8n)+BigInt(e[t+3]),n=(n<<8n)+BigInt(e[t+2]),n=(n<<8n)+BigInt(e[t+1]),n=(n<<8n)+BigInt(e[t]),n}else{let n=0n;return n=(n<<8n)+BigInt(e[t]),n=(n<<8n)+BigInt(e[t+1]),n=(n<<8n)+BigInt(e[t+2]),n=(n<<8n)+BigInt(e[t+3]),n=(n<<8n)+BigInt(e[t+4]),n=(n<<8n)+BigInt(e[t+5]),n=(n<<8n)+BigInt(e[t+6]),n=(n<<8n)+BigInt(e[t+7]),n}}const Pae=e=>{if(e<0||e>0xffffffffffffffffn)throw new RangeError("value out of range")};function Tae(e){if(e<0||e>Number.MAX_SAFE_INTEGER||e%1!==0)throw new RangeError("value out of range")}function d$(e){typeof e=="number"?Tae(e):Pae(e)}function od(e,t,r){d$(e),r===void 0&&(r=0),t===void 0&&(t=new Uint8Array(Ra(e)));let n=0;return e<253?(t.set([Number(e)],r),n=1):e<=65535?(t.set([253],r),kae(t,r+1,Number(e),"LE"),n=3):e<=4294967295?(t.set([254],r),Jd(t,r+1,Number(e),"LE"),n=5):(t.set([255],r),xae(t,r+1,BigInt(e),"LE"),n=9),{buffer:t,bytes:n}}function $y(e,t){t===void 0&&(t=0);const r=e.at(t);if(r===void 0)throw new Error("buffer too small");if(r<253)return{numberValue:r,bigintValue:BigInt(r),bytes:1};if(r===253){const n=Aae(e,t+1,"LE");return{numberValue:n,bigintValue:BigInt(n),bytes:3}}else if(r===254){const n=og(e,t+1,"LE");return{numberValue:n,bigintValue:BigInt(n),bytes:5}}else{const n=Oae(e,t+1,"LE");return{numberValue:n<=Number.MAX_SAFE_INTEGER?Number(n):null,bigintValue:n,bytes:9}}}function Ra(e){return d$(e),e<253?1:e<=65535?3:e<=4294967295?5:9}const Iae=9007199254740991;function Bae(e,t){if(typeof e!="number"&&typeof e!="bigint")throw new Error("cannot write a non-number as a number");if(e<0&&e<BigInt(0))throw new Error("specified a negative value for writing an unsigned value");if(e>t&&e>BigInt(t))throw new Error("RangeError: value out of range");if(Math.floor(Number(e))!==Number(e))throw new Error("value has a fractional component")}function iA(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e}function hN(e){const t=new Uint8Array(e.length);return t.set(e),t}class mo{constructor(t,r=0){vt(this,"buffer"),vt(this,"offset"),this.buffer=t,this.offset=r,Un(rl([un,nc]),[t,r])}static withCapacity(t){return new mo(new Uint8Array(t))}writeUInt8(t){this.offset=Ds(this.buffer,this.offset,t)}writeInt32(t){this.offset=jL(this.buffer,this.offset,t,"LE")}writeInt64(t){this.offset=UL(this.buffer,this.offset,BigInt(t),"LE")}writeUInt32(t){this.offset=Mv(this.buffer,this.offset,t,"LE")}writeUInt64(t){this.offset=fse(this.buffer,this.offset,BigInt(t),"LE")}writeVarInt(t){const{bytes:r}=od(t,this.buffer,this.offset);this.offset+=r}writeSlice(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.buffer.set(t,this.offset),this.offset+=t.length}writeVarSlice(t){this.writeVarInt(t.length),this.writeSlice(t)}writeVector(t){this.writeVarInt(t.length),t.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}class Nae{constructor(t,r=0){vt(this,"buffer"),vt(this,"offset"),this.buffer=t,this.offset=r,Un(rl([un,nc]),[t,r])}readUInt8(){const t=xc(this.buffer,this.offset);return this.offset++,t}readInt32(){const t=hse(this.buffer,this.offset,"LE");return this.offset+=4,t}readUInt32(){const t=Uy(this.buffer,this.offset,"LE");return this.offset+=4,t}readInt64(){const t=zL(this.buffer,this.offset,"LE");return this.offset+=8,t}readVarInt(){const{bigintValue:t,bytes:r}=$y(this.buffer,this.offset);return this.offset+=r,t}readSlice(t){Bae(t,Iae);const r=Number(t);if(this.buffer.length<this.offset+r)throw new Error("Cannot read slice out of bounds");const n=this.buffer.slice(this.offset,this.offset+r);return this.offset+=r,n}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const t=this.readVarInt(),r=[];for(let n=0;n<t;n++)r.push(this.readVarSlice());return r}}const h$=192,Mae=128,Rae=e=>"left"in e&&"right"in e;function i9(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const r=(e.length-33)/32;let n=t;for(let i=0;i<r;i++){const o=e.slice(33+32*i,65+32*i);Ot(n,o)<0?n=s9(n,o):n=s9(o,n)}return n}function o9(e){if(Xx(e))return{hash:pc(e)};const t=[o9(e[0]),o9(e[1])];t.sort((i,o)=>Ot(i.hash,o.hash));const[r,n]=t;return{hash:s9(r.hash,n.hash),left:r,right:n}}function Y8(e,t){if(Rae(e)){const r=Y8(e.left,t);if(r!==void 0)return[...r,e.right.hash];const n=Y8(e.right,t);if(n!==void 0)return[...n,e.left.hash]}else if(Ot(e.hash,t)===0)return[]}function pc(e){const t=e.version||h$;return C4("TapLeaf",Hn([Uint8Array.from([t]),jae(e.output)]))}function Cae(e,t){return C4("TapTweak",Hn(t?[e,t]:[e]))}function $2(e,t){if(!(e instanceof Uint8Array)||e.length!==32||t&&t.length!==32)return null;const r=Cae(e,t),n=n9().xOnlyPointAddTweak(e,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:Uint8Array.from(n.xOnlyPubkey)}}function s9(e,t){return C4("TapBranch",Hn([e,t]))}function jae(e){const t=Ra(e.length),r=new Uint8Array(t);return od(e.length,r),Hn([r,e])}const pN=Qr,gN=1,Uae=80;function Fy(e,t){if(!e.address&&!e.output&&!e.pubkey&&!e.internalPubkey&&!(e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),Un(nd(fi({address:tp(),input:Ei(0),network:fi({}),output:Ei(34),internalPubkey:Ei(32),hash:Ei(32),pubkey:Ei(32),signature:Gx([Ei(64),Ei(65)]),witness:ws(un),scriptTree:Su(WL,"Taptree is not of type isTaptree"),redeem:nd(fi({output:un,redeemVersion:fs(),witness:ws(un)})),redeemVersion:fs()})),e);const r=Ia(()=>oA(e.address)),n=Ia(()=>{if(!(!e.witness||!e.witness.length))return e.witness.length>=2&&e.witness[e.witness.length-1][0]===Uae?e.witness.slice(0,-1):e.witness.slice()}),i=Ia(()=>{if(e.scriptTree)return o9(e.scriptTree);if(e.hash)return{hash:e.hash}}),o=e.network||Pu,s={name:"p2tr",network:o};if(Xt(s,"address",()=>{if(!s.pubkey)return;const a=N0.toWords(s.pubkey);return a.unshift(gN),N0.encode(o.bech32,a)}),Xt(s,"hash",()=>{const a=i();if(a)return a.hash;const l=n();if(l&&l.length>1){const c=l[l.length-1],u=c[0]&Z3,h=l[l.length-2],g=pc({output:h,version:u});return i9(c,g)}return null}),Xt(s,"output",()=>{if(s.pubkey)return ko([pN.OP_1,s.pubkey])}),Xt(s,"redeemVersion",()=>e.redeemVersion?e.redeemVersion:e.redeem&&e.redeem.redeemVersion!==void 0&&e.redeem.redeemVersion!==null?e.redeem.redeemVersion:h$),Xt(s,"redeem",()=>{const a=n();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&Z3}}),Xt(s,"pubkey",()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return r().data;if(s.internalPubkey){const a=$2(s.internalPubkey,s.hash);if(a)return a.x}}),Xt(s,"internalPubkey",()=>{if(e.internalPubkey)return e.internalPubkey;const a=n();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),Xt(s,"signature",()=>{if(e.signature)return e.signature;const a=n();if(!(!a||a.length!==1))return a[0]}),Xt(s,"witness",()=>{if(e.witness)return e.witness;const a=i();if(a&&e.redeem&&e.redeem.output&&e.internalPubkey){const l=pc({output:e.redeem.output,version:s.redeemVersion}),c=Y8(a,l);if(!c)return;const u=$2(e.internalPubkey,a.hash);if(!u)return;const h=Hn([Uint8Array.from([s.redeemVersion|u.parity]),e.internalPubkey].concat(c));return[e.redeem.output,h]}if(e.signature)return[e.signature]}),t.validate){let a=Uint8Array.from([]);if(e.address){if(o&&o.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==gN)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(e.pubkey){if(a.length>0&&Ot(a,e.pubkey)!==0)throw new TypeError("Pubkey mismatch");a=e.pubkey}if(e.output){if(e.output.length!==34||e.output[0]!==pN.OP_1||e.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&Ot(a,e.output.slice(2))!==0)throw new TypeError("Pubkey mismatch");a=e.output.slice(2)}if(e.internalPubkey){const u=$2(e.internalPubkey,s.hash);if(a.length>0&&Ot(a,u.x)!==0)throw new TypeError("Pubkey mismatch");a=u.x}if(a&&a.length&&!n9().isXOnlyPoint(a))throw new TypeError("Invalid pubkey for p2tr");const l=i();if(e.hash&&l&&Ot(e.hash,l.hash)!==0)throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&l){const u=pc({output:e.redeem.output,version:s.redeemVersion});if(!Y8(l,u))throw new TypeError("Redeem script not in tree")}const c=n();if(e.redeem&&s.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(zn(e.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&Ot(e.redeem.output,s.redeem.output)!==0)throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&s.redeem.witness&&!I0(e.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(c.length===1){if(e.signature&&Ot(e.signature,c[0])!==0)throw new TypeError("Signature mismatch")}else{const u=c[c.length-1];if(u.length<33)throw new TypeError(`The control-block length is too small. Got ${u.length}, expected min 33.`);if((u.length-33)%32!==0)throw new TypeError(`The control-block length of ${u.length} is incorrect!`);const h=(u.length-33)/32;if(h>128)throw new TypeError(`The script path is too long. Got ${h}, expected max 128.`);const g=u.slice(1,33);if(e.internalPubkey&&Ot(e.internalPubkey,g)!==0)throw new TypeError("Internal pubkey mismatch");if(!n9().isXOnlyPoint(g))throw new TypeError("Invalid internalPubkey for p2tr witness");const k=u[0]&Z3,R=c[c.length-2],F=pc({output:R,version:k}),D=i9(u,F),$=$2(g,D);if(!$)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&Ot(a,$.x)!==0)throw new TypeError("Pubkey mismatch for p2tr witness");if($.parity!==(u[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,e)}const p$=40,g$=2,y$=16,m$=2,b$=80,v$="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function zae(e,t){const r=e.slice(2);if(r.length<g$||r.length>p$)throw new TypeError("Invalid program length for segwit address");const n=e[0]-b$;if(n<m$||n>y$)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(v$),Lae(r,n,t.bech32)}function w$(e){const t=ay.decode(e);if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");const r=xc(t,0),n=t.slice(1);return{version:r,hash:n}}function oA(e){let t,r;try{t=Ks.decode(e)}catch{}if(t){if(r=t.words[0],r!==0)throw new TypeError(e+" uses wrong encoding")}else if(t=N0.decode(e),r=t.words[0],r===0)throw new TypeError(e+" uses wrong encoding");const n=Ks.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:Uint8Array.from(n)}}function Lae(e,t,r){const n=Ks.toWords(e);return n.unshift(t),t===0?Ks.encode(r,n):N0.encode(r,n)}function Uv(e,t){t=t||Pu;try{return Rv({output:e,network:t}).address}catch{}try{return Ly({output:e,network:t}).address}catch{}try{return Cv({output:e,network:t}).address}catch{}try{return jv({output:e,network:t}).address}catch{}try{return Fy({output:e,network:t}).address}catch{}try{return zae(e,t)}catch{}throw new Error(Ise(e)+" has no matching Address")}function Ca(e,t){t=t||Pu;let r,n;try{r=w$(e)}catch{}if(r){if(r.version===t.pubKeyHash)return Rv({hash:r.hash}).output;if(r.version===t.scriptHash)return Ly({hash:r.hash}).output}else{try{n=oA(e)}catch{}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Cv({hash:n.data}).output;if(n.data.length===32)return jv({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Fy({pubkey:n.data}).output}else if(n.version>=m$&&n.version<=y$&&n.data.length>=g$&&n.data.length<=p$)return console.warn(v$),ko([n.version+b$,n.data])}}throw new Error(e+" has no matching Script")}function el(e){const t=e.length;return Ra(t)+t}function $ae(e){const t=e.length;return Ra(t)+e.reduce((r,n)=>r+el(n),0)}const Of=new Uint8Array(0),yN=[],d_=jc("0000000000000000000000000000000000000000000000000000000000000000"),mN=jc("0000000000000000000000000000000000000000000000000000000000000001"),Fae=jc("ffffffffffffffff"),Dae={script:Of,valueBuffer:Fae};function Hae(e){return e.value!==void 0}const tu=class yn{constructor(){vt(this,"version",1),vt(this,"locktime",0),vt(this,"ins",[]),vt(this,"outs",[])}static fromBuffer(t,r){const n=new Nae(t),i=new yn;i.version=n.readInt32();const o=n.readUInt8(),s=n.readUInt8();let a=!1;o===yn.ADVANCED_TRANSACTION_MARKER&&s===yn.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;const l=n.readVarInt();for(let u=0;u<l;++u)i.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:yN});const c=n.readVarInt();for(let u=0;u<c;++u)i.outs.push({value:n.readInt64(),script:n.readVarSlice()});if(a){for(let u=0;u<l;++u)i.ins[u].witness=n.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=n.readUInt32(),r)return i;if(n.offset!==t.length)throw new Error("Transaction has unexpected data");return i}static fromHex(t){return yn.fromBuffer(jc(t),!1)}static isCoinbaseHash(t){Un(QB,t);for(let r=0;r<32;++r)if(t[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&yn.isCoinbaseHash(this.ins[0].hash)}addInput(t,r,n,i){return Un(rl([QB,nc,r9(q8(nc)),r9(q8(un))]),[t,r,n,i]),n==null&&(n=yn.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:r,script:i||Of,sequence:n,witness:yN})-1}addOutput(t,r){return Un(rl([un,u_]),[t,r]),this.outs.push({script:t,value:r})-1}hasWitnesses(){return this.ins.some(t=>t.witness.length!==0)}weight(){const t=this.byteLength(!1),r=this.byteLength(!0);return t*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(t=!0){const r=t&&this.hasWitnesses();return(r?10:8)+Ra(this.ins.length)+Ra(this.outs.length)+this.ins.reduce((n,i)=>n+40+el(i.script),0)+this.outs.reduce((n,i)=>n+8+el(i.script),0)+(r?this.ins.reduce((n,i)=>n+$ae(i.witness),0):0)}clone(){const t=new yn;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),t.outs=this.outs.map(r=>({script:r.script,value:r.value})),t}hashForSignature(t,r,n){if(Un(rl([nc,un,fs()]),[t,r,n]),t>=this.ins.length)return mN;const i=ko(zn(r).filter(a=>a!==Qr.OP_CODESEPARATOR)),o=this.clone();if((n&31)===yn.SIGHASH_NONE)o.outs=[],o.ins.forEach((a,l)=>{l!==t&&(a.sequence=0)});else if((n&31)===yn.SIGHASH_SINGLE){if(t>=this.outs.length)return mN;o.outs.length=t+1;for(let a=0;a<t;a++)o.outs[a]=Dae;o.ins.forEach((a,l)=>{l!==t&&(a.sequence=0)})}n&yn.SIGHASH_ANYONECANPAY?(o.ins=[o.ins[t]],o.ins[0].script=i):(o.ins.forEach(a=>{a.script=Of}),o.ins[t].script=i);const s=new Uint8Array(o.byteLength(!1)+4);return jL(s,s.length-4,n,"LE"),o.__toBuffer(s,0,!1),Ld(s)}hashForWitnessV1(t,r,n,i,o,s){if(Un(rl([nc,ws(un),ws(u_),nc]),[t,r,n,i]),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const a=i===yn.SIGHASH_DEFAULT?yn.SIGHASH_ALL:i&yn.SIGHASH_OUTPUT_MASK,l=(i&yn.SIGHASH_INPUT_MASK)===yn.SIGHASH_ANYONECANPAY,c=a===yn.SIGHASH_NONE,u=a===yn.SIGHASH_SINGLE;let h=Of,g=Of,k=Of,R=Of,F=Of;if(!l){let U=mo.withCapacity(36*this.ins.length);this.ins.forEach(q=>{U.writeSlice(q.hash),U.writeUInt32(q.index)}),h=Gi(U.end()),U=mo.withCapacity(8*this.ins.length),n.forEach(q=>U.writeInt64(q)),g=Gi(U.end()),U=mo.withCapacity(r.map(el).reduce((q,ee)=>q+ee)),r.forEach(q=>U.writeVarSlice(q)),k=Gi(U.end()),U=mo.withCapacity(4*this.ins.length),this.ins.forEach(q=>U.writeUInt32(q.sequence)),R=Gi(U.end())}if(c||u){if(u&&t<this.outs.length){const U=this.outs[t],q=mo.withCapacity(8+el(U.script));q.writeInt64(U.value),q.writeVarSlice(U.script),F=Gi(q.end())}}else{if(!this.outs.length)throw new Error("Add outputs to the transaction before signing.");const U=this.outs.map(ee=>8+el(ee.script)).reduce((ee,ae)=>ee+ae),q=mo.withCapacity(U);this.outs.forEach(ee=>{q.writeInt64(ee.value),q.writeVarSlice(ee.script)}),F=Gi(q.end())}const D=(o?2:0)+(s?1:0),$=174-(l?49:0)-(c?32:0)+(s?32:0)+(o?37:0),B=mo.withCapacity($);if(B.writeUInt8(i),B.writeInt32(this.version),B.writeUInt32(this.locktime),B.writeSlice(h),B.writeSlice(g),B.writeSlice(k),B.writeSlice(R),c||u||B.writeSlice(F),B.writeUInt8(D),l){const U=this.ins[t];B.writeSlice(U.hash),B.writeUInt32(U.index),B.writeInt64(n[t]),B.writeVarSlice(r[t]),B.writeUInt32(U.sequence)}else B.writeUInt32(t);if(s){const U=mo.withCapacity(el(s));U.writeVarSlice(s),B.writeSlice(Gi(U.end()))}return u&&B.writeSlice(F),o&&(B.writeSlice(o),B.writeUInt8(0),B.writeUInt32(4294967295)),C4("TapSighash",Hn([Uint8Array.from([0]),B.end()]))}hashForWitnessV0(t,r,n,i){Un(rl([nc,un,u_,nc]),[t,r,n,i]);let o=Uint8Array.from([]),s,a=d_,l=d_,c=d_;if(i&yn.SIGHASH_ANYONECANPAY||(o=new Uint8Array(36*this.ins.length),s=new mo(o,0),this.ins.forEach(h=>{s.writeSlice(h.hash),s.writeUInt32(h.index)}),l=Ld(o)),!(i&yn.SIGHASH_ANYONECANPAY)&&(i&31)!==yn.SIGHASH_SINGLE&&(i&31)!==yn.SIGHASH_NONE&&(o=new Uint8Array(4*this.ins.length),s=new mo(o,0),this.ins.forEach(h=>{s.writeUInt32(h.sequence)}),c=Ld(o)),(i&31)!==yn.SIGHASH_SINGLE&&(i&31)!==yn.SIGHASH_NONE){const h=this.outs.reduce((g,k)=>g+8+el(k.script),0);o=new Uint8Array(h),s=new mo(o,0),this.outs.forEach(g=>{s.writeInt64(g.value),s.writeVarSlice(g.script)}),a=Ld(o)}else if((i&31)===yn.SIGHASH_SINGLE&&t<this.outs.length){const h=this.outs[t];o=new Uint8Array(8+el(h.script)),s=new mo(o,0),s.writeInt64(h.value),s.writeVarSlice(h.script),a=Ld(o)}o=new Uint8Array(156+el(r)),s=new mo(o,0);const u=this.ins[t];return s.writeInt32(this.version),s.writeSlice(l),s.writeSlice(c),s.writeSlice(u.hash),s.writeUInt32(u.index),s.writeVarSlice(r),s.writeInt64(n),s.writeUInt32(u.sequence),s.writeSlice(a),s.writeUInt32(this.locktime),s.writeUInt32(i),Ld(o)}getHash(t){return t&&this.isCoinbase()?new Uint8Array(32):Ld(this.__toBuffer(void 0,void 0,t))}getId(){return rr(iA(this.getHash(!1)))}toBuffer(t,r){return this.__toBuffer(t,r,!0)}toHex(){return rr(this.toBuffer(void 0,void 0))}setInputScript(t,r){Un(rl([fs(),un]),[t,r]),this.ins[t].script=r}setWitness(t,r){Un(rl([fs(),ws(un)]),[t,r]),this.ins[t].witness=r}__toBuffer(t,r,n=!1){t||(t=new Uint8Array(this.byteLength(n)));const i=new mo(t,r||0);i.writeInt32(this.version);const o=n&&this.hasWitnesses();return o&&(i.writeUInt8(yn.ADVANCED_TRANSACTION_MARKER),i.writeUInt8(yn.ADVANCED_TRANSACTION_FLAG)),i.writeVarInt(this.ins.length),this.ins.forEach(s=>{i.writeSlice(s.hash),i.writeUInt32(s.index),i.writeVarSlice(s.script),i.writeUInt32(s.sequence)}),i.writeVarInt(this.outs.length),this.outs.forEach(s=>{Hae(s)?i.writeInt64(s.value):i.writeSlice(s.valueBuffer),i.writeVarSlice(s.script)}),o&&this.ins.forEach(s=>{i.writeVector(s.witness)}),i.writeUInt32(this.locktime),r!==void 0?t.slice(r,i.offset):t}};vt(tu,"DEFAULT_SEQUENCE",4294967295),vt(tu,"SIGHASH_DEFAULT",0),vt(tu,"SIGHASH_ALL",1),vt(tu,"SIGHASH_NONE",2),vt(tu,"SIGHASH_SINGLE",3),vt(tu,"SIGHASH_ANYONECANPAY",128),vt(tu,"SIGHASH_OUTPUT_MASK",3),vt(tu,"SIGHASH_INPUT_MASK",128),vt(tu,"ADVANCED_TRANSACTION_MARKER",0),vt(tu,"ADVANCED_TRANSACTION_FLAG",1);let ti=tu;var hl;(function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(hl||(hl={}));var $t;(function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})($t||($t={}));var ei;(function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})(ei||(ei={}));const Kae=e=>[...Array(e).keys()];function Vae(e){if(e.key[0]!==hl.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+rr(e.key));if(e.key.length!==79||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+rr(e.key));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const n of Kae(e.value.length/4-1)){const i=Uy(e.value,n*4+4,"LE"),o=!!(i&2147483648),s=i&2147483647;r.path+="/"+s.toString(10)+(o?"'":"")}return r}function Wae(e){const t=new Uint8Array([hl.GLOBAL_XPUB]),r=Hn([t,e.extendedPubkey]),n=e.path.split("/"),i=new Uint8Array(n.length*4);i.set(e.masterFingerprint,0);let o=4;return n.slice(1).forEach(s=>{const a=s.slice(-1)==="'";let l=2147483647&parseInt(a?s.slice(0,-1):s,10);a&&(l+=2147483648),Mv(i,o,l,"LE"),o+=4}),{key:r,value:i}}const qae="{ masterFingerprint: Uint8Array; extendedPubkey: Uint8Array; path: string; }";function Zae(e){const t=e.extendedPubkey,r=e.masterFingerprint,n=e.path;return t instanceof Uint8Array&&t.length===78&&[2,3].indexOf(t[45])>-1&&r instanceof Uint8Array&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}function Gae(e,t,r){const n=rr(t.extendedPubkey);return r.has(n)?!1:(r.add(n),e.filter(i=>Ot(i.extendedPubkey,t.extendedPubkey)).length===0)}const Xae=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:Gae,check:Zae,decode:Vae,encode:Wae,expected:qae},Symbol.toStringTag,{value:"Module"}));function Qae(e){return{key:new Uint8Array([hl.UNSIGNED_TX]),value:e.toBuffer()}}const Yae=Object.freeze(Object.defineProperty({__proto__:null,encode:Qae},Symbol.toStringTag,{value:"Module"}));function Jae(e){if(e.key[0]!==$t.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+rr(e.key));return e.value}function eue(e){return{key:new Uint8Array([$t.FINAL_SCRIPTSIG]),value:e}}const tue="Uint8Array";function rue(e){return e instanceof Uint8Array}function nue(e,t){return!!e&&!!t&&e.finalScriptSig===void 0}const iue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:nue,check:rue,decode:Jae,encode:eue,expected:tue},Symbol.toStringTag,{value:"Module"}));function oue(e){if(e.key[0]!==$t.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+rr(e.key));return e.value}function sue(e){return{key:new Uint8Array([$t.FINAL_SCRIPTWITNESS]),value:e}}const aue="Uint8Array";function uue(e){return e instanceof Uint8Array}function lue(e,t){return!!e&&!!t&&e.finalScriptWitness===void 0}const cue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:lue,check:uue,decode:oue,encode:sue,expected:aue},Symbol.toStringTag,{value:"Module"}));function fue(e){if(e.key[0]!==$t.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+rr(e.key));return e.value}function due(e){return{key:new Uint8Array([$t.NON_WITNESS_UTXO]),value:e}}const hue="Uint8Array";function pue(e){return e instanceof Uint8Array}function gue(e,t){return!!e&&!!t&&e.nonWitnessUtxo===void 0}const yue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:gue,check:pue,decode:fue,encode:due,expected:hue},Symbol.toStringTag,{value:"Module"}));function mue(e){if(e.key[0]!==$t.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+rr(e.key));if(!(e.key.length===34||e.key.length===66)||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+rr(e.key));return{pubkey:e.key.slice(1),signature:e.value}}function bue(e){const t=new Uint8Array([$t.PARTIAL_SIG]);return{key:Hn([t,e.pubkey]),value:e.signature}}const vue="{ pubkey: Uint8Array; signature: Uint8Array; }";function wue(e){return e.pubkey instanceof Uint8Array&&e.signature instanceof Uint8Array&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&Eue(e.signature)}function Eue(e){if(!(e instanceof Uint8Array)||e.length<9||e[0]!==48||e.length!==e[1]+3||e[2]!==2)return!1;const t=e[3];if(t>33||t<1||e[3+t+1]!==2)return!1;const r=e[3+t+2];return!(r>33||r<1||e.length!==3+t+2+r+2)}function _ue(e,t,r){const n=rr(t.pubkey);return r.has(n)?!1:(r.add(n),e.filter(i=>Ot(i.pubkey,t.pubkey)===0).length===0)}const Sue=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:_ue,check:wue,decode:mue,encode:bue,expected:vue},Symbol.toStringTag,{value:"Module"}));function kue(e){if(e.key[0]!==$t.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+rr(e.key));return ose(e.value)}function xue(e){return{key:new Uint8Array([$t.POR_COMMITMENT]),value:sse(e)}}const Aue="string";function Oue(e){return typeof e=="string"}function Pue(e,t){return!!e&&!!t&&e.porCommitment===void 0}const Tue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Pue,check:Oue,decode:kue,encode:xue,expected:Aue},Symbol.toStringTag,{value:"Module"}));function Iue(e){if(e.key[0]!==$t.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+rr(e.key));return Number(Uy(e.value,0,"LE"))}function Bue(e){const t=Uint8Array.from([$t.SIGHASH_TYPE]),r=new Uint8Array(4);return Mv(r,0,e,"LE"),{key:t,value:r}}const Nue="number";function Mue(e){return typeof e=="number"}function Rue(e,t){return!!e&&!!t&&e.sighashType===void 0}const Cue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Rue,check:Mue,decode:Iue,encode:Bue,expected:Nue},Symbol.toStringTag,{value:"Module"}));function jue(e){if(e.key[0]!==$t.TAP_KEY_SIG||e.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+rr(e.key));if(!E$(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value}function Uue(e){return{key:Uint8Array.from([$t.TAP_KEY_SIG]),value:e}}const zue="Uint8Array";function E$(e){return e instanceof Uint8Array&&(e.length===64||e.length===65)}function Lue(e,t){return!!e&&!!t&&e.tapKeySig===void 0}const $ue=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Lue,check:E$,decode:jue,encode:Uue,expected:zue},Symbol.toStringTag,{value:"Module"}));function Fue(e){if(e.key[0]!==$t.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+rr(e.key));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+rr(e.key));const t=e.value[e.value.length-1];if((e.key[1]&254)!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+rr(e.key));const r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}}function Due(e){const t=Uint8Array.from([$t.TAP_LEAF_SCRIPT]),r=Uint8Array.from([e.leafVersion]);return{key:Hn([t,e.controlBlock]),value:Hn([e.script,r])}}const Hue="{ controlBlock: Uint8Array; leafVersion: number, script: Uint8Array; }";function Kue(e){return e.controlBlock instanceof Uint8Array&&(e.controlBlock.length-1)%32===0&&(e.controlBlock[0]&254)===e.leafVersion&&e.script instanceof Uint8Array}function Vue(e,t,r){const n=rr(t.controlBlock);return r.has(n)?!1:(r.add(n),e.filter(i=>Ot(i.controlBlock,t.controlBlock)===0).length===0)}const Wue=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:Vue,check:Kue,decode:Fue,encode:Due,expected:Hue},Symbol.toStringTag,{value:"Module"}));function que(e){if(e.key[0]!==$t.TAP_MERKLE_ROOT||e.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+rr(e.key));if(!_$(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value}function Zue(e){return{key:Uint8Array.from([$t.TAP_MERKLE_ROOT]),value:e}}const Gue="Uint8Array";function _$(e){return e instanceof Uint8Array&&e.length===32}function Xue(e,t){return!!e&&!!t&&e.tapMerkleRoot===void 0}const Que=Object.freeze(Object.defineProperty({__proto__:null,canAdd:Xue,check:_$,decode:que,encode:Zue,expected:Gue},Symbol.toStringTag,{value:"Module"}));function Yue(e){if(e.key[0]!==$t.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+rr(e.key));if(e.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+rr(e.key));if(e.value.length!==64&&e.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+rr(e.key));const t=e.key.slice(1,33),r=e.key.slice(33);return{pubkey:t,leafHash:r,signature:e.value}}function Jue(e){const t=Uint8Array.from([$t.TAP_SCRIPT_SIG]);return{key:Hn([t,e.pubkey,e.leafHash]),value:e.signature}}const ele="{ pubkey: Uint8Array; leafHash: Uint8Array; signature: Uint8Array; }";function tle(e){return e.pubkey instanceof Uint8Array&&e.leafHash instanceof Uint8Array&&e.signature instanceof Uint8Array&&e.pubkey.length===32&&e.leafHash.length===32&&(e.signature.length===64||e.signature.length===65)}function rle(e,t,r){const n=rr(t.pubkey)+rr(t.leafHash);return r.has(n)?!1:(r.add(n),e.filter(i=>Ot(i.pubkey,t.pubkey)===0&&Ot(i.leafHash,t.leafHash)===0).length===0)}const nle=Object.freeze(Object.defineProperty({__proto__:null,canAddToArray:rle,check:tle,decode:Yue,encode:Jue,expected:ele},Symbol.toStringTag,{value:"Module"}));function ile(e){if(e.key[0]!==$t.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+rr(e.key));const t=zL(e.value,0,"LE");let r=8;const{numberValue:n,bytes:i}=$y(e.value,r);r+=i;const o=e.value.slice(r);if(o.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:o,value:t}}function ole(e){const{script:t,value:r}=e,n=Ra(t.length),i=new Uint8Array(8+n+t.length);return UL(i,0,BigInt(r),"LE"),od(t.length,i,8),i.set(t,8+n),{key:Uint8Array.from([$t.WITNESS_UTXO]),value:i}}const sle="{ script: Uint8Array; value: bigint; }";function ale(e){return e.script instanceof Uint8Array&&typeof e.value=="bigint"}function ule(e,t){return!!e&&!!t&&e.witnessUtxo===void 0}const lle=Object.freeze(Object.defineProperty({__proto__:null,canAdd:ule,check:ale,decode:ile,encode:ole,expected:sle},Symbol.toStringTag,{value:"Module"}));function cle(e){if(e.key[0]!==ei.TAP_TREE||e.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+rr(e.key));let t=0;const r=[];for(;t<e.value.length;){const n=e.value[t++],i=e.value[t++],{numberValue:o,bytes:s}=$y(e.value,t);t+=s,r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+o)}),t+=o}return{leaves:r}}function fle(e){const t=Uint8Array.from([ei.TAP_TREE]),r=[].concat(...e.leaves.map(n=>[Uint8Array.of(n.depth,n.leafVersion),od(BigInt(n.script.length)).buffer,n.script]));return{key:t,value:Hn(r)}}const dle="{ leaves: [{ depth: number; leafVersion: number, script: Uint8Array; }] }";function hle(e){return Array.isArray(e.leaves)&&e.leaves.every(t=>t.depth>=0&&t.depth<=128&&(t.leafVersion&254)===t.leafVersion&&t.script instanceof Uint8Array)}function ple(e,t){return!!e&&!!t&&e.tapTree===void 0}const gle=Object.freeze(Object.defineProperty({__proto__:null,canAdd:ple,check:hle,decode:cle,encode:fle,expected:dle},Symbol.toStringTag,{value:"Module"})),yle=e=>[...Array(e).keys()],mle=e=>e.length===33&&[2,3].includes(e[0])||e.length===65&&e[0]===4;function sA(e,t=mle){function r(a){if(a.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+rr(a.key));const l=a.key.slice(1);if(!t(l))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+rr(a.key));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const c={masterFingerprint:a.value.slice(0,4),pubkey:l,path:"m"};for(const u of yle(a.value.length/4-1)){const h=Uy(a.value,u*4+4,"LE"),g=!!(h&2147483648),k=h&2147483647;c.path+="/"+k.toString(10)+(g?"'":"")}return c}function n(a){const l=Uint8Array.from([e]),c=Hn([l,a.pubkey]),u=a.path.split("/"),h=new Uint8Array(u.length*4);h.set(a.masterFingerprint,0);let g=4;return u.slice(1).forEach(k=>{const R=k.slice(-1)==="'";let F=2147483647&parseInt(R?k.slice(0,-1):k,10);R&&(F+=2147483648),Mv(h,g,F,"LE"),g+=4}),{key:c,value:h}}const i="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; }";function o(a){return a.pubkey instanceof Uint8Array&&a.masterFingerprint instanceof Uint8Array&&typeof a.path=="string"&&t(a.pubkey)&&a.masterFingerprint.length===4}function s(a,l,c){const u=rr(l.pubkey);return c.has(u)?!1:(c.add(u),a.filter(h=>Ot(h.pubkey,l.pubkey)===0).length===0)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:s}}function aA(e){return t;function t(r){let n;if(e.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+rr(r.key));return n}}function S$(e){function t(s){if(s.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+rr(s.key));return s.value}function r(s){return{key:Uint8Array.from([e]),value:s}}const n="Uint8Array";function i(s){return s instanceof Uint8Array}function o(s,a){return!!s&&!!a&&s.redeemScript===void 0}return{decode:t,encode:r,check:i,expected:n,canAdd:o}}const ble=e=>e.length===32;function k$(e){const t=sA(e,ble);function r(s){const{numberValue:a,bytes:l}=$y(s.value),c=t.decode({key:s.key,value:s.value.slice(l+Number(a)*32)}),u=new Array(Number(a));for(let h=0,g=l;h<a;h++,g+=32)u[h]=s.value.slice(g,g+32);return{...c,leafHashes:u}}function n(s){const a=t.encode(s),l=Ra(s.leafHashes.length),c=new Uint8Array(l);od(s.leafHashes.length,c);const u=Hn([c,...s.leafHashes,a.value]);return{...a,value:u}}const i="{ masterFingerprint: Uint8Array; pubkey: Uint8Array; path: string; leafHashes: Uint8Array[]; }";function o(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(a=>a instanceof Uint8Array&&a.length===32)&&t.check(s)}return{decode:r,encode:n,check:o,expected:i,canAddToArray:t.canAddToArray}}function x$(e){function t(s){if(s.key[0]!==e||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+rr(s.key));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Uint8Array.from([e]),value:s}}const n="Uint8Array";function i(s){return s instanceof Uint8Array&&s.length===32}function o(s,a){return!!s&&!!a&&s.tapInternalKey===void 0}return{decode:t,encode:r,check:i,expected:n,canAdd:o}}function A$(e){function t(s){if(s.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+rr(s.key));return s.value}function r(s){return{key:Uint8Array.from([e]),value:s}}const n="Uint8Array";function i(s){return s instanceof Uint8Array}function o(s,a){return!!s&&!!a&&s.witnessScript===void 0}return{decode:t,encode:r,check:i,expected:n,canAdd:o}}const uA={unsignedTx:Yae,globalXpub:Xae,checkPubkey:aA([])},mi={nonWitnessUtxo:yue,partialSig:Sue,sighashType:Cue,finalScriptSig:iue,finalScriptWitness:cue,porCommitment:Tue,witnessUtxo:lle,bip32Derivation:sA($t.BIP32_DERIVATION),redeemScript:S$($t.REDEEM_SCRIPT),witnessScript:A$($t.WITNESS_SCRIPT),checkPubkey:aA([$t.PARTIAL_SIG,$t.BIP32_DERIVATION]),tapKeySig:$ue,tapScriptSig:nle,tapLeafScript:Wue,tapBip32Derivation:k$($t.TAP_BIP32_DERIVATION),tapInternalKey:x$($t.TAP_INTERNAL_KEY),tapMerkleRoot:Que},ic={bip32Derivation:sA(ei.BIP32_DERIVATION),redeemScript:S$(ei.REDEEM_SCRIPT),witnessScript:A$(ei.WITNESS_SCRIPT),checkPubkey:aA([ei.BIP32_DERIVATION]),tapBip32Derivation:k$(ei.TAP_BIP32_DERIVATION),tapTree:gle,tapInternalKey:x$(ei.TAP_INTERNAL_KEY)},vle=Object.freeze(Object.defineProperty({__proto__:null,globals:uA,inputs:mi,outputs:ic},Symbol.toStringTag,{value:"Module"})),J8=e=>[...Array(e).keys()];function bN(e){const t=e.map(wle);return t.push(Uint8Array.from([0])),Hn(t)}function wle(e){const t=e.key.length,r=e.value.length,n=Ra(t),i=Ra(r),o=new Uint8Array(n+t+i+r);return od(t,o,0),o.set(e.key,n),od(r,o,n+t),o.set(e.value,n+t+i),o}function Ele(e,t){let r=0;function n(){const{numberValue:D,bytes:$}=$y(e,r);r+=$;const B=e.slice(r,r+Number(D));return r+=Number(D),B}function i(){const D=Uy(e,r,"BE");return r+=4,D}function o(){const D=xc(e,r);return r+=1,D}function s(){const D=n(),$=n();return{key:D,value:$}}function a(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const D=xc(e,r)===0;return D&&r++,D}if(i()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(o()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");const l=[],c={};for(;!a();){const D=s(),$=rr(D.key);if(c[$])throw new Error("Format Error: Keys must be unique for global keymap: key "+$);c[$]=1,l.push(D)}const u=l.filter(D=>D.key[0]===hl.UNSIGNED_TX);if(u.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const h=t(u[0].value),{inputCount:g,outputCount:k}=h.getInputOutputCounts(),R=[],F=[];for(const D of J8(g)){const $={},B=[];for(;!a();){const U=s(),q=rr(U.key);if($[q])throw new Error("Format Error: Keys must be unique for each input: input index "+D+" key "+q);$[q]=1,B.push(U)}R.push(B)}for(const D of J8(k)){const $={},B=[];for(;!a();){const U=s(),q=rr(U.key);if($[q])throw new Error("Format Error: Keys must be unique for each output: output index "+D+" key "+q);$[q]=1,B.push(U)}F.push(B)}return O$(h,{globalMapKeyVals:l,inputKeyVals:R,outputKeyVals:F})}function uo(e,t,r){if(Ot(t,Uint8Array.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${rr(t)}`)}function O$(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const i={unsignedTx:e};let o=0;for(const u of t)switch(u.key[0]){case hl.UNSIGNED_TX:if(uo("global",u.key,hl.UNSIGNED_TX),o>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");o++;break;case hl.GLOBAL_XPUB:i.globalXpub===void 0&&(i.globalXpub=[]),i.globalXpub.push(uA.globalXpub.decode(u));break;default:i.unknownKeyVals||(i.unknownKeyVals=[]),i.unknownKeyVals.push(u)}const s=r.length,a=n.length,l=[],c=[];for(const u of J8(s)){const h={};for(const g of r[u])switch(mi.checkPubkey(g),g.key[0]){case $t.NON_WITNESS_UTXO:if(uo("input",g.key,$t.NON_WITNESS_UTXO),h.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");h.nonWitnessUtxo=mi.nonWitnessUtxo.decode(g);break;case $t.WITNESS_UTXO:if(uo("input",g.key,$t.WITNESS_UTXO),h.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");h.witnessUtxo=mi.witnessUtxo.decode(g);break;case $t.PARTIAL_SIG:h.partialSig===void 0&&(h.partialSig=[]),h.partialSig.push(mi.partialSig.decode(g));break;case $t.SIGHASH_TYPE:if(uo("input",g.key,$t.SIGHASH_TYPE),h.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");h.sighashType=mi.sighashType.decode(g);break;case $t.REDEEM_SCRIPT:if(uo("input",g.key,$t.REDEEM_SCRIPT),h.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");h.redeemScript=mi.redeemScript.decode(g);break;case $t.WITNESS_SCRIPT:if(uo("input",g.key,$t.WITNESS_SCRIPT),h.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");h.witnessScript=mi.witnessScript.decode(g);break;case $t.BIP32_DERIVATION:h.bip32Derivation===void 0&&(h.bip32Derivation=[]),h.bip32Derivation.push(mi.bip32Derivation.decode(g));break;case $t.FINAL_SCRIPTSIG:uo("input",g.key,$t.FINAL_SCRIPTSIG),h.finalScriptSig=mi.finalScriptSig.decode(g);break;case $t.FINAL_SCRIPTWITNESS:uo("input",g.key,$t.FINAL_SCRIPTWITNESS),h.finalScriptWitness=mi.finalScriptWitness.decode(g);break;case $t.POR_COMMITMENT:uo("input",g.key,$t.POR_COMMITMENT),h.porCommitment=mi.porCommitment.decode(g);break;case $t.TAP_KEY_SIG:uo("input",g.key,$t.TAP_KEY_SIG),h.tapKeySig=mi.tapKeySig.decode(g);break;case $t.TAP_SCRIPT_SIG:h.tapScriptSig===void 0&&(h.tapScriptSig=[]),h.tapScriptSig.push(mi.tapScriptSig.decode(g));break;case $t.TAP_LEAF_SCRIPT:h.tapLeafScript===void 0&&(h.tapLeafScript=[]),h.tapLeafScript.push(mi.tapLeafScript.decode(g));break;case $t.TAP_BIP32_DERIVATION:h.tapBip32Derivation===void 0&&(h.tapBip32Derivation=[]),h.tapBip32Derivation.push(mi.tapBip32Derivation.decode(g));break;case $t.TAP_INTERNAL_KEY:uo("input",g.key,$t.TAP_INTERNAL_KEY),h.tapInternalKey=mi.tapInternalKey.decode(g);break;case $t.TAP_MERKLE_ROOT:uo("input",g.key,$t.TAP_MERKLE_ROOT),h.tapMerkleRoot=mi.tapMerkleRoot.decode(g);break;default:h.unknownKeyVals||(h.unknownKeyVals=[]),h.unknownKeyVals.push(g)}l.push(h)}for(const u of J8(a)){const h={};for(const g of n[u])switch(ic.checkPubkey(g),g.key[0]){case ei.REDEEM_SCRIPT:if(uo("output",g.key,ei.REDEEM_SCRIPT),h.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");h.redeemScript=ic.redeemScript.decode(g);break;case ei.WITNESS_SCRIPT:if(uo("output",g.key,ei.WITNESS_SCRIPT),h.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");h.witnessScript=ic.witnessScript.decode(g);break;case ei.BIP32_DERIVATION:h.bip32Derivation===void 0&&(h.bip32Derivation=[]),h.bip32Derivation.push(ic.bip32Derivation.decode(g));break;case ei.TAP_INTERNAL_KEY:uo("output",g.key,ei.TAP_INTERNAL_KEY),h.tapInternalKey=ic.tapInternalKey.decode(g);break;case ei.TAP_TREE:uo("output",g.key,ei.TAP_TREE),h.tapTree=ic.tapTree.decode(g);break;case ei.TAP_BIP32_DERIVATION:h.tapBip32Derivation===void 0&&(h.tapBip32Derivation=[]),h.tapBip32Derivation.push(ic.tapBip32Derivation.decode(g));break;default:h.unknownKeyVals||(h.unknownKeyVals=[]),h.unknownKeyVals.push(g)}c.push(h)}return{globalMap:i,inputs:l,outputs:c}}function _le({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:n,inputKeyVals:i,outputKeyVals:o}=a9({globalMap:e,inputs:t,outputs:r}),s=bN(n),a=h=>h.length===0?[Uint8Array.from([0])]:h.map(bN),l=a(i),c=a(o),u=new Uint8Array(5);return u.set([112,115,98,116,255],0),Hn([u,s].concat(l,c))}const Sle=(e,t)=>Ot(e.key,t.key);function h_(e,t){const r=new Set,n=Object.entries(e).reduce((o,[s,a])=>{if(s==="unknownKeyVals")return o;const l=t[s];if(l===void 0)return o;const c=(Array.isArray(a)?a:[a]).map(l.encode);return c.map(u=>rr(u.key)).forEach(u=>{if(r.has(u))throw new Error("Serialize Error: Duplicate key: "+u);r.add(u)}),o.concat(c)},[]),i=e.unknownKeyVals?e.unknownKeyVals.filter(o=>!r.has(rr(o.key))):[];return n.concat(i).sort(Sle)}function a9({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:h_(e,uA),inputKeyVals:t.map(n=>h_(n,mi)),outputKeyVals:r.map(n=>h_(n,ic))}}function kle(e){const t=e[0],r=a9(t),n=e.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");const i=vN(t);if(i===void 0)throw new Error("Combine: Self missing transaction");const o=zp(r.globalKeyVals),s=r.inputKeyVals.map(zp),a=r.outputKeyVals.map(zp);for(const l of n){const c=vN(l);if(c===void 0||Ot(c.toBuffer(),i.toBuffer())!==0)throw new Error("Combine: One of the Psbts does not have the same transaction.");const u=a9(l);zp(u.globalKeyVals).forEach(p_(o,r.globalKeyVals,u.globalKeyVals)),u.inputKeyVals.map(zp).forEach((h,g)=>h.forEach(p_(s[g],r.inputKeyVals[g],u.inputKeyVals[g]))),u.outputKeyVals.map(zp).forEach((h,g)=>h.forEach(p_(a[g],r.outputKeyVals[g],u.outputKeyVals[g])))}return O$(i,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}function p_(e,t,r){return n=>{if(e.has(n))return;const i=r.filter(o=>rr(o.key)===n)[0];t.push(i),e.add(n)}}function vN(e){return e.globalMap.unsignedTx}function zp(e){const t=new Set;return e.forEach(r=>{const n=rr(r.key);if(t.has(n))throw new Error("Combine: KeyValue Map keys should be unique");t.add(n)}),t}function Wi(e,t){const r=e[t];if(r===void 0)throw new Error(`No input #${t}`);return r}function M0(e,t){const r=e[t];if(r===void 0)throw new Error(`No output #${t}`);return r}function g_(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&t.filter(n=>Ot(n.key,e.key)===0).length!==0)throw new Error(`Duplicate Key: ${rr(e.key)}`)}function y_(e){let t=0;return Object.keys(e).forEach(r=>{Number(isNaN(Number(r)))&&t++}),t}function xle(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const n=!!t.redeemScript,i=!!t.witnessScript,o=!n||!!t.finalScriptSig,s=!i||!!t.finalScriptWitness,a=!!t.finalScriptSig||!!t.finalScriptWitness;r=o&&s&&a}if(r===!1)throw new Error(`Input #${e} has too much or too little data to clean`)}function wN(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function lA(e){return(t,r)=>{for(const n of Object.keys(t)){const i=t[n],{canAdd:o,canAddToArray:s,check:a,expected:l}=vle[e+"s"][n]||{},c=!!s;if(a)if(c){if(!Array.isArray(i)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);i.every(a)||wN(e,n,l,i);const u=r[n]||[],h=new Set;if(!i.every(g=>s(u,g,h)))throw new Error("Can not add duplicate data to array");r[n]=u.concat(i)}else{if(a(i)||wN(e,n,l,i),!o(r,i))throw new Error(`Can not add duplicate data to ${e}`);r[n]=i}}}}const Ale=lA("global"),P$=lA("input"),T$=lA("output");function Ole(e,t){const r=e.length-1,n=Wi(e,r);P$(t,n)}function Ple(e,t){const r=e.length-1,n=M0(e,r);T$(t,n)}let EN=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=CL(e);return this.fromBuffer(r,t)}static fromHex(e,t){const r=jc(e);return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=Ele(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){const e=this.toBuffer();return lse(e)}toHex(){const e=this.toBuffer();return rr(e)}toBuffer(){return _le(this)}updateGlobal(e){return Ale(e,this.globalMap),this}updateInput(e,t){const r=Wi(this.inputs,e);return P$(t,r),this}updateOutput(e,t){const r=M0(this.outputs,e);return T$(t,r),this}addUnknownKeyValToGlobal(e){return g_(e,this.globalMap.unknownKeyVals,y_(hl)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=Wi(this.inputs,e);return g_(t,r.unknownKeyVals,y_($t)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=M0(this.outputs,e);return g_(t,r.unknownKeyVals,y_(ei)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach(n=>this.addUnknownKeyValToInput(r,n)),Ole(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach(n=>this.addUnknownKeyValToOutput(r,n)),Ple(this.outputs,e),this}clearFinalizedInput(e){const t=Wi(this.inputs,e);xle(e,t);for(const r of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete t[r];return this}combine(...e){const t=kle([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};function rp(e){return t=>{try{return e({output:t}),!0}catch{return!1}}}const Tle=rp(M4),Ile=rp(YL),Ble=rp(Rv),j4=rp(Cv),_N=rp(jv),I$=rp(Ly),B$=rp(Fy);function e1(e){let t=new Uint8Array(0);function r(s){t=Hn([t,s])}function n(s){const a=t.length,l=Ra(s);t=Hn([t,new Uint8Array(l)]),od(s,t,a)}function i(s){n(s.length),r(s)}function o(s){n(s.length),s.forEach(i)}return o(e),t}function N$(e,t){const r=bu(e),n=e.slice(1,33),i=zn(t);if(i===null)throw new Error("Unknown script error");return i.findIndex(o=>typeof o=="number"?!1:Ot(e,o)===0||Ot(r,o)===0||Ot(n,o)===0)}function U4(e,t){return N$(e,t)!==-1}function Nle(e,t){return Mle(e).some(r=>M$(r,Kb.decode,t))}function M$(e,t,r){const{hashType:n}=t(e),i=[];switch(n&ti.SIGHASH_ANYONECANPAY&&i.push("addInput"),n&31){case ti.SIGHASH_ALL:break;case ti.SIGHASH_SINGLE:case ti.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence");break}return i.indexOf(r)===-1}function Mle(e){let t=[];if((e.partialSig||[]).length===0){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=Rle(e)}else t=e.partialSig;return t.map(r=>r.signature)}function Rle(e){const t=e.finalScriptSig?zn(e.finalScriptSig)||[]:[],r=e.finalScriptWitness?zn(e.finalScriptWitness)||[]:[];return t.concat(r).filter(n=>n instanceof Uint8Array&&Ac(n)).map(n=>({signature:n}))}const Ws=e=>e.length===32?e:e.slice(1,33);function SN(e,t,r){const n=Zle(t,e,r);try{const i=Wle(t,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:e1(i)}}catch(i){throw new Error(`Can not finalize taproot input #${e}: ${i}`)}}function F2(e,t){const r=t?Uint8Array.from([t]):Uint8Array.from([]);return Hn([e,r])}function uu(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&B$(e.witnessUtxo.script))}function m_(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t)}function kN(e,t,r){Hle(e,t,r),Vle(e,t,r)}function xN(e,t,r){Kle(e,t,r),Cle(e,t)}function Cle(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){const{script:i}=e,o=jle(r,n);if(i&&Ot(o,i)!==0)throw new Error("Error adding output. Script or address mismatch.")}}function jle(e,t){const r=t&&Ule(t.leaves),{output:n}=Fy({internalPubkey:e,scriptTree:r});return n}function Ule(e=[]){return e.length===1&&e[0].depth===0?{output:e[0].script,version:e[0].leafVersion}:Dle(e)}function zle(e,t){return $le(e).some(r=>M$(r,Lle,t))}function Lle(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||ti.SIGHASH_DEFAULT}}function $le(e){const t=[];if(e.tapKeySig&&t.push(e.tapKeySig),e.tapScriptSig&&t.push(...e.tapScriptSig.map(r=>r.signature)),!t.length){const r=Fle(e.finalScriptWitness);r&&t.push(r)}return t}function Fle(e){if(!e)return;const t=e.slice(2);if(t.length===64||t.length===65)return t}function Dle(e){let t;for(const r of e)if(t=u9(r,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}function u9(e,t,r=0){if(r>Mae)throw new Error("Max taptree depth exceeded.");if(e.depth===r)return t?void 0:{output:e.script,version:e.leafVersion};if(Xx(t))return;const n=u9(e,t&&t[0],r+1);if(n)return[n,t&&t[1]];const i=u9(e,t&&t[1],r+1);if(i)return[t&&t[0],i]}function Hle(e,t,r){const n=uu(e)&&Dg(t),i=Dg(e)&&uu(t),o=e===t&&uu(t)&&Dg(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Kle(e,t,r){const n=m_(e)&&Dg(t),i=Dg(e)&&m_(t),o=e===t&&m_(t)&&Dg(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function Vle(e,t,r){if(t.tapMerkleRoot){const n=(t.tapLeafScript||[]).every(o=>b_(o,t.tapMerkleRoot)),i=(e.tapLeafScript||[]).every(o=>b_(o,t.tapMerkleRoot));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot&&!(t.tapLeafScript||[]).every(n=>b_(n,e.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function b_(e,t){if(!t)return!0;const r=pc({output:e.script,version:e.leafVersion}),n=i9(e.controlBlock,r);return Ot(n,t)===0}function Wle(e,t){const r=pc({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter(n=>Ot(n.leafHash,r)===0).map(n=>qle(t.script,n)).sort((n,i)=>i.positionInScript-n.positionInScript).map(n=>n.signature)}function qle(e,t){return Object.assign({positionInScript:N$(t.pubkey,e)},t)}function Zle(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const n=(e.tapLeafScript||[]).sort((i,o)=>i.controlBlock.length-o.controlBlock.length).find(i=>Gle(i,e.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}function Gle(e,t,r){const n=pc({output:e.script,version:e.leafVersion});return(!r||Ot(n,r)===0)&&t.find(i=>Ot(i.leafHash,n)===0)!==void 0}function Dg(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}const Xle={network:Pu,maximumFeeRate:5e3};class Fr{constructor(t={},r=new EN(new R$)){vt(this,"data"),vt(this,"__CACHE"),vt(this,"opts"),this.data=r,this.opts=Object.assign({},Xle,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);const n=(i,o,s,a)=>Object.defineProperty(i,o,{enumerable:s,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}static fromBase64(t,r={}){const n=CL(t);return this.fromBuffer(n,r)}static fromHex(t,r={}){const n=jc(t);return this.fromBuffer(n,r)}static fromBuffer(t,r={}){const n=EN.fromBuffer(t,Qle),i=new Fr(r,n);return rce(i.__CACHE.__TX,i.__CACHE),i}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(t){this.setVersion(t)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(t){this.setLocktime(t)}get txInputs(){return this.__CACHE.__TX.ins.map(t=>({hash:hN(t.hash),index:t.index,sequence:t.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(t=>{let r;try{r=Uv(t.script,this.opts.network)}catch{}return{script:hN(t.script),value:t.value,address:r}})}combine(...t){return this.data.combine(...t.map(r=>r.data)),this}clone(){const t=Fr.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}setMaximumFeeRate(t){D2(t),this.opts.maximumFeeRate=t}setVersion(t){D2(t),Hm(this.data.inputs,"setVersion");const r=this.__CACHE;return r.__TX.version=t,r.__EXTRACTED_TX=void 0,this}setLocktime(t){D2(t),Hm(this.data.inputs,"setLocktime");const r=this.__CACHE;return r.__TX.locktime=t,r.__EXTRACTED_TX=void 0,this}setInputSequence(t,r){D2(r),Hm(this.data.inputs,"setInputSequence");const n=this.__CACHE;if(n.__TX.ins.length<=t)throw new Error("Input index too high");return n.__TX.ins[t].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(t){return t.forEach(r=>this.addInput(r)),this}addInput(t){if(arguments.length>1||!t||t.hash===void 0||t.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");kN(t,t,"addInput"),Hm(this.data.inputs,"addInput"),t.witnessScript&&t1(t.witnessScript);const r=this.__CACHE;this.data.addInput(t);const n=r.__TX.ins[r.__TX.ins.length-1];U$(r,n);const i=this.data.inputs.length-1,o=this.data.inputs[i];return o.nonWitnessUtxo&&c9(this.__CACHE,o,i),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(t){return t.forEach(r=>this.addOutput(r)),this}addOutput(t){if(arguments.length>1||!t||t.value===void 0||t.address===void 0&&t.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");Hm(this.data.inputs,"addOutput");const{address:r}=t;if(typeof r=="string"){const{network:i}=this.opts,o=Ca(r,i);t=Object.assign({},t,{script:o})}xN(t,t,"addOutput");const n=this.__CACHE;return this.data.addOutput(t),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(t){if(!this.data.inputs.every(C$))throw new Error("Not finalized");const r=this.__CACHE;if(t||Jle(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;const n=r.__TX.clone();return H$(this.data.inputs,n,r,!0),n}getFeeRate(){return IN("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return IN("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return Wi(this.data.inputs,0),Km(this.data.inputs.length).forEach(t=>this.finalizeInput(t)),this}finalizeInput(t,r){const n=Wi(this.data.inputs,t);return uu(n)?this._finalizeTaprootInput(t,n,void 0,r):this._finalizeInput(t,n,r)}finalizeTaprootInput(t,r,n=SN){const i=Wi(this.data.inputs,t);if(uu(i))return this._finalizeTaprootInput(t,i,r,n);throw new Error(`Cannot finalize input #${t}. Not Taproot.`)}_finalizeInput(t,r,n=nce){const{script:i,isP2SH:o,isP2WSH:s,isSegwit:a}=ace(t,r,this.__CACHE);if(!i)throw new Error(`No script found for input #${t}`);ece(r);const{finalScriptSig:l,finalScriptWitness:c}=n(t,r,i,a,o,s);if(l&&this.data.updateInput(t,{finalScriptSig:l}),c&&this.data.updateInput(t,{finalScriptWitness:c}),!l&&!c)throw new Error(`Unknown error finalizing input #${t}`);return this.data.clearFinalizedInput(t),this}_finalizeTaprootInput(t,r,n,i=SN){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${t}. Missing withness utxo.`);if(r.tapKeySig){const o=Fy({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=e1(o.witness);this.data.updateInput(t,{finalScriptWitness:s})}else{const{finalScriptWitness:o}=i(t,r,n);this.data.updateInput(t,{finalScriptWitness:o})}return this.data.clearFinalizedInput(t),this}getInputType(t){const r=Wi(this.data.inputs,t),n=K$(t,r,this.__CACHE),i=L4(n,t,"input",r.redeemScript||dce(r.finalScriptSig),r.witnessScript||hce(r.finalScriptWitness)),o=i.type==="raw"?"":i.type+"-",s=W$(i.meaningfulScript);return o+s}inputHasPubkey(t,r){const n=Wi(this.data.inputs,t);return cce(r,n,t,this.__CACHE)}inputHasHDKey(t,r){const n=Wi(this.data.inputs,t),i=ON(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}outputHasPubkey(t,r){const n=M0(this.data.outputs,t);return fce(r,n,t,this.__CACHE)}outputHasHDKey(t,r){const n=M0(this.data.outputs,t),i=ON(r);return!!n.bip32Derivation&&n.bip32Derivation.some(i)}validateSignaturesOfAllInputs(t){return Wi(this.data.inputs,0),Km(this.data.inputs.length).map(r=>this.validateSignaturesOfInput(r,t)).reduce((r,n)=>n===!0&&r,!0)}validateSignaturesOfInput(t,r,n){const i=this.data.inputs[t];return uu(i)?this.validateSignaturesOfTaprootInput(t,r,n):this._validateSignaturesOfInput(t,r,n)}_validateSignaturesOfInput(t,r,n){const i=this.data.inputs[t],o=(i||{}).partialSig;if(!i||!o||o.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");const s=n?o.filter(h=>Ot(h.pubkey,n)===0):o;if(s.length<1)throw new Error("No signatures for this pubkey");const a=[];let l,c,u;for(const h of s){const g=Kb.decode(h.signature),{hash:k,script:R}=u!==g.hashType?L$(t,Object.assign({},i,{sighashType:g.hashType}),this.__CACHE,!0):{hash:l,script:c};u=g.hashType,l=k,c=R,j$(h.pubkey,R,"verify"),a.push(r(h.pubkey,k,g.signature))}return a.every(h=>h===!0)}validateSignaturesOfTaprootInput(t,r,n){const i=this.data.inputs[t],o=(i||{}).tapKeySig,s=(i||{}).tapScriptSig;if(!i&&!o&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&Ws(n);const a=n?l9(t,i,this.data.inputs,n,this.__CACHE):oce(t,i,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");const l=a.find(u=>!u.leafHash);let c=0;if(o&&l){if(!r(l.pubkey,l.hash,NN(o)))return!1;c++}if(s)for(const u of s){const h=a.find(g=>Ot(g.pubkey,u.pubkey)===0);if(h){if(!r(u.pubkey,h.hash,NN(u.signature)))return!1;c++}}return c>0}signAllInputsHD(t,r=[ti.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");const n=[];for(const i of Km(this.data.inputs.length))try{this.signInputHD(i,t,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(t,r=[ti.SIGHASH_ALL]){return new Promise((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=[],s=[];for(const a of Km(this.data.inputs.length))s.push(this.signInputHDAsync(a,t,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInputHD(t,r,n=[ti.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return MN(t,this.data.inputs,r).forEach(i=>this.signInput(t,i,n)),this}signInputHDAsync(t,r,n=[ti.SIGHASH_ALL]){return new Promise((i,o)=>{if(!r||!r.publicKey||!r.fingerprint)return o(new Error("Need HDSigner to sign input"));const s=MN(t,this.data.inputs,r).map(a=>this.signInputAsync(t,a,n));return Promise.all(s).then(()=>{i()}).catch(o)})}signAllInputs(t,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=[];for(const i of Km(this.data.inputs.length))try{this.signInput(i,t,r),n.push(!0)}catch{n.push(!1)}if(n.every(i=>i===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(t,r){return new Promise((n,i)=>{if(!t||!t.publicKey)return i(new Error("Need Signer to sign input"));const o=[],s=[];for(const[a]of this.data.inputs.entries())s.push(this.signInputAsync(a,t,r).then(()=>{o.push(!0)},()=>{o.push(!1)}));return Promise.all(s).then(()=>{if(o.every(a=>a===!1))return i(new Error("No inputs were signed"));n()})})}signInput(t,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const i=Wi(this.data.inputs,t);return uu(i)?this._signTaprootInput(t,i,r,void 0,n):this._signInput(t,r,n)}signTaprootInput(t,r,n,i){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const o=Wi(this.data.inputs,t);if(uu(o))return this._signTaprootInput(t,o,r,n,i);throw new Error(`Input #${t} is not of type Taproot.`)}_signInput(t,r,n=[ti.SIGHASH_ALL]){const{hash:i,sighashType:o}=BN(this.data.inputs,t,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:Kb.encode(r.sign(i),o)}];return this.data.updateInput(t,{partialSig:s}),this}_signTaprootInput(t,r,n,i,o=[ti.SIGHASH_DEFAULT]){const s=this.checkTaprootHashesForSig(t,r,n,i,o),a=s.filter(c=>!c.leafHash).map(c=>F2(n.signSchnorr(c.hash),r.sighashType))[0],l=s.filter(c=>!!c.leafHash).map(c=>({pubkey:Ws(n.publicKey),signature:F2(n.signSchnorr(c.hash),r.sighashType),leafHash:c.leafHash}));return a&&this.data.updateInput(t,{tapKeySig:a}),l.length&&this.data.updateInput(t,{tapScriptSig:l}),this}signInputAsync(t,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const i=Wi(this.data.inputs,t);return uu(i)?this._signTaprootInputAsync(t,i,r,void 0,n):this._signInputAsync(t,r,n)})}signTaprootInputAsync(t,r,n,i){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");const o=Wi(this.data.inputs,t);if(uu(o))return this._signTaprootInputAsync(t,o,r,n,i);throw new Error(`Input #${t} is not of type Taproot.`)})}_signInputAsync(t,r,n=[ti.SIGHASH_ALL]){const{hash:i,sighashType:o}=BN(this.data.inputs,t,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(i)).then(s=>{const a=[{pubkey:r.publicKey,signature:Kb.encode(s,o)}];this.data.updateInput(t,{partialSig:a})})}async _signTaprootInputAsync(t,r,n,i,o=[ti.SIGHASH_DEFAULT]){const s=this.checkTaprootHashesForSig(t,r,n,i,o),a=[],l=s.filter(u=>!u.leafHash)[0];if(l){const u=Promise.resolve(n.signSchnorr(l.hash)).then(h=>({tapKeySig:F2(h,r.sighashType)}));a.push(u)}const c=s.filter(u=>!!u.leafHash);if(c.length){const u=c.map(h=>Promise.resolve(n.signSchnorr(h.hash)).then(g=>({tapScriptSig:[{pubkey:Ws(n.publicKey),signature:F2(g,r.sighashType),leafHash:h.leafHash}]})));a.push(...u)}return Promise.all(a).then(u=>{u.forEach(h=>this.data.updateInput(t,h))})}checkTaprootHashesForSig(t,r,n,i,o){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${t}.`);const s=l9(t,r,this.data.inputs,n.publicKey,this.__CACHE,i,o);if(!s||!s.length)throw new Error(`Can not sign for input #${t} with the key ${rr(n.publicKey)}`);return s}toBuffer(){return v_(this.__CACHE),this.data.toBuffer()}toHex(){return v_(this.__CACHE),this.data.toHex()}toBase64(){return v_(this.__CACHE),this.data.toBase64()}updateGlobal(t){return this.data.updateGlobal(t),this}updateInput(t,r){return r.witnessScript&&t1(r.witnessScript),kN(this.data.inputs[t],r,"updateInput"),this.data.updateInput(t,r),r.nonWitnessUtxo&&c9(this.__CACHE,this.data.inputs[t],t),this}updateOutput(t,r){const n=this.data.outputs[t];return xN(n,r,"updateOutput"),this.data.updateOutput(t,r),this}addUnknownKeyValToGlobal(t){return this.data.addUnknownKeyValToGlobal(t),this}addUnknownKeyValToInput(t,r){return this.data.addUnknownKeyValToInput(t,r),this}addUnknownKeyValToOutput(t,r){return this.data.addUnknownKeyValToOutput(t,r),this}clearFinalizedInput(t){return this.data.clearFinalizedInput(t),this}}const Qle=e=>new R$(e);class R${constructor(t=Uint8Array.from([2,0,0,0,0,0,0,0,0,0])){vt(this,"tx"),this.tx=ti.fromBuffer(t),tce(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(t){if(t.hash===void 0||t.index===void 0||!(t.hash instanceof Uint8Array)&&typeof t.hash!="string"||typeof t.index!="number")throw new Error("Error adding input.");const r=typeof t.hash=="string"?iA(jc(t.hash)):t.hash;this.tx.addInput(r,t.index,t.sequence)}addOutput(t){if(t.script===void 0||t.value===void 0||!(t.script instanceof Uint8Array)||typeof t.value!="bigint")throw new Error("Error adding output.");this.tx.addOutput(t.script,t.value)}toBuffer(){return this.tx.toBuffer()}}function Yle(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return AN(1,e.partialSig);case"multisig":const n=M4({output:t});return AN(n.m,e.partialSig,n.pubkeys);default:return!1}}function v_(e){if(e.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function AN(e,t,r){if(!t)return!1;let n;if(r?n=r.map(i=>{const o=pce(i);return t.find(s=>Ot(s.pubkey,o)===0)}).filter(i=>!!i):n=t,n.length>e)throw new Error("Too many signatures");return n.length===e}function C$(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function ON(e){return t=>!(Ot(e.fingerprint,t.masterFingerprint)||Ot(e.derivePath(t.path).publicKey,t.pubkey))}function D2(e){if(typeof e!="number"||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function Jle(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function Hm(e,t){e.forEach(r=>{if(uu(r)?zle(r,t):Nle(r,t))throw new Error("Can not modify transaction, signatures exist.")})}function ece(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach(n=>{const{hashType:i}=Kb.decode(n.signature);if(r!==i)throw new Error("Signature sighash does not match input sighash type")})}function j$(e,t,r){if(!U4(e,t))throw new Error(`Can not ${r} for this input with the key ${rr(e)}`)}function tce(e){if(!e.ins.every(t=>t.script&&t.script.length===0&&t.witness&&t.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function rce(e,t){e.ins.forEach(r=>{U$(t,r)})}function U$(e,t){const r=rr(iA(Uint8Array.from(t.hash)))+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function z$(e,t){return(r,n,i,o)=>{const s=e({redeem:{output:i}}).output;if(Ot(n,s))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const PN=z$(Ly,"Redeem script"),TN=z$(jv,"Witness script");function IN(e,t,r,n){if(!r.every(C$))throw new Error(`PSBT must be finalized to calculate ${t}`);if(e==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(e==="__FEE"&&n.__FEE)return n.__FEE;let i,o=!0;if(n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),H$(r,i,n,o),e==="__FEE_RATE")return n.__FEE_RATE;if(e==="__FEE")return n.__FEE}function nce(e,t,r,n,i,o){const s=W$(r);if(!Yle(t,r,s))throw new Error(`Can not finalize input #${e}`);return ice(r,s,t.partialSig,n,i,o)}function ice(e,t,r,n,i,o){let s,a;const l=sce(e,t,r),c=o?jv({redeem:l}):null,u=i?Ly({redeem:c||l}):null;return n?(c?a=e1(c.witness):a=e1(l.witness),u&&(s=u.input)):u?s=u.input:s=l.input,{finalScriptSig:s,finalScriptWitness:a}}function BN(e,t,r,n,i){const o=Wi(e,t),{hash:s,sighashType:a,script:l}=L$(t,o,n,!1,i);return j$(r,l,"sign"),{hash:s,sighashType:a}}function L$(e,t,r,n,i){const o=r.__TX,s=t.sighashType||ti.SIGHASH_ALL;F$(s,i);let a,l;if(t.nonWitnessUtxo){const h=z4(r,t,e),g=o.ins[e].hash,k=h.getHash();if(Ot(g,k)!==0)throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const R=o.ins[e].index;l=h.outs[R]}else if(t.witnessUtxo)l=t.witnessUtxo;else throw new Error("Need a Utxo input item for signing");const{meaningfulScript:c,type:u}=L4(l.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(u)>=0)a=o.hashForWitnessV0(e,c,l.value,s);else if(j4(c)){const h=Rv({hash:c.slice(2)}).output;a=o.hashForWitnessV0(e,h,l.value,s)}else{if(t.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${rr(c)}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecessor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=o.hashForSignature(e,c,s)}return{script:c,sighashType:s,hash:a}}function oce(e,t,r,n){const i=[];if(t.tapInternalKey){const o=$$(e,t,n);o&&i.push(o)}if(t.tapScriptSig){const o=t.tapScriptSig.map(s=>s.pubkey);i.push(...o)}return i.map(o=>l9(e,t,r,o,n)).flat()}function $$(e,t,r){const{script:n}=cA(e,t,r);return B$(n)?n.subarray(2,34):null}function NN(e){return e.length===64?e:e.subarray(0,64)}function l9(e,t,r,n,i,o,s){const a=i.__TX,l=t.sighashType||ti.SIGHASH_DEFAULT;F$(l,s);const c=r.map((R,F)=>cA(F,R,i)),u=c.map(R=>R.script),h=c.map(R=>R.value),g=[];if(t.tapInternalKey&&!o){const R=$$(e,t,i)||Uint8Array.from([]);if(Ot(Ws(n),R)===0){const F=a.hashForWitnessV1(e,u,h,l);g.push({pubkey:n,hash:F})}}const k=(t.tapLeafScript||[]).filter(R=>U4(n,R.script)).map(R=>{const F=pc({output:R.script,version:R.leafVersion});return Object.assign({hash:F},R)}).filter(R=>!o||Ot(o,R.hash)===0).map(R=>{const F=a.hashForWitnessV1(e,u,h,l,R.hash);return{pubkey:n,hash:F,leafHash:R.hash}});return g.concat(k)}function F$(e,t){if(t&&t.indexOf(e)<0){const r=lce(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function sce(e,t,r){let n;switch(t){case"multisig":const i=uce(e,r);n=M4({output:e,signatures:i});break;case"pubkey":n=YL({output:e,signature:r[0].signature});break;case"pubkeyhash":n=Rv({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Cv({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function ace(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=z4(r,t,e),s=n.ins[e].index;i.script=o.outs[s].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);return(t.witnessScript||j4(i.script))&&(i.isSegwit=!0),i}function MN(e,t,r){const n=Wi(t,e);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map(o=>{if(Ot(o.masterFingerprint,r.fingerprint)===0)return o}).filter(o=>!!o);if(i.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map(o=>{const s=r.derivePath(o.path);if(Ot(o.pubkey,s.publicKey)!==0)throw new Error("pubkey did not match bip32Derivation");return s})}function uce(e,t){return M4({output:e}).pubkeys.map(r=>(t.filter(n=>Ot(n.pubkey,r)===0)[0]||{}).signature).filter(r=>!!r)}function D$(e){let t=0;function r(s){return t+=s,e.slice(t-s,t)}function n(){const s=$y(e,t);return t+=Ra(s.bigintValue),s.numberValue}function i(){return r(n())}function o(){const s=n(),a=[];for(let l=0;l<s;l++)a.push(i());return a}return o()}function lce(e){let t=e&ti.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(e&31){case ti.SIGHASH_ALL:t+="SIGHASH_ALL";break;case ti.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case ti.SIGHASH_NONE:t+="SIGHASH_NONE";break}return t}function c9(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=ti.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const s=i.__NON_WITNESS_UTXO_BUF_CACHE[o],a=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(s!==void 0)return s;{const l=a.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=l,l}},set(s){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=s}})}function H$(e,t,r,n){let i=0n;e.forEach((l,c)=>{if(n&&l.finalScriptSig&&(t.ins[c].script=l.finalScriptSig),n&&l.finalScriptWitness&&(t.ins[c].witness=D$(l.finalScriptWitness)),l.witnessUtxo)i+=l.witnessUtxo.value;else if(l.nonWitnessUtxo){const u=z4(r,l,c),h=t.ins[c].index,g=u.outs[h];i+=g.value}});const o=t.outs.reduce((l,c)=>l+c.value,0n),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=t.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(Number(s/BigInt(a)))}function z4(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||c9(e,t,r),n[r]}function K$(e,t,r){const{script:n}=cA(e,t,r);return n}function cA(e,t,r){if(t.witnessUtxo!==void 0)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(t.nonWitnessUtxo!==void 0){const n=z4(r,t,e).outs[r.__TX.ins[e].index];return{script:n.script,value:n.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function cce(e,t,r,n){const i=K$(r,t,n),{meaningfulScript:o}=L4(i,r,"input",t.redeemScript,t.witnessScript);return U4(e,o)}function fce(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=L4(i,r,"output",t.redeemScript,t.witnessScript);return U4(e,o)}function dce(e){if(!e)return;const t=zn(e);if(!t)return;const r=t[t.length-1];if(!(!(r instanceof Uint8Array)||V$(r)||gce(r)||!zn(r)))return r}function hce(e){if(!e)return;const t=D$(e),r=t[t.length-1];if(!(V$(r)||!zn(r)))return r}function pce(e){if(e.length===65){const t=e[64]&1,r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}function V$(e){return e.length===33&&Nse(e)}function gce(e){return Ac(e)}function L4(e,t,r,n,i){const o=I$(e),s=o&&n&&_N(n),a=_N(e);if(o&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&i===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let l;return s?(l=i,PN(t,e,n,r),TN(t,n,i,r),t1(l)):a?(l=i,TN(t,e,i,r),t1(l)):o?(l=n,PN(t,e,n,r)):l=e,{meaningfulScript:l,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function t1(e){if(j4(e)||I$(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function W$(e){return j4(e)?"witnesspubkeyhash":Ble(e)?"pubkeyhash":Tle(e)?"multisig":Ile(e)?"pubkey":"nonstandard"}function Km(e){return[...Array(e).keys()]}function yce(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q$={exports:{}},ii=q$.exports={},nl,il;function f9(){throw new Error("setTimeout has not been defined")}function d9(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?nl=setTimeout:nl=f9}catch{nl=f9}try{typeof clearTimeout=="function"?il=clearTimeout:il=d9}catch{il=d9}})();function Z$(e){if(nl===setTimeout)return setTimeout(e,0);if((nl===f9||!nl)&&setTimeout)return nl=setTimeout,setTimeout(e,0);try{return nl(e,0)}catch{try{return nl.call(null,e,0)}catch{return nl.call(this,e,0)}}}function mce(e){if(il===clearTimeout)return clearTimeout(e);if((il===d9||!il)&&clearTimeout)return il=clearTimeout,clearTimeout(e);try{return il(e)}catch{try{return il.call(null,e)}catch{return il.call(this,e)}}}var gc=[],Hg=!1,ch,G3=-1;function bce(){!Hg||!ch||(Hg=!1,ch.length?gc=ch.concat(gc):G3=-1,gc.length&&G$())}function G$(){if(!Hg){var e=Z$(bce);Hg=!0;for(var t=gc.length;t;){for(ch=gc,gc=[];++G3<t;)ch&&ch[G3].run();G3=-1,t=gc.length}ch=null,Hg=!1,mce(e)}}ii.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];gc.push(new X$(e,t)),gc.length===1&&!Hg&&Z$(G$)};function X$(e,t){this.fun=e,this.array=t}X$.prototype.run=function(){this.fun.apply(null,this.array)};ii.title="browser";ii.browser=!0;ii.env={};ii.argv=[];ii.version="";ii.versions={};function Uc(){}ii.on=Uc;ii.addListener=Uc;ii.once=Uc;ii.off=Uc;ii.removeListener=Uc;ii.removeAllListeners=Uc;ii.emit=Uc;ii.prependListener=Uc;ii.prependOnceListener=Uc;ii.listeners=function(e){return[]};ii.binding=function(e){throw new Error("process.binding is not supported")};ii.cwd=function(){return"/"};ii.chdir=function(e){throw new Error("process.chdir is not supported")};ii.umask=function(){return 0};var vce=q$.exports;const Bn=yce(vce);let h9=Symbol("clean"),Xa=[],nf=0;const H2=4;let p9=e=>{let t=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},lc:0,listen(n){return r.lc=t.push(n),()=>{for(let o=nf+H2;o<Xa.length;)Xa[o]===n?Xa.splice(o,H2):o+=H2;let i=t.indexOf(n);~i&&(t.splice(i,1),--r.lc||r.off())}},notify(n,i){let o=!Xa.length;for(let s of t)Xa.push(s,r.value,n,i);if(o){for(nf=0;nf<Xa.length;nf+=H2)Xa[nf](Xa[nf+1],Xa[nf+2],Xa[nf+3]);Xa.length=0}},off(){},set(n){let i=r.value;i!==n&&(r.value=n,r.notify(i))},subscribe(n){let i=r.listen(n);return n(r.value),i},value:e};return Bn.env.NODE_ENV!=="production"&&(r[h9]=()=>{t=[],r.lc=0,r.off()}),r};const wce=5,Lp=6,K2=10;let Ece=(e,t,r,n)=>(e.events=e.events||{},e.events[r+K2]||(e.events[r+K2]=n(i=>{e.events[r].reduceRight((o,s)=>(s(o),o),{shared:{},...i})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let i=e.events[r],o=i.indexOf(t);i.splice(o,1),i.length||(delete e.events[r],e.events[r+K2](),delete e.events[r+K2])}),_ce=1e3,Sce=(e,t)=>Ece(e,r=>{let n=t(r);n&&e.events[Lp].push(n)},wce,r=>{let n=e.listen;e.listen=(...o)=>(!e.lc&&!e.active&&(e.active=!0,r()),n(...o));let i=e.off;if(e.events[Lp]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let o of e.events[Lp])o();e.events[Lp]=[]}},_ce)},Bn.env.NODE_ENV!=="production"){let o=e[h9];e[h9]=()=>{for(let s of e.events[Lp])s();e.events[Lp]=[],e.active=!1,o()}}return()=>{e.listen=n,e.off=i}}),kce=e=>{e.listen(()=>{})};function ea(e,t,r){let n=new Set(t).add(void 0);return e.listen((i,o,s)=>{n.has(s)&&r(i,o,s)})}let Q$=(e={})=>{let t=p9(e);return t.setKey=function(r,n){let i=t.value;typeof n>"u"&&r in t.value?(t.value={...t.value},delete t.value[r],t.notify(i,r)):t.value[r]!==n&&(t.value={...t.value,[r]:n},t.notify(i,r))},t};const w_="defaultWallet",Sg="oyl",fh="unisat",kg="xverse",xg="phantom",Wb="leather",Nf="magic-eden",qb="okx",Zb="wizz",nh="orange",Ag="op_net",Og="sparrow",Gb="tokeo",Pg="keplr",kh="p2tr",xce="p2pkh",Ace="p2sh-p2wpkh",X3="p2wpkh",Oce="p2wsh",zv="p2sh";var Y$={},$4={};$4.byteLength=Ice;$4.toByteArray=Nce;$4.fromByteArray=Cce;var ul=[],wa=[],Pce=typeof Uint8Array<"u"?Uint8Array:Array,E_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var $p=0,Tce=E_.length;$p<Tce;++$p)ul[$p]=E_[$p],wa[E_.charCodeAt($p)]=$p;wa[45]=62;wa[95]=63;function J$(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Ice(e){var t=J$(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Bce(e,t,r){return(t+r)*3/4-r}function Nce(e){var t,r=J$(e),n=r[0],i=r[1],o=new Pce(Bce(e,n,i)),s=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)t=wa[e.charCodeAt(l)]<<18|wa[e.charCodeAt(l+1)]<<12|wa[e.charCodeAt(l+2)]<<6|wa[e.charCodeAt(l+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=wa[e.charCodeAt(l)]<<2|wa[e.charCodeAt(l+1)]>>4,o[s++]=t&255),i===1&&(t=wa[e.charCodeAt(l)]<<10|wa[e.charCodeAt(l+1)]<<4|wa[e.charCodeAt(l+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function Mce(e){return ul[e>>18&63]+ul[e>>12&63]+ul[e>>6&63]+ul[e&63]}function Rce(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(Mce(n));return i.join("")}function Cce(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Rce(e,s,s+o>a?a:s+o));return n===1?(t=e[r-1],i.push(ul[t>>2]+ul[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ul[t>>10]+ul[t>>4&63]+ul[t<<2&63]+"=")),i.join("")}var fA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */fA.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,g=r?-1:1,k=e[t+h];for(h+=g,o=k&(1<<-u)-1,k>>=-u,u+=a;u>0;o=o*256+e[t+h],h+=g,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=s*256+e[t+h],h+=g,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(k?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(k?-1:1)*s*Math.pow(2,o-n)};fA.write=function(e,t,r,n,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,h=u>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:o-1,R=n?1:-1,F=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=g/l:t+=g*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s=s+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+k]=a&255,k+=R,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+k]=s&255,k+=R,s/=256,c-=8);e[r+k-R]|=F*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=$4,r=fA,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=ee,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:o,ArrayBuffer:s,SharedArrayBuffer:a}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const N=new o(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,o.prototype),Object.setPrototypeOf(N,L),N.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(N){if(N>i)throw new RangeError('The value "'+N+'" is invalid for option "size"');const L=new o(N);return Object.setPrototypeOf(L,u.prototype),L}function u(N,L,J){if(typeof N=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return R(N)}return h(N,L,J)}u.poolSize=8192;function h(N,L,J){if(typeof N=="string")return F(N,L);if(s.isView(N))return $(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(te(N,s)||N&&te(N.buffer,s)||typeof a<"u"&&(te(N,a)||N&&te(N.buffer,a)))return B(N,L,J);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ge=N.valueOf&&N.valueOf();if(ge!=null&&ge!==N)return u.from(ge,L,J);const le=U(N);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return u.from(N[Symbol.toPrimitive]("string"),L,J);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}u.from=function(N,L,J){return h(N,L,J)},Object.setPrototypeOf(u.prototype,o.prototype),Object.setPrototypeOf(u,o);function g(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function k(N,L,J){return g(N),N<=0?c(N):L!==void 0?typeof J=="string"?c(N).fill(L,J):c(N).fill(L):c(N)}u.alloc=function(N,L,J){return k(N,L,J)};function R(N){return g(N),c(N<0?0:q(N)|0)}u.allocUnsafe=function(N){return R(N)},u.allocUnsafeSlow=function(N){return R(N)};function F(N,L){if((typeof L!="string"||L==="")&&(L="utf8"),!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const J=ae(N,L)|0;let ge=c(J);const le=ge.write(N,L);return le!==J&&(ge=ge.slice(0,le)),ge}function D(N){const L=N.length<0?0:q(N.length)|0,J=c(L);for(let ge=0;ge<L;ge+=1)J[ge]=N[ge]&255;return J}function $(N){if(te(N,o)){const L=new o(N);return B(L.buffer,L.byteOffset,L.byteLength)}return D(N)}function B(N,L,J){if(L<0||N.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<L+(J||0))throw new RangeError('"length" is outside of buffer bounds');let ge;return L===void 0&&J===void 0?ge=new o(N):J===void 0?ge=new o(N,L):ge=new o(N,L,J),Object.setPrototypeOf(ge,u.prototype),ge}function U(N){if(u.isBuffer(N)){const L=q(N.length)|0,J=c(L);return J.length===0||N.copy(J,0,0,L),J}if(N.length!==void 0)return typeof N.length!="number"||ce(N.length)?c(0):D(N);if(N.type==="Buffer"&&Array.isArray(N.data))return D(N.data)}function q(N){if(N>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return N|0}function ee(N){return+N!=N&&(N=0),u.alloc(+N)}u.isBuffer=function(N){return N!=null&&N._isBuffer===!0&&N!==u.prototype},u.compare=function(N,L){if(te(N,o)&&(N=u.from(N,N.offset,N.byteLength)),te(L,o)&&(L=u.from(L,L.offset,L.byteLength)),!u.isBuffer(N)||!u.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(N===L)return 0;let J=N.length,ge=L.length;for(let le=0,Me=Math.min(J,ge);le<Me;++le)if(N[le]!==L[le]){J=N[le],ge=L[le];break}return J<ge?-1:ge<J?1:0},u.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(N,L){if(!Array.isArray(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return u.alloc(0);let J;if(L===void 0)for(L=0,J=0;J<N.length;++J)L+=N[J].length;const ge=u.allocUnsafe(L);let le=0;for(J=0;J<N.length;++J){let Me=N[J];if(te(Me,o))le+Me.length>ge.length?(u.isBuffer(Me)||(Me=u.from(Me)),Me.copy(ge,le)):o.prototype.set.call(ge,Me,le);else if(u.isBuffer(Me))Me.copy(ge,le);else throw new TypeError('"list" argument must be an Array of Buffers');le+=Me.length}return ge};function ae(N,L){if(u.isBuffer(N))return N.length;if(s.isView(N)||te(N,s))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const J=N.length,ge=arguments.length>2&&arguments[2]===!0;if(!ge&&J===0)return 0;let le=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return J;case"utf8":case"utf-8":return We(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J*2;case"hex":return J>>>1;case"base64":return b(N).length;default:if(le)return ge?-1:We(N).length;L=(""+L).toLowerCase(),le=!0}}u.byteLength=ae;function re(N,L,J){let ge=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((J===void 0||J>this.length)&&(J=this.length),J<=0)||(J>>>=0,L>>>=0,J<=L))return"";for(N||(N="utf8");;)switch(N){case"hex":return Q(this,L,J);case"utf8":case"utf-8":return A(this,L,J);case"ascii":return T(this,L,J);case"latin1":case"binary":return M(this,L,J);case"base64":return S(this,L,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,L,J);default:if(ge)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),ge=!0}}u.prototype._isBuffer=!0;function K(N,L,J){const ge=N[L];N[L]=N[J],N[J]=ge}u.prototype.swap16=function(){const N=this.length;if(N%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<N;L+=2)K(this,L,L+1);return this},u.prototype.swap32=function(){const N=this.length;if(N%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<N;L+=4)K(this,L,L+3),K(this,L+1,L+2);return this},u.prototype.swap64=function(){const N=this.length;if(N%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<N;L+=8)K(this,L,L+7),K(this,L+1,L+6),K(this,L+2,L+5),K(this,L+3,L+4);return this},u.prototype.toString=function(){const N=this.length;return N===0?"":arguments.length===0?A(this,0,N):re.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(N){if(!u.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:u.compare(this,N)===0},u.prototype.inspect=function(){let N="";const L=e.INSPECT_MAX_BYTES;return N=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(N+=" ... "),"<Buffer "+N+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(N,L,J,ge,le){if(te(N,o)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(N))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof N);if(L===void 0&&(L=0),J===void 0&&(J=N?N.length:0),ge===void 0&&(ge=0),le===void 0&&(le=this.length),L<0||J>N.length||ge<0||le>this.length)throw new RangeError("out of range index");if(ge>=le&&L>=J)return 0;if(ge>=le)return-1;if(L>=J)return 1;if(L>>>=0,J>>>=0,ge>>>=0,le>>>=0,this===N)return 0;let Me=le-ge,De=J-L;const nt=Math.min(Me,De),gt=this.slice(ge,le),jt=N.slice(L,J);for(let Ze=0;Ze<nt;++Ze)if(gt[Ze]!==jt[Ze]){Me=gt[Ze],De=jt[Ze];break}return Me<De?-1:De<Me?1:0};function C(N,L,J,ge,le){if(N.length===0)return-1;if(typeof J=="string"?(ge=J,J=0):J>2147483647?J=2147483647:J<-2147483648&&(J=-2147483648),J=+J,ce(J)&&(J=le?0:N.length-1),J<0&&(J=N.length+J),J>=N.length){if(le)return-1;J=N.length-1}else if(J<0)if(le)J=0;else return-1;if(typeof L=="string"&&(L=u.from(L,ge)),u.isBuffer(L))return L.length===0?-1:G(N,L,J,ge,le);if(typeof L=="number")return L=L&255,typeof o.prototype.indexOf=="function"?le?o.prototype.indexOf.call(N,L,J):o.prototype.lastIndexOf.call(N,L,J):G(N,[L],J,ge,le);throw new TypeError("val must be string, number or Buffer")}function G(N,L,J,ge,le){let Me=1,De=N.length,nt=L.length;if(ge!==void 0&&(ge=String(ge).toLowerCase(),ge==="ucs2"||ge==="ucs-2"||ge==="utf16le"||ge==="utf-16le")){if(N.length<2||L.length<2)return-1;Me=2,De/=2,nt/=2,J/=2}function gt(Ze,xt){return Me===1?Ze[xt]:Ze.readUInt16BE(xt*Me)}let jt;if(le){let Ze=-1;for(jt=J;jt<De;jt++)if(gt(N,jt)===gt(L,Ze===-1?0:jt-Ze)){if(Ze===-1&&(Ze=jt),jt-Ze+1===nt)return Ze*Me}else Ze!==-1&&(jt-=jt-Ze),Ze=-1}else for(J+nt>De&&(J=De-nt),jt=J;jt>=0;jt--){let Ze=!0;for(let xt=0;xt<nt;xt++)if(gt(N,jt+xt)!==gt(L,xt)){Ze=!1;break}if(Ze)return jt}return-1}u.prototype.includes=function(N,L,J){return this.indexOf(N,L,J)!==-1},u.prototype.indexOf=function(N,L,J){return C(this,N,L,J,!0)},u.prototype.lastIndexOf=function(N,L,J){return C(this,N,L,J,!1)};function v(N,L,J,ge){J=Number(J)||0;const le=N.length-J;ge?(ge=Number(ge),ge>le&&(ge=le)):ge=le;const Me=L.length;ge>Me/2&&(ge=Me/2);let De;for(De=0;De<ge;++De){const nt=parseInt(L.substr(De*2,2),16);if(ce(nt))return De;N[J+De]=nt}return De}function I(N,L,J,ge){return H(We(L,N.length-J),N,J,ge)}function p(N,L,J,ge){return H(Qe(L),N,J,ge)}function _(N,L,J,ge){return H(b(L),N,J,ge)}function w(N,L,J,ge){return H(d(L,N.length-J),N,J,ge)}u.prototype.write=function(N,L,J,ge){if(L===void 0)ge="utf8",J=this.length,L=0;else if(J===void 0&&typeof L=="string")ge=L,J=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(J)?(J=J>>>0,ge===void 0&&(ge="utf8")):(ge=J,J=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const le=this.length-L;if((J===void 0||J>le)&&(J=le),N.length>0&&(J<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");let Me=!1;for(;;)switch(ge){case"hex":return v(this,N,L,J);case"utf8":case"utf-8":return I(this,N,L,J);case"ascii":case"latin1":case"binary":return p(this,N,L,J);case"base64":return _(this,N,L,J);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,N,L,J);default:if(Me)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Me=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(N,L,J){return L===0&&J===N.length?t.fromByteArray(N):t.fromByteArray(N.slice(L,J))}function A(N,L,J){J=Math.min(N.length,J);const ge=[];let le=L;for(;le<J;){const Me=N[le];let De=null,nt=Me>239?4:Me>223?3:Me>191?2:1;if(le+nt<=J){let gt,jt,Ze,xt;switch(nt){case 1:Me<128&&(De=Me);break;case 2:gt=N[le+1],(gt&192)===128&&(xt=(Me&31)<<6|gt&63,xt>127&&(De=xt));break;case 3:gt=N[le+1],jt=N[le+2],(gt&192)===128&&(jt&192)===128&&(xt=(Me&15)<<12|(gt&63)<<6|jt&63,xt>2047&&(xt<55296||xt>57343)&&(De=xt));break;case 4:gt=N[le+1],jt=N[le+2],Ze=N[le+3],(gt&192)===128&&(jt&192)===128&&(Ze&192)===128&&(xt=(Me&15)<<18|(gt&63)<<12|(jt&63)<<6|Ze&63,xt>65535&&xt<1114112&&(De=xt))}}De===null?(De=65533,nt=1):De>65535&&(De-=65536,ge.push(De>>>10&1023|55296),De=56320|De&1023),ge.push(De),le+=nt}return E(ge)}const x=4096;function E(N){const L=N.length;if(L<=x)return String.fromCharCode.apply(String,N);let J="",ge=0;for(;ge<L;)J+=String.fromCharCode.apply(String,N.slice(ge,ge+=x));return J}function T(N,L,J){let ge="";J=Math.min(N.length,J);for(let le=L;le<J;++le)ge+=String.fromCharCode(N[le]&127);return ge}function M(N,L,J){let ge="";J=Math.min(N.length,J);for(let le=L;le<J;++le)ge+=String.fromCharCode(N[le]);return ge}function Q(N,L,J){const ge=N.length;(!L||L<0)&&(L=0),(!J||J<0||J>ge)&&(J=ge);let le="";for(let Me=L;Me<J;++Me)le+=z[N[Me]];return le}function he(N,L,J){const ge=N.slice(L,J);let le="";for(let Me=0;Me<ge.length-1;Me+=2)le+=String.fromCharCode(ge[Me]+ge[Me+1]*256);return le}u.prototype.slice=function(N,L){const J=this.length;N=~~N,L=L===void 0?J:~~L,N<0?(N+=J,N<0&&(N=0)):N>J&&(N=J),L<0?(L+=J,L<0&&(L=0)):L>J&&(L=J),L<N&&(L=N);const ge=this.subarray(N,L);return Object.setPrototypeOf(ge,u.prototype),ge};function ue(N,L,J){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+L>J)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(N,L,J){N=N>>>0,L=L>>>0,J||ue(N,L,this.length);let ge=this[N],le=1,Me=0;for(;++Me<L&&(le*=256);)ge+=this[N+Me]*le;return ge},u.prototype.readUintBE=u.prototype.readUIntBE=function(N,L,J){N=N>>>0,L=L>>>0,J||ue(N,L,this.length);let ge=this[N+--L],le=1;for(;L>0&&(le*=256);)ge+=this[N+--L]*le;return ge},u.prototype.readUint8=u.prototype.readUInt8=function(N,L){return N=N>>>0,L||ue(N,1,this.length),this[N]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(N,L){return N=N>>>0,L||ue(N,2,this.length),this[N]|this[N+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(N,L){return N=N>>>0,L||ue(N,2,this.length),this[N]<<8|this[N+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(N,L){return N=N>>>0,L||ue(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(N,L){return N=N>>>0,L||ue(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},u.prototype.readBigUInt64LE=X(function(N){N=N>>>0,be(N,"offset");const L=this[N],J=this[N+7];(L===void 0||J===void 0)&&Ue(N,this.length-8);const ge=L+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24,le=this[++N]+this[++N]*2**8+this[++N]*2**16+J*2**24;return BigInt(ge)+(BigInt(le)<<BigInt(32))}),u.prototype.readBigUInt64BE=X(function(N){N=N>>>0,be(N,"offset");const L=this[N],J=this[N+7];(L===void 0||J===void 0)&&Ue(N,this.length-8);const ge=L*2**24+this[++N]*2**16+this[++N]*2**8+this[++N],le=this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+J;return(BigInt(ge)<<BigInt(32))+BigInt(le)}),u.prototype.readIntLE=function(N,L,J){N=N>>>0,L=L>>>0,J||ue(N,L,this.length);let ge=this[N],le=1,Me=0;for(;++Me<L&&(le*=256);)ge+=this[N+Me]*le;return le*=128,ge>=le&&(ge-=Math.pow(2,8*L)),ge},u.prototype.readIntBE=function(N,L,J){N=N>>>0,L=L>>>0,J||ue(N,L,this.length);let ge=L,le=1,Me=this[N+--ge];for(;ge>0&&(le*=256);)Me+=this[N+--ge]*le;return le*=128,Me>=le&&(Me-=Math.pow(2,8*L)),Me},u.prototype.readInt8=function(N,L){return N=N>>>0,L||ue(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},u.prototype.readInt16LE=function(N,L){N=N>>>0,L||ue(N,2,this.length);const J=this[N]|this[N+1]<<8;return J&32768?J|4294901760:J},u.prototype.readInt16BE=function(N,L){N=N>>>0,L||ue(N,2,this.length);const J=this[N+1]|this[N]<<8;return J&32768?J|4294901760:J},u.prototype.readInt32LE=function(N,L){return N=N>>>0,L||ue(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},u.prototype.readInt32BE=function(N,L){return N=N>>>0,L||ue(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},u.prototype.readBigInt64LE=X(function(N){N=N>>>0,be(N,"offset");const L=this[N],J=this[N+7];(L===void 0||J===void 0)&&Ue(N,this.length-8);const ge=this[N+4]+this[N+5]*2**8+this[N+6]*2**16+(J<<24);return(BigInt(ge)<<BigInt(32))+BigInt(L+this[++N]*2**8+this[++N]*2**16+this[++N]*2**24)}),u.prototype.readBigInt64BE=X(function(N){N=N>>>0,be(N,"offset");const L=this[N],J=this[N+7];(L===void 0||J===void 0)&&Ue(N,this.length-8);const ge=(L<<24)+this[++N]*2**16+this[++N]*2**8+this[++N];return(BigInt(ge)<<BigInt(32))+BigInt(this[++N]*2**24+this[++N]*2**16+this[++N]*2**8+J)}),u.prototype.readFloatLE=function(N,L){return N=N>>>0,L||ue(N,4,this.length),r.read(this,N,!0,23,4)},u.prototype.readFloatBE=function(N,L){return N=N>>>0,L||ue(N,4,this.length),r.read(this,N,!1,23,4)},u.prototype.readDoubleLE=function(N,L){return N=N>>>0,L||ue(N,8,this.length),r.read(this,N,!0,52,8)},u.prototype.readDoubleBE=function(N,L){return N=N>>>0,L||ue(N,8,this.length),r.read(this,N,!1,52,8)};function W(N,L,J,ge,le,Me){if(!u.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>le||L<Me)throw new RangeError('"value" argument is out of bounds');if(J+ge>N.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(N,L,J,ge){if(N=+N,L=L>>>0,J=J>>>0,!ge){const De=Math.pow(2,8*J)-1;W(this,N,L,J,De,0)}let le=1,Me=0;for(this[L]=N&255;++Me<J&&(le*=256);)this[L+Me]=N/le&255;return L+J},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(N,L,J,ge){if(N=+N,L=L>>>0,J=J>>>0,!ge){const De=Math.pow(2,8*J)-1;W(this,N,L,J,De,0)}let le=J-1,Me=1;for(this[L+le]=N&255;--le>=0&&(Me*=256);)this[L+le]=N/Me&255;return L+J},u.prototype.writeUint8=u.prototype.writeUInt8=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,1,255,0),this[L]=N&255,L+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,2,65535,0),this[L]=N&255,this[L+1]=N>>>8,L+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,2,65535,0),this[L]=N>>>8,this[L+1]=N&255,L+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,4,4294967295,0),this[L+3]=N>>>24,this[L+2]=N>>>16,this[L+1]=N>>>8,this[L]=N&255,L+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,4,4294967295,0),this[L]=N>>>24,this[L+1]=N>>>16,this[L+2]=N>>>8,this[L+3]=N&255,L+4};function se(N,L,J,ge,le){Y(L,ge,le,N,J,7);let Me=Number(L&BigInt(4294967295));N[J++]=Me,Me=Me>>8,N[J++]=Me,Me=Me>>8,N[J++]=Me,Me=Me>>8,N[J++]=Me;let De=Number(L>>BigInt(32)&BigInt(4294967295));return N[J++]=De,De=De>>8,N[J++]=De,De=De>>8,N[J++]=De,De=De>>8,N[J++]=De,J}function Z(N,L,J,ge,le){Y(L,ge,le,N,J,7);let Me=Number(L&BigInt(4294967295));N[J+7]=Me,Me=Me>>8,N[J+6]=Me,Me=Me>>8,N[J+5]=Me,Me=Me>>8,N[J+4]=Me;let De=Number(L>>BigInt(32)&BigInt(4294967295));return N[J+3]=De,De=De>>8,N[J+2]=De,De=De>>8,N[J+1]=De,De=De>>8,N[J]=De,J+8}u.prototype.writeBigUInt64LE=X(function(N,L=0){return se(this,N,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=X(function(N,L=0){return Z(this,N,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(N,L,J,ge){if(N=+N,L=L>>>0,!ge){const nt=Math.pow(2,8*J-1);W(this,N,L,J,nt-1,-nt)}let le=0,Me=1,De=0;for(this[L]=N&255;++le<J&&(Me*=256);)N<0&&De===0&&this[L+le-1]!==0&&(De=1),this[L+le]=(N/Me>>0)-De&255;return L+J},u.prototype.writeIntBE=function(N,L,J,ge){if(N=+N,L=L>>>0,!ge){const nt=Math.pow(2,8*J-1);W(this,N,L,J,nt-1,-nt)}let le=J-1,Me=1,De=0;for(this[L+le]=N&255;--le>=0&&(Me*=256);)N<0&&De===0&&this[L+le+1]!==0&&(De=1),this[L+le]=(N/Me>>0)-De&255;return L+J},u.prototype.writeInt8=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,1,127,-128),N<0&&(N=255+N+1),this[L]=N&255,L+1},u.prototype.writeInt16LE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,2,32767,-32768),this[L]=N&255,this[L+1]=N>>>8,L+2},u.prototype.writeInt16BE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,2,32767,-32768),this[L]=N>>>8,this[L+1]=N&255,L+2},u.prototype.writeInt32LE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,4,2147483647,-2147483648),this[L]=N&255,this[L+1]=N>>>8,this[L+2]=N>>>16,this[L+3]=N>>>24,L+4},u.prototype.writeInt32BE=function(N,L,J){return N=+N,L=L>>>0,J||W(this,N,L,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),this[L]=N>>>24,this[L+1]=N>>>16,this[L+2]=N>>>8,this[L+3]=N&255,L+4},u.prototype.writeBigInt64LE=X(function(N,L=0){return se(this,N,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=X(function(N,L=0){return Z(this,N,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ie(N,L,J,ge,le,Me){if(J+ge>N.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("Index out of range")}function pe(N,L,J,ge,le){return L=+L,J=J>>>0,le||ie(N,L,J,4),r.write(N,L,J,ge,23,4),J+4}u.prototype.writeFloatLE=function(N,L,J){return pe(this,N,L,!0,J)},u.prototype.writeFloatBE=function(N,L,J){return pe(this,N,L,!1,J)};function Ee(N,L,J,ge,le){return L=+L,J=J>>>0,le||ie(N,L,J,8),r.write(N,L,J,ge,52,8),J+8}u.prototype.writeDoubleLE=function(N,L,J){return Ee(this,N,L,!0,J)},u.prototype.writeDoubleBE=function(N,L,J){return Ee(this,N,L,!1,J)},u.prototype.copy=function(N,L,J,ge){if(!u.isBuffer(N))throw new TypeError("argument should be a Buffer");if(J||(J=0),!ge&&ge!==0&&(ge=this.length),L>=N.length&&(L=N.length),L||(L=0),ge>0&&ge<J&&(ge=J),ge===J||N.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(J<0||J>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),N.length-L<ge-J&&(ge=N.length-L+J);const le=ge-J;return this===N&&typeof o.prototype.copyWithin=="function"?this.copyWithin(L,J,ge):o.prototype.set.call(N,this.subarray(J,ge),L),le},u.prototype.fill=function(N,L,J,ge){if(typeof N=="string"){if(typeof L=="string"?(ge=L,L=0,J=this.length):typeof J=="string"&&(ge=J,J=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!u.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(N.length===1){const Me=N.charCodeAt(0);(ge==="utf8"&&Me<128||ge==="latin1")&&(N=Me)}}else typeof N=="number"?N=N&255:typeof N=="boolean"&&(N=Number(N));if(L<0||this.length<L||this.length<J)throw new RangeError("Out of range index");if(J<=L)return this;L=L>>>0,J=J===void 0?this.length:J>>>0,N||(N=0);let le;if(typeof N=="number")for(le=L;le<J;++le)this[le]=N;else{const Me=u.isBuffer(N)?N:u.from(N,ge),De=Me.length;if(De===0)throw new TypeError('The value "'+N+'" is invalid for argument "value"');for(le=0;le<J-L;++le)this[le+L]=Me[le%De]}return this};const Oe={};function Re(N,L,J){Oe[N]=class extends J{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(ge){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ge,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}Re("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Re("ERR_INVALID_ARG_TYPE",function(N,L){return`The "${N}" argument must be of type number. Received type ${typeof L}`},TypeError),Re("ERR_OUT_OF_RANGE",function(N,L,J){let ge=`The value of "${N}" is out of range.`,le=J;return Number.isInteger(J)&&Math.abs(J)>2**32?le=Ce(String(J)):typeof J=="bigint"&&(le=String(J),(J>BigInt(2)**BigInt(32)||J<-(BigInt(2)**BigInt(32)))&&(le=Ce(le)),le+="n"),ge+=` It must be ${L}. Received ${le}`,ge},RangeError);function Ce(N){let L="",J=N.length;const ge=N[0]==="-"?1:0;for(;J>=ge+4;J-=3)L=`_${N.slice(J-3,J)}${L}`;return`${N.slice(0,J)}${L}`}function P(N,L,J){be(L,"offset"),(N[L]===void 0||N[L+J]===void 0)&&Ue(L,N.length-(J+1))}function Y(N,L,J,ge,le,Me){if(N>J||N<L){const De=typeof L=="bigint"?"n":"";let nt;throw L===0||L===BigInt(0)?nt=`>= 0${De} and < 2${De} ** ${(Me+1)*8}${De}`:nt=`>= -(2${De} ** ${(Me+1)*8-1}${De}) and < 2 ** ${(Me+1)*8-1}${De}`,new Oe.ERR_OUT_OF_RANGE("value",nt,N)}P(ge,le,Me)}function be(N,L){if(typeof N!="number")throw new Oe.ERR_INVALID_ARG_TYPE(L,"number",N)}function Ue(N,L,J){throw Math.floor(N)!==N?(be(N,J),new Oe.ERR_OUT_OF_RANGE("offset","an integer",N)):L<0?new Oe.ERR_BUFFER_OUT_OF_BOUNDS:new Oe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${L}`,N)}const Ke=/[^+/0-9A-Za-z-_]/g;function rt(N){if(N=N.split("=")[0],N=N.trim().replace(Ke,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function We(N,L){L=L||1/0;let J;const ge=N.length;let le=null;const Me=[];for(let De=0;De<ge;++De){if(J=N.charCodeAt(De),J>55295&&J<57344){if(!le){if(J>56319){(L-=3)>-1&&Me.push(239,191,189);continue}else if(De+1===ge){(L-=3)>-1&&Me.push(239,191,189);continue}le=J;continue}if(J<56320){(L-=3)>-1&&Me.push(239,191,189),le=J;continue}J=(le-55296<<10|J-56320)+65536}else le&&(L-=3)>-1&&Me.push(239,191,189);if(le=null,J<128){if((L-=1)<0)break;Me.push(J)}else if(J<2048){if((L-=2)<0)break;Me.push(J>>6|192,J&63|128)}else if(J<65536){if((L-=3)<0)break;Me.push(J>>12|224,J>>6&63|128,J&63|128)}else if(J<1114112){if((L-=4)<0)break;Me.push(J>>18|240,J>>12&63|128,J>>6&63|128,J&63|128)}else throw new Error("Invalid code point")}return Me}function Qe(N){const L=[];for(let J=0;J<N.length;++J)L.push(N.charCodeAt(J)&255);return L}function d(N,L){let J,ge,le;const Me=[];for(let De=0;De<N.length&&!((L-=2)<0);++De)J=N.charCodeAt(De),ge=J>>8,le=J%256,Me.push(le),Me.push(ge);return Me}function b(N){return t.toByteArray(rt(N))}function H(N,L,J,ge){let le;for(le=0;le<ge&&!(le+J>=L.length||le>=N.length);++le)L[le+J]=N[le];return le}function te(N,L){return N instanceof L||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===L.name}function ce(N){return N!==N}const z=function(){const N="0123456789abcdef",L=new Array(256);for(let J=0;J<16;++J){const ge=J*16;for(let le=0;le<16;++le)L[ge+le]=N[J]+N[le]}return L}();function X(N){return typeof BigInt>"u"?oe:N}function oe(){throw new Error("BigInt not supported")}})(Y$);const Fe=Y$.Buffer,eF="maestro",jce="mempool-space",Uce="sandshrew";var g9=(e=>(e.MAINNET="fractal_mainnet",e.TESTNET="fractal_testnet",e))(g9||{}),Ab=(e=>(e.MAINNET="main",e.TESTNET="testnet",e.SIGNET="signet",e))(Ab||{}),ss=(e=>(e.MAINNET="BITCOIN_MAINNET",e.TESTNET="BITCOIN_TESTNET",e.TESTNET4="BITCOIN_TESTNET4",e.SIGNET="BITCOIN_SIGNET",e.FRACTAL_MAINNET="FRACTAL_BITCOIN_MAINNET",e.FRACTAL_TESTNET="FRACTAL_BITCOIN_TESTNET",e))(ss||{}),Df=(e=>(e.BITCOIN_MAINNET="BITCOIN_MAINNET",e.BITCOIN_TESTNET="BITCOIN_TESTNET",e.BITCOIN_SIGNET="BITCOIN_SIGNET",e))(Df||{}),eh=(e=>(e.MAINNET="Mainnet",e.TESTNET="Testnet",e.SIGNET="Signet",e.FRACTAL_MAINNET="fractal mainnet",e.FRACTAL_TESTNET="fractal testnet",e.TESTNET4="Testnet4",e))(eh||{}),y9=(e=>(e.MAINNET="livenet",e.TESTNET="testnet",e))(y9||{}),Tg=(e=>(e.MAINNET="livenet",e.TESTNET="testnet",e.TESTNET4="testnet4",e.SIGNET="signet",e))(Tg||{}),Q3=(e=>(e.MAINNET="Mainnet",e.TESTNET="Testnet",e))(Q3||{}),mt=(e=>(e.MAINNET="mainnet",e.SIGNET="signet",e.TESTNET="testnet",e.TESTNET4="testnet4",e.REGTEST="regtest",e.FRACTAL_MAINNET="fractal_mainnet",e.FRACTAL_TESTNET="fractal_testnet",e.OYLNET="oylnet",e))(mt||{}),Kn={},dA={},an={},Eo={},Zr={},F4={};Object.defineProperty(F4,"__esModule",{value:!0});F4.crypto=void 0;F4.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;(function(e){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.wrapXOFConstructorWithOpts=e.wrapConstructorWithOpts=e.wrapConstructor=e.Hash=e.nextTick=e.swap32IfBE=e.byteSwapIfBE=e.swap8IfBE=e.isLE=void 0,e.isBytes=r,e.anumber=n,e.abytes=i,e.ahash=o,e.aexists=s,e.aoutput=a,e.u8=l,e.u32=c,e.clean=u,e.createView=h,e.rotr=g,e.rotl=k,e.byteSwap=R,e.byteSwap32=F,e.bytesToHex=B,e.hexToBytes=ee,e.asyncLoop=re,e.utf8ToBytes=K,e.bytesToUtf8=C,e.toBytes=G,e.kdfInputToBytes=v,e.concatBytes=I,e.checkOpts=p,e.createHasher=w,e.createOptHasher=S,e.createXOFer=A,e.randomBytes=x;const t=F4;function r(E){return E instanceof Uint8Array||ArrayBuffer.isView(E)&&E.constructor.name==="Uint8Array"}function n(E){if(!Number.isSafeInteger(E)||E<0)throw new Error("positive integer expected, got "+E)}function i(E,...T){if(!r(E))throw new Error("Uint8Array expected");if(T.length>0&&!T.includes(E.length))throw new Error("Uint8Array expected of length "+T+", got length="+E.length)}function o(E){if(typeof E!="function"||typeof E.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(E.outputLen),n(E.blockLen)}function s(E,T=!0){if(E.destroyed)throw new Error("Hash instance has been destroyed");if(T&&E.finished)throw new Error("Hash#digest() has already been called")}function a(E,T){i(E);const M=T.outputLen;if(E.length<M)throw new Error("digestInto() expects output buffer of length at least "+M)}function l(E){return new Uint8Array(E.buffer,E.byteOffset,E.byteLength)}function c(E){return new Uint32Array(E.buffer,E.byteOffset,Math.floor(E.byteLength/4))}function u(...E){for(let T=0;T<E.length;T++)E[T].fill(0)}function h(E){return new DataView(E.buffer,E.byteOffset,E.byteLength)}function g(E,T){return E<<32-T|E>>>T}function k(E,T){return E<<T|E>>>32-T>>>0}e.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function R(E){return E<<24&4278190080|E<<8&16711680|E>>>8&65280|E>>>24&255}e.swap8IfBE=e.isLE?E=>E:E=>R(E),e.byteSwapIfBE=e.swap8IfBE;function F(E){for(let T=0;T<E.length;T++)E[T]=R(E[T]);return E}e.swap32IfBE=e.isLE?E=>E:F;const D=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",$=Array.from({length:256},(E,T)=>T.toString(16).padStart(2,"0"));function B(E){if(i(E),D)return E.toHex();let T="";for(let M=0;M<E.length;M++)T+=$[E[M]];return T}const U={_0:48,_9:57,A:65,F:70,a:97,f:102};function q(E){if(E>=U._0&&E<=U._9)return E-U._0;if(E>=U.A&&E<=U.F)return E-(U.A-10);if(E>=U.a&&E<=U.f)return E-(U.a-10)}function ee(E){if(typeof E!="string")throw new Error("hex string expected, got "+typeof E);if(D)return Uint8Array.fromHex(E);const T=E.length,M=T/2;if(T%2)throw new Error("hex string expected, got unpadded hex of length "+T);const Q=new Uint8Array(M);for(let he=0,ue=0;he<M;he++,ue+=2){const W=q(E.charCodeAt(ue)),se=q(E.charCodeAt(ue+1));if(W===void 0||se===void 0){const Z=E[ue]+E[ue+1];throw new Error('hex string expected, got non-hex character "'+Z+'" at index '+ue)}Q[he]=W*16+se}return Q}const ae=async()=>{};e.nextTick=ae;async function re(E,T,M){let Q=Date.now();for(let he=0;he<E;he++){M(he);const ue=Date.now()-Q;ue>=0&&ue<T||(await(0,e.nextTick)(),Q+=ue)}}function K(E){if(typeof E!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(E))}function C(E){return new TextDecoder().decode(E)}function G(E){return typeof E=="string"&&(E=K(E)),i(E),E}function v(E){return typeof E=="string"&&(E=K(E)),i(E),E}function I(...E){let T=0;for(let Q=0;Q<E.length;Q++){const he=E[Q];i(he),T+=he.length}const M=new Uint8Array(T);for(let Q=0,he=0;Q<E.length;Q++){const ue=E[Q];M.set(ue,he),he+=ue.length}return M}function p(E,T){if(T!==void 0&&{}.toString.call(T)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(E,T)}class _{}e.Hash=_;function w(E){const T=Q=>E().update(G(Q)).digest(),M=E();return T.outputLen=M.outputLen,T.blockLen=M.blockLen,T.create=()=>E(),T}function S(E){const T=(Q,he)=>E(he).update(G(Q)).digest(),M=E({});return T.outputLen=M.outputLen,T.blockLen=M.blockLen,T.create=Q=>E(Q),T}function A(E){const T=(Q,he)=>E(he).update(G(Q)).digest(),M=E({});return T.outputLen=M.outputLen,T.blockLen=M.blockLen,T.create=Q=>E(Q),T}e.wrapConstructor=w,e.wrapConstructorWithOpts=S,e.wrapXOFConstructorWithOpts=A;function x(E=32){if(t.crypto&&typeof t.crypto.getRandomValues=="function")return t.crypto.getRandomValues(new Uint8Array(E));if(t.crypto&&typeof t.crypto.randomBytes=="function")return Uint8Array.from(t.crypto.randomBytes(E));throw new Error("crypto.getRandomValues must be defined")}})(Zr);Object.defineProperty(Eo,"__esModule",{value:!0});Eo.SHA512_IV=Eo.SHA384_IV=Eo.SHA224_IV=Eo.SHA256_IV=Eo.HashMD=void 0;Eo.setBigUint64=tF;Eo.Chi=zce;Eo.Maj=Lce;const $u=Zr;function tF(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}function zce(e,t,r){return e&t^~e&r}function Lce(e,t,r){return e&t^e&r^t&r}class $ce extends $u.Hash{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=(0,$u.createView)(this.buffer)}update(t){(0,$u.aexists)(this),t=(0,$u.toBytes)(t),(0,$u.abytes)(t);const{view:r,buffer:n,blockLen:i}=this,o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=(0,$u.createView)(t);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,$u.aexists)(this),(0,$u.aoutput)(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;r[s++]=128,(0,$u.clean)(this.buffer.subarray(s)),this.padOffset>i-s&&(this.process(n,0),s=0);for(let h=s;h<i;h++)r[h]=0;tF(n,i-8,BigInt(this.length*8),o),this.process(n,0);const a=(0,$u.createView)(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.destroyed=s,t.finished=o,t.length=i,t.pos=a,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}Eo.HashMD=$ce;Eo.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);Eo.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]);Eo.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]);Eo.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]);var cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.toBig=cr.shrSL=cr.shrSH=cr.rotrSL=cr.rotrSH=cr.rotrBL=cr.rotrBH=cr.rotr32L=cr.rotr32H=cr.rotlSL=cr.rotlSH=cr.rotlBL=cr.rotlBH=cr.add5L=cr.add5H=cr.add4L=cr.add4H=cr.add3L=cr.add3H=void 0;cr.add=yF;cr.fromBig=hA;cr.split=rF;const V2=BigInt(2**32-1),m9=BigInt(32);function hA(e,t=!1){return t?{h:Number(e&V2),l:Number(e>>m9&V2)}:{h:Number(e>>m9&V2)|0,l:Number(e&V2)|0}}function rF(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:s,l:a}=hA(e[o],t);[n[o],i[o]]=[s,a]}return[n,i]}const nF=(e,t)=>BigInt(e>>>0)<<m9|BigInt(t>>>0);cr.toBig=nF;const iF=(e,t,r)=>e>>>r;cr.shrSH=iF;const oF=(e,t,r)=>e<<32-r|t>>>r;cr.shrSL=oF;const sF=(e,t,r)=>e>>>r|t<<32-r;cr.rotrSH=sF;const aF=(e,t,r)=>e<<32-r|t>>>r;cr.rotrSL=aF;const uF=(e,t,r)=>e<<64-r|t>>>r-32;cr.rotrBH=uF;const lF=(e,t,r)=>e>>>r-32|t<<64-r;cr.rotrBL=lF;const cF=(e,t)=>t;cr.rotr32H=cF;const fF=(e,t)=>e;cr.rotr32L=fF;const dF=(e,t,r)=>e<<r|t>>>32-r;cr.rotlSH=dF;const hF=(e,t,r)=>t<<r|e>>>32-r;cr.rotlSL=hF;const pF=(e,t,r)=>t<<r-32|e>>>64-r;cr.rotlBH=pF;const gF=(e,t,r)=>e<<r-32|t>>>64-r;cr.rotlBL=gF;function yF(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const mF=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0);cr.add3L=mF;const bF=(e,t,r,n)=>t+r+n+(e/2**32|0)|0;cr.add3H=bF;const vF=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0);cr.add4L=vF;const wF=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0;cr.add4H=wF;const EF=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0);cr.add5L=EF;const _F=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0;cr.add5H=_F;const Fce={fromBig:hA,split:rF,toBig:nF,shrSH:iF,shrSL:oF,rotrSH:sF,rotrSL:aF,rotrBH:uF,rotrBL:lF,rotr32H:cF,rotr32L:fF,rotlSH:dF,rotlSL:hF,rotlBH:pF,rotlBL:gF,add:yF,add3L:mF,add3H:bF,add4L:vF,add4H:wF,add5H:_F,add5L:EF};cr.default=Fce;Object.defineProperty(an,"__esModule",{value:!0});an.sha512_224=an.sha512_256=an.sha384=an.sha512=an.sha224=PF=an.sha256=an.SHA512_256=an.SHA512_224=an.SHA384=an.SHA512=an.SHA224=an.SHA256=void 0;const Vt=Eo,kr=cr,ai=Zr,Dce=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),of=new Uint32Array(64);let pA=class extends Vt.HashMD{constructor(e=32){super(64,e,8,!1),this.A=Vt.SHA256_IV[0]|0,this.B=Vt.SHA256_IV[1]|0,this.C=Vt.SHA256_IV[2]|0,this.D=Vt.SHA256_IV[3]|0,this.E=Vt.SHA256_IV[4]|0,this.F=Vt.SHA256_IV[5]|0,this.G=Vt.SHA256_IV[6]|0,this.H=Vt.SHA256_IV[7]|0}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=e|0,this.B=t|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)of[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const h=of[u-15],g=of[u-2],k=(0,ai.rotr)(h,7)^(0,ai.rotr)(h,18)^h>>>3,R=(0,ai.rotr)(g,17)^(0,ai.rotr)(g,19)^g>>>10;of[u]=R+of[u-7]+k+of[u-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const h=(0,ai.rotr)(s,6)^(0,ai.rotr)(s,11)^(0,ai.rotr)(s,25),g=c+h+(0,Vt.Chi)(s,a,l)+Dce[u]+of[u]|0,k=((0,ai.rotr)(r,2)^(0,ai.rotr)(r,13)^(0,ai.rotr)(r,22))+(0,Vt.Maj)(r,n,i)|0;c=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+k|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,l,c)}roundClean(){(0,ai.clean)(of)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,ai.clean)(this.buffer)}};an.SHA256=pA;let SF=class extends pA{constructor(){super(28),this.A=Vt.SHA224_IV[0]|0,this.B=Vt.SHA224_IV[1]|0,this.C=Vt.SHA224_IV[2]|0,this.D=Vt.SHA224_IV[3]|0,this.E=Vt.SHA224_IV[4]|0,this.F=Vt.SHA224_IV[5]|0,this.G=Vt.SHA224_IV[6]|0,this.H=Vt.SHA224_IV[7]|0}};an.SHA224=SF;const kF=kr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Hce=kF[0],Kce=kF[1],sf=new Uint32Array(80),af=new Uint32Array(80);let Lv=class extends Vt.HashMD{constructor(e=64){super(128,e,16,!1),this.Ah=Vt.SHA512_IV[0]|0,this.Al=Vt.SHA512_IV[1]|0,this.Bh=Vt.SHA512_IV[2]|0,this.Bl=Vt.SHA512_IV[3]|0,this.Ch=Vt.SHA512_IV[4]|0,this.Cl=Vt.SHA512_IV[5]|0,this.Dh=Vt.SHA512_IV[6]|0,this.Dl=Vt.SHA512_IV[7]|0,this.Eh=Vt.SHA512_IV[8]|0,this.El=Vt.SHA512_IV[9]|0,this.Fh=Vt.SHA512_IV[10]|0,this.Fl=Vt.SHA512_IV[11]|0,this.Gh=Vt.SHA512_IV[12]|0,this.Gl=Vt.SHA512_IV[13]|0,this.Hh=Vt.SHA512_IV[14]|0,this.Hl=Vt.SHA512_IV[15]|0}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:g,Gl:k,Hh:R,Hl:F}=this;return[e,t,r,n,i,o,s,a,l,c,u,h,g,k,R,F]}set(e,t,r,n,i,o,s,a,l,c,u,h,g,k,R,F){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=n|0,this.Ch=i|0,this.Cl=o|0,this.Dh=s|0,this.Dl=a|0,this.Eh=l|0,this.El=c|0,this.Fh=u|0,this.Fl=h|0,this.Gh=g|0,this.Gl=k|0,this.Hh=R|0,this.Hl=F|0}process(e,t){for(let B=0;B<16;B++,t+=4)sf[B]=e.getUint32(t),af[B]=e.getUint32(t+=4);for(let B=16;B<80;B++){const U=sf[B-15]|0,q=af[B-15]|0,ee=kr.rotrSH(U,q,1)^kr.rotrSH(U,q,8)^kr.shrSH(U,q,7),ae=kr.rotrSL(U,q,1)^kr.rotrSL(U,q,8)^kr.shrSL(U,q,7),re=sf[B-2]|0,K=af[B-2]|0,C=kr.rotrSH(re,K,19)^kr.rotrBH(re,K,61)^kr.shrSH(re,K,6),G=kr.rotrSL(re,K,19)^kr.rotrBL(re,K,61)^kr.shrSL(re,K,6),v=kr.add4L(ae,G,af[B-7],af[B-16]),I=kr.add4H(v,ee,C,sf[B-7],sf[B-16]);sf[B]=I|0,af[B]=v|0}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:g,Fl:k,Gh:R,Gl:F,Hh:D,Hl:$}=this;for(let B=0;B<80;B++){const U=kr.rotrSH(u,h,14)^kr.rotrSH(u,h,18)^kr.rotrBH(u,h,41),q=kr.rotrSL(u,h,14)^kr.rotrSL(u,h,18)^kr.rotrBL(u,h,41),ee=u&g^~u&R,ae=h&k^~h&F,re=kr.add5L($,q,ae,Kce[B],af[B]),K=kr.add5H(re,D,U,ee,Hce[B],sf[B]),C=re|0,G=kr.rotrSH(r,n,28)^kr.rotrBH(r,n,34)^kr.rotrBH(r,n,39),v=kr.rotrSL(r,n,28)^kr.rotrBL(r,n,34)^kr.rotrBL(r,n,39),I=r&i^r&s^i&s,p=n&o^n&a^o&a;D=R|0,$=F|0,R=g|0,F=k|0,g=u|0,k=h|0,{h:u,l:h}=kr.add(l|0,c|0,K|0,C|0),l=s|0,c=a|0,s=i|0,a=o|0,i=r|0,o=n|0;const _=kr.add3L(C,v,p);r=kr.add3H(_,K,G,I),n=_|0}({h:r,l:n}=kr.add(this.Ah|0,this.Al|0,r|0,n|0)),{h:i,l:o}=kr.add(this.Bh|0,this.Bl|0,i|0,o|0),{h:s,l:a}=kr.add(this.Ch|0,this.Cl|0,s|0,a|0),{h:l,l:c}=kr.add(this.Dh|0,this.Dl|0,l|0,c|0),{h:u,l:h}=kr.add(this.Eh|0,this.El|0,u|0,h|0),{h:g,l:k}=kr.add(this.Fh|0,this.Fl|0,g|0,k|0),{h:R,l:F}=kr.add(this.Gh|0,this.Gl|0,R|0,F|0),{h:D,l:$}=kr.add(this.Hh|0,this.Hl|0,D|0,$|0),this.set(r,n,i,o,s,a,l,c,u,h,g,k,R,F,D,$)}roundClean(){(0,ai.clean)(sf,af)}destroy(){(0,ai.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};an.SHA512=Lv;let xF=class extends Lv{constructor(){super(48),this.Ah=Vt.SHA384_IV[0]|0,this.Al=Vt.SHA384_IV[1]|0,this.Bh=Vt.SHA384_IV[2]|0,this.Bl=Vt.SHA384_IV[3]|0,this.Ch=Vt.SHA384_IV[4]|0,this.Cl=Vt.SHA384_IV[5]|0,this.Dh=Vt.SHA384_IV[6]|0,this.Dl=Vt.SHA384_IV[7]|0,this.Eh=Vt.SHA384_IV[8]|0,this.El=Vt.SHA384_IV[9]|0,this.Fh=Vt.SHA384_IV[10]|0,this.Fl=Vt.SHA384_IV[11]|0,this.Gh=Vt.SHA384_IV[12]|0,this.Gl=Vt.SHA384_IV[13]|0,this.Hh=Vt.SHA384_IV[14]|0,this.Hl=Vt.SHA384_IV[15]|0}};an.SHA384=xF;const lo=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),co=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let AF=class extends Lv{constructor(){super(28),this.Ah=lo[0]|0,this.Al=lo[1]|0,this.Bh=lo[2]|0,this.Bl=lo[3]|0,this.Ch=lo[4]|0,this.Cl=lo[5]|0,this.Dh=lo[6]|0,this.Dl=lo[7]|0,this.Eh=lo[8]|0,this.El=lo[9]|0,this.Fh=lo[10]|0,this.Fl=lo[11]|0,this.Gh=lo[12]|0,this.Gl=lo[13]|0,this.Hh=lo[14]|0,this.Hl=lo[15]|0}};an.SHA512_224=AF;let OF=class extends Lv{constructor(){super(32),this.Ah=co[0]|0,this.Al=co[1]|0,this.Bh=co[2]|0,this.Bl=co[3]|0,this.Ch=co[4]|0,this.Cl=co[5]|0,this.Dh=co[6]|0,this.Dl=co[7]|0,this.Eh=co[8]|0,this.El=co[9]|0,this.Fh=co[10]|0,this.Fl=co[11]|0,this.Gh=co[12]|0,this.Gl=co[13]|0,this.Hh=co[14]|0,this.Hl=co[15]|0}};an.SHA512_256=OF;var PF=an.sha256=(0,ai.createHasher)(()=>new pA);an.sha224=(0,ai.createHasher)(()=>new SF);an.sha512=(0,ai.createHasher)(()=>new Lv);an.sha384=(0,ai.createHasher)(()=>new xF);an.sha512_256=(0,ai.createHasher)(()=>new OF);an.sha512_224=(0,ai.createHasher)(()=>new AF);var D4={},gA={},$v={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.hmac=e.HMAC=void 0;const t=Zr;class r extends t.Hash{constructor(o,s){super(),this.finished=!1,this.destroyed=!1,(0,t.ahash)(o);const a=(0,t.toBytes)(s);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const l=this.blockLen,c=new Uint8Array(l);c.set(a.length>l?o.create().update(a).digest():a);for(let u=0;u<c.length;u++)c[u]^=54;this.iHash.update(c),this.oHash=o.create();for(let u=0;u<c.length;u++)c[u]^=106;this.oHash.update(c),(0,t.clean)(c)}update(o){return(0,t.aexists)(this),this.iHash.update(o),this}digestInto(o){(0,t.aexists)(this),(0,t.abytes)(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:s,iHash:a,finished:l,destroyed:c,blockLen:u,outputLen:h}=this;return o=o,o.finished=l,o.destroyed=c,o.blockLen=u,o.outputLen=h,o.oHash=s._cloneInto(o.oHash),o.iHash=a._cloneInto(o.iHash),o}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e.HMAC=r;const n=(i,o,s)=>new r(i,o).update(s).digest();e.hmac=n,e.hmac.create=(i,o)=>new r(i,o)})($v);var np={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.notImplemented=e.bitMask=e.utf8ToBytes=e.randomBytes=e.isBytes=e.hexToBytes=e.concatBytes=e.bytesToUtf8=e.bytesToHex=e.anumber=e.abytes=void 0,e.abool=o,e.numberToHexUnpadded=s,e.hexToNumber=a,e.bytesToNumberBE=l,e.bytesToNumberLE=c,e.numberToBytesBE=u,e.numberToBytesLE=h,e.numberToVarBytesBE=g,e.ensureBytes=k,e.equalBytes=R,e.inRange=D,e.aInRange=$,e.bitLen=B,e.bitGet=U,e.bitSet=q,e.createHmacDrbg=ae,e.validateObject=K,e.isHash=C,e._validateObject=G,e.memoized=I;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Zr;var r=Zr;Object.defineProperty(e,"abytes",{enumerable:!0,get:function(){return r.abytes}}),Object.defineProperty(e,"anumber",{enumerable:!0,get:function(){return r.anumber}}),Object.defineProperty(e,"bytesToHex",{enumerable:!0,get:function(){return r.bytesToHex}}),Object.defineProperty(e,"bytesToUtf8",{enumerable:!0,get:function(){return r.bytesToUtf8}}),Object.defineProperty(e,"concatBytes",{enumerable:!0,get:function(){return r.concatBytes}}),Object.defineProperty(e,"hexToBytes",{enumerable:!0,get:function(){return r.hexToBytes}}),Object.defineProperty(e,"isBytes",{enumerable:!0,get:function(){return r.isBytes}}),Object.defineProperty(e,"randomBytes",{enumerable:!0,get:function(){return r.randomBytes}}),Object.defineProperty(e,"utf8ToBytes",{enumerable:!0,get:function(){return r.utf8ToBytes}});const n=BigInt(0),i=BigInt(1);function o(p,_){if(typeof _!="boolean")throw new Error(p+" boolean expected, got "+_)}function s(p){const _=p.toString(16);return _.length&1?"0"+_:_}function a(p){if(typeof p!="string")throw new Error("hex string expected, got "+typeof p);return p===""?n:BigInt("0x"+p)}function l(p){return a((0,t.bytesToHex)(p))}function c(p){return(0,t.abytes)(p),a((0,t.bytesToHex)(Uint8Array.from(p).reverse()))}function u(p,_){return(0,t.hexToBytes)(p.toString(16).padStart(_*2,"0"))}function h(p,_){return u(p,_).reverse()}function g(p){return(0,t.hexToBytes)(s(p))}function k(p,_,w){let S;if(typeof _=="string")try{S=(0,t.hexToBytes)(_)}catch(x){throw new Error(p+" must be hex string or Uint8Array, cause: "+x)}else if((0,t.isBytes)(_))S=Uint8Array.from(_);else throw new Error(p+" must be hex string or Uint8Array");const A=S.length;if(typeof w=="number"&&A!==w)throw new Error(p+" of length "+w+" expected, got "+A);return S}function R(p,_){if(p.length!==_.length)return!1;let w=0;for(let S=0;S<p.length;S++)w|=p[S]^_[S];return w===0}const F=p=>typeof p=="bigint"&&n<=p;function D(p,_,w){return F(p)&&F(_)&&F(w)&&_<=p&&p<w}function $(p,_,w,S){if(!D(_,w,S))throw new Error("expected valid "+p+": "+w+" <= n < "+S+", got "+_)}function B(p){let _;for(_=0;p>n;p>>=i,_+=1);return _}function U(p,_){return p>>BigInt(_)&i}function q(p,_,w){return p|(w?i:n)<<BigInt(_)}const ee=p=>(i<<BigInt(p))-i;e.bitMask=ee;function ae(p,_,w){if(typeof p!="number"||p<2)throw new Error("hashLen must be a number");if(typeof _!="number"||_<2)throw new Error("qByteLen must be a number");if(typeof w!="function")throw new Error("hmacFn must be a function");const S=W=>new Uint8Array(W),A=W=>Uint8Array.of(W);let x=S(p),E=S(p),T=0;const M=()=>{x.fill(1),E.fill(0),T=0},Q=(...W)=>w(E,x,...W),he=(W=S(0))=>{E=Q(A(0),W),x=Q(),W.length!==0&&(E=Q(A(1),W),x=Q())},ue=()=>{if(T++>=1e3)throw new Error("drbg: tried 1000 values");let W=0;const se=[];for(;W<_;){x=Q();const Z=x.slice();se.push(Z),W+=x.length}return(0,t.concatBytes)(...se)};return(W,se)=>{M(),he(W);let Z;for(;!(Z=se(ue()));)he();return M(),Z}}const re={bigint:p=>typeof p=="bigint",function:p=>typeof p=="function",boolean:p=>typeof p=="boolean",string:p=>typeof p=="string",stringOrUint8Array:p=>typeof p=="string"||(0,t.isBytes)(p),isSafeInteger:p=>Number.isSafeInteger(p),array:p=>Array.isArray(p),field:(p,_)=>_.Fp.isValid(p),hash:p=>typeof p=="function"&&Number.isSafeInteger(p.outputLen)};function K(p,_,w={}){const S=(A,x,E)=>{const T=re[x];if(typeof T!="function")throw new Error("invalid validator function");const M=p[A];if(!(E&&M===void 0)&&!T(M,p))throw new Error("param "+String(A)+" is invalid. Expected "+x+", got "+M)};for(const[A,x]of Object.entries(_))S(A,x,!1);for(const[A,x]of Object.entries(w))S(A,x,!0);return p}function C(p){return typeof p=="function"&&Number.isSafeInteger(p.outputLen)}function G(p,_,w={}){if(!p||typeof p!="object")throw new Error("expected valid options object");function S(A,x,E){const T=p[A];if(E&&T===void 0)return;const M=typeof T;if(M!==x||T===null)throw new Error(`param "${A}" is invalid: expected ${x}, got ${M}`)}Object.entries(_).forEach(([A,x])=>S(A,x,!1)),Object.entries(w).forEach(([A,x])=>S(A,x,!0))}const v=()=>{throw new Error("not implemented")};e.notImplemented=v;function I(p){const _=new WeakMap;return(w,...S)=>{const A=_.get(w);if(A!==void 0)return A;const x=p(w,...S);return _.set(w,x),x}}})(np);var Ol={},pn={};Object.defineProperty(pn,"__esModule",{value:!0});pn.isNegativeLE=void 0;pn.mod=zs;pn.pow=Wce;pn.pow2=qce;pn.invert=r1;pn.tonelliShanks=MF;pn.FpSqrt=RF;pn.validateField=Qce;pn.FpPow=yA;pn.FpInvertBatch=CF;pn.FpDiv=Yce;pn.FpLegendre=n1;pn.FpIsSquare=Jce;pn.nLength=mA;pn.Field=bA;pn.FpSqrtOdd=efe;pn.FpSqrtEven=tfe;pn.hashToPrivateScalar=rfe;pn.getFieldBytesLength=vA;pn.getMinHashLength=jF;pn.mapHashToField=nfe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ls=np,ds=BigInt(0),ki=BigInt(1),dh=BigInt(2),Vce=BigInt(3),TF=BigInt(4),IF=BigInt(5),BF=BigInt(8);function zs(e,t){const r=e%t;return r>=ds?r:t+r}function Wce(e,t,r){return yA(bA(r),e,t)}function qce(e,t,r){let n=e;for(;t-- >ds;)n*=n,n%=r;return n}function r1(e,t){if(e===ds)throw new Error("invert: expected non-zero number");if(t<=ds)throw new Error("invert: expected positive modulus, got "+t);let r=zs(e,t),n=t,i=ds,o=ki;for(;r!==ds;){const s=n/r,a=n%r,l=i-o*s;n=r,r=a,i=o,o=l}if(n!==ki)throw new Error("invert: does not exist");return zs(i,t)}function NF(e,t){const r=(e.ORDER+ki)/TF,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function Zce(e,t){const r=(e.ORDER-IF)/BF,n=e.mul(t,dh),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,dh),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function MF(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-ki,r=0;for(;t%dh===ds;)t/=dh,r++;let n=dh;const i=bA(e);for(;n1(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return NF;let o=i.pow(n,t);const s=(t+ki)/dh;return function(a,l){if(a.is0(l))return l;if(n1(a,l)!==1)throw new Error("Cannot find square root");let c=r,u=a.mul(a.ONE,o),h=a.pow(l,t),g=a.pow(l,s);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let k=1,R=a.sqr(h);for(;!a.eql(R,a.ONE);)if(k++,R=a.sqr(R),k===c)throw new Error("Cannot find square root");const F=ki<<BigInt(c-k-1),D=a.pow(u,F);c=k,u=a.sqr(D),h=a.mul(h,u),g=a.mul(g,D)}return g}}function RF(e){return e%TF===Vce?NF:e%BF===IF?Zce:MF(e)}const Gce=(e,t)=>(zs(e,t)&ki)===ki;pn.isNegativeLE=Gce;const Xce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Qce(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Xce.reduce((n,i)=>(n[i]="function",n),t);return(0,ls._validateObject)(e,r),e}function yA(e,t,r){if(r<ds)throw new Error("invalid exponent, negatives unsupported");if(r===ds)return e.ONE;if(r===ki)return t;let n=e.ONE,i=t;for(;r>ds;)r&ki&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ki;return n}function CF(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(n[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(n[l]=e.mul(s,n[l]),e.mul(s,a)),o),n}function Yce(e,t,r){return e.mul(t,typeof r=="bigint"?r1(r,e.ORDER):e.inv(r))}function n1(e,t){const r=(e.ORDER-ki)/dh,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function Jce(e,t){return n1(e,t)===1}function mA(e,t){t!==void 0&&(0,ls.anumber)(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function bA(e,t,r=!1,n={}){if(e<=ds)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=t;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof t=="number"&&(i=t),n.sqrt&&(o=n.sqrt);const{nBitLength:s,nByteLength:a}=mA(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:a,MASK:(0,ls.bitMask)(s),ZERO:ds,ONE:ki,create:u=>zs(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ds<=u&&u<e},is0:u=>u===ds,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&ki)===ki,neg:u=>zs(-u,e),eql:(u,h)=>u===h,sqr:u=>zs(u*u,e),add:(u,h)=>zs(u+h,e),sub:(u,h)=>zs(u-h,e),mul:(u,h)=>zs(u*h,e),pow:(u,h)=>yA(c,u,h),div:(u,h)=>zs(u*r1(h,e),e),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>r1(u,e),sqrt:o||(u=>(l||(l=RF(e)),l(c,u))),toBytes:u=>r?(0,ls.numberToBytesLE)(u,a):(0,ls.numberToBytesBE)(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?(0,ls.bytesToNumberLE)(u):(0,ls.bytesToNumberBE)(u)},invertBatch:u=>CF(c,u),cmov:(u,h,g)=>g?h:u});return Object.freeze(c)}function efe(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?r:e.neg(r)}function tfe(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const r=e.sqrt(t);return e.isOdd(r)?e.neg(r):r}function rfe(e,t,r=!1){e=(0,ls.ensureBytes)("privateHash",e);const n=e.length,i=mA(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error("hashToPrivateScalar: expected "+i+"-1024 bytes of input, got "+n);const o=r?(0,ls.bytesToNumberLE)(e):(0,ls.bytesToNumberBE)(e);return zs(o,t-ki)+ki}function vA(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function jF(e){const t=vA(e);return t+Math.ceil(t/2)}function nfe(e,t,r=!1){const n=e.length,i=vA(t),o=jF(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=r?(0,ls.bytesToNumberLE)(e):(0,ls.bytesToNumberBE)(e),a=zs(s,t-ki)+ki;return r?(0,ls.numberToBytesLE)(a,i):(0,ls.numberToBytesBE)(a,i)}Object.defineProperty(Ol,"__esModule",{value:!0});Ol.negateCt=Y3;Ol.normalizeZ=ife;Ol.wNAF=ofe;Ol.mulEndoUnsafe=sfe;Ol.pippenger=afe;Ol.precomputeMSMUnsafe=ufe;Ol.validateBasic=lfe;Ol._createCurveFields=cfe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const R0=np,C0=pn,uy=BigInt(0),hh=BigInt(1);function Y3(e,t){const r=t.negate();return e?r:t}function ife(e,t,r){const n=t==="pz"?o=>o.pz:o=>o.ez,i=(0,C0.FpInvertBatch)(e.Fp,r.map(n));return r.map((o,s)=>o.toAffine(i[s])).map(e.fromAffine)}function wA(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function __(e,t){wA(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,o=(0,R0.bitMask)(e),s=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:s}}function RN(e,t,r){const{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r;let a=Number(e&i),l=e>>s;a>n&&(a-=o,l+=hh);const c=t*n,u=c+Math.abs(a)-1,h=a===0,g=a<0,k=t%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:g,isNegF:k,offsetF:c}}function UF(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function zF(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const S_=new WeakMap,LF=new WeakMap;function k_(e){return LF.get(e)||1}function CN(e){if(e!==uy)throw new Error("invalid wNAF")}function ofe(e,t){return{constTimeNegate:Y3,hasPrecomputes(r){return k_(r)!==1},unsafeLadder(r,n,i=e.ZERO){let o=r;for(;n>uy;)n&hh&&(i=i.add(o)),o=o.double(),n>>=hh;return i},precomputeWindow(r,n){const{windows:i,windowSize:o}=__(n,t),s=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let u=1;u<o;u++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(r,n,i){let o=e.ZERO,s=e.BASE;const a=__(r,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:g,isNegF:k,offsetF:R}=RN(i,l,a);i=c,h?s=s.add(Y3(k,n[R])):o=o.add(Y3(g,n[u]))}return CN(i),{p:o,f:s}},wNAFUnsafe(r,n,i,o=e.ZERO){const s=__(r,t);for(let a=0;a<s.windows&&i!==uy;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=RN(i,a,s);if(i=l,!u){const g=n[c];o=o.add(h?g.negate():g)}}return CN(i),o},getPrecomputes(r,n,i){let o=S_.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(o=i(o)),S_.set(n,o))),o},wNAFCached(r,n,i){const o=k_(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){const s=k_(r);return s===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,r,i),n,o)},setWindowSize(r,n){wA(n,t),LF.set(r,n),S_.delete(r)}}}function sfe(e,t,r,n){let i=t,o=e.ZERO,s=e.ZERO;for(;r>uy||n>uy;)r&hh&&(o=o.add(i)),n&hh&&(s=s.add(i)),i=i.double(),r>>=hh,n>>=hh;return{p1:o,p2:s}}function afe(e,t,r,n){UF(r,e),zF(n,t);const i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=(0,R0.bitLen)(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=(0,R0.bitMask)(l),u=new Array(Number(c)+1).fill(s),h=Math.floor((t.BITS-1)/l)*l;let g=s;for(let k=h;k>=0;k-=l){u.fill(s);for(let F=0;F<o;F++){const D=n[F],$=Number(D>>BigInt(k)&c);u[$]=u[$].add(r[F])}let R=s;for(let F=u.length-1,D=s;F>0;F--)D=D.add(u[F]),R=R.add(D);if(g=g.add(R),k!==0)for(let F=0;F<l;F++)g=g.double()}return g}function ufe(e,t,r,n){wA(n,t.BITS),UF(r,e);const i=e.ZERO,o=2**n-1,s=Math.ceil(t.BITS/n),a=(0,R0.bitMask)(n),l=r.map(c=>{const u=[];for(let h=0,g=c;h<o;h++)u.push(g),g=g.add(c);return u});return c=>{if(zF(c,t),c.length>r.length)throw new Error("array of scalars must be smaller than array of points");let u=i;for(let h=0;h<s;h++){if(u!==i)for(let k=0;k<n;k++)u=u.double();const g=BigInt(s*n-(h+1)*n);for(let k=0;k<c.length;k++){const R=c[k],F=Number(R>>g&a);F&&(u=u.add(l[k][F-1]))}}return u}}function lfe(e){return(0,C0.validateField)(e.Fp),(0,R0.validateObject)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,C0.nLength)(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function jN(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return(0,C0.validateField)(t),t}else return(0,C0.Field)(e)}function cfe(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const s of["p","n","h"]){const a=t[s];if(!(typeof a=="bigint"&&a>uy))throw new Error(`CURVE.${s} must be positive bigint`)}const n=jN(t.p,r.Fp),i=jN(t.n,r.Fn),o=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const s of o)if(!n.isValid(t[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DER=e.DERErr=void 0,e._legacyHelperEquat=g,e._legacyHelperNormPriv=k,e.weierstrassN=R,e.weierstrassPoints=F,e.ecdsa=$,e.weierstrass=ae,e.SWUFpSqrtRatio=re,e.mapToCurveSimpleSWU=K;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=$v,r=np,n=Ol,i=pn;function o(C){C.lowS!==void 0&&(0,r.abool)("lowS",C.lowS),C.prehash!==void 0&&(0,r.abool)("prehash",C.prehash)}class s extends Error{constructor(G=""){super(G)}}e.DERErr=s,e.DER={Err:s,_tlv:{encode:(C,G)=>{const{Err:v}=e.DER;if(C<0||C>256)throw new v("tlv.encode: wrong tag");if(G.length&1)throw new v("tlv.encode: unpadded data");const I=G.length/2,p=(0,r.numberToHexUnpadded)(I);if(p.length/2&128)throw new v("tlv.encode: long form length too big");const _=I>127?(0,r.numberToHexUnpadded)(p.length/2|128):"";return(0,r.numberToHexUnpadded)(C)+_+p+G},decode(C,G){const{Err:v}=e.DER;let I=0;if(C<0||C>256)throw new v("tlv.encode: wrong tag");if(G.length<2||G[I++]!==C)throw new v("tlv.decode: wrong tlv");const p=G[I++],_=!!(p&128);let w=0;if(!_)w=p;else{const A=p&127;if(!A)throw new v("tlv.decode(long): indefinite length not supported");if(A>4)throw new v("tlv.decode(long): byte length is too big");const x=G.subarray(I,I+A);if(x.length!==A)throw new v("tlv.decode: length bytes not complete");if(x[0]===0)throw new v("tlv.decode(long): zero leftmost byte");for(const E of x)w=w<<8|E;if(I+=A,w<128)throw new v("tlv.decode(long): not minimal encoding")}const S=G.subarray(I,I+w);if(S.length!==w)throw new v("tlv.decode: wrong value length");return{v:S,l:G.subarray(I+w)}}},_int:{encode(C){const{Err:G}=e.DER;if(C<a)throw new G("integer: negative integers are not allowed");let v=(0,r.numberToHexUnpadded)(C);if(Number.parseInt(v[0],16)&8&&(v="00"+v),v.length&1)throw new G("unexpected DER parsing assertion: unpadded hex");return v},decode(C){const{Err:G}=e.DER;if(C[0]&128)throw new G("invalid signature integer: negative");if(C[0]===0&&!(C[1]&128))throw new G("invalid signature integer: unnecessary leading zero");return(0,r.bytesToNumberBE)(C)}},toSig(C){const{Err:G,_int:v,_tlv:I}=e.DER,p=(0,r.ensureBytes)("signature",C),{v:_,l:w}=I.decode(48,p);if(w.length)throw new G("invalid signature: left bytes after parsing");const{v:S,l:A}=I.decode(2,_),{v:x,l:E}=I.decode(2,A);if(E.length)throw new G("invalid signature: left bytes after parsing");return{r:v.decode(S),s:v.decode(x)}},hexFromSig(C){const{_tlv:G,_int:v}=e.DER,I=G.encode(2,v.encode(C.r)),p=G.encode(2,v.encode(C.s)),_=I+p;return G.encode(48,_)}};const a=BigInt(0),l=BigInt(1),c=BigInt(2),u=BigInt(3),h=BigInt(4);function g(C,G,v){function I(p){const _=C.sqr(p),w=C.mul(_,p);return C.add(C.add(w,C.mul(p,G)),v)}return I}function k(C,G,v){const{BYTES:I}=C;function p(_){let w;if(typeof _=="bigint")w=_;else{let S=(0,r.ensureBytes)("private key",_);if(G){if(!G.includes(S.length*2))throw new Error("invalid private key");const A=new Uint8Array(I);A.set(S,A.length-S.length),S=A}try{w=C.fromBytes(S)}catch{throw new Error(`invalid private key: expected ui8a of size ${I}, got ${typeof _}`)}}if(v&&(w=C.create(w)),!C.isValidNot0(w))throw new Error("invalid private key: out of range [1..N-1]");return w}return p}function R(C,G={}){const{Fp:v,Fn:I}=(0,n._createCurveFields)("weierstrass",C,G),{h:p,n:_}=C;(0,r._validateObject)(G,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:w}=G;if(w&&(!v.is0(C.a)||typeof w.beta!="bigint"||typeof w.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function S(){if(!v.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function A(Ce,P,Y){const{x:be,y:Ue}=P.toAffine(),Ke=v.toBytes(be);if((0,r.abool)("isCompressed",Y),Y){S();const rt=!v.isOdd(Ue);return(0,r.concatBytes)(D(rt),Ke)}else return(0,r.concatBytes)(Uint8Array.of(4),Ke,v.toBytes(Ue))}function x(Ce){(0,r.abytes)(Ce);const P=v.BYTES,Y=P+1,be=2*P+1,Ue=Ce.length,Ke=Ce[0],rt=Ce.subarray(1);if(Ue===Y&&(Ke===2||Ke===3)){const We=v.fromBytes(rt);if(!v.isValid(We))throw new Error("bad point: is not on curve, wrong x");const Qe=M(We);let d;try{d=v.sqrt(Qe)}catch(H){const te=H instanceof Error?": "+H.message:"";throw new Error("bad point: is not on curve, sqrt error"+te)}S();const b=v.isOdd(d);return(Ke&1)===1!==b&&(d=v.neg(d)),{x:We,y:d}}else if(Ue===be&&Ke===4){const We=v.fromBytes(rt.subarray(P*0,P*1)),Qe=v.fromBytes(rt.subarray(P*1,P*2));if(!Q(We,Qe))throw new Error("bad point: is not on curve");return{x:We,y:Qe}}else throw new Error(`bad point: got length ${Ue}, expected compressed=${Y} or uncompressed=${be}`)}const E=G.toBytes||A,T=G.fromBytes||x,M=g(v,C.a,C.b);function Q(Ce,P){const Y=v.sqr(P),be=M(Ce);return v.eql(Y,be)}if(!Q(C.Gx,C.Gy))throw new Error("bad curve params: generator point");const he=v.mul(v.pow(C.a,u),h),ue=v.mul(v.sqr(C.b),BigInt(27));if(v.is0(v.add(he,ue)))throw new Error("bad curve params: a or b");function W(Ce,P,Y=!1){if(!v.isValid(P)||Y&&v.is0(P))throw new Error(`bad point coordinate ${Ce}`);return P}function se(Ce){if(!(Ce instanceof Ee))throw new Error("ProjectivePoint expected")}const Z=(0,r.memoized)((Ce,P)=>{const{px:Y,py:be,pz:Ue}=Ce;if(v.eql(Ue,v.ONE))return{x:Y,y:be};const Ke=Ce.is0();P==null&&(P=Ke?v.ONE:v.inv(Ue));const rt=v.mul(Y,P),We=v.mul(be,P),Qe=v.mul(Ue,P);if(Ke)return{x:v.ZERO,y:v.ZERO};if(!v.eql(Qe,v.ONE))throw new Error("invZ was invalid");return{x:rt,y:We}}),ie=(0,r.memoized)(Ce=>{if(Ce.is0()){if(G.allowInfinityPoint&&!v.is0(Ce.py))return;throw new Error("bad point: ZERO")}const{x:P,y:Y}=Ce.toAffine();if(!v.isValid(P)||!v.isValid(Y))throw new Error("bad point: x or y not field elements");if(!Q(P,Y))throw new Error("bad point: equation left != right");if(!Ce.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function pe(Ce,P,Y,be,Ue){return Y=new Ee(v.mul(Y.px,Ce),Y.py,Y.pz),P=(0,n.negateCt)(be,P),Y=(0,n.negateCt)(Ue,Y),P.add(Y)}class Ee{constructor(P,Y,be){this.px=W("x",P),this.py=W("y",Y,!0),this.pz=W("z",be),Object.freeze(this)}static fromAffine(P){const{x:Y,y:be}=P||{};if(!P||!v.isValid(Y)||!v.isValid(be))throw new Error("invalid affine point");if(P instanceof Ee)throw new Error("projective point not allowed");return v.is0(Y)&&v.is0(be)?Ee.ZERO:new Ee(Y,be,v.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(P){return(0,n.normalizeZ)(Ee,"pz",P)}static fromBytes(P){return(0,r.abytes)(P),Ee.fromHex(P)}static fromHex(P){const Y=Ee.fromAffine(T((0,r.ensureBytes)("pointHex",P)));return Y.assertValidity(),Y}static fromPrivateKey(P){const Y=k(I,G.allowedPrivateKeyLengths,G.wrapPrivateKey);return Ee.BASE.multiply(Y(P))}static msm(P,Y){return(0,n.pippenger)(Ee,I,P,Y)}precompute(P=8,Y=!0){return Re.setWindowSize(this,P),Y||this.multiply(u),this}_setWindowSize(P){this.precompute(P)}assertValidity(){ie(this)}hasEvenY(){const{y:P}=this.toAffine();if(!v.isOdd)throw new Error("Field doesn't support isOdd");return!v.isOdd(P)}equals(P){se(P);const{px:Y,py:be,pz:Ue}=this,{px:Ke,py:rt,pz:We}=P,Qe=v.eql(v.mul(Y,We),v.mul(Ke,Ue)),d=v.eql(v.mul(be,We),v.mul(rt,Ue));return Qe&&d}negate(){return new Ee(this.px,v.neg(this.py),this.pz)}double(){const{a:P,b:Y}=C,be=v.mul(Y,u),{px:Ue,py:Ke,pz:rt}=this;let We=v.ZERO,Qe=v.ZERO,d=v.ZERO,b=v.mul(Ue,Ue),H=v.mul(Ke,Ke),te=v.mul(rt,rt),ce=v.mul(Ue,Ke);return ce=v.add(ce,ce),d=v.mul(Ue,rt),d=v.add(d,d),We=v.mul(P,d),Qe=v.mul(be,te),Qe=v.add(We,Qe),We=v.sub(H,Qe),Qe=v.add(H,Qe),Qe=v.mul(We,Qe),We=v.mul(ce,We),d=v.mul(be,d),te=v.mul(P,te),ce=v.sub(b,te),ce=v.mul(P,ce),ce=v.add(ce,d),d=v.add(b,b),b=v.add(d,b),b=v.add(b,te),b=v.mul(b,ce),Qe=v.add(Qe,b),te=v.mul(Ke,rt),te=v.add(te,te),b=v.mul(te,ce),We=v.sub(We,b),d=v.mul(te,H),d=v.add(d,d),d=v.add(d,d),new Ee(We,Qe,d)}add(P){se(P);const{px:Y,py:be,pz:Ue}=this,{px:Ke,py:rt,pz:We}=P;let Qe=v.ZERO,d=v.ZERO,b=v.ZERO;const H=C.a,te=v.mul(C.b,u);let ce=v.mul(Y,Ke),z=v.mul(be,rt),X=v.mul(Ue,We),oe=v.add(Y,be),N=v.add(Ke,rt);oe=v.mul(oe,N),N=v.add(ce,z),oe=v.sub(oe,N),N=v.add(Y,Ue);let L=v.add(Ke,We);return N=v.mul(N,L),L=v.add(ce,X),N=v.sub(N,L),L=v.add(be,Ue),Qe=v.add(rt,We),L=v.mul(L,Qe),Qe=v.add(z,X),L=v.sub(L,Qe),b=v.mul(H,N),Qe=v.mul(te,X),b=v.add(Qe,b),Qe=v.sub(z,b),b=v.add(z,b),d=v.mul(Qe,b),z=v.add(ce,ce),z=v.add(z,ce),X=v.mul(H,X),N=v.mul(te,N),z=v.add(z,X),X=v.sub(ce,X),X=v.mul(H,X),N=v.add(N,X),ce=v.mul(z,N),d=v.add(d,ce),ce=v.mul(L,N),Qe=v.mul(oe,Qe),Qe=v.sub(Qe,ce),ce=v.mul(oe,z),b=v.mul(L,b),b=v.add(b,ce),new Ee(Qe,d,b)}subtract(P){return this.add(P.negate())}is0(){return this.equals(Ee.ZERO)}multiply(P){const{endo:Y}=G;if(!I.isValidNot0(P))throw new Error("invalid scalar: out of range");let be,Ue;const Ke=rt=>Re.wNAFCached(this,rt,Ee.normalizeZ);if(Y){const{k1neg:rt,k1:We,k2neg:Qe,k2:d}=Y.splitScalar(P),{p:b,f:H}=Ke(We),{p:te,f:ce}=Ke(d);Ue=H.add(ce),be=pe(Y.beta,b,te,rt,Qe)}else{const{p:rt,f:We}=Ke(P);be=rt,Ue=We}return Ee.normalizeZ([be,Ue])[0]}multiplyUnsafe(P){const{endo:Y}=G,be=this;if(!I.isValid(P))throw new Error("invalid scalar: out of range");if(P===a||be.is0())return Ee.ZERO;if(P===l)return be;if(Re.hasPrecomputes(this))return this.multiply(P);if(Y){const{k1neg:Ue,k1:Ke,k2neg:rt,k2:We}=Y.splitScalar(P),{p1:Qe,p2:d}=(0,n.mulEndoUnsafe)(Ee,be,Ke,We);return pe(Y.beta,Qe,d,Ue,rt)}else return Re.wNAFCachedUnsafe(be,P)}multiplyAndAddUnsafe(P,Y,be){const Ue=this.multiplyUnsafe(Y).add(P.multiplyUnsafe(be));return Ue.is0()?void 0:Ue}toAffine(P){return Z(this,P)}isTorsionFree(){const{isTorsionFree:P}=G;return p===l?!0:P?P(Ee,this):Re.wNAFCachedUnsafe(this,_).is0()}clearCofactor(){const{clearCofactor:P}=G;return p===l?this:P?P(Ee,this):this.multiplyUnsafe(p)}toBytes(P=!0){return(0,r.abool)("isCompressed",P),this.assertValidity(),E(Ee,this,P)}toRawBytes(P=!0){return this.toBytes(P)}toHex(P=!0){return(0,r.bytesToHex)(this.toBytes(P))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}Ee.BASE=new Ee(C.Gx,C.Gy,v.ONE),Ee.ZERO=new Ee(v.ZERO,v.ONE,v.ZERO),Ee.Fp=v,Ee.Fn=I;const Oe=I.BITS,Re=(0,n.wNAF)(Ee,G.endo?Math.ceil(Oe/2):Oe);return Ee}function F(C){const{CURVE:G,curveOpts:v}=B(C),I=R(G,v);return q(C,I)}function D(C){return Uint8Array.of(C?2:3)}function $(C,G,v={}){(0,r._validateObject)(G,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const I=G.randomBytes||r.randomBytes,p=G.hmac||((be,...Ue)=>(0,t.hmac)(G.hash,be,(0,r.concatBytes)(...Ue))),{Fp:_,Fn:w}=C,{ORDER:S,BITS:A}=w;function x(be){const Ue=S>>l;return be>Ue}function E(be){return x(be)?w.neg(be):be}function T(be,Ue){if(!w.isValidNot0(Ue))throw new Error(`invalid signature ${be}: out of range 1..CURVE.n`)}class M{constructor(Ue,Ke,rt){T("r",Ue),T("s",Ke),this.r=Ue,this.s=Ke,rt!=null&&(this.recovery=rt),Object.freeze(this)}static fromCompact(Ue){const Ke=w.BYTES,rt=(0,r.ensureBytes)("compactSignature",Ue,Ke*2);return new M(w.fromBytes(rt.subarray(0,Ke)),w.fromBytes(rt.subarray(Ke,Ke*2)))}static fromDER(Ue){const{r:Ke,s:rt}=e.DER.toSig((0,r.ensureBytes)("DER",Ue));return new M(Ke,rt)}assertValidity(){}addRecoveryBit(Ue){return new M(this.r,this.s,Ue)}recoverPublicKey(Ue){const Ke=_.ORDER,{r:rt,s:We,recovery:Qe}=this;if(Qe==null||![0,1,2,3].includes(Qe))throw new Error("recovery id invalid");if(S*c<Ke&&Qe>1)throw new Error("recovery id is ambiguous for h>1 curve");const d=Qe===2||Qe===3?rt+S:rt;if(!_.isValid(d))throw new Error("recovery id 2 or 3 invalid");const b=_.toBytes(d),H=C.fromHex((0,r.concatBytes)(D((Qe&1)===0),b)),te=w.inv(d),ce=ie((0,r.ensureBytes)("msgHash",Ue)),z=w.create(-ce*te),X=w.create(We*te),oe=C.BASE.multiplyUnsafe(z).add(H.multiplyUnsafe(X));if(oe.is0())throw new Error("point at infinify");return oe.assertValidity(),oe}hasHighS(){return x(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,w.neg(this.s),this.recovery):this}toBytes(Ue){if(Ue==="compact")return(0,r.concatBytes)(w.toBytes(this.r),w.toBytes(this.s));if(Ue==="der")return(0,r.hexToBytes)(e.DER.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return(0,r.bytesToHex)(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return(0,r.bytesToHex)(this.toBytes("compact"))}}const Q=k(w,v.allowedPrivateKeyLengths,v.wrapPrivateKey),he={isValidPrivateKey(be){try{return Q(be),!0}catch{return!1}},normPrivateKeyToScalar:Q,randomPrivateKey:()=>{const be=S;return(0,i.mapHashToField)(I((0,i.getMinHashLength)(be)),be)},precompute(be=8,Ue=C.BASE){return Ue.precompute(be,!1)}};function ue(be,Ue=!0){return C.fromPrivateKey(be).toBytes(Ue)}function W(be){if(typeof be=="bigint")return!1;if(be instanceof C)return!0;const Ue=(0,r.ensureBytes)("key",be).length,Ke=_.BYTES,rt=Ke+1,We=2*Ke+1;if(!(v.allowedPrivateKeyLengths||w.BYTES===rt))return Ue===rt||Ue===We}function se(be,Ue,Ke=!0){if(W(be)===!0)throw new Error("first arg must be private key");if(W(Ue)===!1)throw new Error("second arg must be public key");return C.fromHex(Ue).multiply(Q(be)).toBytes(Ke)}const Z=G.bits2int||function(be){if(be.length>8192)throw new Error("input is too large");const Ue=(0,r.bytesToNumberBE)(be),Ke=be.length*8-A;return Ke>0?Ue>>BigInt(Ke):Ue},ie=G.bits2int_modN||function(be){return w.create(Z(be))},pe=(0,r.bitMask)(A);function Ee(be){return(0,r.aInRange)("num < 2^"+A,be,a,pe),w.toBytes(be)}function Oe(be,Ue,Ke=Re){if(["recovered","canonical"].some(oe=>oe in Ke))throw new Error("sign() legacy options not supported");const{hash:rt}=G;let{lowS:We,prehash:Qe,extraEntropy:d}=Ke;We==null&&(We=!0),be=(0,r.ensureBytes)("msgHash",be),o(Ke),Qe&&(be=(0,r.ensureBytes)("prehashed msgHash",rt(be)));const b=ie(be),H=Q(Ue),te=[Ee(H),Ee(b)];if(d!=null&&d!==!1){const oe=d===!0?I(_.BYTES):d;te.push((0,r.ensureBytes)("extraEntropy",oe))}const ce=(0,r.concatBytes)(...te),z=b;function X(oe){const N=Z(oe);if(!w.isValidNot0(N))return;const L=w.inv(N),J=C.BASE.multiply(N).toAffine(),ge=w.create(J.x);if(ge===a)return;const le=w.create(L*w.create(z+ge*H));if(le===a)return;let Me=(J.x===ge?0:2)|Number(J.y&l),De=le;return We&&x(le)&&(De=E(le),Me^=1),new M(ge,De,Me)}return{seed:ce,k2sig:X}}const Re={lowS:G.lowS,prehash:!1},Ce={lowS:G.lowS,prehash:!1};function P(be,Ue,Ke=Re){const{seed:rt,k2sig:We}=Oe(be,Ue,Ke);return(0,r.createHmacDrbg)(G.hash.outputLen,w.BYTES,p)(rt,We)}C.BASE.precompute(8);function Y(be,Ue,Ke,rt=Ce){const We=be;Ue=(0,r.ensureBytes)("msgHash",Ue),Ke=(0,r.ensureBytes)("publicKey",Ke),o(rt);const{lowS:Qe,prehash:d,format:b}=rt;if("strict"in rt)throw new Error("options.strict was renamed to lowS");if(b!==void 0&&!["compact","der","js"].includes(b))throw new Error('format must be "compact", "der" or "js"');const H=typeof We=="string"||(0,r.isBytes)(We),te=!H&&!b&&typeof We=="object"&&We!==null&&typeof We.r=="bigint"&&typeof We.s=="bigint";if(!H&&!te)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ce,z;try{if(te)if(b===void 0||b==="js")ce=new M(We.r,We.s);else throw new Error("invalid format");if(H){try{b!=="compact"&&(ce=M.fromDER(We))}catch(Me){if(!(Me instanceof e.DER.Err))throw Me}!ce&&b!=="der"&&(ce=M.fromCompact(We))}z=C.fromHex(Ke)}catch{return!1}if(!ce||Qe&&ce.hasHighS())return!1;d&&(Ue=G.hash(Ue));const{r:X,s:oe}=ce,N=ie(Ue),L=w.inv(oe),J=w.create(N*L),ge=w.create(X*L),le=C.BASE.multiplyUnsafe(J).add(z.multiplyUnsafe(ge));return le.is0()?!1:w.create(le.x)===X}return Object.freeze({getPublicKey:ue,getSharedSecret:se,sign:P,verify:Y,utils:he,Point:C,Signature:M})}function B(C){const G={a:C.a,b:C.b,p:C.Fp.ORDER,n:C.n,h:C.h,Gx:C.Gx,Gy:C.Gy},v=C.Fp,I=(0,i.Field)(G.n,C.nBitLength),p={Fp:v,Fn:I,allowedPrivateKeyLengths:C.allowedPrivateKeyLengths,allowInfinityPoint:C.allowInfinityPoint,endo:C.endo,wrapPrivateKey:C.wrapPrivateKey,isTorsionFree:C.isTorsionFree,clearCofactor:C.clearCofactor,fromBytes:C.fromBytes,toBytes:C.toBytes};return{CURVE:G,curveOpts:p}}function U(C){const{CURVE:G,curveOpts:v}=B(C),I={hash:C.hash,hmac:C.hmac,randomBytes:C.randomBytes,lowS:C.lowS,bits2int:C.bits2int,bits2int_modN:C.bits2int_modN};return{CURVE:G,curveOpts:v,ecdsaOpts:I}}function q(C,G){const{Fp:v,Fn:I}=G;function p(S){return(0,r.inRange)(S,l,I.ORDER)}const _=g(v,C.a,C.b),w=k(I,C.allowedPrivateKeyLengths,C.wrapPrivateKey);return Object.assign({},{CURVE:C,Point:G,ProjectivePoint:G,normPrivateKeyToScalar:w,weierstrassEquation:_,isWithinCurveOrder:p})}function ee(C,G){return Object.assign({},G,{ProjectivePoint:G.Point,CURVE:C})}function ae(C){const{CURVE:G,curveOpts:v,ecdsaOpts:I}=U(C),p=R(G,v),_=$(p,I,v);return ee(C,_)}function re(C,G){const v=C.ORDER;let I=a;for(let he=v-l;he%c===a;he/=c)I+=l;const p=I,_=c<<p-l-l,w=_*c,S=(v-l)/w,A=(S-l)/c,x=w-l,E=_,T=C.pow(G,S),M=C.pow(G,(S+l)/c);let Q=(he,ue)=>{let W=T,se=C.pow(ue,x),Z=C.sqr(se);Z=C.mul(Z,ue);let ie=C.mul(he,Z);ie=C.pow(ie,A),ie=C.mul(ie,se),se=C.mul(ie,ue),Z=C.mul(ie,he);let pe=C.mul(Z,se);ie=C.pow(pe,E);let Ee=C.eql(ie,C.ONE);se=C.mul(Z,M),ie=C.mul(pe,W),Z=C.cmov(se,Z,Ee),pe=C.cmov(ie,pe,Ee);for(let Oe=p;Oe>l;Oe--){let Re=Oe-c;Re=c<<Re-l;let Ce=C.pow(pe,Re);const P=C.eql(Ce,C.ONE);se=C.mul(Z,W),W=C.mul(W,W),Ce=C.mul(pe,W),Z=C.cmov(se,Z,P),pe=C.cmov(Ce,pe,P)}return{isValid:Ee,value:Z}};if(C.ORDER%h===u){const he=(C.ORDER-u)/h,ue=C.sqrt(C.neg(G));Q=(W,se)=>{let Z=C.sqr(se);const ie=C.mul(W,se);Z=C.mul(Z,ie);let pe=C.pow(Z,he);pe=C.mul(pe,ie);const Ee=C.mul(pe,ue),Oe=C.mul(C.sqr(pe),se),Re=C.eql(Oe,W);let Ce=C.cmov(Ee,pe,Re);return{isValid:Re,value:Ce}}}return Q}function K(C,G){(0,i.validateField)(C);const{A:v,B:I,Z:p}=G;if(!C.isValid(v)||!C.isValid(I)||!C.isValid(p))throw new Error("mapToCurveSimpleSWU: invalid opts");const _=re(C,p);if(!C.isOdd)throw new Error("Field does not have .isOdd()");return w=>{let S,A,x,E,T,M,Q,he;S=C.sqr(w),S=C.mul(S,p),A=C.sqr(S),A=C.add(A,S),x=C.add(A,C.ONE),x=C.mul(x,I),E=C.cmov(p,C.neg(A),!C.eql(A,C.ZERO)),E=C.mul(E,v),A=C.sqr(x),M=C.sqr(E),T=C.mul(M,v),A=C.add(A,T),A=C.mul(A,x),M=C.mul(M,E),T=C.mul(M,I),A=C.add(A,T),Q=C.mul(S,x);const{isValid:ue,value:W}=_(A,M);he=C.mul(S,w),he=C.mul(he,W),Q=C.cmov(Q,x,ue),he=C.cmov(he,W,ue);const se=C.isOdd(w)===C.isOdd(he);he=C.cmov(C.neg(he),he,se);const Z=(0,i.FpInvertBatch)(C,[E],!0)[0];return Q=C.mul(Q,Z),{x:Q,y:he}}}})(gA);Object.defineProperty(D4,"__esModule",{value:!0});D4.getHash=dfe;D4.createCurve=hfe;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ffe=gA;function dfe(e){return{hash:e}}function hfe(e,t){const r=n=>(0,ffe.weierstrass)({...e,hash:n});return{...r(t),create:r}}var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.expand_message_xmd=FF;ip.expand_message_xof=DF;ip.hash_to_field=b9;ip.isogenyMap=yfe;ip.createHasher=mfe;const Mi=np,$F=pn,pfe=Mi.bytesToNumberBE;function Mf(e,t){if(j0(e),j0(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function gfe(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function j0(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function FF(e,t,r,n){(0,Mi.abytes)(e),(0,Mi.abytes)(t),j0(r),t.length>255&&(t=n((0,Mi.concatBytes)((0,Mi.utf8ToBytes)("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(r>65535||s>255)throw new Error("expand_message_xmd: invalid lenInBytes");const a=(0,Mi.concatBytes)(t,Mf(t.length,1)),l=Mf(0,o),c=Mf(r,2),u=new Array(s),h=n((0,Mi.concatBytes)(l,e,c,Mf(0,1),a));u[0]=n((0,Mi.concatBytes)(h,Mf(1,1),a));for(let g=1;g<=s;g++){const k=[gfe(h,u[g-1]),Mf(g+1,1),a];u[g]=n((0,Mi.concatBytes)(...k))}return(0,Mi.concatBytes)(...u).slice(0,r)}function DF(e,t,r,n,i){if((0,Mi.abytes)(e),(0,Mi.abytes)(t),j0(r),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update((0,Mi.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(Mf(r,2)).update(t).update(Mf(t.length,1)).digest()}function b9(e,t,r){(0,Mi._validateObject)(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:i,m:o,hash:s,expand:a,DST:l}=r;if(!(0,Mi.isBytes)(l)&&typeof l!="string")throw new Error("DST must be string or uint8array");if(!(0,Mi.isHash)(r.hash))throw new Error("expected valid hash");(0,Mi.abytes)(e),j0(t);const c=typeof l=="string"?(0,Mi.utf8ToBytes)(l):l,u=n.toString(2).length,h=Math.ceil((u+i)/8),g=t*o*h;let k;if(a==="xmd")k=FF(e,c,g,s);else if(a==="xof")k=DF(e,c,g,i,s);else if(a==="_internal_pass")k=e;else throw new Error('expand must be "xmd" or "xof"');const R=new Array(t);for(let F=0;F<t;F++){const D=new Array(o);for(let $=0;$<o;$++){const B=h*($+F*o),U=k.subarray(B,B+h);D[$]=(0,$F.mod)(pfe(U),n)}R[F]=D}return R}function yfe(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,s,a,l]=r.map(h=>h.reduce((g,k)=>e.add(e.mul(g,n),k))),[c,u]=(0,$F.FpInvertBatch)(e,[s,l],!0);return n=e.mul(o,c),i=e.mul(i,e.mul(a,u)),{x:n,y:i}}}function mfe(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(o){return e.fromAffine(t(o))}function i(o){const s=o.clearCofactor();return s.equals(e.ZERO)?e.ZERO:(s.assertValidity(),s)}return{defaults:r,hashToCurve(o,s){const a=r.DST?r.DST:{},l=Object.assign({},r,a,s),c=b9(o,2,l),u=n(c[0]),h=n(c[1]);return i(u.add(h))},encodeToCurve(o,s){const a=r.encodeDST?r.encodeDST:{},l=Object.assign({},r,a,s),c=b9(o,1,l);return i(n(c[0]))},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const s of o)if(typeof s!="bigint")throw new Error("expected array of bigints");return i(n(o))}}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.encodeToCurve=e.hashToCurve=e.secp256k1_hasher=e.schnorr=e.secp256k1=void 0;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=an,r=Zr,n=D4,i=ip,o=pn,s=gA,a=np,l={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},c=BigInt(0),u=BigInt(1),h=BigInt(2),g=(S,A)=>(S+A/h)/A;function k(S){const A=l.p,x=BigInt(3),E=BigInt(6),T=BigInt(11),M=BigInt(22),Q=BigInt(23),he=BigInt(44),ue=BigInt(88),W=S*S*S%A,se=W*W*S%A,Z=(0,o.pow2)(se,x,A)*se%A,ie=(0,o.pow2)(Z,x,A)*se%A,pe=(0,o.pow2)(ie,h,A)*W%A,Ee=(0,o.pow2)(pe,T,A)*pe%A,Oe=(0,o.pow2)(Ee,M,A)*Ee%A,Re=(0,o.pow2)(Oe,he,A)*Oe%A,Ce=(0,o.pow2)(Re,ue,A)*Re%A,P=(0,o.pow2)(Ce,he,A)*Oe%A,Y=(0,o.pow2)(P,x,A)*se%A,be=(0,o.pow2)(Y,Q,A)*Ee%A,Ue=(0,o.pow2)(be,E,A)*W%A,Ke=(0,o.pow2)(Ue,h,A);if(!R.eql(R.sqr(Ke),S))throw new Error("Cannot find square root");return Ke}const R=(0,o.Field)(l.p,void 0,void 0,{sqrt:k});e.secp256k1=(0,n.createCurve)({...l,Fp:R,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:S=>{const A=l.n,x=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),E=-u*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),T=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),M=x,Q=BigInt("0x100000000000000000000000000000000"),he=g(M*S,A),ue=g(-E*S,A);let W=(0,o.mod)(S-he*x-ue*T,A),se=(0,o.mod)(-he*E-ue*M,A);const Z=W>Q,ie=se>Q;if(Z&&(W=A-W),ie&&(se=A-se),W>Q||se>Q)throw new Error("splitScalar: Endomorphism failed, k="+S);return{k1neg:Z,k1:W,k2neg:ie,k2:se}}}},t.sha256);const F={};function D(S,...A){let x=F[S];if(x===void 0){const E=(0,t.sha256)(Uint8Array.from(S,T=>T.charCodeAt(0)));x=(0,a.concatBytes)(E,E),F[S]=x}return(0,t.sha256)((0,a.concatBytes)(x,...A))}const $=S=>S.toBytes(!0).slice(1),B=S=>(0,a.numberToBytesBE)(S,32),U=S=>(0,o.mod)(S,l.p),q=S=>(0,o.mod)(S,l.n),ee=e.secp256k1.Point,ae=S=>S%h===c;function re(S){let A=e.secp256k1.utils.normPrivateKeyToScalar(S),x=ee.fromPrivateKey(A);return{scalar:ae(x.y)?A:q(-A),bytes:$(x)}}function K(S){(0,a.aInRange)("x",S,u,l.p);const A=U(S*S),x=U(A*S+BigInt(7));let E=k(x);ae(E)||(E=U(-E));const T=ee.fromAffine({x:S,y:E});return T.assertValidity(),T}const C=a.bytesToNumberBE;function G(...S){return q(C(D("BIP0340/challenge",...S)))}function v(S){return re(S).bytes}function I(S,A,x=(0,r.randomBytes)(32)){const E=(0,a.ensureBytes)("message",S),{bytes:T,scalar:M}=re(A),Q=(0,a.ensureBytes)("auxRand",x,32),he=B(M^C(D("BIP0340/aux",Q))),ue=D("BIP0340/nonce",he,T,E),W=q(C(ue));if(W===c)throw new Error("sign failed: k is zero");const{bytes:se,scalar:Z}=re(W),ie=G(se,T,E),pe=new Uint8Array(64);if(pe.set(se,0),pe.set(B(q(Z+ie*M)),32),!p(pe,E,T))throw new Error("sign: Invalid signature produced");return pe}function p(S,A,x){const E=(0,a.ensureBytes)("signature",S,64),T=(0,a.ensureBytes)("message",A),M=(0,a.ensureBytes)("publicKey",x,32);try{const Q=K(C(M)),he=C(E.subarray(0,32));if(!(0,a.inRange)(he,u,l.p))return!1;const ue=C(E.subarray(32,64));if(!(0,a.inRange)(ue,u,l.n))return!1;const W=G(B(he),$(Q),T),se=ee.BASE.multiplyUnsafe(ue).add(Q.multiplyUnsafe(q(-W))),{x:Z,y:ie}=se.toAffine();return!(se.is0()||!ae(ie)||Z!==he)}catch{return!1}}e.schnorr={getPublicKey:v,sign:I,verify:p,utils:{randomPrivateKey:e.secp256k1.utils.randomPrivateKey,lift_x:K,pointToBytes:$,numberToBytesBE:a.numberToBytesBE,bytesToNumberBE:a.bytesToNumberBE,taggedHash:D,mod:o.mod}};const _=(0,i.isogenyMap)(R,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(S=>S.map(A=>BigInt(A)))),w=(0,s.mapToCurveSimpleSWU)(R,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:R.create(BigInt("-11"))});e.secp256k1_hasher=(0,i.createHasher)(e.secp256k1.Point,S=>{const{x:A,y:x}=w(R.create(S[0]));return _(A,x)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:R.ORDER,m:1,k:128,expand:"xmd",hash:t.sha256}),e.hashToCurve=e.secp256k1_hasher.hashToCurve,e.encodeToCurve=e.secp256k1_hasher.encodeToCurve})(dA);var HF={};(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(np,e)})(HF);var Ji=dA,bfe=pn,vfe=HF;function KF(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,Object.freeze(t)}var VF=KF(bfe),sd=KF(vfe);const EA=Ji.secp256k1.ProjectivePoint,vd="Expected Private",wd="Expected Point",Fv="Expected Tweak",wfe="Expected Hash",Xb="Expected Signature",_A="Expected Extra Data (32 bytes)",Dv="Expected Scalar",Efe="Bad Recovery Id",_fe=32,Sfe=32,v9=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),kfe=32,xfe=new Uint8Array(32),Afe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]),Ofe=BigInt(1);function Pfe(e){return e instanceof Uint8Array}function U0(e,t){for(let r=0;r<32;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function UN(e){return U0(e,xfe)===0}function Hv(e){return!(!(e instanceof Uint8Array)||e.length!==Sfe||U0(e,v9)>=0)}function SA(e){return e instanceof Uint8Array&&e.length===64&&U0(e.subarray(0,32),v9)<0&&U0(e.subarray(32,64),v9)<0}function Tfe(e){return Pfe(e)&&e.length===64&&U0(e.subarray(0,32),Afe)<0}function Ife(e){return!(UN(e.subarray(0,32))||UN(e.subarray(32,64)))}function Dy(e){return e instanceof Uint8Array&&e.length===_fe}function kA(e){return e===void 0||e instanceof Uint8Array&&e.length===kfe}function xA(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if(typeof e=="string"){if(e.length!==64)throw new Error("Expected 32 bytes of private scalar");t=sd.hexToNumber(e)}else if(e instanceof Uint8Array){if(e.length!==32)throw new Error("Expected 32 bytes of private scalar");t=sd.bytesToNumberBE(e)}else throw new TypeError("Expected valid private scalar");if(t<0)throw new Error("Expected private scalar >= 0");return t}function AA(e){return Ji.secp256k1.utils.normPrivateKeyToScalar(e)}function Bfe(e,t){const r=AA(e),n=xA(t),i=sd.numberToBytesBE(VF.mod(r+n,Ji.secp256k1.CURVE.n),32);return Ji.secp256k1.utils.isValidPrivateKey(i)?i:null}function Nfe(e,t){const r=AA(e),n=xA(t),i=sd.numberToBytesBE(VF.mod(r-n,Ji.secp256k1.CURVE.n),32);return Ji.secp256k1.utils.isValidPrivateKey(i)?i:null}function Mfe(e){const t=AA(e),r=sd.numberToBytesBE(Ji.secp256k1.CURVE.n-t,32);return Ji.secp256k1.utils.isValidPrivateKey(r)?r:null}function WF(e,t,r){const n=z0(e),i=xA(t),o=EA.BASE.multiplyAndAddUnsafe(n,i,Ofe);if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)}function Rfe(e,t,r){const n=z0(e),i=typeof t=="string"?t:sd.bytesToHex(t),o=sd.hexToNumber(i);return n.multiply(o).toRawBytes(r)}function Hy(e,t){return e===void 0?t!==void 0?ZF(t):!0:!!e}function op(e){try{return e()}catch{return null}}function qF(e){return Ji.schnorr.utils.lift_x(sd.bytesToNumberBE(e))}function z0(e){return e.length===32?qF(e):EA.fromHex(e)}function OA(e,t){if(e.length===32!==t)return!1;try{return t?!!qF(e):!!EA.fromHex(e)}catch{return!1}}function ad(e){return OA(e,!1)}function ZF(e){return OA(e,!1)&&e.length===33}function zc(e){return Ji.secp256k1.utils.isValidPrivateKey(e)}function H4(e){return OA(e,!0)}function Cfe(e,t){if(!H4(e))throw new Error(wd);if(!Hv(t))throw new Error(Fv);return op(()=>{const r=WF(e,t,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function GF(e){if(!ad(e))throw new Error(wd);return e.slice(1,33)}function XF(e,t){if(!zc(e))throw new Error(vd);return op(()=>Ji.secp256k1.getPublicKey(e,Hy(t)))}function jfe(e){if(!zc(e))throw new Error(vd);return GF(XF(e))}function Ufe(e,t){if(!ad(e))throw new Error(wd);return z0(e).toRawBytes(Hy(t,e))}function zfe(e,t,r){if(!ad(e))throw new Error(wd);if(!Hv(t))throw new Error(Fv);return op(()=>Rfe(e,t,Hy(r,e)))}function Lfe(e,t,r){if(!ad(e)||!ad(t))throw new Error(wd);return op(()=>{const n=z0(e),i=z0(t);return n.equals(i.negate())?null:n.add(i).toRawBytes(Hy(r,e))})}function $fe(e,t,r){if(!ad(e))throw new Error(wd);if(!Hv(t))throw new Error(Fv);return op(()=>WF(e,t,Hy(r,e)))}function Ffe(e,t){if(!zc(e))throw new Error(vd);if(!Hv(t))throw new Error(Fv);return op(()=>Bfe(e,t))}function Dfe(e,t){if(!zc(e))throw new Error(vd);if(!Hv(t))throw new Error(Fv);return op(()=>Nfe(e,t))}function Hfe(e){if(!zc(e))throw new Error(vd);return Mfe(e)}function Kfe(e,t,r){if(!zc(t))throw new Error(vd);if(!Dy(e))throw new Error(Dv);if(!kA(r))throw new Error(_A);return Ji.secp256k1.sign(e,t,{extraEntropy:r}).toCompactRawBytes()}function Vfe(e,t,r){if(!zc(t))throw new Error(vd);if(!Dy(e))throw new Error(Dv);if(!kA(r))throw new Error(_A);const n=Ji.secp256k1.sign(e,t,{extraEntropy:r});return{signature:n.toCompactRawBytes(),recoveryId:n.recovery}}function Wfe(e,t,r){if(!zc(t))throw new Error(vd);if(!Dy(e))throw new Error(Dv);if(!kA(r))throw new Error(_A);return Ji.schnorr.sign(e,t,r)}function qfe(e,t,r,n){if(!Dy(e))throw new Error(wfe);if(!SA(t)||!Ife(t))throw new Error(Xb);if(r&2&&!Tfe(t))throw new Error(Efe);if(!H4(t.subarray(0,32)))throw new Error(Xb);const i=Ji.secp256k1.Signature.fromCompact(t).addRecoveryBit(r).recoverPublicKey(e);if(!i)throw new Error(Xb);return i.toRawBytes(Hy(n))}function Zfe(e,t,r,n){if(!ad(t))throw new Error(wd);if(!SA(r))throw new Error(Xb);if(!Dy(e))throw new Error(Dv);return Ji.secp256k1.verify(r,e,t,{lowS:n})}function Gfe(e,t,r){if(!H4(t))throw new Error(wd);if(!SA(r))throw new Error(Xb);if(!Dy(e))throw new Error(Dv);return Ji.schnorr.verify(r,e,t)}var Xfe=Kn.isPoint=ad,Qfe=Kn.isPointCompressed=ZF,Yfe=Kn.isPrivate=zc,Jfe=Kn.isXOnlyPoint=H4,ede=Kn.pointAdd=Lfe,tde=Kn.pointAddScalar=$fe,rde=Kn.pointCompress=Ufe,nde=Kn.pointFromScalar=XF,ide=Kn.pointMultiply=zfe,ode=Kn.privateAdd=Ffe,sde=Kn.privateNegate=Hfe,ade=Kn.privateSub=Dfe,ude=Kn.recover=qfe,lde=Kn.sign=Kfe,cde=Kn.signRecoverable=Vfe,fde=Kn.signSchnorr=Wfe,dde=Kn.verify=Zfe,hde=Kn.verifySchnorr=Gfe,pde=Kn.xOnlyPointAddTweak=Cfe,gde=Kn.xOnlyPointFromPoint=GF,yde=Kn.xOnlyPointFromScalar=jfe;const K4=ese({__proto__:null,default:Kn,isPoint:Xfe,isPointCompressed:Qfe,isPrivate:Yfe,isXOnlyPoint:Jfe,pointAdd:ede,pointAddScalar:tde,pointCompress:rde,pointFromScalar:nde,pointMultiply:ide,privateAdd:ode,privateNegate:sde,privateSub:ade,recover:ude,sign:lde,signRecoverable:cde,signSchnorr:fde,verify:dde,verifySchnorr:hde,xOnlyPointAddTweak:pde,xOnlyPointFromPoint:gde,xOnlyPointFromScalar:yde},[Kn]);var ta={},ly={},Lo={},Ky={};Ky.byteLength=vde;Ky.toByteArray=Ede;Ky.fromByteArray=kde;var ll=[],Ea=[],mde=typeof Uint8Array<"u"?Uint8Array:Array,x_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Fp=0,bde=x_.length;Fp<bde;++Fp)ll[Fp]=x_[Fp],Ea[x_.charCodeAt(Fp)]=Fp;Ea[45]=62;Ea[95]=63;function QF(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function vde(e){var t=QF(e),r=t[0],n=t[1];return(r+n)*3/4-n}function wde(e,t,r){return(t+r)*3/4-r}function Ede(e){var t,r=QF(e),n=r[0],i=r[1],o=new mde(wde(e,n,i)),s=0,a=i>0?n-4:n,l;for(l=0;l<a;l+=4)t=Ea[e.charCodeAt(l)]<<18|Ea[e.charCodeAt(l+1)]<<12|Ea[e.charCodeAt(l+2)]<<6|Ea[e.charCodeAt(l+3)],o[s++]=t>>16&255,o[s++]=t>>8&255,o[s++]=t&255;return i===2&&(t=Ea[e.charCodeAt(l)]<<2|Ea[e.charCodeAt(l+1)]>>4,o[s++]=t&255),i===1&&(t=Ea[e.charCodeAt(l)]<<10|Ea[e.charCodeAt(l+1)]<<4|Ea[e.charCodeAt(l+2)]>>2,o[s++]=t>>8&255,o[s++]=t&255),o}function _de(e){return ll[e>>18&63]+ll[e>>12&63]+ll[e>>6&63]+ll[e&63]}function Sde(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(_de(n));return i.join("")}function kde(e){for(var t,r=e.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Sde(e,s,s+o>a?a:s+o));return n===1?(t=e[r-1],i.push(ll[t>>2]+ll[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(ll[t>>10]+ll[t>>4&63]+ll[t<<2&63]+"=")),i.join("")}Object.defineProperty(Lo,"__esModule",{value:!0});Lo.decode=Lo.encode=Lo.unescape=Lo.escape=Lo.pad=void 0;const YF=Ky;function PA(e){return`${e}${"=".repeat(4-(e.length%4||4))}`}Lo.pad=PA;function JF(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}Lo.escape=JF;function eD(e){return PA(e).replace(/-/g,"+").replace(/_/g,"/")}Lo.unescape=eD;function xde(e){return JF((0,YF.fromByteArray)(new TextEncoder().encode(e)))}Lo.encode=xde;function Ade(e){return new TextDecoder().decode((0,YF.toByteArray)(PA(eD(e))))}Lo.decode=Ade;var V4={},W4={},Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});Pa.sha224=Pa.SHA224=Pa.sha256=Pa.SHA256=void 0;const q4=an;Pa.SHA256=q4.SHA256;Pa.sha256=q4.sha256;Pa.SHA224=q4.SHA224;Pa.sha224=q4.sha224;var tD={},vr={},w9={exports:{}},E9={exports:{}},Ed={},TA={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */TA.read=function(e,t,r,n,i){var o,s,a=i*8-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=r?i-1:0,g=r?-1:1,k=e[t+h];for(h+=g,o=k&(1<<-u)-1,k>>=-u,u+=a;u>0;o=o*256+e[t+h],h+=g,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=n;u>0;s=s*256+e[t+h],h+=g,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(k?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-c}return(k?-1:1)*s*Math.pow(2,o-n)};TA.write=function(e,t,r,n,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,h=u>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:o-1,R=n?1:-1,F=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+h>=1?t+=g/l:t+=g*Math.pow(2,1-h),t*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s=s+h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+k]=a&255,k+=R,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+k]=s&255,k+=R,s/=256,c-=8);e[r+k-R]|=F*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=Ky,r=TA,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=B,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const z=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(z,X),z.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(z){if(z>i)throw new RangeError('The value "'+z+'" is invalid for option "size"');const X=new Uint8Array(z);return Object.setPrototypeOf(X,a.prototype),X}function a(z,X,oe){if(typeof z=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(z)}return l(z,X,oe)}a.poolSize=8192;function l(z,X,oe){if(typeof z=="string")return g(z,X);if(ArrayBuffer.isView(z))return R(z);if(z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z);if(d(z,ArrayBuffer)||z&&d(z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(d(z,SharedArrayBuffer)||z&&d(z.buffer,SharedArrayBuffer)))return F(z,X,oe);if(typeof z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const N=z.valueOf&&z.valueOf();if(N!=null&&N!==z)return a.from(N,X,oe);const L=D(z);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof z[Symbol.toPrimitive]=="function")return a.from(z[Symbol.toPrimitive]("string"),X,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof z)}a.from=function(z,X,oe){return l(z,X,oe)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(z){if(typeof z!="number")throw new TypeError('"size" argument must be of type number');if(z<0)throw new RangeError('The value "'+z+'" is invalid for option "size"')}function u(z,X,oe){return c(z),z<=0?s(z):X!==void 0?typeof oe=="string"?s(z).fill(X,oe):s(z).fill(X):s(z)}a.alloc=function(z,X,oe){return u(z,X,oe)};function h(z){return c(z),s(z<0?0:$(z)|0)}a.allocUnsafe=function(z){return h(z)},a.allocUnsafeSlow=function(z){return h(z)};function g(z,X){if((typeof X!="string"||X==="")&&(X="utf8"),!a.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const oe=U(z,X)|0;let N=s(oe);const L=N.write(z,X);return L!==oe&&(N=N.slice(0,L)),N}function k(z){const X=z.length<0?0:$(z.length)|0,oe=s(X);for(let N=0;N<X;N+=1)oe[N]=z[N]&255;return oe}function R(z){if(d(z,Uint8Array)){const X=new Uint8Array(z);return F(X.buffer,X.byteOffset,X.byteLength)}return k(z)}function F(z,X,oe){if(X<0||z.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(z.byteLength<X+(oe||0))throw new RangeError('"length" is outside of buffer bounds');let N;return X===void 0&&oe===void 0?N=new Uint8Array(z):oe===void 0?N=new Uint8Array(z,X):N=new Uint8Array(z,X,oe),Object.setPrototypeOf(N,a.prototype),N}function D(z){if(a.isBuffer(z)){const X=$(z.length)|0,oe=s(X);return oe.length===0||z.copy(oe,0,0,X),oe}if(z.length!==void 0)return typeof z.length!="number"||b(z.length)?s(0):k(z);if(z.type==="Buffer"&&Array.isArray(z.data))return k(z.data)}function $(z){if(z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return z|0}function B(z){return+z!=z&&(z=0),a.alloc(+z)}a.isBuffer=function(z){return z!=null&&z._isBuffer===!0&&z!==a.prototype},a.compare=function(z,X){if(d(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),d(X,Uint8Array)&&(X=a.from(X,X.offset,X.byteLength)),!a.isBuffer(z)||!a.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(z===X)return 0;let oe=z.length,N=X.length;for(let L=0,J=Math.min(oe,N);L<J;++L)if(z[L]!==X[L]){oe=z[L],N=X[L];break}return oe<N?-1:N<oe?1:0},a.isEncoding=function(z){switch(String(z).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(z,X){if(!Array.isArray(z))throw new TypeError('"list" argument must be an Array of Buffers');if(z.length===0)return a.alloc(0);let oe;if(X===void 0)for(X=0,oe=0;oe<z.length;++oe)X+=z[oe].length;const N=a.allocUnsafe(X);let L=0;for(oe=0;oe<z.length;++oe){let J=z[oe];if(d(J,Uint8Array))L+J.length>N.length?(a.isBuffer(J)||(J=a.from(J)),J.copy(N,L)):Uint8Array.prototype.set.call(N,J,L);else if(a.isBuffer(J))J.copy(N,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=J.length}return N};function U(z,X){if(a.isBuffer(z))return z.length;if(ArrayBuffer.isView(z)||d(z,ArrayBuffer))return z.byteLength;if(typeof z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof z);const oe=z.length,N=arguments.length>2&&arguments[2]===!0;if(!N&&oe===0)return 0;let L=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return Ue(z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe*2;case"hex":return oe>>>1;case"base64":return We(z).length;default:if(L)return N?-1:Ue(z).length;X=(""+X).toLowerCase(),L=!0}}a.byteLength=U;function q(z,X,oe){let N=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((oe===void 0||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0,X>>>=0,oe<=X))return"";for(z||(z="utf8");;)switch(z){case"hex":return E(this,X,oe);case"utf8":case"utf-8":return _(this,X,oe);case"ascii":return A(this,X,oe);case"latin1":case"binary":return x(this,X,oe);case"base64":return p(this,X,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,X,oe);default:if(N)throw new TypeError("Unknown encoding: "+z);z=(z+"").toLowerCase(),N=!0}}a.prototype._isBuffer=!0;function ee(z,X,oe){const N=z[X];z[X]=z[oe],z[oe]=N}a.prototype.swap16=function(){const z=this.length;if(z%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let X=0;X<z;X+=2)ee(this,X,X+1);return this},a.prototype.swap32=function(){const z=this.length;if(z%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let X=0;X<z;X+=4)ee(this,X,X+3),ee(this,X+1,X+2);return this},a.prototype.swap64=function(){const z=this.length;if(z%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let X=0;X<z;X+=8)ee(this,X,X+7),ee(this,X+1,X+6),ee(this,X+2,X+5),ee(this,X+3,X+4);return this},a.prototype.toString=function(){const z=this.length;return z===0?"":arguments.length===0?_(this,0,z):q.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(z){if(!a.isBuffer(z))throw new TypeError("Argument must be a Buffer");return this===z?!0:a.compare(this,z)===0},a.prototype.inspect=function(){let z="";const X=e.INSPECT_MAX_BYTES;return z=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(z+=" ... "),"<Buffer "+z+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(z,X,oe,N,L){if(d(z,Uint8Array)&&(z=a.from(z,z.offset,z.byteLength)),!a.isBuffer(z))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof z);if(X===void 0&&(X=0),oe===void 0&&(oe=z?z.length:0),N===void 0&&(N=0),L===void 0&&(L=this.length),X<0||oe>z.length||N<0||L>this.length)throw new RangeError("out of range index");if(N>=L&&X>=oe)return 0;if(N>=L)return-1;if(X>=oe)return 1;if(X>>>=0,oe>>>=0,N>>>=0,L>>>=0,this===z)return 0;let J=L-N,ge=oe-X;const le=Math.min(J,ge),Me=this.slice(N,L),De=z.slice(X,oe);for(let nt=0;nt<le;++nt)if(Me[nt]!==De[nt]){J=Me[nt],ge=De[nt];break}return J<ge?-1:ge<J?1:0};function ae(z,X,oe,N,L){if(z.length===0)return-1;if(typeof oe=="string"?(N=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),oe=+oe,b(oe)&&(oe=L?0:z.length-1),oe<0&&(oe=z.length+oe),oe>=z.length){if(L)return-1;oe=z.length-1}else if(oe<0)if(L)oe=0;else return-1;if(typeof X=="string"&&(X=a.from(X,N)),a.isBuffer(X))return X.length===0?-1:re(z,X,oe,N,L);if(typeof X=="number")return X=X&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(z,X,oe):Uint8Array.prototype.lastIndexOf.call(z,X,oe):re(z,[X],oe,N,L);throw new TypeError("val must be string, number or Buffer")}function re(z,X,oe,N,L){let J=1,ge=z.length,le=X.length;if(N!==void 0&&(N=String(N).toLowerCase(),N==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(z.length<2||X.length<2)return-1;J=2,ge/=2,le/=2,oe/=2}function Me(nt,gt){return J===1?nt[gt]:nt.readUInt16BE(gt*J)}let De;if(L){let nt=-1;for(De=oe;De<ge;De++)if(Me(z,De)===Me(X,nt===-1?0:De-nt)){if(nt===-1&&(nt=De),De-nt+1===le)return nt*J}else nt!==-1&&(De-=De-nt),nt=-1}else for(oe+le>ge&&(oe=ge-le),De=oe;De>=0;De--){let nt=!0;for(let gt=0;gt<le;gt++)if(Me(z,De+gt)!==Me(X,gt)){nt=!1;break}if(nt)return De}return-1}a.prototype.includes=function(z,X,oe){return this.indexOf(z,X,oe)!==-1},a.prototype.indexOf=function(z,X,oe){return ae(this,z,X,oe,!0)},a.prototype.lastIndexOf=function(z,X,oe){return ae(this,z,X,oe,!1)};function K(z,X,oe,N){oe=Number(oe)||0;const L=z.length-oe;N?(N=Number(N),N>L&&(N=L)):N=L;const J=X.length;N>J/2&&(N=J/2);let ge;for(ge=0;ge<N;++ge){const le=parseInt(X.substr(ge*2,2),16);if(b(le))return ge;z[oe+ge]=le}return ge}function C(z,X,oe,N){return Qe(Ue(X,z.length-oe),z,oe,N)}function G(z,X,oe,N){return Qe(Ke(X),z,oe,N)}function v(z,X,oe,N){return Qe(We(X),z,oe,N)}function I(z,X,oe,N){return Qe(rt(X,z.length-oe),z,oe,N)}a.prototype.write=function(z,X,oe,N){if(X===void 0)N="utf8",oe=this.length,X=0;else if(oe===void 0&&typeof X=="string")N=X,oe=this.length,X=0;else if(isFinite(X))X=X>>>0,isFinite(oe)?(oe=oe>>>0,N===void 0&&(N="utf8")):(N=oe,oe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-X;if((oe===void 0||oe>L)&&(oe=L),z.length>0&&(oe<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");N||(N="utf8");let J=!1;for(;;)switch(N){case"hex":return K(this,z,X,oe);case"utf8":case"utf-8":return C(this,z,X,oe);case"ascii":case"latin1":case"binary":return G(this,z,X,oe);case"base64":return v(this,z,X,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,z,X,oe);default:if(J)throw new TypeError("Unknown encoding: "+N);N=(""+N).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function p(z,X,oe){return X===0&&oe===z.length?t.fromByteArray(z):t.fromByteArray(z.slice(X,oe))}function _(z,X,oe){oe=Math.min(z.length,oe);const N=[];let L=X;for(;L<oe;){const J=z[L];let ge=null,le=J>239?4:J>223?3:J>191?2:1;if(L+le<=oe){let Me,De,nt,gt;switch(le){case 1:J<128&&(ge=J);break;case 2:Me=z[L+1],(Me&192)===128&&(gt=(J&31)<<6|Me&63,gt>127&&(ge=gt));break;case 3:Me=z[L+1],De=z[L+2],(Me&192)===128&&(De&192)===128&&(gt=(J&15)<<12|(Me&63)<<6|De&63,gt>2047&&(gt<55296||gt>57343)&&(ge=gt));break;case 4:Me=z[L+1],De=z[L+2],nt=z[L+3],(Me&192)===128&&(De&192)===128&&(nt&192)===128&&(gt=(J&15)<<18|(Me&63)<<12|(De&63)<<6|nt&63,gt>65535&&gt<1114112&&(ge=gt))}}ge===null?(ge=65533,le=1):ge>65535&&(ge-=65536,N.push(ge>>>10&1023|55296),ge=56320|ge&1023),N.push(ge),L+=le}return S(N)}const w=4096;function S(z){const X=z.length;if(X<=w)return String.fromCharCode.apply(String,z);let oe="",N=0;for(;N<X;)oe+=String.fromCharCode.apply(String,z.slice(N,N+=w));return oe}function A(z,X,oe){let N="";oe=Math.min(z.length,oe);for(let L=X;L<oe;++L)N+=String.fromCharCode(z[L]&127);return N}function x(z,X,oe){let N="";oe=Math.min(z.length,oe);for(let L=X;L<oe;++L)N+=String.fromCharCode(z[L]);return N}function E(z,X,oe){const N=z.length;(!X||X<0)&&(X=0),(!oe||oe<0||oe>N)&&(oe=N);let L="";for(let J=X;J<oe;++J)L+=H[z[J]];return L}function T(z,X,oe){const N=z.slice(X,oe);let L="";for(let J=0;J<N.length-1;J+=2)L+=String.fromCharCode(N[J]+N[J+1]*256);return L}a.prototype.slice=function(z,X){const oe=this.length;z=~~z,X=X===void 0?oe:~~X,z<0?(z+=oe,z<0&&(z=0)):z>oe&&(z=oe),X<0?(X+=oe,X<0&&(X=0)):X>oe&&(X=oe),X<z&&(X=z);const N=this.subarray(z,X);return Object.setPrototypeOf(N,a.prototype),N};function M(z,X,oe){if(z%1!==0||z<0)throw new RangeError("offset is not uint");if(z+X>oe)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(z,X,oe){z=z>>>0,X=X>>>0,oe||M(z,X,this.length);let N=this[z],L=1,J=0;for(;++J<X&&(L*=256);)N+=this[z+J]*L;return N},a.prototype.readUintBE=a.prototype.readUIntBE=function(z,X,oe){z=z>>>0,X=X>>>0,oe||M(z,X,this.length);let N=this[z+--X],L=1;for(;X>0&&(L*=256);)N+=this[z+--X]*L;return N},a.prototype.readUint8=a.prototype.readUInt8=function(z,X){return z=z>>>0,X||M(z,1,this.length),this[z]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(z,X){return z=z>>>0,X||M(z,2,this.length),this[z]|this[z+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(z,X){return z=z>>>0,X||M(z,2,this.length),this[z]<<8|this[z+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(z,X){return z=z>>>0,X||M(z,4,this.length),(this[z]|this[z+1]<<8|this[z+2]<<16)+this[z+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(z,X){return z=z>>>0,X||M(z,4,this.length),this[z]*16777216+(this[z+1]<<16|this[z+2]<<8|this[z+3])},a.prototype.readBigUInt64LE=te(function(z){z=z>>>0,Ce(z,"offset");const X=this[z],oe=this[z+7];(X===void 0||oe===void 0)&&P(z,this.length-8);const N=X+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24,L=this[++z]+this[++z]*2**8+this[++z]*2**16+oe*2**24;return BigInt(N)+(BigInt(L)<<BigInt(32))}),a.prototype.readBigUInt64BE=te(function(z){z=z>>>0,Ce(z,"offset");const X=this[z],oe=this[z+7];(X===void 0||oe===void 0)&&P(z,this.length-8);const N=X*2**24+this[++z]*2**16+this[++z]*2**8+this[++z],L=this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+oe;return(BigInt(N)<<BigInt(32))+BigInt(L)}),a.prototype.readIntLE=function(z,X,oe){z=z>>>0,X=X>>>0,oe||M(z,X,this.length);let N=this[z],L=1,J=0;for(;++J<X&&(L*=256);)N+=this[z+J]*L;return L*=128,N>=L&&(N-=Math.pow(2,8*X)),N},a.prototype.readIntBE=function(z,X,oe){z=z>>>0,X=X>>>0,oe||M(z,X,this.length);let N=X,L=1,J=this[z+--N];for(;N>0&&(L*=256);)J+=this[z+--N]*L;return L*=128,J>=L&&(J-=Math.pow(2,8*X)),J},a.prototype.readInt8=function(z,X){return z=z>>>0,X||M(z,1,this.length),this[z]&128?(255-this[z]+1)*-1:this[z]},a.prototype.readInt16LE=function(z,X){z=z>>>0,X||M(z,2,this.length);const oe=this[z]|this[z+1]<<8;return oe&32768?oe|4294901760:oe},a.prototype.readInt16BE=function(z,X){z=z>>>0,X||M(z,2,this.length);const oe=this[z+1]|this[z]<<8;return oe&32768?oe|4294901760:oe},a.prototype.readInt32LE=function(z,X){return z=z>>>0,X||M(z,4,this.length),this[z]|this[z+1]<<8|this[z+2]<<16|this[z+3]<<24},a.prototype.readInt32BE=function(z,X){return z=z>>>0,X||M(z,4,this.length),this[z]<<24|this[z+1]<<16|this[z+2]<<8|this[z+3]},a.prototype.readBigInt64LE=te(function(z){z=z>>>0,Ce(z,"offset");const X=this[z],oe=this[z+7];(X===void 0||oe===void 0)&&P(z,this.length-8);const N=this[z+4]+this[z+5]*2**8+this[z+6]*2**16+(oe<<24);return(BigInt(N)<<BigInt(32))+BigInt(X+this[++z]*2**8+this[++z]*2**16+this[++z]*2**24)}),a.prototype.readBigInt64BE=te(function(z){z=z>>>0,Ce(z,"offset");const X=this[z],oe=this[z+7];(X===void 0||oe===void 0)&&P(z,this.length-8);const N=(X<<24)+this[++z]*2**16+this[++z]*2**8+this[++z];return(BigInt(N)<<BigInt(32))+BigInt(this[++z]*2**24+this[++z]*2**16+this[++z]*2**8+oe)}),a.prototype.readFloatLE=function(z,X){return z=z>>>0,X||M(z,4,this.length),r.read(this,z,!0,23,4)},a.prototype.readFloatBE=function(z,X){return z=z>>>0,X||M(z,4,this.length),r.read(this,z,!1,23,4)},a.prototype.readDoubleLE=function(z,X){return z=z>>>0,X||M(z,8,this.length),r.read(this,z,!0,52,8)},a.prototype.readDoubleBE=function(z,X){return z=z>>>0,X||M(z,8,this.length),r.read(this,z,!1,52,8)};function Q(z,X,oe,N,L,J){if(!a.isBuffer(z))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>L||X<J)throw new RangeError('"value" argument is out of bounds');if(oe+N>z.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(z,X,oe,N){if(z=+z,X=X>>>0,oe=oe>>>0,!N){const ge=Math.pow(2,8*oe)-1;Q(this,z,X,oe,ge,0)}let L=1,J=0;for(this[X]=z&255;++J<oe&&(L*=256);)this[X+J]=z/L&255;return X+oe},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(z,X,oe,N){if(z=+z,X=X>>>0,oe=oe>>>0,!N){const ge=Math.pow(2,8*oe)-1;Q(this,z,X,oe,ge,0)}let L=oe-1,J=1;for(this[X+L]=z&255;--L>=0&&(J*=256);)this[X+L]=z/J&255;return X+oe},a.prototype.writeUint8=a.prototype.writeUInt8=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,1,255,0),this[X]=z&255,X+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,2,65535,0),this[X]=z&255,this[X+1]=z>>>8,X+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,2,65535,0),this[X]=z>>>8,this[X+1]=z&255,X+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,4,4294967295,0),this[X+3]=z>>>24,this[X+2]=z>>>16,this[X+1]=z>>>8,this[X]=z&255,X+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,4,4294967295,0),this[X]=z>>>24,this[X+1]=z>>>16,this[X+2]=z>>>8,this[X+3]=z&255,X+4};function he(z,X,oe,N,L){Re(X,N,L,z,oe,7);let J=Number(X&BigInt(4294967295));z[oe++]=J,J=J>>8,z[oe++]=J,J=J>>8,z[oe++]=J,J=J>>8,z[oe++]=J;let ge=Number(X>>BigInt(32)&BigInt(4294967295));return z[oe++]=ge,ge=ge>>8,z[oe++]=ge,ge=ge>>8,z[oe++]=ge,ge=ge>>8,z[oe++]=ge,oe}function ue(z,X,oe,N,L){Re(X,N,L,z,oe,7);let J=Number(X&BigInt(4294967295));z[oe+7]=J,J=J>>8,z[oe+6]=J,J=J>>8,z[oe+5]=J,J=J>>8,z[oe+4]=J;let ge=Number(X>>BigInt(32)&BigInt(4294967295));return z[oe+3]=ge,ge=ge>>8,z[oe+2]=ge,ge=ge>>8,z[oe+1]=ge,ge=ge>>8,z[oe]=ge,oe+8}a.prototype.writeBigUInt64LE=te(function(z,X=0){return he(this,z,X,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=te(function(z,X=0){return ue(this,z,X,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(z,X,oe,N){if(z=+z,X=X>>>0,!N){const le=Math.pow(2,8*oe-1);Q(this,z,X,oe,le-1,-le)}let L=0,J=1,ge=0;for(this[X]=z&255;++L<oe&&(J*=256);)z<0&&ge===0&&this[X+L-1]!==0&&(ge=1),this[X+L]=(z/J>>0)-ge&255;return X+oe},a.prototype.writeIntBE=function(z,X,oe,N){if(z=+z,X=X>>>0,!N){const le=Math.pow(2,8*oe-1);Q(this,z,X,oe,le-1,-le)}let L=oe-1,J=1,ge=0;for(this[X+L]=z&255;--L>=0&&(J*=256);)z<0&&ge===0&&this[X+L+1]!==0&&(ge=1),this[X+L]=(z/J>>0)-ge&255;return X+oe},a.prototype.writeInt8=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,1,127,-128),z<0&&(z=255+z+1),this[X]=z&255,X+1},a.prototype.writeInt16LE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,2,32767,-32768),this[X]=z&255,this[X+1]=z>>>8,X+2},a.prototype.writeInt16BE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,2,32767,-32768),this[X]=z>>>8,this[X+1]=z&255,X+2},a.prototype.writeInt32LE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,4,2147483647,-2147483648),this[X]=z&255,this[X+1]=z>>>8,this[X+2]=z>>>16,this[X+3]=z>>>24,X+4},a.prototype.writeInt32BE=function(z,X,oe){return z=+z,X=X>>>0,oe||Q(this,z,X,4,2147483647,-2147483648),z<0&&(z=4294967295+z+1),this[X]=z>>>24,this[X+1]=z>>>16,this[X+2]=z>>>8,this[X+3]=z&255,X+4},a.prototype.writeBigInt64LE=te(function(z,X=0){return he(this,z,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=te(function(z,X=0){return ue(this,z,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function W(z,X,oe,N,L,J){if(oe+N>z.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function se(z,X,oe,N,L){return X=+X,oe=oe>>>0,L||W(z,X,oe,4),r.write(z,X,oe,N,23,4),oe+4}a.prototype.writeFloatLE=function(z,X,oe){return se(this,z,X,!0,oe)},a.prototype.writeFloatBE=function(z,X,oe){return se(this,z,X,!1,oe)};function Z(z,X,oe,N,L){return X=+X,oe=oe>>>0,L||W(z,X,oe,8),r.write(z,X,oe,N,52,8),oe+8}a.prototype.writeDoubleLE=function(z,X,oe){return Z(this,z,X,!0,oe)},a.prototype.writeDoubleBE=function(z,X,oe){return Z(this,z,X,!1,oe)},a.prototype.copy=function(z,X,oe,N){if(!a.isBuffer(z))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),!N&&N!==0&&(N=this.length),X>=z.length&&(X=z.length),X||(X=0),N>0&&N<oe&&(N=oe),N===oe||z.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("sourceEnd out of bounds");N>this.length&&(N=this.length),z.length-X<N-oe&&(N=z.length-X+oe);const L=N-oe;return this===z&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(X,oe,N):Uint8Array.prototype.set.call(z,this.subarray(oe,N),X),L},a.prototype.fill=function(z,X,oe,N){if(typeof z=="string"){if(typeof X=="string"?(N=X,X=0,oe=this.length):typeof oe=="string"&&(N=oe,oe=this.length),N!==void 0&&typeof N!="string")throw new TypeError("encoding must be a string");if(typeof N=="string"&&!a.isEncoding(N))throw new TypeError("Unknown encoding: "+N);if(z.length===1){const J=z.charCodeAt(0);(N==="utf8"&&J<128||N==="latin1")&&(z=J)}}else typeof z=="number"?z=z&255:typeof z=="boolean"&&(z=Number(z));if(X<0||this.length<X||this.length<oe)throw new RangeError("Out of range index");if(oe<=X)return this;X=X>>>0,oe=oe===void 0?this.length:oe>>>0,z||(z=0);let L;if(typeof z=="number")for(L=X;L<oe;++L)this[L]=z;else{const J=a.isBuffer(z)?z:a.from(z,N),ge=J.length;if(ge===0)throw new TypeError('The value "'+z+'" is invalid for argument "value"');for(L=0;L<oe-X;++L)this[L+X]=J[L%ge]}return this};const ie={};function pe(z,X,oe){ie[z]=class extends oe{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${z}]`,this.stack,delete this.name}get code(){return z}set code(N){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:N,writable:!0})}toString(){return`${this.name} [${z}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(z){return z?`${z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(z,X){return`The "${z}" argument must be of type number. Received type ${typeof X}`},TypeError),pe("ERR_OUT_OF_RANGE",function(z,X,oe){let N=`The value of "${z}" is out of range.`,L=oe;return Number.isInteger(oe)&&Math.abs(oe)>2**32?L=Ee(String(oe)):typeof oe=="bigint"&&(L=String(oe),(oe>BigInt(2)**BigInt(32)||oe<-(BigInt(2)**BigInt(32)))&&(L=Ee(L)),L+="n"),N+=` It must be ${X}. Received ${L}`,N},RangeError);function Ee(z){let X="",oe=z.length;const N=z[0]==="-"?1:0;for(;oe>=N+4;oe-=3)X=`_${z.slice(oe-3,oe)}${X}`;return`${z.slice(0,oe)}${X}`}function Oe(z,X,oe){Ce(X,"offset"),(z[X]===void 0||z[X+oe]===void 0)&&P(X,z.length-(oe+1))}function Re(z,X,oe,N,L,J){if(z>oe||z<X){const ge=typeof X=="bigint"?"n":"";let le;throw X===0||X===BigInt(0)?le=`>= 0${ge} and < 2${ge} ** ${(J+1)*8}${ge}`:le=`>= -(2${ge} ** ${(J+1)*8-1}${ge}) and < 2 ** ${(J+1)*8-1}${ge}`,new ie.ERR_OUT_OF_RANGE("value",le,z)}Oe(N,L,J)}function Ce(z,X){if(typeof z!="number")throw new ie.ERR_INVALID_ARG_TYPE(X,"number",z)}function P(z,X,oe){throw Math.floor(z)!==z?(Ce(z,oe),new ie.ERR_OUT_OF_RANGE("offset","an integer",z)):X<0?new ie.ERR_BUFFER_OUT_OF_BOUNDS:new ie.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${X}`,z)}const Y=/[^+/0-9A-Za-z-_]/g;function be(z){if(z=z.split("=")[0],z=z.trim().replace(Y,""),z.length<2)return"";for(;z.length%4!==0;)z=z+"=";return z}function Ue(z,X){X=X||1/0;let oe;const N=z.length;let L=null;const J=[];for(let ge=0;ge<N;++ge){if(oe=z.charCodeAt(ge),oe>55295&&oe<57344){if(!L){if(oe>56319){(X-=3)>-1&&J.push(239,191,189);continue}else if(ge+1===N){(X-=3)>-1&&J.push(239,191,189);continue}L=oe;continue}if(oe<56320){(X-=3)>-1&&J.push(239,191,189),L=oe;continue}oe=(L-55296<<10|oe-56320)+65536}else L&&(X-=3)>-1&&J.push(239,191,189);if(L=null,oe<128){if((X-=1)<0)break;J.push(oe)}else if(oe<2048){if((X-=2)<0)break;J.push(oe>>6|192,oe&63|128)}else if(oe<65536){if((X-=3)<0)break;J.push(oe>>12|224,oe>>6&63|128,oe&63|128)}else if(oe<1114112){if((X-=4)<0)break;J.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,oe&63|128)}else throw new Error("Invalid code point")}return J}function Ke(z){const X=[];for(let oe=0;oe<z.length;++oe)X.push(z.charCodeAt(oe)&255);return X}function rt(z,X){let oe,N,L;const J=[];for(let ge=0;ge<z.length&&!((X-=2)<0);++ge)oe=z.charCodeAt(ge),N=oe>>8,L=oe%256,J.push(L),J.push(N);return J}function We(z){return t.toByteArray(be(z))}function Qe(z,X,oe,N){let L;for(L=0;L<N&&!(L+oe>=X.length||L>=z.length);++L)X[L+oe]=z[L];return L}function d(z,X){return z instanceof X||z!=null&&z.constructor!=null&&z.constructor.name!=null&&z.constructor.name===X.name}function b(z){return z!==z}const H=function(){const z="0123456789abcdef",X=new Array(256);for(let oe=0;oe<16;++oe){const N=oe*16;for(let L=0;L<16;++L)X[N+L]=z[oe]+z[L]}return X}();function te(z){return typeof BigInt>"u"?ce:z}function ce(){throw new Error("BigInt not supported")}})(Ed);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=Ed,n=r.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o);function o(s,a,l){return n(s,a,l)}o.prototype=Object.create(n.prototype),i(n,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(E9,E9.exports);var Pr=E9.exports,A_=65536,Ode=4294967295;function Pde(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var Tde=Pr.Buffer,i1=He.crypto||He.msCrypto;i1&&i1.getRandomValues?w9.exports=Ide:w9.exports=Pde;function Ide(e,t){if(e>Ode)throw new RangeError("requested too many random bytes");var r=Tde.allocUnsafe(e);if(e>0)if(e>A_)for(var n=0;n<e;n+=A_)i1.getRandomValues(r.slice(n,n+A_));else i1.getRandomValues(r);return typeof t=="function"?Bn.nextTick(function(){t(null,r)}):r}var Vy=w9.exports,_9={exports:{}};typeof Object.create=="function"?_9.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:_9.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var Mr=_9.exports;const Bde={},Nde=Object.freeze(Object.defineProperty({__proto__:null,default:Bde},Symbol.toStringTag,{value:"Module"})),_d=pae(Nde);var ac=Pr.Buffer,rD=_d.Transform,Mde=Mr;function Sd(e){rD.call(this),this._block=ac.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}Mde(Sd,rD);Sd.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)};Sd.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)};var Rde=typeof Uint8Array<"u",Cde=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(ac.prototype instanceof Uint8Array||ac.TYPED_ARRAY_SUPPORT);function jde(e,t){if(e instanceof ac)return e;if(typeof e=="string")return ac.from(e,t);if(Cde&&ArrayBuffer.isView(e)){if(e.byteLength===0)return ac.alloc(0);var r=ac.from(e.buffer,e.byteOffset,e.byteLength);if(r.byteLength===e.byteLength)return r}if(Rde&&e instanceof Uint8Array||ac.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return ac.from(e);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}Sd.prototype.update=function(e,t){if(this._finalized)throw new Error("Digest already called");e=jde(e,t);for(var r=this._block,n=0;this._blockOffset+e.length-n>=this._blockSize;){for(var i=this._blockOffset;i<this._blockSize;)r[i++]=e[n++];this._update(),this._blockOffset=0}for(;n<e.length;)r[this._blockOffset++]=e[n++];for(var o=0,s=e.length*8;s>0;++o)this._length[o]+=s,s=this._length[o]/4294967296|0,s>0&&(this._length[o]-=4294967296*s);return this};Sd.prototype._update=function(){throw new Error("_update is not implemented")};Sd.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();e!==void 0&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};Sd.prototype._digest=function(){throw new Error("_digest is not implemented")};var nD=Sd,Ude=Mr,iD=nD,zde=Pr.Buffer,Lde=new Array(16);function Z4(){iD.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}Ude(Z4,iD);Z4.prototype._update=function(){for(var e=Lde,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a,n=this._b,i=this._c,o=this._d;r=fo(r,n,i,o,e[0],3614090360,7),o=fo(o,r,n,i,e[1],3905402710,12),i=fo(i,o,r,n,e[2],606105819,17),n=fo(n,i,o,r,e[3],3250441966,22),r=fo(r,n,i,o,e[4],4118548399,7),o=fo(o,r,n,i,e[5],1200080426,12),i=fo(i,o,r,n,e[6],2821735955,17),n=fo(n,i,o,r,e[7],4249261313,22),r=fo(r,n,i,o,e[8],1770035416,7),o=fo(o,r,n,i,e[9],2336552879,12),i=fo(i,o,r,n,e[10],4294925233,17),n=fo(n,i,o,r,e[11],2304563134,22),r=fo(r,n,i,o,e[12],1804603682,7),o=fo(o,r,n,i,e[13],4254626195,12),i=fo(i,o,r,n,e[14],2792965006,17),n=fo(n,i,o,r,e[15],1236535329,22),r=ho(r,n,i,o,e[1],4129170786,5),o=ho(o,r,n,i,e[6],3225465664,9),i=ho(i,o,r,n,e[11],643717713,14),n=ho(n,i,o,r,e[0],3921069994,20),r=ho(r,n,i,o,e[5],3593408605,5),o=ho(o,r,n,i,e[10],38016083,9),i=ho(i,o,r,n,e[15],3634488961,14),n=ho(n,i,o,r,e[4],3889429448,20),r=ho(r,n,i,o,e[9],568446438,5),o=ho(o,r,n,i,e[14],3275163606,9),i=ho(i,o,r,n,e[3],4107603335,14),n=ho(n,i,o,r,e[8],1163531501,20),r=ho(r,n,i,o,e[13],2850285829,5),o=ho(o,r,n,i,e[2],4243563512,9),i=ho(i,o,r,n,e[7],1735328473,14),n=ho(n,i,o,r,e[12],2368359562,20),r=po(r,n,i,o,e[5],4294588738,4),o=po(o,r,n,i,e[8],2272392833,11),i=po(i,o,r,n,e[11],1839030562,16),n=po(n,i,o,r,e[14],4259657740,23),r=po(r,n,i,o,e[1],2763975236,4),o=po(o,r,n,i,e[4],1272893353,11),i=po(i,o,r,n,e[7],4139469664,16),n=po(n,i,o,r,e[10],3200236656,23),r=po(r,n,i,o,e[13],681279174,4),o=po(o,r,n,i,e[0],3936430074,11),i=po(i,o,r,n,e[3],3572445317,16),n=po(n,i,o,r,e[6],76029189,23),r=po(r,n,i,o,e[9],3654602809,4),o=po(o,r,n,i,e[12],3873151461,11),i=po(i,o,r,n,e[15],530742520,16),n=po(n,i,o,r,e[2],3299628645,23),r=go(r,n,i,o,e[0],4096336452,6),o=go(o,r,n,i,e[7],1126891415,10),i=go(i,o,r,n,e[14],2878612391,15),n=go(n,i,o,r,e[5],4237533241,21),r=go(r,n,i,o,e[12],1700485571,6),o=go(o,r,n,i,e[3],2399980690,10),i=go(i,o,r,n,e[10],4293915773,15),n=go(n,i,o,r,e[1],2240044497,21),r=go(r,n,i,o,e[8],1873313359,6),o=go(o,r,n,i,e[15],4264355552,10),i=go(i,o,r,n,e[6],2734768916,15),n=go(n,i,o,r,e[13],1309151649,21),r=go(r,n,i,o,e[4],4149444226,6),o=go(o,r,n,i,e[11],3174756917,10),i=go(i,o,r,n,e[2],718787259,15),n=go(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0};Z4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=zde.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e};function G4(e,t){return e<<t|e>>>32-t}function fo(e,t,r,n,i,o,s){return G4(e+(t&r|~t&n)+i+o|0,s)+t|0}function ho(e,t,r,n,i,o,s){return G4(e+(t&n|r&~n)+i+o|0,s)+t|0}function po(e,t,r,n,i,o,s){return G4(e+(t^r^n)+i+o|0,s)+t|0}function go(e,t,r,n,i,o,s){return G4(e+(r^(t|~n))+i+o|0,s)+t|0}var IA=Z4,O_=Ed.Buffer,$de=Mr,oD=nD,Fde=new Array(16),Vm=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Wm=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],qm=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Zm=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Gm=[0,1518500249,1859775393,2400959708,2840853838],Xm=[1352829926,1548603684,1836072691,2053994217,0];function X4(){oD.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}$de(X4,oD);X4.prototype._update=function(){for(var e=Fde,t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);for(var r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._a|0,l=this._b|0,c=this._c|0,u=this._d|0,h=this._e|0,g=0;g<80;g+=1){var k,R;g<16?(k=zN(r,n,i,o,s,e[Vm[g]],Gm[0],qm[g]),R=DN(a,l,c,u,h,e[Wm[g]],Xm[0],Zm[g])):g<32?(k=LN(r,n,i,o,s,e[Vm[g]],Gm[1],qm[g]),R=FN(a,l,c,u,h,e[Wm[g]],Xm[1],Zm[g])):g<48?(k=$N(r,n,i,o,s,e[Vm[g]],Gm[2],qm[g]),R=$N(a,l,c,u,h,e[Wm[g]],Xm[2],Zm[g])):g<64?(k=FN(r,n,i,o,s,e[Vm[g]],Gm[3],qm[g]),R=LN(a,l,c,u,h,e[Wm[g]],Xm[3],Zm[g])):(k=DN(r,n,i,o,s,e[Vm[g]],Gm[4],qm[g]),R=zN(a,l,c,u,h,e[Wm[g]],Xm[4],Zm[g])),r=s,s=o,o=zh(i,10),i=n,n=k,a=h,h=u,u=zh(c,10),c=l,l=R}var F=this._b+i+u|0;this._b=this._c+o+h|0,this._c=this._d+s+a|0,this._d=this._e+r+l|0,this._e=this._a+n+c|0,this._a=F};X4.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=O_.alloc?O_.alloc(20):new O_(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e};function zh(e,t){return e<<t|e>>>32-t}function zN(e,t,r,n,i,o,s,a){return zh(e+(t^r^n)+o+s|0,a)+i|0}function LN(e,t,r,n,i,o,s,a){return zh(e+(t&r|~t&n)+o+s|0,a)+i|0}function $N(e,t,r,n,i,o,s,a){return zh(e+((t|~r)^n)+o+s|0,a)+i|0}function FN(e,t,r,n,i,o,s,a){return zh(e+(t&n|r&~n)+o+s|0,a)+i|0}function DN(e,t,r,n,i,o,s,a){return zh(e+(t^(r|~n))+o+s|0,a)+i|0}var BA=X4,sD={exports:{}},aD=Pr.Buffer;function Q4(e,t){this._block=aD.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Q4.prototype.update=function(e,t){typeof e=="string"&&(t=t||"utf8",e=aD.from(e,t));for(var r=this._block,n=this._blockSize,i=e.length,o=this._len,s=0;s<i;){for(var a=o%n,l=Math.min(i-s,n-a),c=0;c<l;c++)r[a+c]=e[s+c];o+=l,s+=l,o%n===0&&this._update(r)}return this._len+=i,this};Q4.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o};Q4.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Wy=Q4,Dde=Mr,uD=Wy,Hde=Pr.Buffer,Kde=[1518500249,1859775393,-1894007588,-899497514],Vde=new Array(80);function Kv(){this.init(),this._w=Vde,uD.call(this,64,56)}Dde(Kv,uD);Kv.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Wde(e){return e<<5|e>>>27}function qde(e){return e<<30|e>>>2}function Zde(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Kv.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=t[a-3]^t[a-8]^t[a-14]^t[a-16];for(var l=0;l<80;++l){var c=~~(l/20),u=Wde(r)+Zde(c,n,i,o)+s+t[l]+Kde[c]|0;s=o,o=i,i=qde(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Kv.prototype._hash=function(){var e=Hde.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var Gde=Kv,Xde=Mr,lD=Wy,Qde=Pr.Buffer,Yde=[1518500249,1859775393,-1894007588,-899497514],Jde=new Array(80);function Vv(){this.init(),this._w=Jde,lD.call(this,64,56)}Xde(Vv,lD);Vv.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function ehe(e){return e<<1|e>>>31}function the(e){return e<<5|e>>>27}function rhe(e){return e<<30|e>>>2}function nhe(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Vv.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=0;a<16;++a)t[a]=e.readInt32BE(a*4);for(;a<80;++a)t[a]=ehe(t[a-3]^t[a-8]^t[a-14]^t[a-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=the(r)+nhe(c,n,i,o)+s+t[l]+Yde[c]|0;s=o,o=i,i=rhe(n),n=r,r=u}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0};Vv.prototype._hash=function(){var e=Qde.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var ihe=Vv,ohe=Mr,cD=Wy,she=Pr.Buffer,ahe=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],uhe=new Array(64);function Wv(){this.init(),this._w=uhe,cD.call(this,64,56)}ohe(Wv,cD);Wv.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function lhe(e,t,r){return r^e&(t^r)}function che(e,t,r){return e&t|r&(e|t)}function fhe(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function dhe(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function hhe(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function phe(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Wv.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,o=this._d|0,s=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,u=0;u<16;++u)t[u]=e.readInt32BE(u*4);for(;u<64;++u)t[u]=phe(t[u-2])+t[u-7]+hhe(t[u-15])+t[u-16]|0;for(var h=0;h<64;++h){var g=c+dhe(s)+lhe(s,a,l)+ahe[h]+t[h]|0,k=fhe(r)+che(r,n,i)|0;c=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+k|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};Wv.prototype._hash=function(){var e=she.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var fD=Wv,ghe=Mr,yhe=fD,mhe=Wy,bhe=Pr.Buffer,vhe=new Array(64);function Y4(){this.init(),this._w=vhe,mhe.call(this,64,56)}ghe(Y4,yhe);Y4.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Y4.prototype._hash=function(){var e=bhe.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var whe=Y4,Ehe=Mr,dD=Wy,_he=Pr.Buffer,HN=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],She=new Array(160);function qv(){this.init(),this._w=She,dD.call(this,128,112)}Ehe(qv,dD);qv.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function KN(e,t,r){return r^e&(t^r)}function VN(e,t,r){return e&t|r&(e|t)}function WN(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function qN(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function khe(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function xhe(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Ahe(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Ohe(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Ti(e,t){return e>>>0<t>>>0?1:0}qv.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,o=this._dh|0,s=this._eh|0,a=this._fh|0,l=this._gh|0,c=this._hh|0,u=this._al|0,h=this._bl|0,g=this._cl|0,k=this._dl|0,R=this._el|0,F=this._fl|0,D=this._gl|0,$=this._hl|0,B=0;B<32;B+=2)t[B]=e.readInt32BE(B*4),t[B+1]=e.readInt32BE(B*4+4);for(;B<160;B+=2){var U=t[B-30],q=t[B-15*2+1],ee=khe(U,q),ae=xhe(q,U);U=t[B-2*2],q=t[B-2*2+1];var re=Ahe(U,q),K=Ohe(q,U),C=t[B-7*2],G=t[B-7*2+1],v=t[B-16*2],I=t[B-16*2+1],p=ae+G|0,_=ee+C+Ti(p,ae)|0;p=p+K|0,_=_+re+Ti(p,K)|0,p=p+I|0,_=_+v+Ti(p,I)|0,t[B]=_,t[B+1]=p}for(var w=0;w<160;w+=2){_=t[w],p=t[w+1];var S=VN(r,n,i),A=VN(u,h,g),x=WN(r,u),E=WN(u,r),T=qN(s,R),M=qN(R,s),Q=HN[w],he=HN[w+1],ue=KN(s,a,l),W=KN(R,F,D),se=$+M|0,Z=c+T+Ti(se,$)|0;se=se+W|0,Z=Z+ue+Ti(se,W)|0,se=se+he|0,Z=Z+Q+Ti(se,he)|0,se=se+p|0,Z=Z+_+Ti(se,p)|0;var ie=E+A|0,pe=x+S+Ti(ie,E)|0;c=l,$=D,l=a,D=F,a=s,F=R,R=k+se|0,s=o+Z+Ti(R,k)|0,o=i,k=g,i=n,g=h,n=r,h=u,u=se+ie|0,r=Z+pe+Ti(u,se)|0}this._al=this._al+u|0,this._bl=this._bl+h|0,this._cl=this._cl+g|0,this._dl=this._dl+k|0,this._el=this._el+R|0,this._fl=this._fl+F|0,this._gl=this._gl+D|0,this._hl=this._hl+$|0,this._ah=this._ah+r+Ti(this._al,u)|0,this._bh=this._bh+n+Ti(this._bl,h)|0,this._ch=this._ch+i+Ti(this._cl,g)|0,this._dh=this._dh+o+Ti(this._dl,k)|0,this._eh=this._eh+s+Ti(this._el,R)|0,this._fh=this._fh+a+Ti(this._fl,F)|0,this._gh=this._gh+l+Ti(this._gl,D)|0,this._hh=this._hh+c+Ti(this._hl,$)|0};qv.prototype._hash=function(){var e=_he.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var hD=qv,Phe=Mr,The=hD,Ihe=Wy,Bhe=Pr.Buffer,Nhe=new Array(160);function J4(){this.init(),this._w=Nhe,Ihe.call(this,128,112)}Phe(J4,The);J4.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};J4.prototype._hash=function(){var e=Bhe.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var Mhe=J4,sp=sD.exports=function(e){e=e.toLowerCase();var t=sp[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};sp.sha=Gde;sp.sha1=ihe;sp.sha224=whe;sp.sha256=fD;sp.sha384=Mhe;sp.sha512=hD;var NA=sD.exports,pD={},MA=Pr.Buffer,ZN=MA.isEncoding||function(e){switch(e=""+e,e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Rhe(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}function Che(e){var t=Rhe(e);if(typeof t!="string"&&(MA.isEncoding===ZN||!ZN(e)))throw new Error("Unknown encoding: "+e);return t||e}pD.StringDecoder=Zv;function Zv(e){this.encoding=Che(e);var t;switch(this.encoding){case"utf16le":this.text=Fhe,this.end=Dhe,t=4;break;case"utf8":this.fillLast=zhe,t=4;break;case"base64":this.text=Hhe,this.end=Khe,t=3;break;default:this.write=Vhe,this.end=Whe;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=MA.allocUnsafe(t)}Zv.prototype.write=function(e){if(e.length===0)return"";var t,r;if(this.lastNeed){if(t=this.fillLast(e),t===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""};Zv.prototype.end=$he;Zv.prototype.text=Lhe;Zv.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length};function P_(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function jhe(e,t,r){var n=t.length-1;if(n<r)return 0;var i=P_(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||i===-2?0:(i=P_(t[n]),i>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||i===-2?0:(i=P_(t[n]),i>=0?(i>0&&(i===2?i=0:e.lastNeed=i-3),i):0))}function Uhe(e,t,r){if((t[0]&192)!==128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(t[2]&192)!==128)return e.lastNeed=2,""}}function zhe(e){var t=this.lastTotal-this.lastNeed,r=Uhe(this,e);if(r!==void 0)return r;if(this.lastNeed<=e.length)return e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length}function Lhe(e,t){var r=jhe(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)}function $he(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t}function Fhe(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function Dhe(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function Hhe(e,t){var r=(e.length-t)%3;return r===0?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function Khe(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function Vhe(e){return e.toString(this.encoding)}function Whe(e){return e&&e.length?this.write(e):""}var uc=Pr.Buffer,gD=_d.Transform,qhe=pD.StringDecoder,Zhe=Mr;function Tu(e){gD.call(this),this.hashMode=typeof e=="string",this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}Zhe(Tu,gD);var Ghe=typeof Uint8Array<"u",Xhe=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(uc.prototype instanceof Uint8Array||uc.TYPED_ARRAY_SUPPORT);function Qhe(e,t){if(e instanceof uc)return e;if(typeof e=="string")return uc.from(e,t);if(Xhe&&ArrayBuffer.isView(e)){if(e.byteLength===0)return uc.alloc(0);var r=uc.from(e.buffer,e.byteOffset,e.byteLength);if(r.byteLength===e.byteLength)return r}if(Ghe&&e instanceof Uint8Array||uc.isBuffer(e)&&e.constructor&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e))return uc.from(e);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}Tu.prototype.update=function(e,t,r){var n=Qhe(e,t),i=this._update(n);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)};Tu.prototype.setAutoPadding=function(){};Tu.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Tu.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Tu.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Tu.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}};Tu.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)};Tu.prototype._finalOrDigest=function(e){var t=this.__final()||uc.alloc(0);return e&&(t=this._toString(t,e,!0)),t};Tu.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new qhe(t),this._encoding=t),this._encoding!==t)throw new Error("cant switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n};var kd=Tu,Yhe=Mr,Jhe=IA,epe=BA,tpe=NA,yD=kd;function e6(e){yD.call(this,"digest"),this._hash=e}Yhe(e6,yD);e6.prototype._update=function(e){this._hash.update(e)};e6.prototype._final=function(){return this._hash.digest()};var Gv=function(e){return e=e.toLowerCase(),e==="md5"?new Jhe:e==="rmd160"||e==="ripemd160"?new epe:new e6(tpe(e))},rpe=Mr,ph=Pr.Buffer,mD=kd,npe=ph.alloc(128),Dp=64;function t6(e,t){mD.call(this,"digest"),typeof t=="string"&&(t=ph.from(t)),this._alg=e,this._key=t,t.length>Dp?t=e(t):t.length<Dp&&(t=ph.concat([t,npe],Dp));for(var r=this._ipad=ph.allocUnsafe(Dp),n=this._opad=ph.allocUnsafe(Dp),i=0;i<Dp;i++)r[i]=t[i]^54,n[i]=t[i]^92;this._hash=[r]}rpe(t6,mD);t6.prototype._update=function(e){this._hash.push(e)};t6.prototype._final=function(){var e=this._alg(ph.concat(this._hash));return this._alg(ph.concat([this._opad,e]))};var ipe=t6,ope=IA,bD=function(e){return new ope().update(e).digest()},spe=Mr,ape=ipe,vD=kd,Ob=Pr.Buffer,upe=bD,S9=BA,k9=NA,lpe=Ob.alloc(128);function L0(e,t){vD.call(this,"digest"),typeof t=="string"&&(t=Ob.from(t));var r=e==="sha512"||e==="sha384"?128:64;if(this._alg=e,this._key=t,t.length>r){var n=e==="rmd160"?new S9:k9(e);t=n.update(t).digest()}else t.length<r&&(t=Ob.concat([t,lpe],r));for(var i=this._ipad=Ob.allocUnsafe(r),o=this._opad=Ob.allocUnsafe(r),s=0;s<r;s++)i[s]=t[s]^54,o[s]=t[s]^92;this._hash=e==="rmd160"?new S9:k9(e),this._hash.update(i)}spe(L0,vD);L0.prototype._update=function(e){this._hash.update(e)};L0.prototype._final=function(){var e=this._hash.digest(),t=this._alg==="rmd160"?new S9:k9(this._alg);return t.update(this._opad).update(e).digest()};var wD=function(e,t){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new L0("rmd160",t):e==="md5"?new ape(upe,t):new L0(e,t)};const cpe={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},fpe={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},dpe={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},hpe={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},ppe={sign:"ecdsa",hash:"sha256",id:""},gpe={sign:"ecdsa",hash:"sha224",id:""},ype={sign:"ecdsa",hash:"sha384",id:""},mpe={sign:"ecdsa",hash:"sha512",id:""},bpe={sign:"dsa",hash:"sha1",id:""},vpe={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},wpe={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},ED={sha224WithRSAEncryption:cpe,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:fpe,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:dpe,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:hpe,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:ppe,sha224:gpe,sha384:ype,sha512:mpe,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:bpe,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:vpe,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:wpe,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var Epe=ED,r6={},_pe=Math.pow(2,30)-1,_D=function(e,t){if(typeof e!="number")throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if(typeof t!="number")throw new TypeError("Key length not a number");if(t<0||t>_pe||t!==t)throw new TypeError("Bad key length")},J3;if(He.process&&He.process.browser)J3="utf-8";else if(He.process&&He.process.version){var Spe=parseInt(Bn.version.split(".")[0].slice(1),10);J3=Spe>=6?"utf-8":"binary"}else J3="utf-8";var SD=J3,T_=Pr.Buffer,kD=function(e,t,r){if(T_.isBuffer(e))return e;if(typeof e=="string")return T_.from(e,t);if(ArrayBuffer.isView(e))return T_.from(e.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},kpe=bD,xpe=BA,Ape=NA,gh=Pr.Buffer,Ope=_D,GN=SD,XN=kD,Ppe=gh.alloc(128),e8={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function xD(e,t,r){var n=Tpe(e),i=e==="sha512"||e==="sha384"?128:64;t.length>i?t=n(t):t.length<i&&(t=gh.concat([t,Ppe],i));for(var o=gh.allocUnsafe(i+e8[e]),s=gh.allocUnsafe(i+e8[e]),a=0;a<i;a++)o[a]=t[a]^54,s[a]=t[a]^92;var l=gh.allocUnsafe(i+r+4);o.copy(l,0,0,i),this.ipad1=l,this.ipad2=o,this.opad=s,this.alg=e,this.blocksize=i,this.hash=n,this.size=e8[e]}xD.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function Tpe(e){function t(n){return Ape(e).update(n).digest()}function r(n){return new xpe().update(n).digest()}return e==="rmd160"||e==="ripemd160"?r:e==="md5"?kpe:t}function Ipe(e,t,r,n,i){Ope(r,n),e=XN(e,GN,"Password"),t=XN(t,GN,"Salt"),i=i||"sha1";var o=new xD(i,e,t.length),s=gh.allocUnsafe(n),a=gh.allocUnsafe(t.length+4);t.copy(a,0,0,t.length);for(var l=0,c=e8[i],u=Math.ceil(n/c),h=1;h<=u;h++){a.writeUInt32BE(h,t.length);for(var g=o.run(a,o.ipad1),k=g,R=1;R<r;R++){k=o.run(k,o.ipad2);for(var F=0;F<c;F++)g[F]^=k[F]}g.copy(s,l),l+=c}return s}var AD=Ipe,OD=Pr.Buffer,Bpe=_D,QN=SD,YN=AD,JN=kD,W2,Qb=He.crypto&&He.crypto.subtle,Npe={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},I_=[];function Mpe(e){if(He.process&&!He.process.browser||!Qb||!Qb.importKey||!Qb.deriveBits)return Promise.resolve(!1);if(I_[e]!==void 0)return I_[e];W2=W2||OD.alloc(8);var t=PD(W2,W2,10,128,e).then(function(){return!0}).catch(function(){return!1});return I_[e]=t,t}var Hp;function x9(){return Hp||(He.process&&He.process.nextTick?Hp=He.process.nextTick:He.queueMicrotask?Hp=He.queueMicrotask:He.setImmediate?Hp=He.setImmediate:Hp=He.setTimeout,Hp)}function PD(e,t,r,n,i){return Qb.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then(function(o){return Qb.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:i}},o,n<<3)}).then(function(o){return OD.from(o)})}function Rpe(e,t){e.then(function(r){x9()(function(){t(null,r)})},function(r){x9()(function(){t(r)})})}var Cpe=function(e,t,r,n,i,o){typeof i=="function"&&(o=i,i=void 0),i=i||"sha1";var s=Npe[i.toLowerCase()];if(!s||typeof He.Promise!="function"){x9()(function(){var a;try{a=YN(e,t,r,n,i)}catch(l){return o(l)}o(null,a)});return}if(Bpe(r,n),e=JN(e,QN,"Password"),t=JN(t,QN,"Salt"),typeof o!="function")throw new Error("No callback provided to pbkdf2");Rpe(Mpe(s).then(function(a){return a?PD(e,t,r,n,s):YN(e,t,r,n,i)}),o)};r6.pbkdf2=Cpe;r6.pbkdf2Sync=AD;var ku={},qy={},ra={};ra.readUInt32BE=function(e,t){var r=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return r>>>0};ra.writeUInt32BE=function(e,t,r){e[0+r]=t>>>24,e[1+r]=t>>>16&255,e[2+r]=t>>>8&255,e[3+r]=t&255};ra.ip=function(e,t,r,n){for(var i=0,o=0,s=6;s>=0;s-=2){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>>a+s&1;for(var a=0;a<=24;a+=8)i<<=1,i|=e>>>a+s&1}for(var s=6;s>=0;s-=2){for(var a=1;a<=25;a+=8)o<<=1,o|=t>>>a+s&1;for(var a=1;a<=25;a+=8)o<<=1,o|=e>>>a+s&1}r[n+0]=i>>>0,r[n+1]=o>>>0};ra.rip=function(e,t,r,n){for(var i=0,o=0,s=0;s<4;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;for(var s=4;s<8;s++)for(var a=24;a>=0;a-=8)o<<=1,o|=t>>>a+s&1,o<<=1,o|=e>>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0};ra.pc1=function(e,t,r,n){for(var i=0,o=0,s=7;s>=5;s--){for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(var a=0;a<=24;a+=8)i<<=1,i|=e>>a+s&1}for(var a=0;a<=24;a+=8)i<<=1,i|=t>>a+s&1;for(var s=1;s<=3;s++){for(var a=0;a<=24;a+=8)o<<=1,o|=t>>a+s&1;for(var a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1}for(var a=0;a<=24;a+=8)o<<=1,o|=e>>a+s&1;r[n+0]=i>>>0,r[n+1]=o>>>0};ra.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var q2=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];ra.pc2=function(e,t,r,n){for(var i=0,o=0,s=q2.length>>>1,a=0;a<s;a++)i<<=1,i|=e>>>q2[a]&1;for(var a=s;a<q2.length;a++)o<<=1,o|=t>>>q2[a]&1;r[n+0]=i>>>0,r[n+1]=o>>>0};ra.expand=function(e,t,r){var n=0,i=0;n=(e&1)<<5|e>>>27;for(var o=23;o>=15;o-=4)n<<=6,n|=e>>>o&63;for(var o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(e&31)<<1|e>>>31,t[r+0]=n>>>0,t[r+1]=i>>>0};var eM=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];ra.substitute=function(e,t){for(var r=0,n=0;n<4;n++){var i=e>>>18-n*6&63,o=eM[n*64+i];r<<=4,r|=o}for(var n=0;n<4;n++){var i=t>>>18-n*6&63,o=eM[4*64+n*64+i];r<<=4,r|=o}return r>>>0};var tM=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];ra.permute=function(e){for(var t=0,r=0;r<tM.length;r++)t<<=1,t|=e>>>tM[r]&1;return t>>>0};ra.padSplit=function(e,t,r){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var i=[],o=0;o<t;o+=r)i.push(n.slice(o,o+r));return i.join(" ")};var La=TD;function TD(e,t){if(!e)throw new Error(t||"Assertion failed")}TD.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var jpe=La;function $a(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=e.padding!==!1}var RA=$a;$a.prototype._init=function(){};$a.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};$a.prototype._buffer=function(e,t){for(var r=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;n<r;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=r,r};$a.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize};$a.prototype._updateEncrypt=function(e){var t=0,r=0,n=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(n*this.blockSize);this.bufferOff!==0&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(r+=this._flushBuffer(i,r)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,r),r+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i};$a.prototype._updateDecrypt=function(e){for(var t=0,r=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),r+=this._flushBuffer(i,r);return t+=this._buffer(e,t),i};$a.prototype.final=function(e){var t;e&&(t=this.update(e));var r;return this.type==="encrypt"?r=this._finalEncrypt():r=this._finalDecrypt(),t?t.concat(r):r};$a.prototype._pad=function(e,t){if(t===0)return!1;for(;t<e.length;)e[t++]=0;return!0};$a.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};$a.prototype._unpad=function(e){return e};$a.prototype._finalDecrypt=function(){jpe.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var ID=La,Upe=Mr,_i=ra,BD=RA;function zpe(){this.tmp=new Array(2),this.keys=null}function bl(e){BD.call(this,e);var t=new zpe;this._desState=t,this.deriveKeys(t,e.key)}Upe(bl,BD);var ND=bl;bl.create=function(e){return new bl(e)};var Lpe=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];bl.prototype.deriveKeys=function(e,t){e.keys=new Array(16*2),ID.equal(t.length,this.blockSize,"Invalid key length");var r=_i.readUInt32BE(t,0),n=_i.readUInt32BE(t,4);_i.pc1(r,n,e.tmp,0),r=e.tmp[0],n=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var o=Lpe[i>>>1];r=_i.r28shl(r,o),n=_i.r28shl(n,o),_i.pc2(r,n,e.keys,i)}};bl.prototype._update=function(e,t,r,n){var i=this._desState,o=_i.readUInt32BE(e,t),s=_i.readUInt32BE(e,t+4);_i.ip(o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],this.type==="encrypt"?this._encrypt(i,o,s,i.tmp,0):this._decrypt(i,o,s,i.tmp,0),o=i.tmp[0],s=i.tmp[1],_i.writeUInt32BE(r,o,n),_i.writeUInt32BE(r,s,n+4)};bl.prototype._pad=function(e,t){if(this.padding===!1)return!1;for(var r=e.length-t,n=t;n<e.length;n++)e[n]=r;return!0};bl.prototype._unpad=function(e){if(this.padding===!1)return e;for(var t=e[e.length-1],r=e.length-t;r<e.length;r++)ID.equal(e[r],t);return e.slice(0,e.length-t)};bl.prototype._encrypt=function(e,t,r,n,i){for(var o=t,s=r,a=0;a<e.keys.length;a+=2){var l=e.keys[a],c=e.keys[a+1];_i.expand(s,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var u=_i.substitute(l,c),h=_i.permute(u),g=s;s=(o^h)>>>0,o=g}_i.rip(s,o,n,i)};bl.prototype._decrypt=function(e,t,r,n,i){for(var o=r,s=t,a=e.keys.length-2;a>=0;a-=2){var l=e.keys[a],c=e.keys[a+1];_i.expand(o,e.tmp,0),l^=e.tmp[0],c^=e.tmp[1];var u=_i.substitute(l,c),h=_i.permute(u),g=o;o=(s^h)>>>0,s=g}_i.rip(o,s,n,i)};var MD={},$pe=La,Fpe=Mr,o1={};function Dpe(e){$pe.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function Hpe(e){function t(o){e.call(this,o),this._cbcInit()}Fpe(t,e);for(var r=Object.keys(o1),n=0;n<r.length;n++){var i=r[n];t.prototype[i]=o1[i]}return t.create=function(o){return new t(o)},t}MD.instantiate=Hpe;o1._cbcInit=function(){var e=new Dpe(this.options.iv);this._cbcState=e};o1._update=function(e,t,r,n){var i=this._cbcState,o=this.constructor.super_.prototype,s=i.iv;if(this.type==="encrypt"){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];o._update.call(this,s,0,r,n);for(var a=0;a<this.blockSize;a++)s[a]=r[n+a]}else{o._update.call(this,e,t,r,n);for(var a=0;a<this.blockSize;a++)r[n+a]^=s[a];for(var a=0;a<this.blockSize;a++)s[a]=e[t+a]}};var Kpe=La,Vpe=Mr,RD=RA,Rf=ND;function Wpe(e,t){Kpe.equal(t.length,24,"Invalid key length");var r=t.slice(0,8),n=t.slice(8,16),i=t.slice(16,24);e==="encrypt"?this.ciphers=[Rf.create({type:"encrypt",key:r}),Rf.create({type:"decrypt",key:n}),Rf.create({type:"encrypt",key:i})]:this.ciphers=[Rf.create({type:"decrypt",key:i}),Rf.create({type:"encrypt",key:n}),Rf.create({type:"decrypt",key:r})]}function Lh(e){RD.call(this,e);var t=new Wpe(this.type,this.options.key);this._edeState=t}Vpe(Lh,RD);var qpe=Lh;Lh.create=function(e){return new Lh(e)};Lh.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)};Lh.prototype._pad=Rf.prototype._pad;Lh.prototype._unpad=Rf.prototype._unpad;qy.utils=ra;qy.Cipher=RA;qy.DES=ND;qy.CBC=MD;qy.EDE=qpe;var CD=kd,ql=qy,Zpe=Mr,ih=Pr.Buffer,$0={"des-ede3-cbc":ql.CBC.instantiate(ql.EDE),"des-ede3":ql.EDE,"des-ede-cbc":ql.CBC.instantiate(ql.EDE),"des-ede":ql.EDE,"des-cbc":ql.CBC.instantiate(ql.DES),"des-ecb":ql.DES};$0.des=$0["des-cbc"];$0.des3=$0["des-ede3-cbc"];var Gpe=n6;Zpe(n6,CD);function n6(e){CD.call(this);var t=e.mode.toLowerCase(),r=$0[t],n;e.decrypt?n="decrypt":n="encrypt";var i=e.key;ih.isBuffer(i)||(i=ih.from(i)),(t==="des-ede"||t==="des-ede-cbc")&&(i=ih.concat([i,i.slice(0,8)]));var o=e.iv;ih.isBuffer(o)||(o=ih.from(o)),this._des=r.create({key:i,iv:o,type:n})}n6.prototype._update=function(e){return ih.from(this._des.update(e))};n6.prototype._final=function(){return ih.from(this._des.final())};var Xs={},CA={},jA={};jA.encrypt=function(e,t){return e._cipher.encryptBlock(t)};jA.decrypt=function(e,t){return e._cipher.decryptBlock(t)};var UA={},Xv=function(e,t){for(var r=Math.min(e.length,t.length),n=new Fe(r),i=0;i<r;++i)n[i]=e[i]^t[i];return n},jD=Xv;UA.encrypt=function(e,t){var r=jD(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev};UA.decrypt=function(e,t){var r=e._prev;e._prev=t;var n=e._cipher.decryptBlock(t);return jD(n,r)};var UD={},Pb=Pr.Buffer,Xpe=Xv;function rM(e,t,r){var n=t.length,i=Xpe(t,e._cache);return e._cache=e._cache.slice(n),e._prev=Pb.concat([e._prev,r?t:i]),i}UD.encrypt=function(e,t,r){for(var n=Pb.allocUnsafe(0),i;t.length;)if(e._cache.length===0&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=Pb.allocUnsafe(0)),e._cache.length<=t.length)i=e._cache.length,n=Pb.concat([n,rM(e,t.slice(0,i),r)]),t=t.slice(i);else{n=Pb.concat([n,rM(e,t,r)]);break}return n};var zD={},A9=Pr.Buffer;function Qpe(e,t,r){var n=e._cipher.encryptBlock(e._prev),i=n[0]^t;return e._prev=A9.concat([e._prev.slice(1),A9.from([r?t:i])]),i}zD.encrypt=function(e,t,r){for(var n=t.length,i=A9.allocUnsafe(n),o=-1;++o<n;)i[o]=Qpe(e,t[o],r);return i};var LD={},t8=Pr.Buffer;function Ype(e,t,r){for(var n,i=-1,o=8,s=0,a,l;++i<o;)n=e._cipher.encryptBlock(e._prev),a=t&1<<7-i?128:0,l=n[0]^a,s+=(l&128)>>i%8,e._prev=Jpe(e._prev,r?a:l);return s}function Jpe(e,t){var r=e.length,n=-1,i=t8.allocUnsafe(e.length);for(e=t8.concat([e,t8.from([t])]);++n<r;)i[n]=e[n]<<1|e[n+1]>>7;return i}LD.encrypt=function(e,t,r){for(var n=t.length,i=t8.allocUnsafe(n),o=-1;++o<n;)i[o]=Ype(e,t[o],r);return i};var $D={},ege=Xv;function tge(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}$D.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=Fe.concat([e._cache,tge(e)]);var r=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),ege(t,r)};var O9={};function rge(e){for(var t=e.length,r;t--;)if(r=e.readUInt8(t),r===255)e.writeUInt8(0,t);else{r++,e.writeUInt8(r,t);break}}var FD=rge,nge=Xv,nM=Pr.Buffer,ige=FD;function oge(e){var t=e._cipher.encryptBlockRaw(e._prev);return ige(e._prev),t}var B_=16;O9.encrypt=function(e,t){var r=Math.ceil(t.length/B_),n=e._cache.length;e._cache=nM.concat([e._cache,nM.allocUnsafe(r*B_)]);for(var i=0;i<r;i++){var o=oge(e),s=n+i*B_;e._cache.writeUInt32BE(o[0],s+0),e._cache.writeUInt32BE(o[1],s+4),e._cache.writeUInt32BE(o[2],s+8),e._cache.writeUInt32BE(o[3],s+12)}var a=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),nge(t,a)};const sge={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},age={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},uge={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},DD={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:sge,aes192:age,aes256:uge,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var lge={ECB:jA,CBC:UA,CFB:UD,CFB8:zD,CFB1:LD,OFB:$D,CTR:O9,GCM:O9},r8=DD;for(var iM in r8)r8[iM].module=lge[r8[iM].mode];var zA=r8,Qv={},s1=Pr.Buffer;function LA(e){s1.isBuffer(e)||(e=s1.from(e));for(var t=e.length/4|0,r=new Array(t),n=0;n<t;n++)r[n]=e.readUInt32BE(n*4);return r}function N_(e){for(var t=0;t<e.length;e++)e[t]=0}function HD(e,t,r,n,i){for(var o=r[0],s=r[1],a=r[2],l=r[3],c=e[0]^t[0],u=e[1]^t[1],h=e[2]^t[2],g=e[3]^t[3],k,R,F,D,$=4,B=1;B<i;B++)k=o[c>>>24]^s[u>>>16&255]^a[h>>>8&255]^l[g&255]^t[$++],R=o[u>>>24]^s[h>>>16&255]^a[g>>>8&255]^l[c&255]^t[$++],F=o[h>>>24]^s[g>>>16&255]^a[c>>>8&255]^l[u&255]^t[$++],D=o[g>>>24]^s[c>>>16&255]^a[u>>>8&255]^l[h&255]^t[$++],c=k,u=R,h=F,g=D;return k=(n[c>>>24]<<24|n[u>>>16&255]<<16|n[h>>>8&255]<<8|n[g&255])^t[$++],R=(n[u>>>24]<<24|n[h>>>16&255]<<16|n[g>>>8&255]<<8|n[c&255])^t[$++],F=(n[h>>>24]<<24|n[g>>>16&255]<<16|n[c>>>8&255]<<8|n[u&255])^t[$++],D=(n[g>>>24]<<24|n[c>>>16&255]<<16|n[u>>>8&255]<<8|n[h&255])^t[$++],k=k>>>0,R=R>>>0,F=F>>>0,D=D>>>0,[k,R,F,D]}var cge=[0,1,2,4,8,16,32,64,128,27,54],si=function(){for(var e=new Array(256),t=0;t<256;t++)t<128?e[t]=t<<1:e[t]=t<<1^283;for(var r=[],n=[],i=[[],[],[],[]],o=[[],[],[],[]],s=0,a=0,l=0;l<256;++l){var c=a^a<<1^a<<2^a<<3^a<<4;c=c>>>8^c&255^99,r[s]=c,n[c]=s;var u=e[s],h=e[u],g=e[h],k=e[c]*257^c*16843008;i[0][s]=k<<24|k>>>8,i[1][s]=k<<16|k>>>16,i[2][s]=k<<8|k>>>24,i[3][s]=k,k=g*16843009^h*65537^u*257^s*16843008,o[0][c]=k<<24|k>>>8,o[1][c]=k<<16|k>>>16,o[2][c]=k<<8|k>>>24,o[3][c]=k,s===0?s=a=1:(s=u^e[e[e[g^u]]],a^=e[e[a]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:i,INV_SUB_MIX:o}}();function ja(e){this._key=LA(e),this._reset()}ja.blockSize=4*4;ja.keySize=256/8;ja.prototype.blockSize=ja.blockSize;ja.prototype.keySize=ja.keySize;ja.prototype._reset=function(){for(var e=this._key,t=e.length,r=t+6,n=(r+1)*4,i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<n;o++){var s=i[o-1];o%t===0?(s=s<<8|s>>>24,s=si.SBOX[s>>>24]<<24|si.SBOX[s>>>16&255]<<16|si.SBOX[s>>>8&255]<<8|si.SBOX[s&255],s^=cge[o/t|0]<<24):t>6&&o%t===4&&(s=si.SBOX[s>>>24]<<24|si.SBOX[s>>>16&255]<<16|si.SBOX[s>>>8&255]<<8|si.SBOX[s&255]),i[o]=i[o-t]^s}for(var a=[],l=0;l<n;l++){var c=n-l,u=i[c-(l%4?0:4)];l<4||c<=4?a[l]=u:a[l]=si.INV_SUB_MIX[0][si.SBOX[u>>>24]]^si.INV_SUB_MIX[1][si.SBOX[u>>>16&255]]^si.INV_SUB_MIX[2][si.SBOX[u>>>8&255]]^si.INV_SUB_MIX[3][si.SBOX[u&255]]}this._nRounds=r,this._keySchedule=i,this._invKeySchedule=a};ja.prototype.encryptBlockRaw=function(e){return e=LA(e),HD(e,this._keySchedule,si.SUB_MIX,si.SBOX,this._nRounds)};ja.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),r=s1.allocUnsafe(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r};ja.prototype.decryptBlock=function(e){e=LA(e);var t=e[1];e[1]=e[3],e[3]=t;var r=HD(e,this._invKeySchedule,si.INV_SUB_MIX,si.INV_SBOX,this._nRounds),n=s1.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};ja.prototype.scrub=function(){N_(this._keySchedule),N_(this._invKeySchedule),N_(this._key)};Qv.AES=ja;var cy=Pr.Buffer,fge=cy.alloc(16,0);function dge(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function KD(e){var t=cy.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function Yv(e){this.h=e,this.state=cy.alloc(16,0),this.cache=cy.allocUnsafe(0)}Yv.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()};Yv.prototype._multiply=function(){for(var e=dge(this.h),t=[0,0,0,0],r,n,i,o=-1;++o<128;){for(n=(this.state[~~(o/8)]&1<<7-o%8)!==0,n&&(t[0]^=e[0],t[1]^=e[1],t[2]^=e[2],t[3]^=e[3]),i=(e[3]&1)!==0,r=3;r>0;r--)e[r]=e[r]>>>1|(e[r-1]&1)<<31;e[0]=e[0]>>>1,i&&(e[0]=e[0]^225<<24)}this.state=KD(t)};Yv.prototype.update=function(e){this.cache=cy.concat([this.cache,e]);for(var t;this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)};Yv.prototype.final=function(e,t){return this.cache.length&&this.ghash(cy.concat([this.cache,fge],16)),this.ghash(KD([0,e,0,t])),this.state};var hge=Yv,pge=Qv,os=Pr.Buffer,VD=kd,gge=Mr,WD=hge,yge=Xv,mge=FD;function bge(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=0;i<n;++i)r+=e[i]^t[i];return r}function vge(e,t,r){if(t.length===12)return e._finID=os.concat([t,os.from([0,0,0,1])]),os.concat([t,os.from([0,0,0,2])]);var n=new WD(r),i=t.length,o=i%16;n.update(t),o&&(o=16-o,n.update(os.alloc(o,0))),n.update(os.alloc(8,0));var s=i*8,a=os.alloc(8);a.writeUIntBE(s,0,8),n.update(a),e._finID=n.state;var l=os.from(e._finID);return mge(l),l}function ap(e,t,r,n){VD.call(this);var i=os.alloc(4,0);this._cipher=new pge.AES(t);var o=this._cipher.encryptBlock(i);this._ghash=new WD(o),r=vge(this,r,o),this._prev=os.from(r),this._cache=os.allocUnsafe(0),this._secCache=os.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}gge(ap,VD);ap.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=os.alloc(t,0),this._ghash.update(t))}this._called=!0;var r=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(r),this._len+=e.length,r};ap.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=yge(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&bge(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()};ap.prototype.getAuthTag=function(){if(this._decrypt||!os.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};ap.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};ap.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var qD=ap,wge=Qv,M_=Pr.Buffer,ZD=kd,Ege=Mr;function i6(e,t,r,n){ZD.call(this),this._cipher=new wge.AES(t),this._prev=M_.from(r),this._cache=M_.allocUnsafe(0),this._secCache=M_.allocUnsafe(0),this._decrypt=n,this._mode=e}Ege(i6,ZD);i6.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)};i6.prototype._final=function(){this._cipher.scrub()};var GD=i6,$d=Pr.Buffer,_ge=IA;function Sge(e,t,r,n){if($d.isBuffer(e)||(e=$d.from(e,"binary")),t&&($d.isBuffer(t)||(t=$d.from(t,"binary")),t.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var i=r/8,o=$d.alloc(i),s=$d.alloc(n||0),a=$d.alloc(0);i>0||n>0;){var l=new _ge;l.update(a),l.update(e),t&&l.update(t),a=l.digest();var c=0;if(i>0){var u=o.length-i;c=Math.min(i,a.length),a.copy(o,u,0,c),i-=c}if(c<a.length&&n>0){var h=s.length-n,g=Math.min(n,a.length-c);a.copy(s,h,c,c+g),n-=g}}return a.fill(0),{key:o,iv:s}}var o6=Sge,XD=zA,kge=qD,Oc=Pr.Buffer,xge=GD,QD=kd,Age=Qv,Oge=o6,Pge=Mr;function Jv(e,t,r){QD.call(this),this._cache=new s6,this._cipher=new Age.AES(t),this._prev=Oc.from(r),this._mode=e,this._autopadding=!0}Pge(Jv,QD);Jv.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return Oc.concat(n)};var Tge=Oc.alloc(16,16);Jv.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(Tge))throw this._cipher.scrub(),new Error("data not multiple of block length")};Jv.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function s6(){this.cache=Oc.allocUnsafe(0)}s6.prototype.add=function(e){this.cache=Oc.concat([this.cache,e])};s6.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null};s6.prototype.flush=function(){for(var e=16-this.cache.length,t=Oc.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return Oc.concat([this.cache,t])};function YD(e,t,r){var n=XD[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof t=="string"&&(t=Oc.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);if(typeof r=="string"&&(r=Oc.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new xge(n.module,t,r):n.type==="auth"?new kge(n.module,t,r):new Jv(n.module,t,r)}function Ige(e,t){var r=XD[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Oge(t,!1,r.key,r.iv);return YD(e,n.key,n.iv)}CA.createCipheriv=YD;CA.createCipher=Ige;var $A={},Bge=qD,fy=Pr.Buffer,JD=zA,Nge=GD,eH=kd,Mge=Qv,Rge=o6,Cge=Mr;function ew(e,t,r){eH.call(this),this._cache=new a6,this._last=void 0,this._cipher=new Mge.AES(t),this._prev=fy.from(r),this._mode=e,this._autopadding=!0}Cge(ew,eH);ew.prototype._update=function(e){this._cache.add(e);for(var t,r,n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return fy.concat(n)};ew.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return jge(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")};ew.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this};function a6(){this.cache=fy.allocUnsafe(0)}a6.prototype.add=function(e){this.cache=fy.concat([this.cache,e])};a6.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null};a6.prototype.flush=function(){if(this.cache.length)return this.cache};function jge(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");for(var r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");if(t!==16)return e.slice(0,16-t)}function tH(e,t,r){var n=JD[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=fy.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof t=="string"&&(t=fy.from(t)),t.length!==n.key/8)throw new TypeError("invalid key length "+t.length);return n.type==="stream"?new Nge(n.module,t,r,!0):n.type==="auth"?new Bge(n.module,t,r,!0):new ew(n.module,t,r)}function Uge(e,t){var r=JD[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=Rge(t,!1,r.key,r.iv);return tH(e,n.key,n.iv)}$A.createDecipher=Uge;$A.createDecipheriv=tH;var rH=CA,nH=$A,zge=DD;function Lge(){return Object.keys(zge)}Xs.createCipher=Xs.Cipher=rH.createCipher;Xs.createCipheriv=Xs.Cipheriv=rH.createCipheriv;Xs.createDecipher=Xs.Decipher=nH.createDecipher;Xs.createDecipheriv=Xs.Decipheriv=nH.createDecipheriv;Xs.listCiphers=Xs.getCiphers=Lge;var iH={};(function(e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}})(iH);var oH=Gpe,FA=Xs,Yf=zA,bc=iH,sH=o6;function $ge(e,t){e=e.toLowerCase();var r,n;if(Yf[e])r=Yf[e].key,n=Yf[e].iv;else if(bc[e])r=bc[e].key*8,n=bc[e].iv;else throw new TypeError("invalid suite type");var i=sH(t,!1,r,n);return aH(e,i.key,i.iv)}function Fge(e,t){e=e.toLowerCase();var r,n;if(Yf[e])r=Yf[e].key,n=Yf[e].iv;else if(bc[e])r=bc[e].key*8,n=bc[e].iv;else throw new TypeError("invalid suite type");var i=sH(t,!1,r,n);return uH(e,i.key,i.iv)}function aH(e,t,r){if(e=e.toLowerCase(),Yf[e])return FA.createCipheriv(e,t,r);if(bc[e])return new oH({key:t,iv:r,mode:e});throw new TypeError("invalid suite type")}function uH(e,t,r){if(e=e.toLowerCase(),Yf[e])return FA.createDecipheriv(e,t,r);if(bc[e])return new oH({key:t,iv:r,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function Dge(){return Object.keys(bc).concat(FA.getCiphers())}ku.createCipher=ku.Cipher=$ge;ku.createCipheriv=ku.Cipheriv=aH;ku.createDecipher=ku.Decipher=Fge;ku.createDecipheriv=ku.Decipheriv=uH;ku.listCiphers=ku.getCiphers=Dge;var Fd={},lH={exports:{}};(function(e){(function(t,r){function n(v,I){if(!v)throw new Error(I||"Assertion failed")}function i(v,I){v.super_=I;var p=function(){};p.prototype=I.prototype,v.prototype=new p,v.prototype.constructor=v}function o(v,I,p){if(o.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((I==="le"||I==="be")&&(p=I,I=10),this._init(v||0,I||10,p||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=_d.Buffer}catch{}o.isBN=function(v){return v instanceof o?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===o.wordSize&&Array.isArray(v.words)},o.max=function(v,I){return v.cmp(I)>0?v:I},o.min=function(v,I){return v.cmp(I)<0?v:I},o.prototype._init=function(v,I,p){if(typeof v=="number")return this._initNumber(v,I,p);if(typeof v=="object")return this._initArray(v,I,p);I==="hex"&&(I=16),n(I===(I|0)&&I>=2&&I<=36),v=v.toString().replace(/\s+/g,"");var _=0;v[0]==="-"&&(_++,this.negative=1),_<v.length&&(I===16?this._parseHex(v,_,p):(this._parseBase(v,I,_),p==="le"&&this._initArray(this.toArray(),I,p)))},o.prototype._initNumber=function(v,I,p){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(n(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),I,p)},o.prototype._initArray=function(v,I,p){if(n(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var w,S,A=0;if(p==="be")for(_=v.length-1,w=0;_>=0;_-=3)S=v[_]|v[_-1]<<8|v[_-2]<<16,this.words[w]|=S<<A&67108863,this.words[w+1]=S>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);else if(p==="le")for(_=0,w=0;_<v.length;_+=3)S=v[_]|v[_+1]<<8|v[_+2]<<16,this.words[w]|=S<<A&67108863,this.words[w+1]=S>>>26-A&67108863,A+=24,A>=26&&(A-=26,w++);return this.strip()};function a(v,I){var p=v.charCodeAt(I);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function l(v,I,p){var _=a(v,p);return p-1>=I&&(_|=a(v,p-1)<<4),_}o.prototype._parseHex=function(v,I,p){this.length=Math.ceil((v.length-I)/6),this.words=new Array(this.length);for(var _=0;_<this.length;_++)this.words[_]=0;var w=0,S=0,A;if(p==="be")for(_=v.length-1;_>=I;_-=2)A=l(v,I,_)<<w,this.words[S]|=A&67108863,w>=18?(w-=18,S+=1,this.words[S]|=A>>>26):w+=8;else{var x=v.length-I;for(_=x%2===0?I+1:I;_<v.length;_+=2)A=l(v,I,_)<<w,this.words[S]|=A&67108863,w>=18?(w-=18,S+=1,this.words[S]|=A>>>26):w+=8}this.strip()};function c(v,I,p,_){for(var w=0,S=Math.min(v.length,p),A=I;A<S;A++){var x=v.charCodeAt(A)-48;w*=_,x>=49?w+=x-49+10:x>=17?w+=x-17+10:w+=x}return w}o.prototype._parseBase=function(v,I,p){this.words=[0],this.length=1;for(var _=0,w=1;w<=67108863;w*=I)_++;_--,w=w/I|0;for(var S=v.length-p,A=S%_,x=Math.min(S,S-A)+p,E=0,T=p;T<x;T+=_)E=c(v,T,T+_,I),this.imuln(w),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E);if(A!==0){var M=1;for(E=c(v,T,v.length,I),T=0;T<A;T++)M*=I;this.imuln(M),this.words[0]+E<67108864?this.words[0]+=E:this._iaddn(E)}this.strip()},o.prototype.copy=function(v){v.words=new Array(this.length);for(var I=0;I<this.length;I++)v.words[I]=this.words[I];v.length=this.length,v.negative=this.negative,v.red=this.red},o.prototype.clone=function(){var v=new o(null);return this.copy(v),v},o.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(v,I){v=v||10,I=I|0||1;var p;if(v===16||v==="hex"){p="";for(var _=0,w=0,S=0;S<this.length;S++){var A=this.words[S],x=((A<<_|w)&16777215).toString(16);w=A>>>24-_&16777215,_+=2,_>=26&&(_-=26,S--),w!==0||S!==this.length-1?p=u[6-x.length]+x+p:p=x+p}for(w!==0&&(p=w.toString(16)+p);p.length%I!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(v===(v|0)&&v>=2&&v<=36){var E=h[v],T=g[v];p="";var M=this.clone();for(M.negative=0;!M.isZero();){var Q=M.modn(T).toString(v);M=M.idivn(T),M.isZero()?p=Q+p:p=u[E-Q.length]+Q+p}for(this.isZero()&&(p="0"+p);p.length%I!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(v,I){return n(typeof s<"u"),this.toArrayLike(s,v,I)},o.prototype.toArray=function(v,I){return this.toArrayLike(Array,v,I)},o.prototype.toArrayLike=function(v,I,p){var _=this.byteLength(),w=p||Math.max(1,_);n(_<=w,"byte array longer than desired length"),n(w>0,"Requested array length <= 0"),this.strip();var S=I==="le",A=new v(w),x,E,T=this.clone();if(S){for(E=0;!T.isZero();E++)x=T.andln(255),T.iushrn(8),A[E]=x;for(;E<w;E++)A[E]=0}else{for(E=0;E<w-_;E++)A[E]=0;for(E=0;!T.isZero();E++)x=T.andln(255),T.iushrn(8),A[w-E-1]=x}return A},Math.clz32?o.prototype._countBits=function(v){return 32-Math.clz32(v)}:o.prototype._countBits=function(v){var I=v,p=0;return I>=4096&&(p+=13,I>>>=13),I>=64&&(p+=7,I>>>=7),I>=8&&(p+=4,I>>>=4),I>=2&&(p+=2,I>>>=2),p+I},o.prototype._zeroBits=function(v){if(v===0)return 26;var I=v,p=0;return I&8191||(p+=13,I>>>=13),I&127||(p+=7,I>>>=7),I&15||(p+=4,I>>>=4),I&3||(p+=2,I>>>=2),I&1||p++,p},o.prototype.bitLength=function(){var v=this.words[this.length-1],I=this._countBits(v);return(this.length-1)*26+I};function k(v){for(var I=new Array(v.bitLength()),p=0;p<I.length;p++){var _=p/26|0,w=p%26;I[p]=(v.words[_]&1<<w)>>>w}return I}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,I=0;I<this.length;I++){var p=this._zeroBits(this.words[I]);if(v+=p,p!==26)break}return v},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},o.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var I=0;I<v.length;I++)this.words[I]=this.words[I]|v.words[I];return this.strip()},o.prototype.ior=function(v){return n((this.negative|v.negative)===0),this.iuor(v)},o.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},o.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},o.prototype.iuand=function(v){var I;this.length>v.length?I=v:I=this;for(var p=0;p<I.length;p++)this.words[p]=this.words[p]&v.words[p];return this.length=I.length,this.strip()},o.prototype.iand=function(v){return n((this.negative|v.negative)===0),this.iuand(v)},o.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},o.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},o.prototype.iuxor=function(v){var I,p;this.length>v.length?(I=this,p=v):(I=v,p=this);for(var _=0;_<p.length;_++)this.words[_]=I.words[_]^p.words[_];if(this!==I)for(;_<I.length;_++)this.words[_]=I.words[_];return this.length=I.length,this.strip()},o.prototype.ixor=function(v){return n((this.negative|v.negative)===0),this.iuxor(v)},o.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},o.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},o.prototype.inotn=function(v){n(typeof v=="number"&&v>=0);var I=Math.ceil(v/26)|0,p=v%26;this._expand(I),p>0&&I--;for(var _=0;_<I;_++)this.words[_]=~this.words[_]&67108863;return p>0&&(this.words[_]=~this.words[_]&67108863>>26-p),this.strip()},o.prototype.notn=function(v){return this.clone().inotn(v)},o.prototype.setn=function(v,I){n(typeof v=="number"&&v>=0);var p=v/26|0,_=v%26;return this._expand(p+1),I?this.words[p]=this.words[p]|1<<_:this.words[p]=this.words[p]&~(1<<_),this.strip()},o.prototype.iadd=function(v){var I;if(this.negative!==0&&v.negative===0)return this.negative=0,I=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,I=this.isub(v),v.negative=1,I._normSign();var p,_;this.length>v.length?(p=this,_=v):(p=v,_=this);for(var w=0,S=0;S<_.length;S++)I=(p.words[S]|0)+(_.words[S]|0)+w,this.words[S]=I&67108863,w=I>>>26;for(;w!==0&&S<p.length;S++)I=(p.words[S]|0)+w,this.words[S]=I&67108863,w=I>>>26;if(this.length=p.length,w!==0)this.words[this.length]=w,this.length++;else if(p!==this)for(;S<p.length;S++)this.words[S]=p.words[S];return this},o.prototype.add=function(v){var I;return v.negative!==0&&this.negative===0?(v.negative=0,I=this.sub(v),v.negative^=1,I):v.negative===0&&this.negative!==0?(this.negative=0,I=v.sub(this),this.negative=1,I):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},o.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var I=this.iadd(v);return v.negative=1,I._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var p=this.cmp(v);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var _,w;p>0?(_=this,w=v):(_=v,w=this);for(var S=0,A=0;A<w.length;A++)I=(_.words[A]|0)-(w.words[A]|0)+S,S=I>>26,this.words[A]=I&67108863;for(;S!==0&&A<_.length;A++)I=(_.words[A]|0)+S,S=I>>26,this.words[A]=I&67108863;if(S===0&&A<_.length&&_!==this)for(;A<_.length;A++)this.words[A]=_.words[A];return this.length=Math.max(this.length,A),_!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(v){return this.clone().isub(v)};function R(v,I,p){p.negative=I.negative^v.negative;var _=v.length+I.length|0;p.length=_,_=_-1|0;var w=v.words[0]|0,S=I.words[0]|0,A=w*S,x=A&67108863,E=A/67108864|0;p.words[0]=x;for(var T=1;T<_;T++){for(var M=E>>>26,Q=E&67108863,he=Math.min(T,I.length-1),ue=Math.max(0,T-v.length+1);ue<=he;ue++){var W=T-ue|0;w=v.words[W]|0,S=I.words[ue]|0,A=w*S+Q,M+=A/67108864|0,Q=A&67108863}p.words[T]=Q|0,E=M|0}return E!==0?p.words[T]=E|0:p.length--,p.strip()}var F=function(v,I,p){var _=v.words,w=I.words,S=p.words,A=0,x,E,T,M=_[0]|0,Q=M&8191,he=M>>>13,ue=_[1]|0,W=ue&8191,se=ue>>>13,Z=_[2]|0,ie=Z&8191,pe=Z>>>13,Ee=_[3]|0,Oe=Ee&8191,Re=Ee>>>13,Ce=_[4]|0,P=Ce&8191,Y=Ce>>>13,be=_[5]|0,Ue=be&8191,Ke=be>>>13,rt=_[6]|0,We=rt&8191,Qe=rt>>>13,d=_[7]|0,b=d&8191,H=d>>>13,te=_[8]|0,ce=te&8191,z=te>>>13,X=_[9]|0,oe=X&8191,N=X>>>13,L=w[0]|0,J=L&8191,ge=L>>>13,le=w[1]|0,Me=le&8191,De=le>>>13,nt=w[2]|0,gt=nt&8191,jt=nt>>>13,Ze=w[3]|0,xt=Ze&8191,mr=Ze>>>13,Hr=w[4]|0,Wt=Hr&8191,Ut=Hr>>>13,Yt=w[5]|0,Ft=Yt&8191,Ur=Yt>>>13,Se=w[6]|0,ye=Se&8191,xe=Se>>>13,Be=w[7]|0,je=Be&8191,Ge=Be>>>13,lt=w[8]|0,Ye=lt&8191,Et=lt>>>13,wt=w[9]|0,ft=wt&8191,It=wt>>>13;p.negative=v.negative^I.negative,p.length=19,x=Math.imul(Q,J),E=Math.imul(Q,ge),E=E+Math.imul(he,J)|0,T=Math.imul(he,ge);var Bt=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,x=Math.imul(W,J),E=Math.imul(W,ge),E=E+Math.imul(se,J)|0,T=Math.imul(se,ge),x=x+Math.imul(Q,Me)|0,E=E+Math.imul(Q,De)|0,E=E+Math.imul(he,Me)|0,T=T+Math.imul(he,De)|0;var Ct=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,x=Math.imul(ie,J),E=Math.imul(ie,ge),E=E+Math.imul(pe,J)|0,T=Math.imul(pe,ge),x=x+Math.imul(W,Me)|0,E=E+Math.imul(W,De)|0,E=E+Math.imul(se,Me)|0,T=T+Math.imul(se,De)|0,x=x+Math.imul(Q,gt)|0,E=E+Math.imul(Q,jt)|0,E=E+Math.imul(he,gt)|0,T=T+Math.imul(he,jt)|0;var et=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(et>>>26)|0,et&=67108863,x=Math.imul(Oe,J),E=Math.imul(Oe,ge),E=E+Math.imul(Re,J)|0,T=Math.imul(Re,ge),x=x+Math.imul(ie,Me)|0,E=E+Math.imul(ie,De)|0,E=E+Math.imul(pe,Me)|0,T=T+Math.imul(pe,De)|0,x=x+Math.imul(W,gt)|0,E=E+Math.imul(W,jt)|0,E=E+Math.imul(se,gt)|0,T=T+Math.imul(se,jt)|0,x=x+Math.imul(Q,xt)|0,E=E+Math.imul(Q,mr)|0,E=E+Math.imul(he,xt)|0,T=T+Math.imul(he,mr)|0;var _t=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(_t>>>26)|0,_t&=67108863,x=Math.imul(P,J),E=Math.imul(P,ge),E=E+Math.imul(Y,J)|0,T=Math.imul(Y,ge),x=x+Math.imul(Oe,Me)|0,E=E+Math.imul(Oe,De)|0,E=E+Math.imul(Re,Me)|0,T=T+Math.imul(Re,De)|0,x=x+Math.imul(ie,gt)|0,E=E+Math.imul(ie,jt)|0,E=E+Math.imul(pe,gt)|0,T=T+Math.imul(pe,jt)|0,x=x+Math.imul(W,xt)|0,E=E+Math.imul(W,mr)|0,E=E+Math.imul(se,xt)|0,T=T+Math.imul(se,mr)|0,x=x+Math.imul(Q,Wt)|0,E=E+Math.imul(Q,Ut)|0,E=E+Math.imul(he,Wt)|0,T=T+Math.imul(he,Ut)|0;var Ie=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,x=Math.imul(Ue,J),E=Math.imul(Ue,ge),E=E+Math.imul(Ke,J)|0,T=Math.imul(Ke,ge),x=x+Math.imul(P,Me)|0,E=E+Math.imul(P,De)|0,E=E+Math.imul(Y,Me)|0,T=T+Math.imul(Y,De)|0,x=x+Math.imul(Oe,gt)|0,E=E+Math.imul(Oe,jt)|0,E=E+Math.imul(Re,gt)|0,T=T+Math.imul(Re,jt)|0,x=x+Math.imul(ie,xt)|0,E=E+Math.imul(ie,mr)|0,E=E+Math.imul(pe,xt)|0,T=T+Math.imul(pe,mr)|0,x=x+Math.imul(W,Wt)|0,E=E+Math.imul(W,Ut)|0,E=E+Math.imul(se,Wt)|0,T=T+Math.imul(se,Ut)|0,x=x+Math.imul(Q,Ft)|0,E=E+Math.imul(Q,Ur)|0,E=E+Math.imul(he,Ft)|0,T=T+Math.imul(he,Ur)|0;var yt=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(yt>>>26)|0,yt&=67108863,x=Math.imul(We,J),E=Math.imul(We,ge),E=E+Math.imul(Qe,J)|0,T=Math.imul(Qe,ge),x=x+Math.imul(Ue,Me)|0,E=E+Math.imul(Ue,De)|0,E=E+Math.imul(Ke,Me)|0,T=T+Math.imul(Ke,De)|0,x=x+Math.imul(P,gt)|0,E=E+Math.imul(P,jt)|0,E=E+Math.imul(Y,gt)|0,T=T+Math.imul(Y,jt)|0,x=x+Math.imul(Oe,xt)|0,E=E+Math.imul(Oe,mr)|0,E=E+Math.imul(Re,xt)|0,T=T+Math.imul(Re,mr)|0,x=x+Math.imul(ie,Wt)|0,E=E+Math.imul(ie,Ut)|0,E=E+Math.imul(pe,Wt)|0,T=T+Math.imul(pe,Ut)|0,x=x+Math.imul(W,Ft)|0,E=E+Math.imul(W,Ur)|0,E=E+Math.imul(se,Ft)|0,T=T+Math.imul(se,Ur)|0,x=x+Math.imul(Q,ye)|0,E=E+Math.imul(Q,xe)|0,E=E+Math.imul(he,ye)|0,T=T+Math.imul(he,xe)|0;var at=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(b,J),E=Math.imul(b,ge),E=E+Math.imul(H,J)|0,T=Math.imul(H,ge),x=x+Math.imul(We,Me)|0,E=E+Math.imul(We,De)|0,E=E+Math.imul(Qe,Me)|0,T=T+Math.imul(Qe,De)|0,x=x+Math.imul(Ue,gt)|0,E=E+Math.imul(Ue,jt)|0,E=E+Math.imul(Ke,gt)|0,T=T+Math.imul(Ke,jt)|0,x=x+Math.imul(P,xt)|0,E=E+Math.imul(P,mr)|0,E=E+Math.imul(Y,xt)|0,T=T+Math.imul(Y,mr)|0,x=x+Math.imul(Oe,Wt)|0,E=E+Math.imul(Oe,Ut)|0,E=E+Math.imul(Re,Wt)|0,T=T+Math.imul(Re,Ut)|0,x=x+Math.imul(ie,Ft)|0,E=E+Math.imul(ie,Ur)|0,E=E+Math.imul(pe,Ft)|0,T=T+Math.imul(pe,Ur)|0,x=x+Math.imul(W,ye)|0,E=E+Math.imul(W,xe)|0,E=E+Math.imul(se,ye)|0,T=T+Math.imul(se,xe)|0,x=x+Math.imul(Q,je)|0,E=E+Math.imul(Q,Ge)|0,E=E+Math.imul(he,je)|0,T=T+Math.imul(he,Ge)|0;var Jt=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,x=Math.imul(ce,J),E=Math.imul(ce,ge),E=E+Math.imul(z,J)|0,T=Math.imul(z,ge),x=x+Math.imul(b,Me)|0,E=E+Math.imul(b,De)|0,E=E+Math.imul(H,Me)|0,T=T+Math.imul(H,De)|0,x=x+Math.imul(We,gt)|0,E=E+Math.imul(We,jt)|0,E=E+Math.imul(Qe,gt)|0,T=T+Math.imul(Qe,jt)|0,x=x+Math.imul(Ue,xt)|0,E=E+Math.imul(Ue,mr)|0,E=E+Math.imul(Ke,xt)|0,T=T+Math.imul(Ke,mr)|0,x=x+Math.imul(P,Wt)|0,E=E+Math.imul(P,Ut)|0,E=E+Math.imul(Y,Wt)|0,T=T+Math.imul(Y,Ut)|0,x=x+Math.imul(Oe,Ft)|0,E=E+Math.imul(Oe,Ur)|0,E=E+Math.imul(Re,Ft)|0,T=T+Math.imul(Re,Ur)|0,x=x+Math.imul(ie,ye)|0,E=E+Math.imul(ie,xe)|0,E=E+Math.imul(pe,ye)|0,T=T+Math.imul(pe,xe)|0,x=x+Math.imul(W,je)|0,E=E+Math.imul(W,Ge)|0,E=E+Math.imul(se,je)|0,T=T+Math.imul(se,Ge)|0,x=x+Math.imul(Q,Ye)|0,E=E+Math.imul(Q,Et)|0,E=E+Math.imul(he,Ye)|0,T=T+Math.imul(he,Et)|0;var ve=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(ve>>>26)|0,ve&=67108863,x=Math.imul(oe,J),E=Math.imul(oe,ge),E=E+Math.imul(N,J)|0,T=Math.imul(N,ge),x=x+Math.imul(ce,Me)|0,E=E+Math.imul(ce,De)|0,E=E+Math.imul(z,Me)|0,T=T+Math.imul(z,De)|0,x=x+Math.imul(b,gt)|0,E=E+Math.imul(b,jt)|0,E=E+Math.imul(H,gt)|0,T=T+Math.imul(H,jt)|0,x=x+Math.imul(We,xt)|0,E=E+Math.imul(We,mr)|0,E=E+Math.imul(Qe,xt)|0,T=T+Math.imul(Qe,mr)|0,x=x+Math.imul(Ue,Wt)|0,E=E+Math.imul(Ue,Ut)|0,E=E+Math.imul(Ke,Wt)|0,T=T+Math.imul(Ke,Ut)|0,x=x+Math.imul(P,Ft)|0,E=E+Math.imul(P,Ur)|0,E=E+Math.imul(Y,Ft)|0,T=T+Math.imul(Y,Ur)|0,x=x+Math.imul(Oe,ye)|0,E=E+Math.imul(Oe,xe)|0,E=E+Math.imul(Re,ye)|0,T=T+Math.imul(Re,xe)|0,x=x+Math.imul(ie,je)|0,E=E+Math.imul(ie,Ge)|0,E=E+Math.imul(pe,je)|0,T=T+Math.imul(pe,Ge)|0,x=x+Math.imul(W,Ye)|0,E=E+Math.imul(W,Et)|0,E=E+Math.imul(se,Ye)|0,T=T+Math.imul(se,Et)|0,x=x+Math.imul(Q,ft)|0,E=E+Math.imul(Q,It)|0,E=E+Math.imul(he,ft)|0,T=T+Math.imul(he,It)|0;var Tr=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,x=Math.imul(oe,Me),E=Math.imul(oe,De),E=E+Math.imul(N,Me)|0,T=Math.imul(N,De),x=x+Math.imul(ce,gt)|0,E=E+Math.imul(ce,jt)|0,E=E+Math.imul(z,gt)|0,T=T+Math.imul(z,jt)|0,x=x+Math.imul(b,xt)|0,E=E+Math.imul(b,mr)|0,E=E+Math.imul(H,xt)|0,T=T+Math.imul(H,mr)|0,x=x+Math.imul(We,Wt)|0,E=E+Math.imul(We,Ut)|0,E=E+Math.imul(Qe,Wt)|0,T=T+Math.imul(Qe,Ut)|0,x=x+Math.imul(Ue,Ft)|0,E=E+Math.imul(Ue,Ur)|0,E=E+Math.imul(Ke,Ft)|0,T=T+Math.imul(Ke,Ur)|0,x=x+Math.imul(P,ye)|0,E=E+Math.imul(P,xe)|0,E=E+Math.imul(Y,ye)|0,T=T+Math.imul(Y,xe)|0,x=x+Math.imul(Oe,je)|0,E=E+Math.imul(Oe,Ge)|0,E=E+Math.imul(Re,je)|0,T=T+Math.imul(Re,Ge)|0,x=x+Math.imul(ie,Ye)|0,E=E+Math.imul(ie,Et)|0,E=E+Math.imul(pe,Ye)|0,T=T+Math.imul(pe,Et)|0,x=x+Math.imul(W,ft)|0,E=E+Math.imul(W,It)|0,E=E+Math.imul(se,ft)|0,T=T+Math.imul(se,It)|0;var or=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(or>>>26)|0,or&=67108863,x=Math.imul(oe,gt),E=Math.imul(oe,jt),E=E+Math.imul(N,gt)|0,T=Math.imul(N,jt),x=x+Math.imul(ce,xt)|0,E=E+Math.imul(ce,mr)|0,E=E+Math.imul(z,xt)|0,T=T+Math.imul(z,mr)|0,x=x+Math.imul(b,Wt)|0,E=E+Math.imul(b,Ut)|0,E=E+Math.imul(H,Wt)|0,T=T+Math.imul(H,Ut)|0,x=x+Math.imul(We,Ft)|0,E=E+Math.imul(We,Ur)|0,E=E+Math.imul(Qe,Ft)|0,T=T+Math.imul(Qe,Ur)|0,x=x+Math.imul(Ue,ye)|0,E=E+Math.imul(Ue,xe)|0,E=E+Math.imul(Ke,ye)|0,T=T+Math.imul(Ke,xe)|0,x=x+Math.imul(P,je)|0,E=E+Math.imul(P,Ge)|0,E=E+Math.imul(Y,je)|0,T=T+Math.imul(Y,Ge)|0,x=x+Math.imul(Oe,Ye)|0,E=E+Math.imul(Oe,Et)|0,E=E+Math.imul(Re,Ye)|0,T=T+Math.imul(Re,Et)|0,x=x+Math.imul(ie,ft)|0,E=E+Math.imul(ie,It)|0,E=E+Math.imul(pe,ft)|0,T=T+Math.imul(pe,It)|0;var sr=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(sr>>>26)|0,sr&=67108863,x=Math.imul(oe,xt),E=Math.imul(oe,mr),E=E+Math.imul(N,xt)|0,T=Math.imul(N,mr),x=x+Math.imul(ce,Wt)|0,E=E+Math.imul(ce,Ut)|0,E=E+Math.imul(z,Wt)|0,T=T+Math.imul(z,Ut)|0,x=x+Math.imul(b,Ft)|0,E=E+Math.imul(b,Ur)|0,E=E+Math.imul(H,Ft)|0,T=T+Math.imul(H,Ur)|0,x=x+Math.imul(We,ye)|0,E=E+Math.imul(We,xe)|0,E=E+Math.imul(Qe,ye)|0,T=T+Math.imul(Qe,xe)|0,x=x+Math.imul(Ue,je)|0,E=E+Math.imul(Ue,Ge)|0,E=E+Math.imul(Ke,je)|0,T=T+Math.imul(Ke,Ge)|0,x=x+Math.imul(P,Ye)|0,E=E+Math.imul(P,Et)|0,E=E+Math.imul(Y,Ye)|0,T=T+Math.imul(Y,Et)|0,x=x+Math.imul(Oe,ft)|0,E=E+Math.imul(Oe,It)|0,E=E+Math.imul(Re,ft)|0,T=T+Math.imul(Re,It)|0;var At=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(At>>>26)|0,At&=67108863,x=Math.imul(oe,Wt),E=Math.imul(oe,Ut),E=E+Math.imul(N,Wt)|0,T=Math.imul(N,Ut),x=x+Math.imul(ce,Ft)|0,E=E+Math.imul(ce,Ur)|0,E=E+Math.imul(z,Ft)|0,T=T+Math.imul(z,Ur)|0,x=x+Math.imul(b,ye)|0,E=E+Math.imul(b,xe)|0,E=E+Math.imul(H,ye)|0,T=T+Math.imul(H,xe)|0,x=x+Math.imul(We,je)|0,E=E+Math.imul(We,Ge)|0,E=E+Math.imul(Qe,je)|0,T=T+Math.imul(Qe,Ge)|0,x=x+Math.imul(Ue,Ye)|0,E=E+Math.imul(Ue,Et)|0,E=E+Math.imul(Ke,Ye)|0,T=T+Math.imul(Ke,Et)|0,x=x+Math.imul(P,ft)|0,E=E+Math.imul(P,It)|0,E=E+Math.imul(Y,ft)|0,T=T+Math.imul(Y,It)|0;var on=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(on>>>26)|0,on&=67108863,x=Math.imul(oe,Ft),E=Math.imul(oe,Ur),E=E+Math.imul(N,Ft)|0,T=Math.imul(N,Ur),x=x+Math.imul(ce,ye)|0,E=E+Math.imul(ce,xe)|0,E=E+Math.imul(z,ye)|0,T=T+Math.imul(z,xe)|0,x=x+Math.imul(b,je)|0,E=E+Math.imul(b,Ge)|0,E=E+Math.imul(H,je)|0,T=T+Math.imul(H,Ge)|0,x=x+Math.imul(We,Ye)|0,E=E+Math.imul(We,Et)|0,E=E+Math.imul(Qe,Ye)|0,T=T+Math.imul(Qe,Et)|0,x=x+Math.imul(Ue,ft)|0,E=E+Math.imul(Ue,It)|0,E=E+Math.imul(Ke,ft)|0,T=T+Math.imul(Ke,It)|0;var Di=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(Di>>>26)|0,Di&=67108863,x=Math.imul(oe,ye),E=Math.imul(oe,xe),E=E+Math.imul(N,ye)|0,T=Math.imul(N,xe),x=x+Math.imul(ce,je)|0,E=E+Math.imul(ce,Ge)|0,E=E+Math.imul(z,je)|0,T=T+Math.imul(z,Ge)|0,x=x+Math.imul(b,Ye)|0,E=E+Math.imul(b,Et)|0,E=E+Math.imul(H,Ye)|0,T=T+Math.imul(H,Et)|0,x=x+Math.imul(We,ft)|0,E=E+Math.imul(We,It)|0,E=E+Math.imul(Qe,ft)|0,T=T+Math.imul(Qe,It)|0;var m=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(m>>>26)|0,m&=67108863,x=Math.imul(oe,je),E=Math.imul(oe,Ge),E=E+Math.imul(N,je)|0,T=Math.imul(N,Ge),x=x+Math.imul(ce,Ye)|0,E=E+Math.imul(ce,Et)|0,E=E+Math.imul(z,Ye)|0,T=T+Math.imul(z,Et)|0,x=x+Math.imul(b,ft)|0,E=E+Math.imul(b,It)|0,E=E+Math.imul(H,ft)|0,T=T+Math.imul(H,It)|0;var O=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(O>>>26)|0,O&=67108863,x=Math.imul(oe,Ye),E=Math.imul(oe,Et),E=E+Math.imul(N,Ye)|0,T=Math.imul(N,Et),x=x+Math.imul(ce,ft)|0,E=E+Math.imul(ce,It)|0,E=E+Math.imul(z,ft)|0,T=T+Math.imul(z,It)|0;var V=(A+x|0)+((E&8191)<<13)|0;A=(T+(E>>>13)|0)+(V>>>26)|0,V&=67108863,x=Math.imul(oe,ft),E=Math.imul(oe,It),E=E+Math.imul(N,ft)|0,T=Math.imul(N,It);var fe=(A+x|0)+((E&8191)<<13)|0;return A=(T+(E>>>13)|0)+(fe>>>26)|0,fe&=67108863,S[0]=Bt,S[1]=Ct,S[2]=et,S[3]=_t,S[4]=Ie,S[5]=yt,S[6]=at,S[7]=Jt,S[8]=ve,S[9]=Tr,S[10]=or,S[11]=sr,S[12]=At,S[13]=on,S[14]=Di,S[15]=m,S[16]=O,S[17]=V,S[18]=fe,A!==0&&(S[19]=A,p.length++),p};Math.imul||(F=R);function D(v,I,p){p.negative=I.negative^v.negative,p.length=v.length+I.length;for(var _=0,w=0,S=0;S<p.length-1;S++){var A=w;w=0;for(var x=_&67108863,E=Math.min(S,I.length-1),T=Math.max(0,S-v.length+1);T<=E;T++){var M=S-T,Q=v.words[M]|0,he=I.words[T]|0,ue=Q*he,W=ue&67108863;A=A+(ue/67108864|0)|0,W=W+x|0,x=W&67108863,A=A+(W>>>26)|0,w+=A>>>26,A&=67108863}p.words[S]=x,_=A,A=w}return _!==0?p.words[S]=_:p.length--,p.strip()}function $(v,I,p){var _=new B;return _.mulp(v,I,p)}o.prototype.mulTo=function(v,I){var p,_=this.length+v.length;return this.length===10&&v.length===10?p=F(this,v,I):_<63?p=R(this,v,I):_<1024?p=D(this,v,I):p=$(this,v,I),p};function B(v,I){this.x=v,this.y=I}B.prototype.makeRBT=function(v){for(var I=new Array(v),p=o.prototype._countBits(v)-1,_=0;_<v;_++)I[_]=this.revBin(_,p,v);return I},B.prototype.revBin=function(v,I,p){if(v===0||v===p-1)return v;for(var _=0,w=0;w<I;w++)_|=(v&1)<<I-w-1,v>>=1;return _},B.prototype.permute=function(v,I,p,_,w,S){for(var A=0;A<S;A++)_[A]=I[v[A]],w[A]=p[v[A]]},B.prototype.transform=function(v,I,p,_,w,S){this.permute(S,v,I,p,_,w);for(var A=1;A<w;A<<=1)for(var x=A<<1,E=Math.cos(2*Math.PI/x),T=Math.sin(2*Math.PI/x),M=0;M<w;M+=x)for(var Q=E,he=T,ue=0;ue<A;ue++){var W=p[M+ue],se=_[M+ue],Z=p[M+ue+A],ie=_[M+ue+A],pe=Q*Z-he*ie;ie=Q*ie+he*Z,Z=pe,p[M+ue]=W+Z,_[M+ue]=se+ie,p[M+ue+A]=W-Z,_[M+ue+A]=se-ie,ue!==x&&(pe=E*Q-T*he,he=E*he+T*Q,Q=pe)}},B.prototype.guessLen13b=function(v,I){var p=Math.max(I,v)|1,_=p&1,w=0;for(p=p/2|0;p;p=p>>>1)w++;return 1<<w+1+_},B.prototype.conjugate=function(v,I,p){if(!(p<=1))for(var _=0;_<p/2;_++){var w=v[_];v[_]=v[p-_-1],v[p-_-1]=w,w=I[_],I[_]=-I[p-_-1],I[p-_-1]=-w}},B.prototype.normalize13b=function(v,I){for(var p=0,_=0;_<I/2;_++){var w=Math.round(v[2*_+1]/I)*8192+Math.round(v[2*_]/I)+p;v[_]=w&67108863,w<67108864?p=0:p=w/67108864|0}return v},B.prototype.convert13b=function(v,I,p,_){for(var w=0,S=0;S<I;S++)w=w+(v[S]|0),p[2*S]=w&8191,w=w>>>13,p[2*S+1]=w&8191,w=w>>>13;for(S=2*I;S<_;++S)p[S]=0;n(w===0),n((w&-8192)===0)},B.prototype.stub=function(v){for(var I=new Array(v),p=0;p<v;p++)I[p]=0;return I},B.prototype.mulp=function(v,I,p){var _=2*this.guessLen13b(v.length,I.length),w=this.makeRBT(_),S=this.stub(_),A=new Array(_),x=new Array(_),E=new Array(_),T=new Array(_),M=new Array(_),Q=new Array(_),he=p.words;he.length=_,this.convert13b(v.words,v.length,A,_),this.convert13b(I.words,I.length,T,_),this.transform(A,S,x,E,_,w),this.transform(T,S,M,Q,_,w);for(var ue=0;ue<_;ue++){var W=x[ue]*M[ue]-E[ue]*Q[ue];E[ue]=x[ue]*Q[ue]+E[ue]*M[ue],x[ue]=W}return this.conjugate(x,E,_),this.transform(x,E,he,S,_,w),this.conjugate(he,S,_),this.normalize13b(he,_),p.negative=v.negative^I.negative,p.length=v.length+I.length,p.strip()},o.prototype.mul=function(v){var I=new o(null);return I.words=new Array(this.length+v.length),this.mulTo(v,I)},o.prototype.mulf=function(v){var I=new o(null);return I.words=new Array(this.length+v.length),$(this,v,I)},o.prototype.imul=function(v){return this.clone().mulTo(v,this)},o.prototype.imuln=function(v){n(typeof v=="number"),n(v<67108864);for(var I=0,p=0;p<this.length;p++){var _=(this.words[p]|0)*v,w=(_&67108863)+(I&67108863);I>>=26,I+=_/67108864|0,I+=w>>>26,this.words[p]=w&67108863}return I!==0&&(this.words[p]=I,this.length++),this.length=v===0?1:this.length,this},o.prototype.muln=function(v){return this.clone().imuln(v)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(v){var I=k(v);if(I.length===0)return new o(1);for(var p=this,_=0;_<I.length&&I[_]===0;_++,p=p.sqr());if(++_<I.length)for(var w=p.sqr();_<I.length;_++,w=w.sqr())I[_]!==0&&(p=p.mul(w));return p},o.prototype.iushln=function(v){n(typeof v=="number"&&v>=0);var I=v%26,p=(v-I)/26,_=67108863>>>26-I<<26-I,w;if(I!==0){var S=0;for(w=0;w<this.length;w++){var A=this.words[w]&_,x=(this.words[w]|0)-A<<I;this.words[w]=x|S,S=A>>>26-I}S&&(this.words[w]=S,this.length++)}if(p!==0){for(w=this.length-1;w>=0;w--)this.words[w+p]=this.words[w];for(w=0;w<p;w++)this.words[w]=0;this.length+=p}return this.strip()},o.prototype.ishln=function(v){return n(this.negative===0),this.iushln(v)},o.prototype.iushrn=function(v,I,p){n(typeof v=="number"&&v>=0);var _;I?_=(I-I%26)/26:_=0;var w=v%26,S=Math.min((v-w)/26,this.length),A=67108863^67108863>>>w<<w,x=p;if(_-=S,_=Math.max(0,_),x){for(var E=0;E<S;E++)x.words[E]=this.words[E];x.length=S}if(S!==0)if(this.length>S)for(this.length-=S,E=0;E<this.length;E++)this.words[E]=this.words[E+S];else this.words[0]=0,this.length=1;var T=0;for(E=this.length-1;E>=0&&(T!==0||E>=_);E--){var M=this.words[E]|0;this.words[E]=T<<26-w|M>>>w,T=M&A}return x&&T!==0&&(x.words[x.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(v,I,p){return n(this.negative===0),this.iushrn(v,I,p)},o.prototype.shln=function(v){return this.clone().ishln(v)},o.prototype.ushln=function(v){return this.clone().iushln(v)},o.prototype.shrn=function(v){return this.clone().ishrn(v)},o.prototype.ushrn=function(v){return this.clone().iushrn(v)},o.prototype.testn=function(v){n(typeof v=="number"&&v>=0);var I=v%26,p=(v-I)/26,_=1<<I;if(this.length<=p)return!1;var w=this.words[p];return!!(w&_)},o.prototype.imaskn=function(v){n(typeof v=="number"&&v>=0);var I=v%26,p=(v-I)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(I!==0&&p++,this.length=Math.min(p,this.length),I!==0){var _=67108863^67108863>>>I<<I;this.words[this.length-1]&=_}return this.strip()},o.prototype.maskn=function(v){return this.clone().imaskn(v)},o.prototype.iaddn=function(v){return n(typeof v=="number"),n(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},o.prototype._iaddn=function(v){this.words[0]+=v;for(var I=0;I<this.length&&this.words[I]>=67108864;I++)this.words[I]-=67108864,I===this.length-1?this.words[I+1]=1:this.words[I+1]++;return this.length=Math.max(this.length,I+1),this},o.prototype.isubn=function(v){if(n(typeof v=="number"),n(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var I=0;I<this.length&&this.words[I]<0;I++)this.words[I]+=67108864,this.words[I+1]-=1;return this.strip()},o.prototype.addn=function(v){return this.clone().iaddn(v)},o.prototype.subn=function(v){return this.clone().isubn(v)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(v,I,p){var _=v.length+p,w;this._expand(_);var S,A=0;for(w=0;w<v.length;w++){S=(this.words[w+p]|0)+A;var x=(v.words[w]|0)*I;S-=x&67108863,A=(S>>26)-(x/67108864|0),this.words[w+p]=S&67108863}for(;w<this.length-p;w++)S=(this.words[w+p]|0)+A,A=S>>26,this.words[w+p]=S&67108863;if(A===0)return this.strip();for(n(A===-1),A=0,w=0;w<this.length;w++)S=-(this.words[w]|0)+A,A=S>>26,this.words[w]=S&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(v,I){var p=this.length-v.length,_=this.clone(),w=v,S=w.words[w.length-1]|0,A=this._countBits(S);p=26-A,p!==0&&(w=w.ushln(p),_.iushln(p),S=w.words[w.length-1]|0);var x=_.length-w.length,E;if(I!=="mod"){E=new o(null),E.length=x+1,E.words=new Array(E.length);for(var T=0;T<E.length;T++)E.words[T]=0}var M=_.clone()._ishlnsubmul(w,1,x);M.negative===0&&(_=M,E&&(E.words[x]=1));for(var Q=x-1;Q>=0;Q--){var he=(_.words[w.length+Q]|0)*67108864+(_.words[w.length+Q-1]|0);for(he=Math.min(he/S|0,67108863),_._ishlnsubmul(w,he,Q);_.negative!==0;)he--,_.negative=0,_._ishlnsubmul(w,1,Q),_.isZero()||(_.negative^=1);E&&(E.words[Q]=he)}return E&&E.strip(),_.strip(),I!=="div"&&p!==0&&_.iushrn(p),{div:E||null,mod:_}},o.prototype.divmod=function(v,I,p){if(n(!v.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var _,w,S;return this.negative!==0&&v.negative===0?(S=this.neg().divmod(v,I),I!=="mod"&&(_=S.div.neg()),I!=="div"&&(w=S.mod.neg(),p&&w.negative!==0&&w.iadd(v)),{div:_,mod:w}):this.negative===0&&v.negative!==0?(S=this.divmod(v.neg(),I),I!=="mod"&&(_=S.div.neg()),{div:_,mod:S.mod}):this.negative&v.negative?(S=this.neg().divmod(v.neg(),I),I!=="div"&&(w=S.mod.neg(),p&&w.negative!==0&&w.isub(v)),{div:S.div,mod:w}):v.length>this.length||this.cmp(v)<0?{div:new o(0),mod:this}:v.length===1?I==="div"?{div:this.divn(v.words[0]),mod:null}:I==="mod"?{div:null,mod:new o(this.modn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new o(this.modn(v.words[0]))}:this._wordDiv(v,I)},o.prototype.div=function(v){return this.divmod(v,"div",!1).div},o.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},o.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},o.prototype.divRound=function(v){var I=this.divmod(v);if(I.mod.isZero())return I.div;var p=I.div.negative!==0?I.mod.isub(v):I.mod,_=v.ushrn(1),w=v.andln(1),S=p.cmp(_);return S<0||w===1&&S===0?I.div:I.div.negative!==0?I.div.isubn(1):I.div.iaddn(1)},o.prototype.modn=function(v){n(v<=67108863);for(var I=(1<<26)%v,p=0,_=this.length-1;_>=0;_--)p=(I*p+(this.words[_]|0))%v;return p},o.prototype.idivn=function(v){n(v<=67108863);for(var I=0,p=this.length-1;p>=0;p--){var _=(this.words[p]|0)+I*67108864;this.words[p]=_/v|0,I=_%v}return this.strip()},o.prototype.divn=function(v){return this.clone().idivn(v)},o.prototype.egcd=function(v){n(v.negative===0),n(!v.isZero());var I=this,p=v.clone();I.negative!==0?I=I.umod(v):I=I.clone();for(var _=new o(1),w=new o(0),S=new o(0),A=new o(1),x=0;I.isEven()&&p.isEven();)I.iushrn(1),p.iushrn(1),++x;for(var E=p.clone(),T=I.clone();!I.isZero();){for(var M=0,Q=1;!(I.words[0]&Q)&&M<26;++M,Q<<=1);if(M>0)for(I.iushrn(M);M-- >0;)(_.isOdd()||w.isOdd())&&(_.iadd(E),w.isub(T)),_.iushrn(1),w.iushrn(1);for(var he=0,ue=1;!(p.words[0]&ue)&&he<26;++he,ue<<=1);if(he>0)for(p.iushrn(he);he-- >0;)(S.isOdd()||A.isOdd())&&(S.iadd(E),A.isub(T)),S.iushrn(1),A.iushrn(1);I.cmp(p)>=0?(I.isub(p),_.isub(S),w.isub(A)):(p.isub(I),S.isub(_),A.isub(w))}return{a:S,b:A,gcd:p.iushln(x)}},o.prototype._invmp=function(v){n(v.negative===0),n(!v.isZero());var I=this,p=v.clone();I.negative!==0?I=I.umod(v):I=I.clone();for(var _=new o(1),w=new o(0),S=p.clone();I.cmpn(1)>0&&p.cmpn(1)>0;){for(var A=0,x=1;!(I.words[0]&x)&&A<26;++A,x<<=1);if(A>0)for(I.iushrn(A);A-- >0;)_.isOdd()&&_.iadd(S),_.iushrn(1);for(var E=0,T=1;!(p.words[0]&T)&&E<26;++E,T<<=1);if(E>0)for(p.iushrn(E);E-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);I.cmp(p)>=0?(I.isub(p),_.isub(w)):(p.isub(I),w.isub(_))}var M;return I.cmpn(1)===0?M=_:M=w,M.cmpn(0)<0&&M.iadd(v),M},o.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var I=this.clone(),p=v.clone();I.negative=0,p.negative=0;for(var _=0;I.isEven()&&p.isEven();_++)I.iushrn(1),p.iushrn(1);do{for(;I.isEven();)I.iushrn(1);for(;p.isEven();)p.iushrn(1);var w=I.cmp(p);if(w<0){var S=I;I=p,p=S}else if(w===0||p.cmpn(1)===0)break;I.isub(p)}while(!0);return p.iushln(_)},o.prototype.invm=function(v){return this.egcd(v).a.umod(v)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(v){return this.words[0]&v},o.prototype.bincn=function(v){n(typeof v=="number");var I=v%26,p=(v-I)/26,_=1<<I;if(this.length<=p)return this._expand(p+1),this.words[p]|=_,this;for(var w=_,S=p;w!==0&&S<this.length;S++){var A=this.words[S]|0;A+=w,w=A>>>26,A&=67108863,this.words[S]=A}return w!==0&&(this.words[S]=w,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(v){var I=v<0;if(this.negative!==0&&!I)return-1;if(this.negative===0&&I)return 1;this.strip();var p;if(this.length>1)p=1;else{I&&(v=-v),n(v<=67108863,"Number is too big");var _=this.words[0]|0;p=_===v?0:_<v?-1:1}return this.negative!==0?-p|0:p},o.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var I=this.ucmp(v);return this.negative!==0?-I|0:I},o.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var I=0,p=this.length-1;p>=0;p--){var _=this.words[p]|0,w=v.words[p]|0;if(_!==w){_<w?I=-1:_>w&&(I=1);break}}return I},o.prototype.gtn=function(v){return this.cmpn(v)===1},o.prototype.gt=function(v){return this.cmp(v)===1},o.prototype.gten=function(v){return this.cmpn(v)>=0},o.prototype.gte=function(v){return this.cmp(v)>=0},o.prototype.ltn=function(v){return this.cmpn(v)===-1},o.prototype.lt=function(v){return this.cmp(v)===-1},o.prototype.lten=function(v){return this.cmpn(v)<=0},o.prototype.lte=function(v){return this.cmp(v)<=0},o.prototype.eqn=function(v){return this.cmpn(v)===0},o.prototype.eq=function(v){return this.cmp(v)===0},o.red=function(v){return new C(v)},o.prototype.toRed=function(v){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(v){return this.red=v,this},o.prototype.forceRed=function(v){return n(!this.red,"Already a number in reduction context"),this._forceRed(v)},o.prototype.redAdd=function(v){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},o.prototype.redIAdd=function(v){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},o.prototype.redSub=function(v){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},o.prototype.redISub=function(v){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},o.prototype.redShl=function(v){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},o.prototype.redMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},o.prototype.redIMul=function(v){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(v){return n(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var U={k256:null,p224:null,p192:null,p25519:null};function q(v,I){this.name=v,this.p=new o(I,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var v=new o(null);return v.words=new Array(Math.ceil(this.n/13)),v},q.prototype.ireduce=function(v){var I=v,p;do this.split(I,this.tmp),I=this.imulK(I),I=I.iadd(this.tmp),p=I.bitLength();while(p>this.n);var _=p<this.n?-1:I.ucmp(this.p);return _===0?(I.words[0]=0,I.length=1):_>0?I.isub(this.p):I.strip!==void 0?I.strip():I._strip(),I},q.prototype.split=function(v,I){v.iushrn(this.n,0,I)},q.prototype.imulK=function(v){return v.imul(this.k)};function ee(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(ee,q),ee.prototype.split=function(v,I){for(var p=4194303,_=Math.min(v.length,9),w=0;w<_;w++)I.words[w]=v.words[w];if(I.length=_,v.length<=9){v.words[0]=0,v.length=1;return}var S=v.words[9];for(I.words[I.length++]=S&p,w=10;w<v.length;w++){var A=v.words[w]|0;v.words[w-10]=(A&p)<<4|S>>>22,S=A}S>>>=22,v.words[w-10]=S,S===0&&v.length>10?v.length-=10:v.length-=9},ee.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var I=0,p=0;p<v.length;p++){var _=v.words[p]|0;I+=_*977,v.words[p]=I&67108863,I=_*64+(I/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function ae(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ae,q);function re(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(re,q);function K(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,q),K.prototype.imulK=function(v){for(var I=0,p=0;p<v.length;p++){var _=(v.words[p]|0)*19+I,w=_&67108863;_>>>=26,v.words[p]=w,I=_}return I!==0&&(v.words[v.length++]=I),v},o._prime=function(v){if(U[v])return U[v];var I;if(v==="k256")I=new ee;else if(v==="p224")I=new ae;else if(v==="p192")I=new re;else if(v==="p25519")I=new K;else throw new Error("Unknown prime "+v);return U[v]=I,I};function C(v){if(typeof v=="string"){var I=o._prime(v);this.m=I.p,this.prime=I}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}C.prototype._verify1=function(v){n(v.negative===0,"red works only with positives"),n(v.red,"red works only with red numbers")},C.prototype._verify2=function(v,I){n((v.negative|I.negative)===0,"red works only with positives"),n(v.red&&v.red===I.red,"red works only with red numbers")},C.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):v.umod(this.m)._forceRed(this)},C.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},C.prototype.add=function(v,I){this._verify2(v,I);var p=v.add(I);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},C.prototype.iadd=function(v,I){this._verify2(v,I);var p=v.iadd(I);return p.cmp(this.m)>=0&&p.isub(this.m),p},C.prototype.sub=function(v,I){this._verify2(v,I);var p=v.sub(I);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},C.prototype.isub=function(v,I){this._verify2(v,I);var p=v.isub(I);return p.cmpn(0)<0&&p.iadd(this.m),p},C.prototype.shl=function(v,I){return this._verify1(v),this.imod(v.ushln(I))},C.prototype.imul=function(v,I){return this._verify2(v,I),this.imod(v.imul(I))},C.prototype.mul=function(v,I){return this._verify2(v,I),this.imod(v.mul(I))},C.prototype.isqr=function(v){return this.imul(v,v.clone())},C.prototype.sqr=function(v){return this.mul(v,v)},C.prototype.sqrt=function(v){if(v.isZero())return v.clone();var I=this.m.andln(3);if(n(I%2===1),I===3){var p=this.m.add(new o(1)).iushrn(2);return this.pow(v,p)}for(var _=this.m.subn(1),w=0;!_.isZero()&&_.andln(1)===0;)w++,_.iushrn(1);n(!_.isZero());var S=new o(1).toRed(this),A=S.redNeg(),x=this.m.subn(1).iushrn(1),E=this.m.bitLength();for(E=new o(2*E*E).toRed(this);this.pow(E,x).cmp(A)!==0;)E.redIAdd(A);for(var T=this.pow(E,_),M=this.pow(v,_.addn(1).iushrn(1)),Q=this.pow(v,_),he=w;Q.cmp(S)!==0;){for(var ue=Q,W=0;ue.cmp(S)!==0;W++)ue=ue.redSqr();n(W<he);var se=this.pow(T,new o(1).iushln(he-W-1));M=M.redMul(se),T=se.redSqr(),Q=Q.redMul(T),he=W}return M},C.prototype.invm=function(v){var I=v._invmp(this.m);return I.negative!==0?(I.negative=0,this.imod(I).redNeg()):this.imod(I)},C.prototype.pow=function(v,I){if(I.isZero())return new o(1).toRed(this);if(I.cmpn(1)===0)return v.clone();var p=4,_=new Array(1<<p);_[0]=new o(1).toRed(this),_[1]=v;for(var w=2;w<_.length;w++)_[w]=this.mul(_[w-1],v);var S=_[0],A=0,x=0,E=I.bitLength()%26;for(E===0&&(E=26),w=I.length-1;w>=0;w--){for(var T=I.words[w],M=E-1;M>=0;M--){var Q=T>>M&1;if(S!==_[0]&&(S=this.sqr(S)),Q===0&&A===0){x=0;continue}A<<=1,A|=Q,x++,!(x!==p&&(w!==0||M!==0))&&(S=this.mul(S,_[A]),x=0,A=0)}E=26}return S},C.prototype.convertTo=function(v){var I=v.umod(this.m);return I===v?I.clone():I},C.prototype.convertFrom=function(v){var I=v.clone();return I.red=null,I},o.mont=function(v){return new G(v)};function G(v){C.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(G,C),G.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},G.prototype.convertFrom=function(v){var I=this.imod(v.mul(this.rinv));return I.red=null,I},G.prototype.imul=function(v,I){if(v.isZero()||I.isZero())return v.words[0]=0,v.length=1,v;var p=v.imul(I),_=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=p.isub(_).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},G.prototype.mul=function(v,I){if(v.isZero()||I.isZero())return new o(0)._forceRed(this);var p=v.mul(I),_=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=p.isub(_).iushrn(this.shift),S=w;return w.cmp(this.m)>=0?S=w.isub(this.m):w.cmpn(0)<0&&(S=w.iadd(this.m)),S._forceRed(this)},G.prototype.invm=function(v){var I=this.imod(v._invmp(this.m).mul(this.r2));return I._forceRed(this)}})(e,He)})(lH);var eo=lH.exports,Z2={exports:{}},oM;function DA(){if(oM)return Z2.exports;oM=1;var e;Z2.exports=function(n){return e||(e=new t(null)),e.generate(n)};function t(n){this.rand=n}if(Z2.exports.Rand=t,t.prototype.generate=function(n){return this._rand(n)},t.prototype._rand=function(n){if(this.rand.getBytes)return this.rand.getBytes(n);for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?t.prototype._rand=function(n){var i=new Uint8Array(n);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?t.prototype._rand=function(n){var i=new Uint8Array(n);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(t.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=JA();if(typeof r.randomBytes!="function")throw new Error("Not supported");t.prototype._rand=function(n){return r.randomBytes(n)}}catch{}return Z2.exports}var R_,sM;function cH(){if(sM)return R_;sM=1;var e=eo,t=DA();function r(n){this.rand=n||new t.Rand}return R_=r,r.create=function(n){return new r(n)},r.prototype._randbelow=function(n){var i=n.bitLength(),o=Math.ceil(i/8);do var s=new e(this.rand.generate(o));while(s.cmp(n)>=0);return s},r.prototype._randrange=function(n,i){var o=i.sub(n);return n.add(this._randbelow(o))},r.prototype.test=function(n,i,o){var s=n.bitLength(),a=e.mont(n),l=new e(1).toRed(a);i||(i=Math.max(1,s/48|0));for(var c=n.subn(1),u=0;!c.testn(u);u++);for(var h=n.shrn(u),g=c.toRed(a),k=!0;i>0;i--){var R=this._randrange(new e(2),c);o&&o(R);var F=R.toRed(a).redPow(h);if(!(F.cmp(l)===0||F.cmp(g)===0)){for(var D=1;D<u;D++){if(F=F.redSqr(),F.cmp(l)===0)return!1;if(F.cmp(g)===0)break}if(D===u)return!1}}return k},r.prototype.getDivisor=function(n,i){var o=n.bitLength(),s=e.mont(n),a=new e(1).toRed(s);i||(i=Math.max(1,o/48|0));for(var l=n.subn(1),c=0;!l.testn(c);c++);for(var u=n.shrn(c),h=l.toRed(s);i>0;i--){var g=this._randrange(new e(2),l),k=n.gcd(g);if(k.cmpn(1)!==0)return k;var R=g.toRed(s).redPow(u);if(!(R.cmp(a)===0||R.cmp(h)===0)){for(var F=1;F<c;F++){if(R=R.redSqr(),R.cmp(a)===0)return R.fromRed().subn(1).gcd(n);if(R.cmp(h)===0)break}if(F===c)return R=R.redSqr(),R.fromRed().subn(1).gcd(n)}}return!1},R_}var C_,aM;function fH(){if(aM)return C_;aM=1;var e=Vy;C_=D,D.simpleSieve=R,D.fermatTest=F;var t=eo,r=new t(24),n=cH(),i=new n,o=new t(1),s=new t(2),a=new t(5);new t(16),new t(8);var l=new t(10),c=new t(3);new t(7);var u=new t(11),h=new t(4);new t(12);var g=null;function k(){if(g!==null)return g;var $=1048576,B=[];B[0]=2;for(var U=1,q=3;q<$;q+=2){for(var ee=Math.ceil(Math.sqrt(q)),ae=0;ae<U&&B[ae]<=ee&&q%B[ae]!==0;ae++);U!==ae&&B[ae]<=ee||(B[U++]=q)}return g=B,B}function R($){for(var B=k(),U=0;U<B.length;U++)if($.modn(B[U])===0)return $.cmpn(B[U])===0;return!0}function F($){var B=t.mont($);return s.toRed(B).redPow($.subn(1)).fromRed().cmpn(1)===0}function D($,B){if($<16)return B===2||B===5?new t([140,123]):new t([140,39]);B=new t(B);for(var U,q;;){for(U=new t(e(Math.ceil($/8)));U.bitLength()>$;)U.ishrn(1);if(U.isEven()&&U.iadd(o),U.testn(1)||U.iadd(s),B.cmp(s)){if(!B.cmp(a))for(;U.mod(l).cmp(c);)U.iadd(h)}else for(;U.mod(r).cmp(u);)U.iadd(h);if(q=U.shrn(1),R(q)&&R(U)&&F(q)&&F(U)&&i.test(q)&&i.test(U))return U}}return C_}const Hge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},Kge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},Vge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},Wge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},qge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},Zge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},Gge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},Xge={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},Qge={modp1:Hge,modp2:Kge,modp5:Vge,modp14:Wge,modp15:qge,modp16:Zge,modp17:Gge,modp18:Xge};var j_,uM;function Yge(){if(uM)return j_;uM=1;var e=eo,t=cH(),r=new t,n=new e(24),i=new e(11),o=new e(10),s=new e(3),a=new e(7),l=fH(),c=Vy;j_=R;function u(D,$){return $=$||"utf8",Fe.isBuffer(D)||(D=new Fe(D,$)),this._pub=new e(D),this}function h(D,$){return $=$||"utf8",Fe.isBuffer(D)||(D=new Fe(D,$)),this._priv=new e(D),this}var g={};function k(D,$){var B=$.toString("hex"),U=[B,D.toString(16)].join("_");if(U in g)return g[U];var q=0;if(D.isEven()||!l.simpleSieve||!l.fermatTest(D)||!r.test(D))return q+=1,B==="02"||B==="05"?q+=8:q+=4,g[U]=q,q;r.test(D.shrn(1))||(q+=2);var ee;switch(B){case"02":D.mod(n).cmp(i)&&(q+=8);break;case"05":ee=D.mod(o),ee.cmp(s)&&ee.cmp(a)&&(q+=8);break;default:q+=4}return g[U]=q,q}function R(D,$,B){this.setGenerator($),this.__prime=new e(D),this._prime=e.mont(this.__prime),this._primeLen=D.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,B?(this.setPublicKey=u,this.setPrivateKey=h):this._primeCode=8}Object.defineProperty(R.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=k(this.__prime,this.__gen)),this._primeCode}}),R.prototype.generateKeys=function(){return this._priv||(this._priv=new e(c(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},R.prototype.computeSecret=function(D){D=new e(D),D=D.toRed(this._prime);var $=D.redPow(this._priv).fromRed(),B=new Fe($.toArray()),U=this.getPrime();if(B.length<U.length){var q=new Fe(U.length-B.length);q.fill(0),B=Fe.concat([q,B])}return B},R.prototype.getPublicKey=function(D){return F(this._pub,D)},R.prototype.getPrivateKey=function(D){return F(this._priv,D)},R.prototype.getPrime=function(D){return F(this.__prime,D)},R.prototype.getGenerator=function(D){return F(this._gen,D)},R.prototype.setGenerator=function(D,$){return $=$||"utf8",Fe.isBuffer(D)||(D=new Fe(D,$)),this.__gen=D,this._gen=new e(D),this};function F(D,$){var B=new Fe(D.toArray());return $?B.toString($):B}return j_}var lM;function Jge(){if(lM)return Fd;lM=1;var e=fH(),t=Qge,r=Yge();function n(s){var a=new Fe(t[s].prime,"hex"),l=new Fe(t[s].gen,"hex");return new r(a,l)}var i={binary:!0,hex:!0,base64:!0};function o(s,a,l,c){return Fe.isBuffer(a)||i[a]===void 0?o(s,"binary",a,l):(a=a||"binary",c=c||"binary",l=l||new Fe([2]),Fe.isBuffer(l)||(l=new Fe(l,c)),typeof s=="number"?new r(e(s,l),l,!0):(Fe.isBuffer(s)||(s=new Fe(s,a)),new r(s,l,!0)))}return Fd.DiffieHellmanGroup=Fd.createDiffieHellmanGroup=Fd.getDiffieHellman=n,Fd.createDiffieHellman=Fd.DiffieHellman=o,Fd}var P9={exports:{}},T9={exports:{}};typeof Bn>"u"||!Bn.version||Bn.version.indexOf("v0.")===0||Bn.version.indexOf("v1.")===0&&Bn.version.indexOf("v1.8.")!==0?T9.exports={nextTick:eye}:T9.exports=Bn;function eye(e,t,r,n){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,o,s;switch(i){case 0:case 1:return Bn.nextTick(e);case 2:return Bn.nextTick(function(){e.call(null,t)});case 3:return Bn.nextTick(function(){e.call(null,t,r)});case 4:return Bn.nextTick(function(){e.call(null,t,r,n)});default:for(o=new Array(i-1),s=0;s<o.length;)o[s++]=arguments[s];return Bn.nextTick(function(){e.apply(null,o)})}}var u6=T9.exports,tye={}.toString,rye=Array.isArray||function(e){return tye.call(e)=="[object Array]"},HA={exports:{}},Kg=typeof Reflect=="object"?Reflect:null,cM=Kg&&typeof Kg.apply=="function"?Kg.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},n8;Kg&&typeof Kg.ownKeys=="function"?n8=Kg.ownKeys:Object.getOwnPropertySymbols?n8=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:n8=function(e){return Object.getOwnPropertyNames(e)};function nye(e){console&&console.warn&&console.warn(e)}var dH=Number.isNaN||function(e){return e!==e};function hn(){hn.init.call(this)}HA.exports=hn;HA.exports.once=aye;hn.EventEmitter=hn;hn.prototype._events=void 0;hn.prototype._eventsCount=0;hn.prototype._maxListeners=void 0;var fM=10;function l6(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(hn,"defaultMaxListeners",{enumerable:!0,get:function(){return fM},set:function(e){if(typeof e!="number"||e<0||dH(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");fM=e}});hn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};hn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||dH(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function hH(e){return e._maxListeners===void 0?hn.defaultMaxListeners:e._maxListeners}hn.prototype.getMaxListeners=function(){return hH(this)};hn.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(a===void 0)return!1;if(typeof a=="function")cM(a,this,t);else for(var l=a.length,c=bH(a,l),r=0;r<l;++r)cM(c[r],this,t);return!0};function pH(e,t,r,n){var i,o,s;if(l6(r),o=e._events,o===void 0?(o=e._events=Object.create(null),e._eventsCount=0):(o.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),s===void 0)s=o[t]=r,++e._eventsCount;else if(typeof s=="function"?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=hH(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,nye(a)}return e}hn.prototype.addListener=function(e,t){return pH(this,e,t,!1)};hn.prototype.on=hn.prototype.addListener;hn.prototype.prependListener=function(e,t){return pH(this,e,t,!0)};function iye(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gH(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=iye.bind(n);return i.listener=r,n.wrapFn=i,i}hn.prototype.once=function(e,t){return l6(t),this.on(e,gH(this,e,t)),this};hn.prototype.prependOnceListener=function(e,t){return l6(t),this.prependListener(e,gH(this,e,t)),this};hn.prototype.removeListener=function(e,t){var r,n,i,o,s;if(l6(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;i===0?r.shift():oye(r,i),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this};hn.prototype.off=hn.prototype.removeListener;hn.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var i=Object.keys(r),o;for(n=0;n<i.length;++n)o=i[n],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function yH(e,t,r){var n=e._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?sye(i):bH(i,i.length)}hn.prototype.listeners=function(e){return yH(this,e,!0)};hn.prototype.rawListeners=function(e){return yH(this,e,!1)};hn.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):mH.call(e,t)};hn.prototype.listenerCount=mH;function mH(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}hn.prototype.eventNames=function(){return this._eventsCount>0?n8(this._events):[]};function bH(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function oye(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function sye(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function aye(e,t){return new Promise(function(r,n){function i(s){e.removeListener(t,o),n(s)}function o(){typeof e.removeListener=="function"&&e.removeListener("error",i),r([].slice.call(arguments))}vH(e,t,o,{once:!0}),t!=="error"&&uye(e,i,{once:!0})})}function uye(e,t,r){typeof e.on=="function"&&vH(e,"error",t,r)}function vH(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var wH=HA.exports,EH=wH.EventEmitter,I9={exports:{}};(function(e,t){var r=Ed,n=r.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=o);function o(s,a,l){return n(s,a,l)}i(n,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=n(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(s)}})(I9,I9.exports);var c6=I9.exports,di={};function lye(e){return Array.isArray?Array.isArray(e):f6(e)==="[object Array]"}di.isArray=lye;function cye(e){return typeof e=="boolean"}di.isBoolean=cye;function fye(e){return e===null}di.isNull=fye;function dye(e){return e==null}di.isNullOrUndefined=dye;function hye(e){return typeof e=="number"}di.isNumber=hye;function pye(e){return typeof e=="string"}di.isString=pye;function gye(e){return typeof e=="symbol"}di.isSymbol=gye;function yye(e){return e===void 0}di.isUndefined=yye;function mye(e){return f6(e)==="[object RegExp]"}di.isRegExp=mye;function bye(e){return typeof e=="object"&&e!==null}di.isObject=bye;function vye(e){return f6(e)==="[object Date]"}di.isDate=vye;function wye(e){return f6(e)==="[object Error]"||e instanceof Error}di.isError=wye;function Eye(e){return typeof e=="function"}di.isFunction=Eye;function _ye(e){return e===null||typeof e=="boolean"||typeof e=="number"||typeof e=="string"||typeof e=="symbol"||typeof e>"u"}di.isPrimitive=_ye;di.isBuffer=Ed.Buffer.isBuffer;function f6(e){return Object.prototype.toString.call(e)}var dM={exports:{}},hM;function Sye(){return hM||(hM=1,function(e){function t(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var r=c6.Buffer,n=_d;function i(o,s,a){o.copy(s,a)}e.exports=function(){function o(){t(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(s){var a={data:s,next:null};this.length>0?this.tail.next=a:this.head=a,this.tail=a,++this.length},o.prototype.unshift=function(s){var a={data:s,next:this.head};this.length===0&&(this.tail=a),this.head=a,++this.length},o.prototype.shift=function(){if(this.length!==0){var s=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,s}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(s){if(this.length===0)return"";for(var a=this.head,l=""+a.data;a=a.next;)l+=s+a.data;return l},o.prototype.concat=function(s){if(this.length===0)return r.alloc(0);for(var a=r.allocUnsafe(s>>>0),l=this.head,c=0;l;)i(l.data,a,c),c+=l.data.length,l=l.next;return a},o}(),n&&n.inspect&&n.inspect.custom&&(e.exports.prototype[n.inspect.custom]=function(){var o=n.inspect({length:this.length});return this.constructor.name+" "+o})}(dM)),dM.exports}var G2=u6;function kye(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,G2.nextTick(X2,this,e)):G2.nextTick(X2,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(o){!t&&o?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,G2.nextTick(X2,r,o)):G2.nextTick(X2,r,o):t&&t(o)}),this)}function xye(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function X2(e,t){e.emit("error",t)}var _H={destroy:kye,undestroy:xye},Aye=Oye;function Oye(e,t){if(U_("noDeprecation"))return e;var r=!1;function n(){if(!r){if(U_("throwDeprecation"))throw new Error(t);U_("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function U_(e){try{if(!He.localStorage)return!1}catch{return!1}var t=He.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var z_,pM;function SH(){if(pM)return z_;pM=1;var e=u6;z_=F;function t(A){var x=this;this.next=null,this.entry=null,this.finish=function(){S(x,A)}}var r=!Bn.browser&&["v0.10","v0.9."].indexOf(Bn.version.slice(0,5))>-1?setImmediate:e.nextTick,n;F.WritableState=k;var i=Object.create(di);i.inherits=Mr;var o={deprecate:Aye},s=EH,a=c6.Buffer,l=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(A){return a.from(A)}function u(A){return a.isBuffer(A)||A instanceof l}var h=_H;i.inherits(F,s);function g(){}function k(A,x){n=n||dy(),A=A||{};var E=x instanceof n;this.objectMode=!!A.objectMode,E&&(this.objectMode=this.objectMode||!!A.writableObjectMode);var T=A.highWaterMark,M=A.writableHighWaterMark,Q=this.objectMode?16:16*1024;T||T===0?this.highWaterMark=T:E&&(M||M===0)?this.highWaterMark=M:this.highWaterMark=Q,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=A.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){re(x,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}k.prototype.getBuffer=function(){for(var A=this.bufferedRequest,x=[];A;)x.push(A),A=A.next;return x},function(){try{Object.defineProperty(k.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var R;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(R=Function.prototype[Symbol.hasInstance],Object.defineProperty(F,Symbol.hasInstance,{value:function(A){return R.call(this,A)?!0:this!==F?!1:A&&A._writableState instanceof k}})):R=function(A){return A instanceof this};function F(A){if(n=n||dy(),!R.call(F,this)&&!(this instanceof n))return new F(A);this._writableState=new k(A,this),this.writable=!0,A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final)),s.call(this)}F.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function D(A,x){var E=new Error("write after end");A.emit("error",E),e.nextTick(x,E)}function $(A,x,E,T){var M=!0,Q=!1;return E===null?Q=new TypeError("May not write null values to stream"):typeof E!="string"&&E!==void 0&&!x.objectMode&&(Q=new TypeError("Invalid non-string/buffer chunk")),Q&&(A.emit("error",Q),e.nextTick(T,Q),M=!1),M}F.prototype.write=function(A,x,E){var T=this._writableState,M=!1,Q=!T.objectMode&&u(A);return Q&&!a.isBuffer(A)&&(A=c(A)),typeof x=="function"&&(E=x,x=null),Q?x="buffer":x||(x=T.defaultEncoding),typeof E!="function"&&(E=g),T.ended?D(this,E):(Q||$(this,T,A,E))&&(T.pendingcb++,M=U(this,T,Q,A,x,E)),M},F.prototype.cork=function(){var A=this._writableState;A.corked++},F.prototype.uncork=function(){var A=this._writableState;A.corked&&(A.corked--,!A.writing&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&G(this,A))},F.prototype.setDefaultEncoding=function(A){if(typeof A=="string"&&(A=A.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((A+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+A);return this._writableState.defaultEncoding=A,this};function B(A,x,E){return!A.objectMode&&A.decodeStrings!==!1&&typeof x=="string"&&(x=a.from(x,E)),x}Object.defineProperty(F.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(A,x,E,T,M,Q){if(!E){var he=B(x,T,M);T!==he&&(E=!0,M="buffer",T=he)}var ue=x.objectMode?1:T.length;x.length+=ue;var W=x.length<x.highWaterMark;if(W||(x.needDrain=!0),x.writing||x.corked){var se=x.lastBufferedRequest;x.lastBufferedRequest={chunk:T,encoding:M,isBuf:E,callback:Q,next:null},se?se.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else q(A,x,!1,ue,T,M,Q);return W}function q(A,x,E,T,M,Q,he){x.writelen=T,x.writecb=he,x.writing=!0,x.sync=!0,E?A._writev(M,x.onwrite):A._write(M,Q,x.onwrite),x.sync=!1}function ee(A,x,E,T,M){--x.pendingcb,E?(e.nextTick(M,T),e.nextTick(_,A,x),A._writableState.errorEmitted=!0,A.emit("error",T)):(M(T),A._writableState.errorEmitted=!0,A.emit("error",T),_(A,x))}function ae(A){A.writing=!1,A.writecb=null,A.length-=A.writelen,A.writelen=0}function re(A,x){var E=A._writableState,T=E.sync,M=E.writecb;if(ae(E),x)ee(A,E,T,x,M);else{var Q=v(E);!Q&&!E.corked&&!E.bufferProcessing&&E.bufferedRequest&&G(A,E),T?r(K,A,E,Q,M):K(A,E,Q,M)}}function K(A,x,E,T){E||C(A,x),x.pendingcb--,T(),_(A,x)}function C(A,x){x.length===0&&x.needDrain&&(x.needDrain=!1,A.emit("drain"))}function G(A,x){x.bufferProcessing=!0;var E=x.bufferedRequest;if(A._writev&&E&&E.next){var T=x.bufferedRequestCount,M=new Array(T),Q=x.corkedRequestsFree;Q.entry=E;for(var he=0,ue=!0;E;)M[he]=E,E.isBuf||(ue=!1),E=E.next,he+=1;M.allBuffers=ue,q(A,x,!0,x.length,M,"",Q.finish),x.pendingcb++,x.lastBufferedRequest=null,Q.next?(x.corkedRequestsFree=Q.next,Q.next=null):x.corkedRequestsFree=new t(x),x.bufferedRequestCount=0}else{for(;E;){var W=E.chunk,se=E.encoding,Z=E.callback,ie=x.objectMode?1:W.length;if(q(A,x,!1,ie,W,se,Z),E=E.next,x.bufferedRequestCount--,x.writing)break}E===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=E,x.bufferProcessing=!1}F.prototype._write=function(A,x,E){E(new Error("_write() is not implemented"))},F.prototype._writev=null,F.prototype.end=function(A,x,E){var T=this._writableState;typeof A=="function"?(E=A,A=null,x=null):typeof x=="function"&&(E=x,x=null),A!=null&&this.write(A,x),T.corked&&(T.corked=1,this.uncork()),T.ending||w(this,T,E)};function v(A){return A.ending&&A.length===0&&A.bufferedRequest===null&&!A.finished&&!A.writing}function I(A,x){A._final(function(E){x.pendingcb--,E&&A.emit("error",E),x.prefinished=!0,A.emit("prefinish"),_(A,x)})}function p(A,x){!x.prefinished&&!x.finalCalled&&(typeof A._final=="function"?(x.pendingcb++,x.finalCalled=!0,e.nextTick(I,A,x)):(x.prefinished=!0,A.emit("prefinish")))}function _(A,x){var E=v(x);return E&&(p(A,x),x.pendingcb===0&&(x.finished=!0,A.emit("finish"))),E}function w(A,x,E){x.ending=!0,_(A,x),E&&(x.finished?e.nextTick(E):A.once("finish",E)),x.ended=!0,A.writable=!1}function S(A,x,E){var T=A.entry;for(A.entry=null;T;){var M=T.callback;x.pendingcb--,M(E),T=T.next}x.corkedRequestsFree.next=A}return Object.defineProperty(F.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(A){this._writableState&&(this._writableState.destroyed=A)}}),F.prototype.destroy=h.destroy,F.prototype._undestroy=h.undestroy,F.prototype._destroy=function(A,x){this.end(),x(A)},z_}var L_,gM;function dy(){if(gM)return L_;gM=1;var e=u6,t=Object.keys||function(h){var g=[];for(var k in h)g.push(k);return g};L_=l;var r=Object.create(di);r.inherits=Mr;var n=kH(),i=SH();r.inherits(l,n);for(var o=t(i.prototype),s=0;s<o.length;s++){var a=o[s];l.prototype[a]||(l.prototype[a]=i.prototype[a])}function l(h){if(!(this instanceof l))return new l(h);n.call(this,h),i.call(this,h),h&&h.readable===!1&&(this.readable=!1),h&&h.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,h&&h.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",c)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(){this.allowHalfOpen||this._writableState.ended||e.nextTick(u,this)}function u(h){h.end()}return Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),l.prototype._destroy=function(h,g){this.push(null),this.end(),e.nextTick(g,h)},L_}var $_={},yM;function mM(){if(yM)return $_;yM=1;var e=c6.Buffer,t=e.isEncoding||function($){switch($=""+$,$&&$.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r($){if(!$)return"utf8";for(var B;;)switch($){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return $;default:if(B)return;$=(""+$).toLowerCase(),B=!0}}function n($){var B=r($);if(typeof B!="string"&&(e.isEncoding===t||!t($)))throw new Error("Unknown encoding: "+$);return B||$}$_.StringDecoder=i;function i($){this.encoding=n($);var B;switch(this.encoding){case"utf16le":this.text=h,this.end=g,B=4;break;case"utf8":this.fillLast=l,B=4;break;case"base64":this.text=k,this.end=R,B=3;break;default:this.write=F,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(B)}i.prototype.write=function($){if($.length===0)return"";var B,U;if(this.lastNeed){if(B=this.fillLast($),B===void 0)return"";U=this.lastNeed,this.lastNeed=0}else U=0;return U<$.length?B?B+this.text($,U):this.text($,U):B||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function($){if(this.lastNeed<=$.length)return $.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,this.lastTotal-this.lastNeed,0,$.length),this.lastNeed-=$.length};function o($){return $<=127?0:$>>5===6?2:$>>4===14?3:$>>3===30?4:$>>6===2?-1:-2}function s($,B,U){var q=B.length-1;if(q<U)return 0;var ee=o(B[q]);return ee>=0?(ee>0&&($.lastNeed=ee-1),ee):--q<U||ee===-2?0:(ee=o(B[q]),ee>=0?(ee>0&&($.lastNeed=ee-2),ee):--q<U||ee===-2?0:(ee=o(B[q]),ee>=0?(ee>0&&(ee===2?ee=0:$.lastNeed=ee-3),ee):0))}function a($,B,U){if((B[0]&192)!==128)return $.lastNeed=0,"";if($.lastNeed>1&&B.length>1){if((B[1]&192)!==128)return $.lastNeed=1,"";if($.lastNeed>2&&B.length>2&&(B[2]&192)!==128)return $.lastNeed=2,""}}function l($){var B=this.lastTotal-this.lastNeed,U=a(this,$);if(U!==void 0)return U;if(this.lastNeed<=$.length)return $.copy(this.lastChar,B,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);$.copy(this.lastChar,B,0,$.length),this.lastNeed-=$.length}function c($,B){var U=s(this,$,B);if(!this.lastNeed)return $.toString("utf8",B);this.lastTotal=U;var q=$.length-(U-this.lastNeed);return $.copy(this.lastChar,0,q),$.toString("utf8",B,q)}function u($){var B=$&&$.length?this.write($):"";return this.lastNeed?B+"":B}function h($,B){if(($.length-B)%2===0){var U=$.toString("utf16le",B);if(U){var q=U.charCodeAt(U.length-1);if(q>=55296&&q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1],U.slice(0,-1)}return U}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=$[$.length-1],$.toString("utf16le",B,$.length-1)}function g($){var B=$&&$.length?this.write($):"";if(this.lastNeed){var U=this.lastTotal-this.lastNeed;return B+this.lastChar.toString("utf16le",0,U)}return B}function k($,B){var U=($.length-B)%3;return U===0?$.toString("base64",B):(this.lastNeed=3-U,this.lastTotal=3,U===1?this.lastChar[0]=$[$.length-1]:(this.lastChar[0]=$[$.length-2],this.lastChar[1]=$[$.length-1]),$.toString("base64",B,$.length-U))}function R($){var B=$&&$.length?this.write($):"";return this.lastNeed?B+this.lastChar.toString("base64",0,3-this.lastNeed):B}function F($){return $.toString(this.encoding)}function D($){return $&&$.length?this.write($):""}return $_}var F_,bM;function kH(){if(bM)return F_;bM=1;var e=u6;F_=B;var t=rye,r;B.ReadableState=$,wH.EventEmitter;var n=function(Z,ie){return Z.listeners(ie).length},i=EH,o=c6.Buffer,s=(typeof He<"u"?He:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(Z){return o.from(Z)}function l(Z){return o.isBuffer(Z)||Z instanceof s}var c=Object.create(di);c.inherits=Mr;var u=_d,h=void 0;u&&u.debuglog?h=u.debuglog("stream"):h=function(){};var g=Sye(),k=_H,R;c.inherits(B,i);var F=["error","close","destroy","pause","resume"];function D(Z,ie,pe){if(typeof Z.prependListener=="function")return Z.prependListener(ie,pe);!Z._events||!Z._events[ie]?Z.on(ie,pe):t(Z._events[ie])?Z._events[ie].unshift(pe):Z._events[ie]=[pe,Z._events[ie]]}function $(Z,ie){r=r||dy(),Z=Z||{};var pe=ie instanceof r;this.objectMode=!!Z.objectMode,pe&&(this.objectMode=this.objectMode||!!Z.readableObjectMode);var Ee=Z.highWaterMark,Oe=Z.readableHighWaterMark,Re=this.objectMode?16:16*1024;Ee||Ee===0?this.highWaterMark=Ee:pe&&(Oe||Oe===0)?this.highWaterMark=Oe:this.highWaterMark=Re,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=Z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Z.encoding&&(R||(R=mM().StringDecoder),this.decoder=new R(Z.encoding),this.encoding=Z.encoding)}function B(Z){if(r=r||dy(),!(this instanceof B))return new B(Z);this._readableState=new $(Z,this),this.readable=!0,Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy)),i.call(this)}Object.defineProperty(B.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Z){this._readableState&&(this._readableState.destroyed=Z)}}),B.prototype.destroy=k.destroy,B.prototype._undestroy=k.undestroy,B.prototype._destroy=function(Z,ie){this.push(null),ie(Z)},B.prototype.push=function(Z,ie){var pe=this._readableState,Ee;return pe.objectMode?Ee=!0:typeof Z=="string"&&(ie=ie||pe.defaultEncoding,ie!==pe.encoding&&(Z=o.from(Z,ie),ie=""),Ee=!0),U(this,Z,ie,!1,Ee)},B.prototype.unshift=function(Z){return U(this,Z,null,!0,!1)};function U(Z,ie,pe,Ee,Oe){var Re=Z._readableState;if(ie===null)Re.reading=!1,G(Z,Re);else{var Ce;Oe||(Ce=ee(Re,ie)),Ce?Z.emit("error",Ce):Re.objectMode||ie&&ie.length>0?(typeof ie!="string"&&!Re.objectMode&&Object.getPrototypeOf(ie)!==o.prototype&&(ie=a(ie)),Ee?Re.endEmitted?Z.emit("error",new Error("stream.unshift() after end event")):q(Z,Re,ie,!0):Re.ended?Z.emit("error",new Error("stream.push() after EOF")):(Re.reading=!1,Re.decoder&&!pe?(ie=Re.decoder.write(ie),Re.objectMode||ie.length!==0?q(Z,Re,ie,!1):p(Z,Re)):q(Z,Re,ie,!1))):Ee||(Re.reading=!1)}return ae(Re)}function q(Z,ie,pe,Ee){ie.flowing&&ie.length===0&&!ie.sync?(Z.emit("data",pe),Z.read(0)):(ie.length+=ie.objectMode?1:pe.length,Ee?ie.buffer.unshift(pe):ie.buffer.push(pe),ie.needReadable&&v(Z)),p(Z,ie)}function ee(Z,ie){var pe;return!l(ie)&&typeof ie!="string"&&ie!==void 0&&!Z.objectMode&&(pe=new TypeError("Invalid non-string/buffer chunk")),pe}function ae(Z){return!Z.ended&&(Z.needReadable||Z.length<Z.highWaterMark||Z.length===0)}B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(Z){return R||(R=mM().StringDecoder),this._readableState.decoder=new R(Z),this._readableState.encoding=Z,this};var re=8388608;function K(Z){return Z>=re?Z=re:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}function C(Z,ie){return Z<=0||ie.length===0&&ie.ended?0:ie.objectMode?1:Z!==Z?ie.flowing&&ie.length?ie.buffer.head.data.length:ie.length:(Z>ie.highWaterMark&&(ie.highWaterMark=K(Z)),Z<=ie.length?Z:ie.ended?ie.length:(ie.needReadable=!0,0))}B.prototype.read=function(Z){h("read",Z),Z=parseInt(Z,10);var ie=this._readableState,pe=Z;if(Z!==0&&(ie.emittedReadable=!1),Z===0&&ie.needReadable&&(ie.length>=ie.highWaterMark||ie.ended))return h("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?ue(this):v(this),null;if(Z=C(Z,ie),Z===0&&ie.ended)return ie.length===0&&ue(this),null;var Ee=ie.needReadable;h("need readable",Ee),(ie.length===0||ie.length-Z<ie.highWaterMark)&&(Ee=!0,h("length less than watermark",Ee)),ie.ended||ie.reading?(Ee=!1,h("reading or ended",Ee)):Ee&&(h("do read"),ie.reading=!0,ie.sync=!0,ie.length===0&&(ie.needReadable=!0),this._read(ie.highWaterMark),ie.sync=!1,ie.reading||(Z=C(pe,ie)));var Oe;return Z>0?Oe=T(Z,ie):Oe=null,Oe===null?(ie.needReadable=!0,Z=0):ie.length-=Z,ie.length===0&&(ie.ended||(ie.needReadable=!0),pe!==Z&&ie.ended&&ue(this)),Oe!==null&&this.emit("data",Oe),Oe};function G(Z,ie){if(!ie.ended){if(ie.decoder){var pe=ie.decoder.end();pe&&pe.length&&(ie.buffer.push(pe),ie.length+=ie.objectMode?1:pe.length)}ie.ended=!0,v(Z)}}function v(Z){var ie=Z._readableState;ie.needReadable=!1,ie.emittedReadable||(h("emitReadable",ie.flowing),ie.emittedReadable=!0,ie.sync?e.nextTick(I,Z):I(Z))}function I(Z){h("emit readable"),Z.emit("readable"),E(Z)}function p(Z,ie){ie.readingMore||(ie.readingMore=!0,e.nextTick(_,Z,ie))}function _(Z,ie){for(var pe=ie.length;!ie.reading&&!ie.flowing&&!ie.ended&&ie.length<ie.highWaterMark&&(h("maybeReadMore read 0"),Z.read(0),pe!==ie.length);)pe=ie.length;ie.readingMore=!1}B.prototype._read=function(Z){this.emit("error",new Error("_read() is not implemented"))},B.prototype.pipe=function(Z,ie){var pe=this,Ee=this._readableState;switch(Ee.pipesCount){case 0:Ee.pipes=Z;break;case 1:Ee.pipes=[Ee.pipes,Z];break;default:Ee.pipes.push(Z);break}Ee.pipesCount+=1,h("pipe count=%d opts=%j",Ee.pipesCount,ie);var Oe=(!ie||ie.end!==!1)&&Z!==Bn.stdout&&Z!==Bn.stderr,Re=Oe?P:b;Ee.endEmitted?e.nextTick(Re):pe.once("end",Re),Z.on("unpipe",Ce);function Ce(H,te){h("onunpipe"),H===pe&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,Ue())}function P(){h("onend"),Z.end()}var Y=w(pe);Z.on("drain",Y);var be=!1;function Ue(){h("cleanup"),Z.removeListener("close",Qe),Z.removeListener("finish",d),Z.removeListener("drain",Y),Z.removeListener("error",We),Z.removeListener("unpipe",Ce),pe.removeListener("end",P),pe.removeListener("end",b),pe.removeListener("data",rt),be=!0,Ee.awaitDrain&&(!Z._writableState||Z._writableState.needDrain)&&Y()}var Ke=!1;pe.on("data",rt);function rt(H){h("ondata"),Ke=!1;var te=Z.write(H);te===!1&&!Ke&&((Ee.pipesCount===1&&Ee.pipes===Z||Ee.pipesCount>1&&se(Ee.pipes,Z)!==-1)&&!be&&(h("false write response, pause",Ee.awaitDrain),Ee.awaitDrain++,Ke=!0),pe.pause())}function We(H){h("onerror",H),b(),Z.removeListener("error",We),n(Z,"error")===0&&Z.emit("error",H)}D(Z,"error",We);function Qe(){Z.removeListener("finish",d),b()}Z.once("close",Qe);function d(){h("onfinish"),Z.removeListener("close",Qe),b()}Z.once("finish",d);function b(){h("unpipe"),pe.unpipe(Z)}return Z.emit("pipe",pe),Ee.flowing||(h("pipe resume"),pe.resume()),Z};function w(Z){return function(){var ie=Z._readableState;h("pipeOnDrain",ie.awaitDrain),ie.awaitDrain&&ie.awaitDrain--,ie.awaitDrain===0&&n(Z,"data")&&(ie.flowing=!0,E(Z))}}B.prototype.unpipe=function(Z){var ie=this._readableState,pe={hasUnpiped:!1};if(ie.pipesCount===0)return this;if(ie.pipesCount===1)return Z&&Z!==ie.pipes?this:(Z||(Z=ie.pipes),ie.pipes=null,ie.pipesCount=0,ie.flowing=!1,Z&&Z.emit("unpipe",this,pe),this);if(!Z){var Ee=ie.pipes,Oe=ie.pipesCount;ie.pipes=null,ie.pipesCount=0,ie.flowing=!1;for(var Re=0;Re<Oe;Re++)Ee[Re].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=se(ie.pipes,Z);return Ce===-1?this:(ie.pipes.splice(Ce,1),ie.pipesCount-=1,ie.pipesCount===1&&(ie.pipes=ie.pipes[0]),Z.emit("unpipe",this,pe),this)},B.prototype.on=function(Z,ie){var pe=i.prototype.on.call(this,Z,ie);if(Z==="data")this._readableState.flowing!==!1&&this.resume();else if(Z==="readable"){var Ee=this._readableState;!Ee.endEmitted&&!Ee.readableListening&&(Ee.readableListening=Ee.needReadable=!0,Ee.emittedReadable=!1,Ee.reading?Ee.length&&v(this):e.nextTick(S,this))}return pe},B.prototype.addListener=B.prototype.on;function S(Z){h("readable nexttick read 0"),Z.read(0)}B.prototype.resume=function(){var Z=this._readableState;return Z.flowing||(h("resume"),Z.flowing=!0,A(this,Z)),this};function A(Z,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,e.nextTick(x,Z,ie))}function x(Z,ie){ie.reading||(h("resume read 0"),Z.read(0)),ie.resumeScheduled=!1,ie.awaitDrain=0,Z.emit("resume"),E(Z),ie.flowing&&!ie.reading&&Z.read(0)}B.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function E(Z){var ie=Z._readableState;for(h("flow",ie.flowing);ie.flowing&&Z.read()!==null;);}B.prototype.wrap=function(Z){var ie=this,pe=this._readableState,Ee=!1;Z.on("end",function(){if(h("wrapped end"),pe.decoder&&!pe.ended){var Ce=pe.decoder.end();Ce&&Ce.length&&ie.push(Ce)}ie.push(null)}),Z.on("data",function(Ce){if(h("wrapped data"),pe.decoder&&(Ce=pe.decoder.write(Ce)),!(pe.objectMode&&Ce==null)&&!(!pe.objectMode&&(!Ce||!Ce.length))){var P=ie.push(Ce);P||(Ee=!0,Z.pause())}});for(var Oe in Z)this[Oe]===void 0&&typeof Z[Oe]=="function"&&(this[Oe]=function(Ce){return function(){return Z[Ce].apply(Z,arguments)}}(Oe));for(var Re=0;Re<F.length;Re++)Z.on(F[Re],this.emit.bind(this,F[Re]));return this._read=function(Ce){h("wrapped _read",Ce),Ee&&(Ee=!1,Z.resume())},this},Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),B._fromList=T;function T(Z,ie){if(ie.length===0)return null;var pe;return ie.objectMode?pe=ie.buffer.shift():!Z||Z>=ie.length?(ie.decoder?pe=ie.buffer.join(""):ie.buffer.length===1?pe=ie.buffer.head.data:pe=ie.buffer.concat(ie.length),ie.buffer.clear()):pe=M(Z,ie.buffer,ie.decoder),pe}function M(Z,ie,pe){var Ee;return Z<ie.head.data.length?(Ee=ie.head.data.slice(0,Z),ie.head.data=ie.head.data.slice(Z)):Z===ie.head.data.length?Ee=ie.shift():Ee=pe?Q(Z,ie):he(Z,ie),Ee}function Q(Z,ie){var pe=ie.head,Ee=1,Oe=pe.data;for(Z-=Oe.length;pe=pe.next;){var Re=pe.data,Ce=Z>Re.length?Re.length:Z;if(Ce===Re.length?Oe+=Re:Oe+=Re.slice(0,Z),Z-=Ce,Z===0){Ce===Re.length?(++Ee,pe.next?ie.head=pe.next:ie.head=ie.tail=null):(ie.head=pe,pe.data=Re.slice(Ce));break}++Ee}return ie.length-=Ee,Oe}function he(Z,ie){var pe=o.allocUnsafe(Z),Ee=ie.head,Oe=1;for(Ee.data.copy(pe),Z-=Ee.data.length;Ee=Ee.next;){var Re=Ee.data,Ce=Z>Re.length?Re.length:Z;if(Re.copy(pe,pe.length-Z,0,Ce),Z-=Ce,Z===0){Ce===Re.length?(++Oe,Ee.next?ie.head=Ee.next:ie.head=ie.tail=null):(ie.head=Ee,Ee.data=Re.slice(Ce));break}++Oe}return ie.length-=Oe,pe}function ue(Z){var ie=Z._readableState;if(ie.length>0)throw new Error('"endReadable()" called on non-empty stream');ie.endEmitted||(ie.ended=!0,e.nextTick(W,ie,Z))}function W(Z,ie){!Z.endEmitted&&Z.length===0&&(Z.endEmitted=!0,ie.readable=!1,ie.emit("end"))}function se(Z,ie){for(var pe=0,Ee=Z.length;pe<Ee;pe++)if(Z[pe]===ie)return pe;return-1}return F_}var xH=Pc,d6=dy(),AH=Object.create(di);AH.inherits=Mr;AH.inherits(Pc,d6);function Pye(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Pc(e){if(!(this instanceof Pc))return new Pc(e);d6.call(this,e),this._transformState={afterTransform:Pye.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Tye)}function Tye(){var e=this;typeof this._flush=="function"?this._flush(function(t,r){vM(e,t,r)}):vM(this,null,null)}Pc.prototype.push=function(e,t){return this._transformState.needTransform=!1,d6.prototype.push.call(this,e,t)};Pc.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};Pc.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Pc.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Pc.prototype._destroy=function(e,t){var r=this;d6.prototype._destroy.call(this,e,function(n){t(n),r.emit("close")})};function vM(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}var Iye=F0,OH=xH,PH=Object.create(di);PH.inherits=Mr;PH.inherits(F0,OH);function F0(e){if(!(this instanceof F0))return new F0(e);OH.call(this,e)}F0.prototype._transform=function(e,t,r){r(null,e)};(function(e,t){t=e.exports=kH(),t.Stream=t,t.Readable=t,t.Writable=SH(),t.Duplex=dy(),t.Transform=xH,t.PassThrough=Iye})(P9,P9.exports);var Bye=P9.exports,Qm={exports:{}},TH={exports:{}};(function(e){(function(t,r){function n(p,_){if(!p)throw new Error(_||"Assertion failed")}function i(p,_){p.super_=_;var w=function(){};w.prototype=_.prototype,p.prototype=new w,p.prototype.constructor=p}function o(p,_,w){if(o.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((_==="le"||_==="be")&&(w=_,_=10),this._init(p||0,_||10,w||"be"))}typeof t=="object"?t.exports=o:r.BN=o,o.BN=o,o.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=_d.Buffer}catch{}o.isBN=function(p){return p instanceof o?!0:p!==null&&typeof p=="object"&&p.constructor.wordSize===o.wordSize&&Array.isArray(p.words)},o.max=function(p,_){return p.cmp(_)>0?p:_},o.min=function(p,_){return p.cmp(_)<0?p:_},o.prototype._init=function(p,_,w){if(typeof p=="number")return this._initNumber(p,_,w);if(typeof p=="object")return this._initArray(p,_,w);_==="hex"&&(_=16),n(_===(_|0)&&_>=2&&_<=36),p=p.toString().replace(/\s+/g,"");var S=0;p[0]==="-"&&(S++,this.negative=1),S<p.length&&(_===16?this._parseHex(p,S,w):(this._parseBase(p,_,S),w==="le"&&this._initArray(this.toArray(),_,w)))},o.prototype._initNumber=function(p,_,w){p<0&&(this.negative=1,p=-p),p<67108864?(this.words=[p&67108863],this.length=1):p<4503599627370496?(this.words=[p&67108863,p/67108864&67108863],this.length=2):(n(p<9007199254740992),this.words=[p&67108863,p/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),_,w)},o.prototype._initArray=function(p,_,w){if(n(typeof p.length=="number"),p.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(p.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var A,x,E=0;if(w==="be")for(S=p.length-1,A=0;S>=0;S-=3)x=p[S]|p[S-1]<<8|p[S-2]<<16,this.words[A]|=x<<E&67108863,this.words[A+1]=x>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);else if(w==="le")for(S=0,A=0;S<p.length;S+=3)x=p[S]|p[S+1]<<8|p[S+2]<<16,this.words[A]|=x<<E&67108863,this.words[A+1]=x>>>26-E&67108863,E+=24,E>=26&&(E-=26,A++);return this._strip()};function a(p,_){var w=p.charCodeAt(_);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;n(!1,"Invalid character in "+p)}function l(p,_,w){var S=a(p,w);return w-1>=_&&(S|=a(p,w-1)<<4),S}o.prototype._parseHex=function(p,_,w){this.length=Math.ceil((p.length-_)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var A=0,x=0,E;if(w==="be")for(S=p.length-1;S>=_;S-=2)E=l(p,_,S)<<A,this.words[x]|=E&67108863,A>=18?(A-=18,x+=1,this.words[x]|=E>>>26):A+=8;else{var T=p.length-_;for(S=T%2===0?_+1:_;S<p.length;S+=2)E=l(p,_,S)<<A,this.words[x]|=E&67108863,A>=18?(A-=18,x+=1,this.words[x]|=E>>>26):A+=8}this._strip()};function c(p,_,w,S){for(var A=0,x=0,E=Math.min(p.length,w),T=_;T<E;T++){var M=p.charCodeAt(T)-48;A*=S,M>=49?x=M-49+10:M>=17?x=M-17+10:x=M,n(M>=0&&x<S,"Invalid character"),A+=x}return A}o.prototype._parseBase=function(p,_,w){this.words=[0],this.length=1;for(var S=0,A=1;A<=67108863;A*=_)S++;S--,A=A/_|0;for(var x=p.length-w,E=x%S,T=Math.min(x,x-E)+w,M=0,Q=w;Q<T;Q+=S)M=c(p,Q,Q+S,_),this.imuln(A),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(E!==0){var he=1;for(M=c(p,Q,p.length,_),Q=0;Q<E;Q++)he*=_;this.imuln(he),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},o.prototype.copy=function(p){p.words=new Array(this.length);for(var _=0;_<this.length;_++)p.words[_]=this.words[_];p.length=this.length,p.negative=this.negative,p.red=this.red};function u(p,_){p.words=_.words,p.length=_.length,p.negative=_.negative,p.red=_.red}if(o.prototype._move=function(p){u(p,this)},o.prototype.clone=function(){var p=new o(null);return this.copy(p),p},o.prototype._expand=function(p){for(;this.length<p;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch{o.prototype.inspect=h}else o.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],R=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(p,_){p=p||10,_=_|0||1;var w;if(p===16||p==="hex"){w="";for(var S=0,A=0,x=0;x<this.length;x++){var E=this.words[x],T=((E<<S|A)&16777215).toString(16);A=E>>>24-S&16777215,S+=2,S>=26&&(S-=26,x--),A!==0||x!==this.length-1?w=g[6-T.length]+T+w:w=T+w}for(A!==0&&(w=A.toString(16)+w);w.length%_!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(p===(p|0)&&p>=2&&p<=36){var M=k[p],Q=R[p];w="";var he=this.clone();for(he.negative=0;!he.isZero();){var ue=he.modrn(Q).toString(p);he=he.idivn(Q),he.isZero()?w=ue+w:w=g[M-ue.length]+ue+w}for(this.isZero()&&(w="0"+w);w.length%_!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var p=this.words[0];return this.length===2?p+=this.words[1]*67108864:this.length===3&&this.words[2]===1?p+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-p:p},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(p,_){return this.toArrayLike(s,p,_)}),o.prototype.toArray=function(p,_){return this.toArrayLike(Array,p,_)};var F=function(p,_){return p.allocUnsafe?p.allocUnsafe(_):new p(_)};o.prototype.toArrayLike=function(p,_,w){this._strip();var S=this.byteLength(),A=w||Math.max(1,S);n(S<=A,"byte array longer than desired length"),n(A>0,"Requested array length <= 0");var x=F(p,A),E=_==="le"?"LE":"BE";return this["_toArrayLike"+E](x,S),x},o.prototype._toArrayLikeLE=function(p,_){for(var w=0,S=0,A=0,x=0;A<this.length;A++){var E=this.words[A]<<x|S;p[w++]=E&255,w<p.length&&(p[w++]=E>>8&255),w<p.length&&(p[w++]=E>>16&255),x===6?(w<p.length&&(p[w++]=E>>24&255),S=0,x=0):(S=E>>>24,x+=2)}if(w<p.length)for(p[w++]=S;w<p.length;)p[w++]=0},o.prototype._toArrayLikeBE=function(p,_){for(var w=p.length-1,S=0,A=0,x=0;A<this.length;A++){var E=this.words[A]<<x|S;p[w--]=E&255,w>=0&&(p[w--]=E>>8&255),w>=0&&(p[w--]=E>>16&255),x===6?(w>=0&&(p[w--]=E>>24&255),S=0,x=0):(S=E>>>24,x+=2)}if(w>=0)for(p[w--]=S;w>=0;)p[w--]=0},Math.clz32?o.prototype._countBits=function(p){return 32-Math.clz32(p)}:o.prototype._countBits=function(p){var _=p,w=0;return _>=4096&&(w+=13,_>>>=13),_>=64&&(w+=7,_>>>=7),_>=8&&(w+=4,_>>>=4),_>=2&&(w+=2,_>>>=2),w+_},o.prototype._zeroBits=function(p){if(p===0)return 26;var _=p,w=0;return _&8191||(w+=13,_>>>=13),_&127||(w+=7,_>>>=7),_&15||(w+=4,_>>>=4),_&3||(w+=2,_>>>=2),_&1||w++,w},o.prototype.bitLength=function(){var p=this.words[this.length-1],_=this._countBits(p);return(this.length-1)*26+_};function D(p){for(var _=new Array(p.bitLength()),w=0;w<_.length;w++){var S=w/26|0,A=w%26;_[w]=p.words[S]>>>A&1}return _}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var p=0,_=0;_<this.length;_++){var w=this._zeroBits(this.words[_]);if(p+=w,w!==26)break}return p},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(p){return this.negative!==0?this.abs().inotn(p).iaddn(1):this.clone()},o.prototype.fromTwos=function(p){return this.testn(p-1)?this.notn(p).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(p){for(;this.length<p.length;)this.words[this.length++]=0;for(var _=0;_<p.length;_++)this.words[_]=this.words[_]|p.words[_];return this._strip()},o.prototype.ior=function(p){return n((this.negative|p.negative)===0),this.iuor(p)},o.prototype.or=function(p){return this.length>p.length?this.clone().ior(p):p.clone().ior(this)},o.prototype.uor=function(p){return this.length>p.length?this.clone().iuor(p):p.clone().iuor(this)},o.prototype.iuand=function(p){var _;this.length>p.length?_=p:_=this;for(var w=0;w<_.length;w++)this.words[w]=this.words[w]&p.words[w];return this.length=_.length,this._strip()},o.prototype.iand=function(p){return n((this.negative|p.negative)===0),this.iuand(p)},o.prototype.and=function(p){return this.length>p.length?this.clone().iand(p):p.clone().iand(this)},o.prototype.uand=function(p){return this.length>p.length?this.clone().iuand(p):p.clone().iuand(this)},o.prototype.iuxor=function(p){var _,w;this.length>p.length?(_=this,w=p):(_=p,w=this);for(var S=0;S<w.length;S++)this.words[S]=_.words[S]^w.words[S];if(this!==_)for(;S<_.length;S++)this.words[S]=_.words[S];return this.length=_.length,this._strip()},o.prototype.ixor=function(p){return n((this.negative|p.negative)===0),this.iuxor(p)},o.prototype.xor=function(p){return this.length>p.length?this.clone().ixor(p):p.clone().ixor(this)},o.prototype.uxor=function(p){return this.length>p.length?this.clone().iuxor(p):p.clone().iuxor(this)},o.prototype.inotn=function(p){n(typeof p=="number"&&p>=0);var _=Math.ceil(p/26)|0,w=p%26;this._expand(_),w>0&&_--;for(var S=0;S<_;S++)this.words[S]=~this.words[S]&67108863;return w>0&&(this.words[S]=~this.words[S]&67108863>>26-w),this._strip()},o.prototype.notn=function(p){return this.clone().inotn(p)},o.prototype.setn=function(p,_){n(typeof p=="number"&&p>=0);var w=p/26|0,S=p%26;return this._expand(w+1),_?this.words[w]=this.words[w]|1<<S:this.words[w]=this.words[w]&~(1<<S),this._strip()},o.prototype.iadd=function(p){var _;if(this.negative!==0&&p.negative===0)return this.negative=0,_=this.isub(p),this.negative^=1,this._normSign();if(this.negative===0&&p.negative!==0)return p.negative=0,_=this.isub(p),p.negative=1,_._normSign();var w,S;this.length>p.length?(w=this,S=p):(w=p,S=this);for(var A=0,x=0;x<S.length;x++)_=(w.words[x]|0)+(S.words[x]|0)+A,this.words[x]=_&67108863,A=_>>>26;for(;A!==0&&x<w.length;x++)_=(w.words[x]|0)+A,this.words[x]=_&67108863,A=_>>>26;if(this.length=w.length,A!==0)this.words[this.length]=A,this.length++;else if(w!==this)for(;x<w.length;x++)this.words[x]=w.words[x];return this},o.prototype.add=function(p){var _;return p.negative!==0&&this.negative===0?(p.negative=0,_=this.sub(p),p.negative^=1,_):p.negative===0&&this.negative!==0?(this.negative=0,_=p.sub(this),this.negative=1,_):this.length>p.length?this.clone().iadd(p):p.clone().iadd(this)},o.prototype.isub=function(p){if(p.negative!==0){p.negative=0;var _=this.iadd(p);return p.negative=1,_._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(p),this.negative=1,this._normSign();var w=this.cmp(p);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,A;w>0?(S=this,A=p):(S=p,A=this);for(var x=0,E=0;E<A.length;E++)_=(S.words[E]|0)-(A.words[E]|0)+x,x=_>>26,this.words[E]=_&67108863;for(;x!==0&&E<S.length;E++)_=(S.words[E]|0)+x,x=_>>26,this.words[E]=_&67108863;if(x===0&&E<S.length&&S!==this)for(;E<S.length;E++)this.words[E]=S.words[E];return this.length=Math.max(this.length,E),S!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(p){return this.clone().isub(p)};function $(p,_,w){w.negative=_.negative^p.negative;var S=p.length+_.length|0;w.length=S,S=S-1|0;var A=p.words[0]|0,x=_.words[0]|0,E=A*x,T=E&67108863,M=E/67108864|0;w.words[0]=T;for(var Q=1;Q<S;Q++){for(var he=M>>>26,ue=M&67108863,W=Math.min(Q,_.length-1),se=Math.max(0,Q-p.length+1);se<=W;se++){var Z=Q-se|0;A=p.words[Z]|0,x=_.words[se]|0,E=A*x+ue,he+=E/67108864|0,ue=E&67108863}w.words[Q]=ue|0,M=he|0}return M!==0?w.words[Q]=M|0:w.length--,w._strip()}var B=function(p,_,w){var S=p.words,A=_.words,x=w.words,E=0,T,M,Q,he=S[0]|0,ue=he&8191,W=he>>>13,se=S[1]|0,Z=se&8191,ie=se>>>13,pe=S[2]|0,Ee=pe&8191,Oe=pe>>>13,Re=S[3]|0,Ce=Re&8191,P=Re>>>13,Y=S[4]|0,be=Y&8191,Ue=Y>>>13,Ke=S[5]|0,rt=Ke&8191,We=Ke>>>13,Qe=S[6]|0,d=Qe&8191,b=Qe>>>13,H=S[7]|0,te=H&8191,ce=H>>>13,z=S[8]|0,X=z&8191,oe=z>>>13,N=S[9]|0,L=N&8191,J=N>>>13,ge=A[0]|0,le=ge&8191,Me=ge>>>13,De=A[1]|0,nt=De&8191,gt=De>>>13,jt=A[2]|0,Ze=jt&8191,xt=jt>>>13,mr=A[3]|0,Hr=mr&8191,Wt=mr>>>13,Ut=A[4]|0,Yt=Ut&8191,Ft=Ut>>>13,Ur=A[5]|0,Se=Ur&8191,ye=Ur>>>13,xe=A[6]|0,Be=xe&8191,je=xe>>>13,Ge=A[7]|0,lt=Ge&8191,Ye=Ge>>>13,Et=A[8]|0,wt=Et&8191,ft=Et>>>13,It=A[9]|0,Bt=It&8191,Ct=It>>>13;w.negative=p.negative^_.negative,w.length=19,T=Math.imul(ue,le),M=Math.imul(ue,Me),M=M+Math.imul(W,le)|0,Q=Math.imul(W,Me);var et=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(et>>>26)|0,et&=67108863,T=Math.imul(Z,le),M=Math.imul(Z,Me),M=M+Math.imul(ie,le)|0,Q=Math.imul(ie,Me),T=T+Math.imul(ue,nt)|0,M=M+Math.imul(ue,gt)|0,M=M+Math.imul(W,nt)|0,Q=Q+Math.imul(W,gt)|0;var _t=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(_t>>>26)|0,_t&=67108863,T=Math.imul(Ee,le),M=Math.imul(Ee,Me),M=M+Math.imul(Oe,le)|0,Q=Math.imul(Oe,Me),T=T+Math.imul(Z,nt)|0,M=M+Math.imul(Z,gt)|0,M=M+Math.imul(ie,nt)|0,Q=Q+Math.imul(ie,gt)|0,T=T+Math.imul(ue,Ze)|0,M=M+Math.imul(ue,xt)|0,M=M+Math.imul(W,Ze)|0,Q=Q+Math.imul(W,xt)|0;var Ie=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,T=Math.imul(Ce,le),M=Math.imul(Ce,Me),M=M+Math.imul(P,le)|0,Q=Math.imul(P,Me),T=T+Math.imul(Ee,nt)|0,M=M+Math.imul(Ee,gt)|0,M=M+Math.imul(Oe,nt)|0,Q=Q+Math.imul(Oe,gt)|0,T=T+Math.imul(Z,Ze)|0,M=M+Math.imul(Z,xt)|0,M=M+Math.imul(ie,Ze)|0,Q=Q+Math.imul(ie,xt)|0,T=T+Math.imul(ue,Hr)|0,M=M+Math.imul(ue,Wt)|0,M=M+Math.imul(W,Hr)|0,Q=Q+Math.imul(W,Wt)|0;var yt=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(yt>>>26)|0,yt&=67108863,T=Math.imul(be,le),M=Math.imul(be,Me),M=M+Math.imul(Ue,le)|0,Q=Math.imul(Ue,Me),T=T+Math.imul(Ce,nt)|0,M=M+Math.imul(Ce,gt)|0,M=M+Math.imul(P,nt)|0,Q=Q+Math.imul(P,gt)|0,T=T+Math.imul(Ee,Ze)|0,M=M+Math.imul(Ee,xt)|0,M=M+Math.imul(Oe,Ze)|0,Q=Q+Math.imul(Oe,xt)|0,T=T+Math.imul(Z,Hr)|0,M=M+Math.imul(Z,Wt)|0,M=M+Math.imul(ie,Hr)|0,Q=Q+Math.imul(ie,Wt)|0,T=T+Math.imul(ue,Yt)|0,M=M+Math.imul(ue,Ft)|0,M=M+Math.imul(W,Yt)|0,Q=Q+Math.imul(W,Ft)|0;var at=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(at>>>26)|0,at&=67108863,T=Math.imul(rt,le),M=Math.imul(rt,Me),M=M+Math.imul(We,le)|0,Q=Math.imul(We,Me),T=T+Math.imul(be,nt)|0,M=M+Math.imul(be,gt)|0,M=M+Math.imul(Ue,nt)|0,Q=Q+Math.imul(Ue,gt)|0,T=T+Math.imul(Ce,Ze)|0,M=M+Math.imul(Ce,xt)|0,M=M+Math.imul(P,Ze)|0,Q=Q+Math.imul(P,xt)|0,T=T+Math.imul(Ee,Hr)|0,M=M+Math.imul(Ee,Wt)|0,M=M+Math.imul(Oe,Hr)|0,Q=Q+Math.imul(Oe,Wt)|0,T=T+Math.imul(Z,Yt)|0,M=M+Math.imul(Z,Ft)|0,M=M+Math.imul(ie,Yt)|0,Q=Q+Math.imul(ie,Ft)|0,T=T+Math.imul(ue,Se)|0,M=M+Math.imul(ue,ye)|0,M=M+Math.imul(W,Se)|0,Q=Q+Math.imul(W,ye)|0;var Jt=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,T=Math.imul(d,le),M=Math.imul(d,Me),M=M+Math.imul(b,le)|0,Q=Math.imul(b,Me),T=T+Math.imul(rt,nt)|0,M=M+Math.imul(rt,gt)|0,M=M+Math.imul(We,nt)|0,Q=Q+Math.imul(We,gt)|0,T=T+Math.imul(be,Ze)|0,M=M+Math.imul(be,xt)|0,M=M+Math.imul(Ue,Ze)|0,Q=Q+Math.imul(Ue,xt)|0,T=T+Math.imul(Ce,Hr)|0,M=M+Math.imul(Ce,Wt)|0,M=M+Math.imul(P,Hr)|0,Q=Q+Math.imul(P,Wt)|0,T=T+Math.imul(Ee,Yt)|0,M=M+Math.imul(Ee,Ft)|0,M=M+Math.imul(Oe,Yt)|0,Q=Q+Math.imul(Oe,Ft)|0,T=T+Math.imul(Z,Se)|0,M=M+Math.imul(Z,ye)|0,M=M+Math.imul(ie,Se)|0,Q=Q+Math.imul(ie,ye)|0,T=T+Math.imul(ue,Be)|0,M=M+Math.imul(ue,je)|0,M=M+Math.imul(W,Be)|0,Q=Q+Math.imul(W,je)|0;var ve=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(ve>>>26)|0,ve&=67108863,T=Math.imul(te,le),M=Math.imul(te,Me),M=M+Math.imul(ce,le)|0,Q=Math.imul(ce,Me),T=T+Math.imul(d,nt)|0,M=M+Math.imul(d,gt)|0,M=M+Math.imul(b,nt)|0,Q=Q+Math.imul(b,gt)|0,T=T+Math.imul(rt,Ze)|0,M=M+Math.imul(rt,xt)|0,M=M+Math.imul(We,Ze)|0,Q=Q+Math.imul(We,xt)|0,T=T+Math.imul(be,Hr)|0,M=M+Math.imul(be,Wt)|0,M=M+Math.imul(Ue,Hr)|0,Q=Q+Math.imul(Ue,Wt)|0,T=T+Math.imul(Ce,Yt)|0,M=M+Math.imul(Ce,Ft)|0,M=M+Math.imul(P,Yt)|0,Q=Q+Math.imul(P,Ft)|0,T=T+Math.imul(Ee,Se)|0,M=M+Math.imul(Ee,ye)|0,M=M+Math.imul(Oe,Se)|0,Q=Q+Math.imul(Oe,ye)|0,T=T+Math.imul(Z,Be)|0,M=M+Math.imul(Z,je)|0,M=M+Math.imul(ie,Be)|0,Q=Q+Math.imul(ie,je)|0,T=T+Math.imul(ue,lt)|0,M=M+Math.imul(ue,Ye)|0,M=M+Math.imul(W,lt)|0,Q=Q+Math.imul(W,Ye)|0;var Tr=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,T=Math.imul(X,le),M=Math.imul(X,Me),M=M+Math.imul(oe,le)|0,Q=Math.imul(oe,Me),T=T+Math.imul(te,nt)|0,M=M+Math.imul(te,gt)|0,M=M+Math.imul(ce,nt)|0,Q=Q+Math.imul(ce,gt)|0,T=T+Math.imul(d,Ze)|0,M=M+Math.imul(d,xt)|0,M=M+Math.imul(b,Ze)|0,Q=Q+Math.imul(b,xt)|0,T=T+Math.imul(rt,Hr)|0,M=M+Math.imul(rt,Wt)|0,M=M+Math.imul(We,Hr)|0,Q=Q+Math.imul(We,Wt)|0,T=T+Math.imul(be,Yt)|0,M=M+Math.imul(be,Ft)|0,M=M+Math.imul(Ue,Yt)|0,Q=Q+Math.imul(Ue,Ft)|0,T=T+Math.imul(Ce,Se)|0,M=M+Math.imul(Ce,ye)|0,M=M+Math.imul(P,Se)|0,Q=Q+Math.imul(P,ye)|0,T=T+Math.imul(Ee,Be)|0,M=M+Math.imul(Ee,je)|0,M=M+Math.imul(Oe,Be)|0,Q=Q+Math.imul(Oe,je)|0,T=T+Math.imul(Z,lt)|0,M=M+Math.imul(Z,Ye)|0,M=M+Math.imul(ie,lt)|0,Q=Q+Math.imul(ie,Ye)|0,T=T+Math.imul(ue,wt)|0,M=M+Math.imul(ue,ft)|0,M=M+Math.imul(W,wt)|0,Q=Q+Math.imul(W,ft)|0;var or=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(or>>>26)|0,or&=67108863,T=Math.imul(L,le),M=Math.imul(L,Me),M=M+Math.imul(J,le)|0,Q=Math.imul(J,Me),T=T+Math.imul(X,nt)|0,M=M+Math.imul(X,gt)|0,M=M+Math.imul(oe,nt)|0,Q=Q+Math.imul(oe,gt)|0,T=T+Math.imul(te,Ze)|0,M=M+Math.imul(te,xt)|0,M=M+Math.imul(ce,Ze)|0,Q=Q+Math.imul(ce,xt)|0,T=T+Math.imul(d,Hr)|0,M=M+Math.imul(d,Wt)|0,M=M+Math.imul(b,Hr)|0,Q=Q+Math.imul(b,Wt)|0,T=T+Math.imul(rt,Yt)|0,M=M+Math.imul(rt,Ft)|0,M=M+Math.imul(We,Yt)|0,Q=Q+Math.imul(We,Ft)|0,T=T+Math.imul(be,Se)|0,M=M+Math.imul(be,ye)|0,M=M+Math.imul(Ue,Se)|0,Q=Q+Math.imul(Ue,ye)|0,T=T+Math.imul(Ce,Be)|0,M=M+Math.imul(Ce,je)|0,M=M+Math.imul(P,Be)|0,Q=Q+Math.imul(P,je)|0,T=T+Math.imul(Ee,lt)|0,M=M+Math.imul(Ee,Ye)|0,M=M+Math.imul(Oe,lt)|0,Q=Q+Math.imul(Oe,Ye)|0,T=T+Math.imul(Z,wt)|0,M=M+Math.imul(Z,ft)|0,M=M+Math.imul(ie,wt)|0,Q=Q+Math.imul(ie,ft)|0,T=T+Math.imul(ue,Bt)|0,M=M+Math.imul(ue,Ct)|0,M=M+Math.imul(W,Bt)|0,Q=Q+Math.imul(W,Ct)|0;var sr=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(sr>>>26)|0,sr&=67108863,T=Math.imul(L,nt),M=Math.imul(L,gt),M=M+Math.imul(J,nt)|0,Q=Math.imul(J,gt),T=T+Math.imul(X,Ze)|0,M=M+Math.imul(X,xt)|0,M=M+Math.imul(oe,Ze)|0,Q=Q+Math.imul(oe,xt)|0,T=T+Math.imul(te,Hr)|0,M=M+Math.imul(te,Wt)|0,M=M+Math.imul(ce,Hr)|0,Q=Q+Math.imul(ce,Wt)|0,T=T+Math.imul(d,Yt)|0,M=M+Math.imul(d,Ft)|0,M=M+Math.imul(b,Yt)|0,Q=Q+Math.imul(b,Ft)|0,T=T+Math.imul(rt,Se)|0,M=M+Math.imul(rt,ye)|0,M=M+Math.imul(We,Se)|0,Q=Q+Math.imul(We,ye)|0,T=T+Math.imul(be,Be)|0,M=M+Math.imul(be,je)|0,M=M+Math.imul(Ue,Be)|0,Q=Q+Math.imul(Ue,je)|0,T=T+Math.imul(Ce,lt)|0,M=M+Math.imul(Ce,Ye)|0,M=M+Math.imul(P,lt)|0,Q=Q+Math.imul(P,Ye)|0,T=T+Math.imul(Ee,wt)|0,M=M+Math.imul(Ee,ft)|0,M=M+Math.imul(Oe,wt)|0,Q=Q+Math.imul(Oe,ft)|0,T=T+Math.imul(Z,Bt)|0,M=M+Math.imul(Z,Ct)|0,M=M+Math.imul(ie,Bt)|0,Q=Q+Math.imul(ie,Ct)|0;var At=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(At>>>26)|0,At&=67108863,T=Math.imul(L,Ze),M=Math.imul(L,xt),M=M+Math.imul(J,Ze)|0,Q=Math.imul(J,xt),T=T+Math.imul(X,Hr)|0,M=M+Math.imul(X,Wt)|0,M=M+Math.imul(oe,Hr)|0,Q=Q+Math.imul(oe,Wt)|0,T=T+Math.imul(te,Yt)|0,M=M+Math.imul(te,Ft)|0,M=M+Math.imul(ce,Yt)|0,Q=Q+Math.imul(ce,Ft)|0,T=T+Math.imul(d,Se)|0,M=M+Math.imul(d,ye)|0,M=M+Math.imul(b,Se)|0,Q=Q+Math.imul(b,ye)|0,T=T+Math.imul(rt,Be)|0,M=M+Math.imul(rt,je)|0,M=M+Math.imul(We,Be)|0,Q=Q+Math.imul(We,je)|0,T=T+Math.imul(be,lt)|0,M=M+Math.imul(be,Ye)|0,M=M+Math.imul(Ue,lt)|0,Q=Q+Math.imul(Ue,Ye)|0,T=T+Math.imul(Ce,wt)|0,M=M+Math.imul(Ce,ft)|0,M=M+Math.imul(P,wt)|0,Q=Q+Math.imul(P,ft)|0,T=T+Math.imul(Ee,Bt)|0,M=M+Math.imul(Ee,Ct)|0,M=M+Math.imul(Oe,Bt)|0,Q=Q+Math.imul(Oe,Ct)|0;var on=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(on>>>26)|0,on&=67108863,T=Math.imul(L,Hr),M=Math.imul(L,Wt),M=M+Math.imul(J,Hr)|0,Q=Math.imul(J,Wt),T=T+Math.imul(X,Yt)|0,M=M+Math.imul(X,Ft)|0,M=M+Math.imul(oe,Yt)|0,Q=Q+Math.imul(oe,Ft)|0,T=T+Math.imul(te,Se)|0,M=M+Math.imul(te,ye)|0,M=M+Math.imul(ce,Se)|0,Q=Q+Math.imul(ce,ye)|0,T=T+Math.imul(d,Be)|0,M=M+Math.imul(d,je)|0,M=M+Math.imul(b,Be)|0,Q=Q+Math.imul(b,je)|0,T=T+Math.imul(rt,lt)|0,M=M+Math.imul(rt,Ye)|0,M=M+Math.imul(We,lt)|0,Q=Q+Math.imul(We,Ye)|0,T=T+Math.imul(be,wt)|0,M=M+Math.imul(be,ft)|0,M=M+Math.imul(Ue,wt)|0,Q=Q+Math.imul(Ue,ft)|0,T=T+Math.imul(Ce,Bt)|0,M=M+Math.imul(Ce,Ct)|0,M=M+Math.imul(P,Bt)|0,Q=Q+Math.imul(P,Ct)|0;var Di=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(Di>>>26)|0,Di&=67108863,T=Math.imul(L,Yt),M=Math.imul(L,Ft),M=M+Math.imul(J,Yt)|0,Q=Math.imul(J,Ft),T=T+Math.imul(X,Se)|0,M=M+Math.imul(X,ye)|0,M=M+Math.imul(oe,Se)|0,Q=Q+Math.imul(oe,ye)|0,T=T+Math.imul(te,Be)|0,M=M+Math.imul(te,je)|0,M=M+Math.imul(ce,Be)|0,Q=Q+Math.imul(ce,je)|0,T=T+Math.imul(d,lt)|0,M=M+Math.imul(d,Ye)|0,M=M+Math.imul(b,lt)|0,Q=Q+Math.imul(b,Ye)|0,T=T+Math.imul(rt,wt)|0,M=M+Math.imul(rt,ft)|0,M=M+Math.imul(We,wt)|0,Q=Q+Math.imul(We,ft)|0,T=T+Math.imul(be,Bt)|0,M=M+Math.imul(be,Ct)|0,M=M+Math.imul(Ue,Bt)|0,Q=Q+Math.imul(Ue,Ct)|0;var m=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(m>>>26)|0,m&=67108863,T=Math.imul(L,Se),M=Math.imul(L,ye),M=M+Math.imul(J,Se)|0,Q=Math.imul(J,ye),T=T+Math.imul(X,Be)|0,M=M+Math.imul(X,je)|0,M=M+Math.imul(oe,Be)|0,Q=Q+Math.imul(oe,je)|0,T=T+Math.imul(te,lt)|0,M=M+Math.imul(te,Ye)|0,M=M+Math.imul(ce,lt)|0,Q=Q+Math.imul(ce,Ye)|0,T=T+Math.imul(d,wt)|0,M=M+Math.imul(d,ft)|0,M=M+Math.imul(b,wt)|0,Q=Q+Math.imul(b,ft)|0,T=T+Math.imul(rt,Bt)|0,M=M+Math.imul(rt,Ct)|0,M=M+Math.imul(We,Bt)|0,Q=Q+Math.imul(We,Ct)|0;var O=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(O>>>26)|0,O&=67108863,T=Math.imul(L,Be),M=Math.imul(L,je),M=M+Math.imul(J,Be)|0,Q=Math.imul(J,je),T=T+Math.imul(X,lt)|0,M=M+Math.imul(X,Ye)|0,M=M+Math.imul(oe,lt)|0,Q=Q+Math.imul(oe,Ye)|0,T=T+Math.imul(te,wt)|0,M=M+Math.imul(te,ft)|0,M=M+Math.imul(ce,wt)|0,Q=Q+Math.imul(ce,ft)|0,T=T+Math.imul(d,Bt)|0,M=M+Math.imul(d,Ct)|0,M=M+Math.imul(b,Bt)|0,Q=Q+Math.imul(b,Ct)|0;var V=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(V>>>26)|0,V&=67108863,T=Math.imul(L,lt),M=Math.imul(L,Ye),M=M+Math.imul(J,lt)|0,Q=Math.imul(J,Ye),T=T+Math.imul(X,wt)|0,M=M+Math.imul(X,ft)|0,M=M+Math.imul(oe,wt)|0,Q=Q+Math.imul(oe,ft)|0,T=T+Math.imul(te,Bt)|0,M=M+Math.imul(te,Ct)|0,M=M+Math.imul(ce,Bt)|0,Q=Q+Math.imul(ce,Ct)|0;var fe=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(fe>>>26)|0,fe&=67108863,T=Math.imul(L,wt),M=Math.imul(L,ft),M=M+Math.imul(J,wt)|0,Q=Math.imul(J,ft),T=T+Math.imul(X,Bt)|0,M=M+Math.imul(X,Ct)|0,M=M+Math.imul(oe,Bt)|0,Q=Q+Math.imul(oe,Ct)|0;var Ae=(E+T|0)+((M&8191)<<13)|0;E=(Q+(M>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,T=Math.imul(L,Bt),M=Math.imul(L,Ct),M=M+Math.imul(J,Bt)|0,Q=Math.imul(J,Ct);var $e=(E+T|0)+((M&8191)<<13)|0;return E=(Q+(M>>>13)|0)+($e>>>26)|0,$e&=67108863,x[0]=et,x[1]=_t,x[2]=Ie,x[3]=yt,x[4]=at,x[5]=Jt,x[6]=ve,x[7]=Tr,x[8]=or,x[9]=sr,x[10]=At,x[11]=on,x[12]=Di,x[13]=m,x[14]=O,x[15]=V,x[16]=fe,x[17]=Ae,x[18]=$e,E!==0&&(x[19]=E,w.length++),w};Math.imul||(B=$);function U(p,_,w){w.negative=_.negative^p.negative,w.length=p.length+_.length;for(var S=0,A=0,x=0;x<w.length-1;x++){var E=A;A=0;for(var T=S&67108863,M=Math.min(x,_.length-1),Q=Math.max(0,x-p.length+1);Q<=M;Q++){var he=x-Q,ue=p.words[he]|0,W=_.words[Q]|0,se=ue*W,Z=se&67108863;E=E+(se/67108864|0)|0,Z=Z+T|0,T=Z&67108863,E=E+(Z>>>26)|0,A+=E>>>26,E&=67108863}w.words[x]=T,S=E,E=A}return S!==0?w.words[x]=S:w.length--,w._strip()}function q(p,_,w){return U(p,_,w)}o.prototype.mulTo=function(p,_){var w,S=this.length+p.length;return this.length===10&&p.length===10?w=B(this,p,_):S<63?w=$(this,p,_):S<1024?w=U(this,p,_):w=q(this,p,_),w},o.prototype.mul=function(p){var _=new o(null);return _.words=new Array(this.length+p.length),this.mulTo(p,_)},o.prototype.mulf=function(p){var _=new o(null);return _.words=new Array(this.length+p.length),q(this,p,_)},o.prototype.imul=function(p){return this.clone().mulTo(p,this)},o.prototype.imuln=function(p){var _=p<0;_&&(p=-p),n(typeof p=="number"),n(p<67108864);for(var w=0,S=0;S<this.length;S++){var A=(this.words[S]|0)*p,x=(A&67108863)+(w&67108863);w>>=26,w+=A/67108864|0,w+=x>>>26,this.words[S]=x&67108863}return w!==0&&(this.words[S]=w,this.length++),this.length=p===0?1:this.length,_?this.ineg():this},o.prototype.muln=function(p){return this.clone().imuln(p)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(p){var _=D(p);if(_.length===0)return new o(1);for(var w=this,S=0;S<_.length&&_[S]===0;S++,w=w.sqr());if(++S<_.length)for(var A=w.sqr();S<_.length;S++,A=A.sqr())_[S]!==0&&(w=w.mul(A));return w},o.prototype.iushln=function(p){n(typeof p=="number"&&p>=0);var _=p%26,w=(p-_)/26,S=67108863>>>26-_<<26-_,A;if(_!==0){var x=0;for(A=0;A<this.length;A++){var E=this.words[A]&S,T=(this.words[A]|0)-E<<_;this.words[A]=T|x,x=E>>>26-_}x&&(this.words[A]=x,this.length++)}if(w!==0){for(A=this.length-1;A>=0;A--)this.words[A+w]=this.words[A];for(A=0;A<w;A++)this.words[A]=0;this.length+=w}return this._strip()},o.prototype.ishln=function(p){return n(this.negative===0),this.iushln(p)},o.prototype.iushrn=function(p,_,w){n(typeof p=="number"&&p>=0);var S;_?S=(_-_%26)/26:S=0;var A=p%26,x=Math.min((p-A)/26,this.length),E=67108863^67108863>>>A<<A,T=w;if(S-=x,S=Math.max(0,S),T){for(var M=0;M<x;M++)T.words[M]=this.words[M];T.length=x}if(x!==0)if(this.length>x)for(this.length-=x,M=0;M<this.length;M++)this.words[M]=this.words[M+x];else this.words[0]=0,this.length=1;var Q=0;for(M=this.length-1;M>=0&&(Q!==0||M>=S);M--){var he=this.words[M]|0;this.words[M]=Q<<26-A|he>>>A,Q=he&E}return T&&Q!==0&&(T.words[T.length++]=Q),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(p,_,w){return n(this.negative===0),this.iushrn(p,_,w)},o.prototype.shln=function(p){return this.clone().ishln(p)},o.prototype.ushln=function(p){return this.clone().iushln(p)},o.prototype.shrn=function(p){return this.clone().ishrn(p)},o.prototype.ushrn=function(p){return this.clone().iushrn(p)},o.prototype.testn=function(p){n(typeof p=="number"&&p>=0);var _=p%26,w=(p-_)/26,S=1<<_;if(this.length<=w)return!1;var A=this.words[w];return!!(A&S)},o.prototype.imaskn=function(p){n(typeof p=="number"&&p>=0);var _=p%26,w=(p-_)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(_!==0&&w++,this.length=Math.min(w,this.length),_!==0){var S=67108863^67108863>>>_<<_;this.words[this.length-1]&=S}return this._strip()},o.prototype.maskn=function(p){return this.clone().imaskn(p)},o.prototype.iaddn=function(p){return n(typeof p=="number"),n(p<67108864),p<0?this.isubn(-p):this.negative!==0?this.length===1&&(this.words[0]|0)<=p?(this.words[0]=p-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(p),this.negative=1,this):this._iaddn(p)},o.prototype._iaddn=function(p){this.words[0]+=p;for(var _=0;_<this.length&&this.words[_]>=67108864;_++)this.words[_]-=67108864,_===this.length-1?this.words[_+1]=1:this.words[_+1]++;return this.length=Math.max(this.length,_+1),this},o.prototype.isubn=function(p){if(n(typeof p=="number"),n(p<67108864),p<0)return this.iaddn(-p);if(this.negative!==0)return this.negative=0,this.iaddn(p),this.negative=1,this;if(this.words[0]-=p,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var _=0;_<this.length&&this.words[_]<0;_++)this.words[_]+=67108864,this.words[_+1]-=1;return this._strip()},o.prototype.addn=function(p){return this.clone().iaddn(p)},o.prototype.subn=function(p){return this.clone().isubn(p)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(p,_,w){var S=p.length+w,A;this._expand(S);var x,E=0;for(A=0;A<p.length;A++){x=(this.words[A+w]|0)+E;var T=(p.words[A]|0)*_;x-=T&67108863,E=(x>>26)-(T/67108864|0),this.words[A+w]=x&67108863}for(;A<this.length-w;A++)x=(this.words[A+w]|0)+E,E=x>>26,this.words[A+w]=x&67108863;if(E===0)return this._strip();for(n(E===-1),E=0,A=0;A<this.length;A++)x=-(this.words[A]|0)+E,E=x>>26,this.words[A]=x&67108863;return this.negative=1,this._strip()},o.prototype._wordDiv=function(p,_){var w=this.length-p.length,S=this.clone(),A=p,x=A.words[A.length-1]|0,E=this._countBits(x);w=26-E,w!==0&&(A=A.ushln(w),S.iushln(w),x=A.words[A.length-1]|0);var T=S.length-A.length,M;if(_!=="mod"){M=new o(null),M.length=T+1,M.words=new Array(M.length);for(var Q=0;Q<M.length;Q++)M.words[Q]=0}var he=S.clone()._ishlnsubmul(A,1,T);he.negative===0&&(S=he,M&&(M.words[T]=1));for(var ue=T-1;ue>=0;ue--){var W=(S.words[A.length+ue]|0)*67108864+(S.words[A.length+ue-1]|0);for(W=Math.min(W/x|0,67108863),S._ishlnsubmul(A,W,ue);S.negative!==0;)W--,S.negative=0,S._ishlnsubmul(A,1,ue),S.isZero()||(S.negative^=1);M&&(M.words[ue]=W)}return M&&M._strip(),S._strip(),_!=="div"&&w!==0&&S.iushrn(w),{div:M||null,mod:S}},o.prototype.divmod=function(p,_,w){if(n(!p.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var S,A,x;return this.negative!==0&&p.negative===0?(x=this.neg().divmod(p,_),_!=="mod"&&(S=x.div.neg()),_!=="div"&&(A=x.mod.neg(),w&&A.negative!==0&&A.iadd(p)),{div:S,mod:A}):this.negative===0&&p.negative!==0?(x=this.divmod(p.neg(),_),_!=="mod"&&(S=x.div.neg()),{div:S,mod:x.mod}):this.negative&p.negative?(x=this.neg().divmod(p.neg(),_),_!=="div"&&(A=x.mod.neg(),w&&A.negative!==0&&A.isub(p)),{div:x.div,mod:A}):p.length>this.length||this.cmp(p)<0?{div:new o(0),mod:this}:p.length===1?_==="div"?{div:this.divn(p.words[0]),mod:null}:_==="mod"?{div:null,mod:new o(this.modrn(p.words[0]))}:{div:this.divn(p.words[0]),mod:new o(this.modrn(p.words[0]))}:this._wordDiv(p,_)},o.prototype.div=function(p){return this.divmod(p,"div",!1).div},o.prototype.mod=function(p){return this.divmod(p,"mod",!1).mod},o.prototype.umod=function(p){return this.divmod(p,"mod",!0).mod},o.prototype.divRound=function(p){var _=this.divmod(p);if(_.mod.isZero())return _.div;var w=_.div.negative!==0?_.mod.isub(p):_.mod,S=p.ushrn(1),A=p.andln(1),x=w.cmp(S);return x<0||A===1&&x===0?_.div:_.div.negative!==0?_.div.isubn(1):_.div.iaddn(1)},o.prototype.modrn=function(p){var _=p<0;_&&(p=-p),n(p<=67108863);for(var w=(1<<26)%p,S=0,A=this.length-1;A>=0;A--)S=(w*S+(this.words[A]|0))%p;return _?-S:S},o.prototype.modn=function(p){return this.modrn(p)},o.prototype.idivn=function(p){var _=p<0;_&&(p=-p),n(p<=67108863);for(var w=0,S=this.length-1;S>=0;S--){var A=(this.words[S]|0)+w*67108864;this.words[S]=A/p|0,w=A%p}return this._strip(),_?this.ineg():this},o.prototype.divn=function(p){return this.clone().idivn(p)},o.prototype.egcd=function(p){n(p.negative===0),n(!p.isZero());var _=this,w=p.clone();_.negative!==0?_=_.umod(p):_=_.clone();for(var S=new o(1),A=new o(0),x=new o(0),E=new o(1),T=0;_.isEven()&&w.isEven();)_.iushrn(1),w.iushrn(1),++T;for(var M=w.clone(),Q=_.clone();!_.isZero();){for(var he=0,ue=1;!(_.words[0]&ue)&&he<26;++he,ue<<=1);if(he>0)for(_.iushrn(he);he-- >0;)(S.isOdd()||A.isOdd())&&(S.iadd(M),A.isub(Q)),S.iushrn(1),A.iushrn(1);for(var W=0,se=1;!(w.words[0]&se)&&W<26;++W,se<<=1);if(W>0)for(w.iushrn(W);W-- >0;)(x.isOdd()||E.isOdd())&&(x.iadd(M),E.isub(Q)),x.iushrn(1),E.iushrn(1);_.cmp(w)>=0?(_.isub(w),S.isub(x),A.isub(E)):(w.isub(_),x.isub(S),E.isub(A))}return{a:x,b:E,gcd:w.iushln(T)}},o.prototype._invmp=function(p){n(p.negative===0),n(!p.isZero());var _=this,w=p.clone();_.negative!==0?_=_.umod(p):_=_.clone();for(var S=new o(1),A=new o(0),x=w.clone();_.cmpn(1)>0&&w.cmpn(1)>0;){for(var E=0,T=1;!(_.words[0]&T)&&E<26;++E,T<<=1);if(E>0)for(_.iushrn(E);E-- >0;)S.isOdd()&&S.iadd(x),S.iushrn(1);for(var M=0,Q=1;!(w.words[0]&Q)&&M<26;++M,Q<<=1);if(M>0)for(w.iushrn(M);M-- >0;)A.isOdd()&&A.iadd(x),A.iushrn(1);_.cmp(w)>=0?(_.isub(w),S.isub(A)):(w.isub(_),A.isub(S))}var he;return _.cmpn(1)===0?he=S:he=A,he.cmpn(0)<0&&he.iadd(p),he},o.prototype.gcd=function(p){if(this.isZero())return p.abs();if(p.isZero())return this.abs();var _=this.clone(),w=p.clone();_.negative=0,w.negative=0;for(var S=0;_.isEven()&&w.isEven();S++)_.iushrn(1),w.iushrn(1);do{for(;_.isEven();)_.iushrn(1);for(;w.isEven();)w.iushrn(1);var A=_.cmp(w);if(A<0){var x=_;_=w,w=x}else if(A===0||w.cmpn(1)===0)break;_.isub(w)}while(!0);return w.iushln(S)},o.prototype.invm=function(p){return this.egcd(p).a.umod(p)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(p){return this.words[0]&p},o.prototype.bincn=function(p){n(typeof p=="number");var _=p%26,w=(p-_)/26,S=1<<_;if(this.length<=w)return this._expand(w+1),this.words[w]|=S,this;for(var A=S,x=w;A!==0&&x<this.length;x++){var E=this.words[x]|0;E+=A,A=E>>>26,E&=67108863,this.words[x]=E}return A!==0&&(this.words[x]=A,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(p){var _=p<0;if(this.negative!==0&&!_)return-1;if(this.negative===0&&_)return 1;this._strip();var w;if(this.length>1)w=1;else{_&&(p=-p),n(p<=67108863,"Number is too big");var S=this.words[0]|0;w=S===p?0:S<p?-1:1}return this.negative!==0?-w|0:w},o.prototype.cmp=function(p){if(this.negative!==0&&p.negative===0)return-1;if(this.negative===0&&p.negative!==0)return 1;var _=this.ucmp(p);return this.negative!==0?-_|0:_},o.prototype.ucmp=function(p){if(this.length>p.length)return 1;if(this.length<p.length)return-1;for(var _=0,w=this.length-1;w>=0;w--){var S=this.words[w]|0,A=p.words[w]|0;if(S!==A){S<A?_=-1:S>A&&(_=1);break}}return _},o.prototype.gtn=function(p){return this.cmpn(p)===1},o.prototype.gt=function(p){return this.cmp(p)===1},o.prototype.gten=function(p){return this.cmpn(p)>=0},o.prototype.gte=function(p){return this.cmp(p)>=0},o.prototype.ltn=function(p){return this.cmpn(p)===-1},o.prototype.lt=function(p){return this.cmp(p)===-1},o.prototype.lten=function(p){return this.cmpn(p)<=0},o.prototype.lte=function(p){return this.cmp(p)<=0},o.prototype.eqn=function(p){return this.cmpn(p)===0},o.prototype.eq=function(p){return this.cmp(p)===0},o.red=function(p){return new v(p)},o.prototype.toRed=function(p){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),p.convertTo(this)._forceRed(p)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(p){return this.red=p,this},o.prototype.forceRed=function(p){return n(!this.red,"Already a number in reduction context"),this._forceRed(p)},o.prototype.redAdd=function(p){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,p)},o.prototype.redIAdd=function(p){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,p)},o.prototype.redSub=function(p){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,p)},o.prototype.redISub=function(p){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,p)},o.prototype.redShl=function(p){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,p)},o.prototype.redMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.mul(this,p)},o.prototype.redIMul=function(p){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,p),this.red.imul(this,p)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(p){return n(this.red&&!p.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,p)};var ee={k256:null,p224:null,p192:null,p25519:null};function ae(p,_){this.name=p,this.p=new o(_,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ae.prototype._tmp=function(){var p=new o(null);return p.words=new Array(Math.ceil(this.n/13)),p},ae.prototype.ireduce=function(p){var _=p,w;do this.split(_,this.tmp),_=this.imulK(_),_=_.iadd(this.tmp),w=_.bitLength();while(w>this.n);var S=w<this.n?-1:_.ucmp(this.p);return S===0?(_.words[0]=0,_.length=1):S>0?_.isub(this.p):_.strip!==void 0?_.strip():_._strip(),_},ae.prototype.split=function(p,_){p.iushrn(this.n,0,_)},ae.prototype.imulK=function(p){return p.imul(this.k)};function re(){ae.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(re,ae),re.prototype.split=function(p,_){for(var w=4194303,S=Math.min(p.length,9),A=0;A<S;A++)_.words[A]=p.words[A];if(_.length=S,p.length<=9){p.words[0]=0,p.length=1;return}var x=p.words[9];for(_.words[_.length++]=x&w,A=10;A<p.length;A++){var E=p.words[A]|0;p.words[A-10]=(E&w)<<4|x>>>22,x=E}x>>>=22,p.words[A-10]=x,x===0&&p.length>10?p.length-=10:p.length-=9},re.prototype.imulK=function(p){p.words[p.length]=0,p.words[p.length+1]=0,p.length+=2;for(var _=0,w=0;w<p.length;w++){var S=p.words[w]|0;_+=S*977,p.words[w]=_&67108863,_=S*64+(_/67108864|0)}return p.words[p.length-1]===0&&(p.length--,p.words[p.length-1]===0&&p.length--),p};function K(){ae.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,ae);function C(){ae.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(C,ae);function G(){ae.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(G,ae),G.prototype.imulK=function(p){for(var _=0,w=0;w<p.length;w++){var S=(p.words[w]|0)*19+_,A=S&67108863;S>>>=26,p.words[w]=A,_=S}return _!==0&&(p.words[p.length++]=_),p},o._prime=function(p){if(ee[p])return ee[p];var _;if(p==="k256")_=new re;else if(p==="p224")_=new K;else if(p==="p192")_=new C;else if(p==="p25519")_=new G;else throw new Error("Unknown prime "+p);return ee[p]=_,_};function v(p){if(typeof p=="string"){var _=o._prime(p);this.m=_.p,this.prime=_}else n(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}v.prototype._verify1=function(p){n(p.negative===0,"red works only with positives"),n(p.red,"red works only with red numbers")},v.prototype._verify2=function(p,_){n((p.negative|_.negative)===0,"red works only with positives"),n(p.red&&p.red===_.red,"red works only with red numbers")},v.prototype.imod=function(p){return this.prime?this.prime.ireduce(p)._forceRed(this):(u(p,p.umod(this.m)._forceRed(this)),p)},v.prototype.neg=function(p){return p.isZero()?p.clone():this.m.sub(p)._forceRed(this)},v.prototype.add=function(p,_){this._verify2(p,_);var w=p.add(_);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},v.prototype.iadd=function(p,_){this._verify2(p,_);var w=p.iadd(_);return w.cmp(this.m)>=0&&w.isub(this.m),w},v.prototype.sub=function(p,_){this._verify2(p,_);var w=p.sub(_);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},v.prototype.isub=function(p,_){this._verify2(p,_);var w=p.isub(_);return w.cmpn(0)<0&&w.iadd(this.m),w},v.prototype.shl=function(p,_){return this._verify1(p),this.imod(p.ushln(_))},v.prototype.imul=function(p,_){return this._verify2(p,_),this.imod(p.imul(_))},v.prototype.mul=function(p,_){return this._verify2(p,_),this.imod(p.mul(_))},v.prototype.isqr=function(p){return this.imul(p,p.clone())},v.prototype.sqr=function(p){return this.mul(p,p)},v.prototype.sqrt=function(p){if(p.isZero())return p.clone();var _=this.m.andln(3);if(n(_%2===1),_===3){var w=this.m.add(new o(1)).iushrn(2);return this.pow(p,w)}for(var S=this.m.subn(1),A=0;!S.isZero()&&S.andln(1)===0;)A++,S.iushrn(1);n(!S.isZero());var x=new o(1).toRed(this),E=x.redNeg(),T=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new o(2*M*M).toRed(this);this.pow(M,T).cmp(E)!==0;)M.redIAdd(E);for(var Q=this.pow(M,S),he=this.pow(p,S.addn(1).iushrn(1)),ue=this.pow(p,S),W=A;ue.cmp(x)!==0;){for(var se=ue,Z=0;se.cmp(x)!==0;Z++)se=se.redSqr();n(Z<W);var ie=this.pow(Q,new o(1).iushln(W-Z-1));he=he.redMul(ie),Q=ie.redSqr(),ue=ue.redMul(Q),W=Z}return he},v.prototype.invm=function(p){var _=p._invmp(this.m);return _.negative!==0?(_.negative=0,this.imod(_).redNeg()):this.imod(_)},v.prototype.pow=function(p,_){if(_.isZero())return new o(1).toRed(this);if(_.cmpn(1)===0)return p.clone();var w=4,S=new Array(1<<w);S[0]=new o(1).toRed(this),S[1]=p;for(var A=2;A<S.length;A++)S[A]=this.mul(S[A-1],p);var x=S[0],E=0,T=0,M=_.bitLength()%26;for(M===0&&(M=26),A=_.length-1;A>=0;A--){for(var Q=_.words[A],he=M-1;he>=0;he--){var ue=Q>>he&1;if(x!==S[0]&&(x=this.sqr(x)),ue===0&&E===0){T=0;continue}E<<=1,E|=ue,T++,!(T!==w&&(A!==0||he!==0))&&(x=this.mul(x,S[E]),T=0,E=0)}M=26}return x},v.prototype.convertTo=function(p){var _=p.umod(this.m);return _===p?_.clone():_},v.prototype.convertFrom=function(p){var _=p.clone();return _.red=null,_},o.mont=function(p){return new I(p)};function I(p){v.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(I,v),I.prototype.convertTo=function(p){return this.imod(p.ushln(this.shift))},I.prototype.convertFrom=function(p){var _=this.imod(p.mul(this.rinv));return _.red=null,_},I.prototype.imul=function(p,_){if(p.isZero()||_.isZero())return p.words[0]=0,p.length=1,p;var w=p.imul(_),S=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(S).iushrn(this.shift),x=A;return A.cmp(this.m)>=0?x=A.isub(this.m):A.cmpn(0)<0&&(x=A.iadd(this.m)),x._forceRed(this)},I.prototype.mul=function(p,_){if(p.isZero()||_.isZero())return new o(0)._forceRed(this);var w=p.mul(_),S=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=w.isub(S).iushrn(this.shift),x=A;return A.cmp(this.m)>=0?x=A.isub(this.m):A.cmpn(0)<0&&(x=A.iadd(this.m)),x._forceRed(this)},I.prototype.invm=function(p){var _=this.imod(p._invmp(this.m).mul(this.r2));return _._forceRed(this)}})(e,He)})(TH);var KA=TH.exports,Vg=KA,Nye=Vy,Mye=Pr.Buffer;function IH(e){var t=e.modulus.byteLength(),r;do r=new Vg(Nye(t));while(r.cmp(e.modulus)>=0||!r.umod(e.prime1)||!r.umod(e.prime2));return r}function Rye(e){var t=IH(e),r=t.toRed(Vg.mont(e.modulus)).redPow(new Vg(e.publicExponent)).fromRed();return{blinder:r,unblinder:t.invm(e.modulus)}}function BH(e,t){var r=Rye(t),n=t.modulus.byteLength(),i=new Vg(e).mul(r.blinder).umod(t.modulus),o=i.toRed(Vg.mont(t.prime1)),s=i.toRed(Vg.mont(t.prime2)),a=t.coefficient,l=t.prime1,c=t.prime2,u=o.redPow(t.exponent1).fromRed(),h=s.redPow(t.exponent2).fromRed(),g=u.isub(h).imul(a).umod(l).imul(c);return h.iadd(g).imul(r.unblinder).umod(t.modulus).toArrayLike(Mye,"be",n)}BH.getr=IH;var VA=BH,wM={};const Cye="6.6.1",jye={version:Cye};var na={},WA={};(function(e){var t=e;function r(o,s){if(Array.isArray(o))return o.slice();if(!o)return[];var a=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)a[l]=o[l]|0;return a}if(s==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)a.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var c=o.charCodeAt(l),u=c>>8,h=c&255;u?a.push(u,h):a.push(h)}return a}t.toArray=r;function n(o){return o.length===1?"0"+o:o}t.zero2=n;function i(o){for(var s="",a=0;a<o.length;a++)s+=n(o[a].toString(16));return s}t.toHex=i,t.encode=function(o,s){return s==="hex"?i(o):o}})(WA);(function(e){var t=e,r=eo,n=La,i=WA;t.assert=n,t.toArray=i.toArray,t.zero2=i.zero2,t.toHex=i.toHex,t.encode=i.encode;function o(u,h,g){var k=new Array(Math.max(u.bitLength(),g)+1),R;for(R=0;R<k.length;R+=1)k[R]=0;var F=1<<h+1,D=u.clone();for(R=0;R<k.length;R++){var $,B=D.andln(F-1);D.isOdd()?(B>(F>>1)-1?$=(F>>1)-B:$=B,D.isubn($)):$=0,k[R]=$,D.iushrn(1)}return k}t.getNAF=o;function s(u,h){var g=[[],[]];u=u.clone(),h=h.clone();for(var k=0,R=0,F;u.cmpn(-k)>0||h.cmpn(-R)>0;){var D=u.andln(3)+k&3,$=h.andln(3)+R&3;D===3&&(D=-1),$===3&&($=-1);var B;D&1?(F=u.andln(7)+k&7,(F===3||F===5)&&$===2?B=-D:B=D):B=0,g[0].push(B);var U;$&1?(F=h.andln(7)+R&7,(F===3||F===5)&&D===2?U=-$:U=$):U=0,g[1].push(U),2*k===B+1&&(k=1-k),2*R===U+1&&(R=1-R),u.iushrn(1),h.iushrn(1)}return g}t.getJSF=s;function a(u,h,g){var k="_"+h;u.prototype[h]=function(){return this[k]!==void 0?this[k]:this[k]=g.call(this)}}t.cachedProperty=a;function l(u){return typeof u=="string"?t.toArray(u,"hex"):u}t.parseBytes=l;function c(u){return new r(u,"hex","le")}t.intFromLE=c})(na);var qA={},Dd=eo,tw=na,a1=tw.getNAF,Uye=tw.getJSF,u1=tw.assert;function xd(e,t){this.type=e,this.p=new Dd(t.p,16),this.red=t.prime?Dd.red(t.prime):Dd.mont(this.p),this.zero=new Dd(0).toRed(this.red),this.one=new Dd(1).toRed(this.red),this.two=new Dd(2).toRed(this.red),this.n=t.n&&new Dd(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var h6=xd;xd.prototype.point=function(){throw new Error("Not implemented")};xd.prototype.validate=function(){throw new Error("Not implemented")};xd.prototype._fixedNafMul=function(e,t){u1(e.precomputed);var r=e._getDoubles(),n=a1(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var o=[],s,a;for(s=0;s<n.length;s+=r.step){a=0;for(var l=s+r.step-1;l>=s;l--)a=(a<<1)+n[l];o.push(a)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<o.length;s++)a=o[s],a===h?u=u.mixedAdd(r.points[s]):a===-h&&(u=u.mixedAdd(r.points[s].neg()));c=c.add(u)}return c.toP()};xd.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=a1(t,r,this._bitLength),s=this.jpoint(null,null,null),a=o.length-1;a>=0;a--){for(var l=0;a>=0&&o[a]===0;a--)l++;if(a>=0&&l++,s=s.dblp(l),a<0)break;var c=o[a];u1(c!==0),e.type==="affine"?c>0?s=s.mixedAdd(i[c-1>>1]):s=s.mixedAdd(i[-c-1>>1].neg()):c>0?s=s.add(i[c-1>>1]):s=s.add(i[-c-1>>1].neg())}return e.type==="affine"?s.toP():s};xd.prototype._wnafMulAdd=function(e,t,r,n,i){var o=this._wnafT1,s=this._wnafT2,a=this._wnafT3,l=0,c,u,h;for(c=0;c<n;c++){h=t[c];var g=h._getNAFPoints(e);o[c]=g.wnd,s[c]=g.points}for(c=n-1;c>=1;c-=2){var k=c-1,R=c;if(o[k]!==1||o[R]!==1){a[k]=a1(r[k],o[k],this._bitLength),a[R]=a1(r[R],o[R],this._bitLength),l=Math.max(a[k].length,l),l=Math.max(a[R].length,l);continue}var F=[t[k],null,null,t[R]];t[k].y.cmp(t[R].y)===0?(F[1]=t[k].add(t[R]),F[2]=t[k].toJ().mixedAdd(t[R].neg())):t[k].y.cmp(t[R].y.redNeg())===0?(F[1]=t[k].toJ().mixedAdd(t[R]),F[2]=t[k].add(t[R].neg())):(F[1]=t[k].toJ().mixedAdd(t[R]),F[2]=t[k].toJ().mixedAdd(t[R].neg()));var D=[-3,-1,-5,-7,0,7,5,1,3],$=Uye(r[k],r[R]);for(l=Math.max($[0].length,l),a[k]=new Array(l),a[R]=new Array(l),u=0;u<l;u++){var B=$[0][u]|0,U=$[1][u]|0;a[k][u]=D[(B+1)*3+(U+1)],a[R][u]=0,s[k]=F}}var q=this.jpoint(null,null,null),ee=this._wnafT4;for(c=l;c>=0;c--){for(var ae=0;c>=0;){var re=!0;for(u=0;u<n;u++)ee[u]=a[u][c]|0,ee[u]!==0&&(re=!1);if(!re)break;ae++,c--}if(c>=0&&ae++,q=q.dblp(ae),c<0)break;for(u=0;u<n;u++){var K=ee[u];K!==0&&(K>0?h=s[u][K-1>>1]:K<0&&(h=s[u][-K-1>>1].neg()),h.type==="affine"?q=q.mixedAdd(h):q=q.add(h))}}for(c=0;c<n;c++)s[c]=null;return i?q:q.toP()};function Fa(e,t){this.curve=e,this.type=t,this.precomputed=null}xd.BasePoint=Fa;Fa.prototype.eq=function(){throw new Error("Not implemented")};Fa.prototype.validate=function(){return this.curve.validate(this)};xd.prototype.decodePoint=function(e,t){e=tw.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?u1(e[e.length-1]%2===0):e[0]===7&&u1(e[e.length-1]%2===1);var n=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return n}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")};Fa.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Fa.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))};Fa.prototype.encode=function(e,t){return tw.encode(this._encode(t),e)};Fa.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this};Fa.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1};Fa.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}};Fa.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=r===1?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}};Fa.prototype._getBeta=function(){return null};Fa.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var zye=na,Xn=eo,ZA=Mr,Zy=h6,Lye=zye.assert;function Da(e){Zy.call(this,"short",e),this.a=new Xn(e.a,16).toRed(this.red),this.b=new Xn(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}ZA(Da,Zy);var $ye=Da;Da.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new Xn(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)r=new Xn(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))===0?r=i[0]:(r=i[1],Lye(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var o;return e.basis?o=e.basis.map(function(s){return{a:new Xn(s.a,16),b:new Xn(s.b,16)}}):o=this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}};Da.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Xn.mont(e),r=new Xn(2).toRed(t).redInvm(),n=r.redNeg(),i=new Xn(3).toRed(t).redNeg().redSqrt().redMul(r),o=n.redAdd(i).fromRed(),s=n.redSub(i).fromRed();return[o,s]};Da.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,n=this.n.clone(),i=new Xn(1),o=new Xn(0),s=new Xn(0),a=new Xn(1),l,c,u,h,g,k,R,F=0,D,$;r.cmpn(0)!==0;){var B=n.div(r);D=n.sub(B.mul(r)),$=s.sub(B.mul(i));var U=a.sub(B.mul(o));if(!u&&D.cmp(t)<0)l=R.neg(),c=i,u=D.neg(),h=$;else if(u&&++F===2)break;R=D,n=r,r=D,s=i,i=$,a=o,o=U}g=D.neg(),k=$;var q=u.sqr().add(h.sqr()),ee=g.sqr().add(k.sqr());return ee.cmp(q)>=0&&(g=l,k=c),u.negative&&(u=u.neg(),h=h.neg()),g.negative&&(g=g.neg(),k=k.neg()),[{a:u,b:h},{a:g,b:k}]};Da.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),l=i.mul(r.b),c=o.mul(n.b),u=e.sub(s).sub(a),h=l.add(c).neg();return{k1:u,k2:h}};Da.prototype.pointFromX=function(e,t){e=new Xn(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(n.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)};Da.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return r.redSqr().redISub(i).cmpn(0)===0};Da.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],l=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),l=l.neg(!0)),n[o*2]=a,n[o*2+1]=l,i[o*2]=s.k1,i[o*2+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,o*2,r),u=0;u<o*2;u++)n[u]=null,i[u]=null;return c};function $i(e,t,r,n){Zy.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Xn(t,16),this.y=new Xn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}ZA($i,Zy.BasePoint);Da.prototype.point=function(e,t,r){return new $i(this,e,t,r)};Da.prototype.pointFromJSON=function(e,t){return $i.fromJSON(this,e,t)};$i.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(i){return r.point(i.x.redMul(r.endo.beta),i.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}};$i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};$i.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(s){return e.point(s[0],s[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n};$i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};$i.prototype.isInfinity=function(){return this.inf};$i.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)};$i.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)};$i.prototype.getX=function(){return this.x.fromRed()};$i.prototype.getY=function(){return this.y.fromRed()};$i.prototype.mul=function(e){return e=new Xn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};$i.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)};$i.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)};$i.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};$i.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(i){return i.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t};$i.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function to(e,t,r,n){Zy.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Xn(0)):(this.x=new Xn(t,16),this.y=new Xn(r,16),this.z=new Xn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}ZA(to,Zy.BasePoint);Da.prototype.jpoint=function(e,t,r){return new to(this,e,t,r)};to.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)};to.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};to.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),l=o.redSub(s);if(a.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),u=c.redMul(a),h=n.redMul(c),g=l.redSqr().redIAdd(u).redISub(h).redISub(h),k=l.redMul(h.redISub(g)).redISub(o.redMul(u)),R=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(g,k,R)};to.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(s.cmpn(0)===0)return a.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),c=l.redMul(s),u=r.redMul(l),h=a.redSqr().redIAdd(c).redISub(u).redISub(u),g=a.redMul(u.redISub(h)).redISub(i.redMul(c)),k=this.z.redMul(s);return this.curve.jpoint(h,g,k)};to.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var u=o.redSqr(),h=c.redSqr(),g=h.redSqr(),k=u.redAdd(u).redIAdd(u).redIAdd(n.redMul(l)),R=o.redMul(h),F=k.redSqr().redISub(R.redAdd(R)),D=R.redISub(F),$=k.redMul(D);$=$.redIAdd($).redISub(g);var B=c.redMul(a);t+1<e&&(l=l.redMul(g)),o=F,a=B,c=$}return this.curve.jpoint(o,c.redMul(i),a)};to.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};to.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=l,t=a.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),k=this.x.redAdd(h).redSqr().redISub(u).redISub(g);k=k.redIAdd(k);var R=u.redAdd(u).redIAdd(u),F=R.redSqr(),D=g.redIAdd(g);D=D.redIAdd(D),D=D.redIAdd(D),e=F.redISub(k).redISub(k),t=R.redMul(k.redISub(e)).redISub(D),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)};to.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),t=a.redMul(s.redISub(l)).redISub(c),r=this.y.redAdd(this.y)}else{var u=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),k=this.x.redSub(u).redMul(this.x.redAdd(u));k=k.redAdd(k).redIAdd(k);var R=g.redIAdd(g);R=R.redIAdd(R);var F=R.redAdd(R);e=k.redSqr().redISub(F),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(u);var D=h.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D),t=k.redMul(R.redISub(e)).redISub(D)}return this.curve.jpoint(e,t,r)};to.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),l=t.redAdd(t);l=l.redIAdd(l);var c=l.redMul(s),u=a.redSqr().redISub(c.redAdd(c)),h=c.redISub(u),g=s.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var k=a.redMul(h).redISub(g),R=r.redAdd(r).redMul(n);return this.curve.jpoint(u,k,R)};to.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var a=s.redSqr(),l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(l),u=t.redMul(c);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.x.redMul(a).redISub(u);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(c.redMul(l.redISub(c)).redISub(s.redMul(a)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var k=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(h,g,k)};to.prototype.mul=function(e,t){return e=new Xn(e,t),this.curve._wnafMul(this,e)};to.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)===0};to.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};to.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};to.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ig=eo,NH=Mr,p6=h6,Fye=na;function Gy(e){p6.call(this,"mont",e),this.a=new Ig(e.a,16).toRed(this.red),this.b=new Ig(e.b,16).toRed(this.red),this.i4=new Ig(4).toRed(this.red).redInvm(),this.two=new Ig(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}NH(Gy,p6);var Dye=Gy;Gy.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t),i=n.redSqrt();return i.redSqr().cmp(n)===0};function Li(e,t,r){p6.BasePoint.call(this,e,"projective"),t===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ig(t,16),this.z=new Ig(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}NH(Li,p6.BasePoint);Gy.prototype.decodePoint=function(e,t){return this.point(Fye.toArray(e,t),1)};Gy.prototype.point=function(e,t){return new Li(this,e,t)};Gy.prototype.pointFromJSON=function(e){return Li.fromJSON(this,e)};Li.prototype.precompute=function(){};Li.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Li.fromJSON=function(e,t){return new Li(e,t[0],t[1]||e.one)};Li.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Li.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Li.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),r=this.x.redSub(this.z),n=r.redSqr(),i=t.redSub(n),o=t.redMul(n),s=i.redMul(n.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,s)};Li.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Li.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z),s=o.redMul(r),a=i.redMul(n),l=t.z.redMul(s.redAdd(a).redSqr()),c=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(l,c)};Li.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=this,o=[];t.cmpn(0)!==0;t.iushrn(1))o.push(t.andln(1));for(var s=o.length-1;s>=0;s--)o[s]===0?(r=r.diffAdd(n,i),n=n.dbl()):(n=r.diffAdd(n,i),r=r.dbl());return n};Li.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Li.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Li.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Li.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Li.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var Hye=na,yc=eo,MH=Mr,g6=h6,Kye=Hye.assert;function Pl(e){this.twisted=(e.a|0)!==1,this.mOneA=this.twisted&&(e.a|0)===-1,this.extended=this.mOneA,g6.call(this,"edwards",e),this.a=new yc(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new yc(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new yc(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),Kye(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(e.c|0)===1}MH(Pl,g6);var Vye=Pl;Pl.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};Pl.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};Pl.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)};Pl.prototype.pointFromX=function(e,t){e=new yc(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(i.redInvm()),s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var a=s.fromRed().isOdd();return(t&&!a||!t&&a)&&(s=s.redNeg()),this.point(e,s)};Pl.prototype.pointFromY=function(e,t){e=new yc(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(i.redInvm());if(o.cmp(this.zero)===0){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=o.redSqrt();if(s.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)};Pl.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return n.cmp(i)===0};function En(e,t,r,n,i){g6.BasePoint.call(this,e,"projective"),t===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new yc(t,16),this.y=new yc(r,16),this.z=n?new yc(n,16):this.curve.one,this.t=i&&new yc(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}MH(En,g6.BasePoint);Pl.prototype.pointFromJSON=function(e){return En.fromJSON(this,e)};Pl.prototype.point=function(e,t,r,n){return new En(this,e,t,r,n)};En.fromJSON=function(e,t){return new En(e,t[0],t[1],t[2])};En.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};En.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};En.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),l=i.redMul(s),c=o.redMul(a),u=i.redMul(a),h=s.redMul(o);return this.curve.point(l,c,h,u)};En.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),r=this.y.redSqr(),n,i,o,s,a,l;if(this.curve.twisted){s=this.curve._mulA(t);var c=s.redAdd(r);this.zOne?(n=e.redSub(t).redSub(r).redMul(c.redSub(this.curve.two)),i=c.redMul(s.redSub(r)),o=c.redSqr().redSub(c).redSub(c)):(a=this.z.redSqr(),l=c.redSub(a).redISub(a),n=e.redSub(t).redISub(r).redMul(l),i=c.redMul(s.redSub(r)),o=c.redMul(l))}else s=t.redAdd(r),a=this.curve._mulC(this.z).redSqr(),l=s.redSub(a).redSub(a),n=this.curve._mulC(e.redISub(s)).redMul(l),i=this.curve._mulC(s).redMul(t.redISub(r)),o=s.redMul(l);return this.curve.point(n,i,o)};En.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};En.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),l=r.redAdd(t),c=o.redMul(s),u=a.redMul(l),h=o.redMul(l),g=s.redMul(a);return this.curve.point(c,u,g,h)};En.prototype._projAdd=function(e){var t=this.z.redMul(e.z),r=t.redSqr(),n=this.x.redMul(e.x),i=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(i),s=r.redSub(o),a=r.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(i),c=t.redMul(s).redMul(l),u,h;return this.curve.twisted?(u=t.redMul(a).redMul(i.redSub(this.curve._mulA(n))),h=s.redMul(a)):(u=t.redMul(a).redMul(i.redSub(n)),h=this.curve._mulC(s).redMul(a)),this.curve.point(c,u,h)};En.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};En.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};En.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)};En.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)};En.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};En.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};En.prototype.getX=function(){return this.normalize(),this.x.fromRed()};En.prototype.getY=function(){return this.normalize(),this.y.fromRed()};En.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};En.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(t)===0)return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),this.x.cmp(t)===0)return!0}};En.prototype.toP=En.prototype.normalize;En.prototype.mixedAdd=En.prototype.add;(function(e){var t=e;t.base=h6,t.short=$ye,t.mont=Dye,t.edwards=Vye})(qA);var y6={},m6={},Dr={},Wye=La,qye=Mr;Dr.inherits=qye;function Zye(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function Gye(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=o&63|128):Zye(e,i)?(o=65536+((o&1023)<<10)+(e.charCodeAt(++i)&1023),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=o&63|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=o&63|128)}else for(i=0;i<e.length;i++)r[i]=e[i]|0;return r}Dr.toArray=Gye;function Xye(e){for(var t="",r=0;r<e.length;r++)t+=CH(e[r].toString(16));return t}Dr.toHex=Xye;function RH(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Dr.htonl=RH;function Qye(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];t==="little"&&(i=RH(i)),r+=jH(i.toString(16))}return r}Dr.toHex32=Qye;function CH(e){return e.length===1?"0"+e:e}Dr.zero2=CH;function jH(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Dr.zero8=jH;function Yye(e,t,r,n){var i=r-t;Wye(i%4===0);for(var o=new Array(i/4),s=0,a=t;s<o.length;s++,a+=4){var l;n==="big"?l=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:l=e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],o[s]=l>>>0}return o}Dr.join32=Yye;function Jye(e,t){for(var r=new Array(e.length*4),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];t==="big"?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=o&255):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=o&255)}return r}Dr.split32=Jye;function eme(e,t){return e>>>t|e<<32-t}Dr.rotr32=eme;function tme(e,t){return e<<t|e>>>32-t}Dr.rotl32=tme;function rme(e,t){return e+t>>>0}Dr.sum32=rme;function nme(e,t,r){return e+t+r>>>0}Dr.sum32_3=nme;function ime(e,t,r,n){return e+t+r+n>>>0}Dr.sum32_4=ime;function ome(e,t,r,n,i){return e+t+r+n+i>>>0}Dr.sum32_5=ome;function sme(e,t,r,n){var i=e[t],o=e[t+1],s=n+o>>>0,a=(s<n?1:0)+r+i;e[t]=a>>>0,e[t+1]=s}Dr.sum64=sme;function ame(e,t,r,n){var i=t+n>>>0,o=(i<t?1:0)+e+r;return o>>>0}Dr.sum64_hi=ame;function ume(e,t,r,n){var i=t+n;return i>>>0}Dr.sum64_lo=ume;function lme(e,t,r,n,i,o,s,a){var l=0,c=t;c=c+n>>>0,l+=c<t?1:0,c=c+o>>>0,l+=c<o?1:0,c=c+a>>>0,l+=c<a?1:0;var u=e+r+i+s+l;return u>>>0}Dr.sum64_4_hi=lme;function cme(e,t,r,n,i,o,s,a){var l=t+n+o+a;return l>>>0}Dr.sum64_4_lo=cme;function fme(e,t,r,n,i,o,s,a,l,c){var u=0,h=t;h=h+n>>>0,u+=h<t?1:0,h=h+o>>>0,u+=h<o?1:0,h=h+a>>>0,u+=h<a?1:0,h=h+c>>>0,u+=h<c?1:0;var g=e+r+i+s+l+u;return g>>>0}Dr.sum64_5_hi=fme;function dme(e,t,r,n,i,o,s,a,l,c){var u=t+n+o+a+c;return u>>>0}Dr.sum64_5_lo=dme;function hme(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}Dr.rotr64_hi=hme;function pme(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Dr.rotr64_lo=pme;function gme(e,t,r){return e>>>r}Dr.shr64_hi=gme;function yme(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}Dr.shr64_lo=yme;var Xy={},EM=Dr,mme=La;function b6(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Xy.BlockHash=b6;b6.prototype.update=function(e,t){if(e=EM.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=EM.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this};b6.prototype.digest=function(e){return this.update(this._pad()),mme(this.pending===null),this._digest(e)};b6.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=e&255}else for(n[i++]=e&255,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var Qy={},Tl={},bme=Dr,pl=bme.rotr32;function vme(e,t,r,n){if(e===0)return UH(t,r,n);if(e===1||e===3)return LH(t,r,n);if(e===2)return zH(t,r,n)}Tl.ft_1=vme;function UH(e,t,r){return e&t^~e&r}Tl.ch32=UH;function zH(e,t,r){return e&t^e&r^t&r}Tl.maj32=zH;function LH(e,t,r){return e^t^r}Tl.p32=LH;function wme(e){return pl(e,2)^pl(e,13)^pl(e,22)}Tl.s0_256=wme;function Eme(e){return pl(e,6)^pl(e,11)^pl(e,25)}Tl.s1_256=Eme;function _me(e){return pl(e,7)^pl(e,18)^e>>>3}Tl.g0_256=_me;function Sme(e){return pl(e,17)^pl(e,19)^e>>>10}Tl.g1_256=Sme;var hy=Dr,kme=Xy,xme=Tl,D_=hy.rotl32,Ym=hy.sum32,Ame=hy.sum32_5,Ome=xme.ft_1,$H=kme.BlockHash,Pme=[1518500249,1859775393,2400959708,3395469782];function vl(){if(!(this instanceof vl))return new vl;$H.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}hy.inherits(vl,$H);var Tme=vl;vl.blockSize=512;vl.outSize=160;vl.hmacStrength=80;vl.padLength=64;vl.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=D_(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),u=Ame(D_(i,5),Ome(c,o,s,a),l,r[n],Pme[c]);l=a,a=s,s=D_(o,30),o=i,i=u}this.h[0]=Ym(this.h[0],i),this.h[1]=Ym(this.h[1],o),this.h[2]=Ym(this.h[2],s),this.h[3]=Ym(this.h[3],a),this.h[4]=Ym(this.h[4],l)};vl.prototype._digest=function(e){return e==="hex"?hy.toHex32(this.h,"big"):hy.split32(this.h,"big")};var py=Dr,Ime=Xy,Yy=Tl,Bme=La,Qa=py.sum32,Nme=py.sum32_4,Mme=py.sum32_5,Rme=Yy.ch32,Cme=Yy.maj32,jme=Yy.s0_256,Ume=Yy.s1_256,zme=Yy.g0_256,Lme=Yy.g1_256,FH=Ime.BlockHash,$me=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function wl(){if(!(this instanceof wl))return new wl;FH.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=$me,this.W=new Array(64)}py.inherits(wl,FH);var DH=wl;wl.blockSize=512;wl.outSize=256;wl.hmacStrength=192;wl.padLength=64;wl.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Nme(Lme(r[n-2]),r[n-7],zme(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7];for(Bme(this.k.length===r.length),n=0;n<r.length;n++){var g=Mme(h,Ume(l),Rme(l,c,u),this.k[n],r[n]),k=Qa(jme(i),Cme(i,o,s));h=u,u=c,c=l,l=Qa(a,g),a=s,s=o,o=i,i=Qa(g,k)}this.h[0]=Qa(this.h[0],i),this.h[1]=Qa(this.h[1],o),this.h[2]=Qa(this.h[2],s),this.h[3]=Qa(this.h[3],a),this.h[4]=Qa(this.h[4],l),this.h[5]=Qa(this.h[5],c),this.h[6]=Qa(this.h[6],u),this.h[7]=Qa(this.h[7],h)};wl.prototype._digest=function(e){return e==="hex"?py.toHex32(this.h,"big"):py.split32(this.h,"big")};var B9=Dr,HH=DH;function Tc(){if(!(this instanceof Tc))return new Tc;HH.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}B9.inherits(Tc,HH);var Fme=Tc;Tc.blockSize=512;Tc.outSize=224;Tc.hmacStrength=192;Tc.padLength=64;Tc.prototype._digest=function(e){return e==="hex"?B9.toHex32(this.h.slice(0,7),"big"):B9.split32(this.h.slice(0,7),"big")};var Ss=Dr,Dme=Xy,Hme=La,gl=Ss.rotr64_hi,yl=Ss.rotr64_lo,KH=Ss.shr64_hi,VH=Ss.shr64_lo,uf=Ss.sum64,H_=Ss.sum64_hi,K_=Ss.sum64_lo,Kme=Ss.sum64_4_hi,Vme=Ss.sum64_4_lo,Wme=Ss.sum64_5_hi,qme=Ss.sum64_5_lo,WH=Dme.BlockHash,Zme=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xu(){if(!(this instanceof xu))return new xu;WH.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Zme,this.W=new Array(160)}Ss.inherits(xu,WH);var qH=xu;xu.blockSize=1024;xu.outSize=512;xu.hmacStrength=192;xu.padLength=128;xu.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=obe(r[n-4],r[n-3]),o=sbe(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],l=nbe(r[n-30],r[n-29]),c=ibe(r[n-30],r[n-29]),u=r[n-32],h=r[n-31];r[n]=Kme(i,o,s,a,l,c,u,h),r[n+1]=Vme(i,o,s,a,l,c,u,h)}};xu.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],l=this.h[5],c=this.h[6],u=this.h[7],h=this.h[8],g=this.h[9],k=this.h[10],R=this.h[11],F=this.h[12],D=this.h[13],$=this.h[14],B=this.h[15];Hme(this.k.length===r.length);for(var U=0;U<r.length;U+=2){var q=$,ee=B,ae=tbe(h,g),re=rbe(h,g),K=Gme(h,g,k,R,F),C=Xme(h,g,k,R,F,D),G=this.k[U],v=this.k[U+1],I=r[U],p=r[U+1],_=Wme(q,ee,ae,re,K,C,G,v,I,p),w=qme(q,ee,ae,re,K,C,G,v,I,p);q=Jme(n,i),ee=ebe(n,i),ae=Qme(n,i,o,s,a),re=Yme(n,i,o,s,a,l);var S=H_(q,ee,ae,re),A=K_(q,ee,ae,re);$=F,B=D,F=k,D=R,k=h,R=g,h=H_(c,u,_,w),g=K_(u,u,_,w),c=a,u=l,a=o,l=s,o=n,s=i,n=H_(_,w,S,A),i=K_(_,w,S,A)}uf(this.h,0,n,i),uf(this.h,2,o,s),uf(this.h,4,a,l),uf(this.h,6,c,u),uf(this.h,8,h,g),uf(this.h,10,k,R),uf(this.h,12,F,D),uf(this.h,14,$,B)};xu.prototype._digest=function(e){return e==="hex"?Ss.toHex32(this.h,"big"):Ss.split32(this.h,"big")};function Gme(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function Xme(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function Qme(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function Yme(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function Jme(e,t){var r=gl(e,t,28),n=gl(t,e,2),i=gl(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function ebe(e,t){var r=yl(e,t,28),n=yl(t,e,2),i=yl(t,e,7),o=r^n^i;return o<0&&(o+=4294967296),o}function tbe(e,t){var r=gl(e,t,14),n=gl(e,t,18),i=gl(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function rbe(e,t){var r=yl(e,t,14),n=yl(e,t,18),i=yl(t,e,9),o=r^n^i;return o<0&&(o+=4294967296),o}function nbe(e,t){var r=gl(e,t,1),n=gl(e,t,8),i=KH(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function ibe(e,t){var r=yl(e,t,1),n=yl(e,t,8),i=VH(e,t,7),o=r^n^i;return o<0&&(o+=4294967296),o}function obe(e,t){var r=gl(e,t,19),n=gl(t,e,29),i=KH(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}function sbe(e,t){var r=yl(e,t,19),n=yl(t,e,29),i=VH(e,t,6),o=r^n^i;return o<0&&(o+=4294967296),o}var N9=Dr,ZH=qH;function Ic(){if(!(this instanceof Ic))return new Ic;ZH.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}N9.inherits(Ic,ZH);var abe=Ic;Ic.blockSize=1024;Ic.outSize=384;Ic.hmacStrength=192;Ic.padLength=128;Ic.prototype._digest=function(e){return e==="hex"?N9.toHex32(this.h.slice(0,12),"big"):N9.split32(this.h.slice(0,12),"big")};Qy.sha1=Tme;Qy.sha224=Fme;Qy.sha256=DH;Qy.sha384=abe;Qy.sha512=qH;var GH={},$h=Dr,ube=Xy,Q2=$h.rotl32,_M=$h.sum32,Jm=$h.sum32_3,SM=$h.sum32_4,XH=ube.BlockHash;function El(){if(!(this instanceof El))return new El;XH.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}$h.inherits(El,XH);GH.ripemd160=El;El.blockSize=512;El.outSize=160;El.hmacStrength=192;El.padLength=64;El.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,l=n,c=i,u=o,h=s,g=0;g<80;g++){var k=_M(Q2(SM(r,kM(g,n,i,o),e[fbe[g]+t],lbe(g)),hbe[g]),s);r=s,s=o,o=Q2(i,10),i=n,n=k,k=_M(Q2(SM(a,kM(79-g,l,c,u),e[dbe[g]+t],cbe(g)),pbe[g]),h),a=h,h=u,u=Q2(c,10),c=l,l=k}k=Jm(this.h[1],i,u),this.h[1]=Jm(this.h[2],o,h),this.h[2]=Jm(this.h[3],s,a),this.h[3]=Jm(this.h[4],r,l),this.h[4]=Jm(this.h[0],n,c),this.h[0]=k};El.prototype._digest=function(e){return e==="hex"?$h.toHex32(this.h,"little"):$h.split32(this.h,"little")};function kM(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function lbe(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function cbe(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var fbe=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],dbe=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],hbe=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],pbe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],gbe=Dr,ybe=La;function gy(e,t,r){if(!(this instanceof gy))return new gy(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(gbe.toArray(t,r))}var mbe=gy;gy.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),ybe(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)};gy.prototype.update=function(e,t){return this.inner.update(e,t),this};gy.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(e){var t=e;t.utils=Dr,t.common=Xy,t.sha=Qy,t.ripemd=GH,t.hmac=mbe,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160})(m6);var xM,AM;function bbe(){return AM||(AM=1,xM={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),xM}(function(e){var t=e,r=m6,n=qA,i=na,o=i.assert;function s(c){c.type==="short"?this.curve=new n.short(c):c.type==="edwards"?this.curve=new n.edwards(c):this.curve=new n.mont(c),this.g=this.curve.g,this.n=this.curve.n,this.hash=c.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}t.PresetCurve=s;function a(c,u){Object.defineProperty(t,c,{configurable:!0,enumerable:!0,get:function(){var h=new s(u);return Object.defineProperty(t,c,{configurable:!0,enumerable:!0,value:h}),h}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var l;try{l=bbe()}catch{l=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",l]})})(y6);var vbe=m6,xh=WA,QH=La;function ud(e){if(!(this instanceof ud))return new ud(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=xh.toArray(e.entropy,e.entropyEnc||"hex"),r=xh.toArray(e.nonce,e.nonceEnc||"hex"),n=xh.toArray(e.pers,e.persEnc||"hex");QH(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var wbe=ud;ud.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656};ud.prototype._hmac=function(){return new vbe.hmac(this.hash,this.K)};ud.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ud.prototype.reseed=function(e,t,r,n){typeof t!="string"&&(n=r,r=t,t=null),e=xh.toArray(e,t),r=xh.toArray(r,n),QH(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1};ud.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(n=r,r=t,t=null),r&&(r=xh.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,e);return this._update(r),this._reseed++,xh.encode(o,t)};var Ebe=eo,_be=na,M9=_be.assert;function xo(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Sbe=xo;xo.fromPublic=function(e,t,r){return t instanceof xo?t:new xo(e,{pub:t,pubEnc:r})};xo.fromPrivate=function(e,t,r){return t instanceof xo?t:new xo(e,{priv:t,privEnc:r})};xo.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};xo.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub};xo.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};xo.prototype._importPrivate=function(e,t){this.priv=new Ebe(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)};xo.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?M9(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&M9(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)};xo.prototype.derive=function(e){return e.validate()||M9(e.validate(),"public point not validated"),e.mul(this.priv).getX()};xo.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)};xo.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)};xo.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var l1=eo,GA=na,kbe=GA.assert;function v6(e,t){if(e instanceof v6)return e;this._importDER(e,t)||(kbe(e.r&&e.s,"Signature without r or s"),this.r=new l1(e.r,16),this.s=new l1(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var xbe=v6;function Abe(){this.place=0}function V_(e,t){var r=e[t.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||e[t.place]===0)return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return i<=127?!1:(t.place=s,i)}function OM(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}v6.prototype._importDER=function(e,t){e=GA.toArray(e,t);var r=new Abe;if(e[r.place++]!==48)return!1;var n=V_(e,r);if(n===!1||n+r.place!==e.length||e[r.place++]!==2)return!1;var i=V_(e,r);if(i===!1||e[r.place]&128)return!1;var o=e.slice(r.place,i+r.place);if(r.place+=i,e[r.place++]!==2)return!1;var s=V_(e,r);if(s===!1||e.length!==s+r.place||e[r.place]&128)return!1;var a=e.slice(r.place,s+r.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;return this.r=new l1(o),this.s=new l1(a),this.recoveryParam=null,!0};function W_(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}v6.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=OM(t),r=OM(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var n=[2];W_(n,t.length),n=n.concat(t),n.push(2),W_(n,r.length);var i=n.concat(r),o=[48];return W_(o,i.length),o=o.concat(i),GA.encode(o,e)};var q_,PM;function Obe(){if(PM)return q_;PM=1;var e=eo,t=wbe,r=na,n=y6,i=DA(),o=r.assert,s=Sbe,a=xbe;function l(c){if(!(this instanceof l))return new l(c);typeof c=="string"&&(o(Object.prototype.hasOwnProperty.call(n,c),"Unknown curve "+c),c=n[c]),c instanceof n.PresetCurve&&(c={curve:c}),this.curve=c.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=c.curve.g,this.g.precompute(c.curve.n.bitLength()+1),this.hash=c.hash||c.curve.hash}return q_=l,l.prototype.keyPair=function(c){return new s(this,c)},l.prototype.keyFromPrivate=function(c,u){return s.fromPrivate(this,c,u)},l.prototype.keyFromPublic=function(c,u){return s.fromPublic(this,c,u)},l.prototype.genKeyPair=function(c){c||(c={});for(var u=new t({hash:this.hash,pers:c.pers,persEnc:c.persEnc||"utf8",entropy:c.entropy||i(this.hash.hmacStrength),entropyEnc:c.entropy&&c.entropyEnc||"utf8",nonce:this.n.toArray()}),h=this.n.byteLength(),g=this.n.sub(new e(2));;){var k=new e(u.generate(h));if(!(k.cmp(g)>0))return k.iaddn(1),this.keyFromPrivate(k)}},l.prototype._truncateToN=function(c,u,h){var g;if(e.isBN(c)||typeof c=="number")c=new e(c,16),g=c.byteLength();else if(typeof c=="object")g=c.length,c=new e(c,16);else{var k=c.toString();g=k.length+1>>>1,c=new e(k,16)}typeof h!="number"&&(h=g*8);var R=h-this.n.bitLength();return R>0&&(c=c.ushrn(R)),!u&&c.cmp(this.n)>=0?c.sub(this.n):c},l.prototype.sign=function(c,u,h,g){if(typeof h=="object"&&(g=h,h=null),g||(g={}),typeof c!="string"&&typeof c!="number"&&!e.isBN(c)){o(typeof c=="object"&&c&&typeof c.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),o(c.length>>>0===c.length);for(var k=0;k<c.length;k++)o((c[k]&255)===c[k])}u=this.keyFromPrivate(u,h),c=this._truncateToN(c,!1,g.msgBitLength),o(!c.isNeg(),"Can not sign a negative message");var R=this.n.byteLength(),F=u.getPrivate().toArray("be",R),D=c.toArray("be",R);o(new e(D).eq(c),"Can not sign message");for(var $=new t({hash:this.hash,entropy:F,nonce:D,pers:g.pers,persEnc:g.persEnc||"utf8"}),B=this.n.sub(new e(1)),U=0;;U++){var q=g.k?g.k(U):new e($.generate(this.n.byteLength()));if(q=this._truncateToN(q,!0),!(q.cmpn(1)<=0||q.cmp(B)>=0)){var ee=this.g.mul(q);if(!ee.isInfinity()){var ae=ee.getX(),re=ae.umod(this.n);if(re.cmpn(0)!==0){var K=q.invm(this.n).mul(re.mul(u.getPrivate()).iadd(c));if(K=K.umod(this.n),K.cmpn(0)!==0){var C=(ee.getY().isOdd()?1:0)|(ae.cmp(re)!==0?2:0);return g.canonical&&K.cmp(this.nh)>0&&(K=this.n.sub(K),C^=1),new a({r:re,s:K,recoveryParam:C})}}}}}},l.prototype.verify=function(c,u,h,g,k){k||(k={}),c=this._truncateToN(c,!1,k.msgBitLength),h=this.keyFromPublic(h,g),u=new a(u,"hex");var R=u.r,F=u.s;if(R.cmpn(1)<0||R.cmp(this.n)>=0||F.cmpn(1)<0||F.cmp(this.n)>=0)return!1;var D=F.invm(this.n),$=D.mul(c).umod(this.n),B=D.mul(R).umod(this.n),U;return this.curve._maxwellTrick?(U=this.g.jmulAdd($,h.getPublic(),B),U.isInfinity()?!1:U.eqXToP(R)):(U=this.g.mulAdd($,h.getPublic(),B),U.isInfinity()?!1:U.getX().umod(this.n).cmp(R)===0)},l.prototype.recoverPubKey=function(c,u,h,g){o((3&h)===h,"The recovery param is more than two bits"),u=new a(u,g);var k=this.n,R=new e(c),F=u.r,D=u.s,$=h&1,B=h>>1;if(F.cmp(this.curve.p.umod(this.curve.n))>=0&&B)throw new Error("Unable to find sencond key candinate");B?F=this.curve.pointFromX(F.add(this.curve.n),$):F=this.curve.pointFromX(F,$);var U=u.r.invm(k),q=k.sub(R).mul(U).umod(k),ee=D.mul(U).umod(k);return this.g.mulAdd(q,F,ee)},l.prototype.getKeyRecoveryParam=function(c,u,h,g){if(u=new a(u,g),u.recoveryParam!==null)return u.recoveryParam;for(var k=0;k<4;k++){var R;try{R=this.recoverPubKey(c,u,k)}catch{continue}if(R.eq(h))return k}throw new Error("Unable to find valid recovery factor")},q_}var rw=na,YH=rw.assert,TM=rw.parseBytes,Jy=rw.cachedProperty;function zi(e,t){this.eddsa=e,this._secret=TM(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=TM(t.pub)}zi.fromPublic=function(e,t){return t instanceof zi?t:new zi(e,{pub:t})};zi.fromSecret=function(e,t){return t instanceof zi?t:new zi(e,{secret:t})};zi.prototype.secret=function(){return this._secret};Jy(zi,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Jy(zi,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Jy(zi,"privBytes",function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n});Jy(zi,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Jy(zi,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Jy(zi,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});zi.prototype.sign=function(e){return YH(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};zi.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)};zi.prototype.getSecret=function(e){return YH(this._secret,"KeyPair is public only"),rw.encode(this.secret(),e)};zi.prototype.getPublic=function(e){return rw.encode(this.pubBytes(),e)};var Pbe=zi,Tbe=eo,w6=na,IM=w6.assert,E6=w6.cachedProperty,Ibe=w6.parseBytes;function up(e,t){this.eddsa=e,typeof t!="object"&&(t=Ibe(t)),Array.isArray(t)&&(IM(t.length===e.encodingLength*2,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),IM(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Tbe&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}E6(up,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});E6(up,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});E6(up,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});E6(up,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});up.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};up.prototype.toHex=function(){return w6.encode(this.toBytes(),"hex").toUpperCase()};var Bbe=up,Nbe=m6,Mbe=y6,yy=na,Rbe=yy.assert,JH=yy.parseBytes,eK=Pbe,BM=Bbe;function ks(e){if(Rbe(e==="ed25519","only tested with ed25519 so far"),!(this instanceof ks))return new ks(e);e=Mbe[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Nbe.sha512}var Cbe=ks;ks.prototype.sign=function(e,t){e=JH(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:a,Rencoded:o})};ks.prototype.verify=function(e,t,r){if(e=JH(e),t=this.makeSignature(t),t.S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S()),s=t.R().add(n.pub().mul(i));return s.eq(o)};ks.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return yy.intFromLE(e.digest()).umod(this.curve.n)};ks.prototype.keyFromPublic=function(e){return eK.fromPublic(this,e)};ks.prototype.keyFromSecret=function(e){return eK.fromSecret(this,e)};ks.prototype.makeSignature=function(e){return e instanceof BM?e:new BM(this,e)};ks.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t};ks.prototype.decodePoint=function(e){e=yy.parseBytes(e);var t=e.length-1,r=e.slice(0,t).concat(e[t]&-129),n=(e[t]&128)!==0,i=yy.intFromLE(r);return this.curve.pointFromY(i,n)};ks.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ks.prototype.decodeInt=function(e){return yy.intFromLE(e)};ks.prototype.isPoint=function(e){return e instanceof this.pointClass};var NM;function XA(){return NM||(NM=1,function(e){var t=e;t.version=jye.version,t.utils=na,t.rand=DA(),t.curve=qA,t.curves=y6,t.ec=Obe(),t.eddsa=Cbe}(wM)),wM}var Iu={},MM={},RM={},CM;function jbe(){return CM||(CM=1,function(e){var t=nw(),r=Mr,n=e;n.define=function(o,s){return new i(o,s)};function i(o,s){this.name=o,this.body=s,this.decoders={},this.encoders={}}i.prototype._createNamed=function(o){var s;try{s=_d.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{s=function(a){this._initNamed(a)}}return r(s,o),s.prototype._initNamed=function(a){o.call(this,a)},new s(this)},i.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(t.decoders[o])),this.decoders[o]},i.prototype.decode=function(o,s,a){return this._getDecoder(s).decode(o,a)},i.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(t.encoders[o])),this.encoders[o]},i.prototype.encode=function(o,s,a){return this._getEncoder(s).encode(o,a)}}(RM)),RM}var jM={},tK={},Ube=Mr;function Ha(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}tK.Reporter=Ha;Ha.prototype.isError=function(e){return e instanceof my};Ha.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};Ha.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)};Ha.prototype.enterKey=function(e){return this._reporterState.path.push(e)};Ha.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)};Ha.prototype.leaveKey=function(e,t,r){var n=this._reporterState;this.exitKey(e),n.obj!==null&&(n.obj[t]=r)};Ha.prototype.path=function(){return this._reporterState.path.join("/")};Ha.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t};Ha.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r};Ha.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof my;if(n?t=e:t=new my(r.path.map(function(i){return"["+JSON.stringify(i)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t};Ha.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e};function my(e,t){this.path=e,this.rethrow(t)}Ube(my,Error);my.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,my),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this};var Y2={},UM;function zM(){if(UM)return Y2;UM=1;var e=Mr,t=Yb().Reporter,r=Ed.Buffer;function n(o,s){if(t.call(this,s),!r.isBuffer(o)){this.error("Input not Buffer");return}this.base=o,this.offset=0,this.length=o.length}e(n,t),Y2.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:t.prototype.save.call(this)}},n.prototype.restore=function(o){var s=new n(this.base);return s.offset=o.offset,s.length=this.offset,this.offset=o.offset,t.prototype.restore.call(this,o.reporter),s},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(o){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(o||"DecoderBuffer overrun")},n.prototype.skip=function(o,s){if(!(this.offset+o<=this.length))return this.error(s||"DecoderBuffer overrun");var a=new n(this.base);return a._reporterState=this._reporterState,a.offset=this.offset,a.length=this.offset+o,this.offset+=o,a},n.prototype.raw=function(o){return this.base.slice(o?o.offset:this.offset,this.length)};function i(o,s){if(Array.isArray(o))this.length=0,this.value=o.map(function(a){return a instanceof i||(a=new i(a,s)),this.length+=a.length,a},this);else if(typeof o=="number"){if(!(0<=o&&o<=255))return s.error("non-byte EncoderBuffer value");this.value=o,this.length=1}else if(typeof o=="string")this.value=o,this.length=r.byteLength(o);else if(r.isBuffer(o))this.value=o,this.length=o.length;else return s.error("Unsupported type: "+typeof o)}return Y2.EncoderBuffer=i,i.prototype.join=function(o,s){return o||(o=new r(this.length)),s||(s=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(a){a.join(o,s),s+=a.length}):(typeof this.value=="number"?o[s]=this.value:typeof this.value=="string"?o.write(this.value,s):r.isBuffer(this.value)&&this.value.copy(o,s),s+=this.length)),o},Y2}var Z_,LM;function zbe(){if(LM)return Z_;LM=1;var e=Yb().Reporter,t=Yb().EncoderBuffer,r=Yb().DecoderBuffer,n=La,i=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],o=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(i),s=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function a(c,u){var h={};this._baseState=h,h.enc=c,h.parent=u||null,h.children=null,h.tag=null,h.args=null,h.reverseArgs=null,h.choice=null,h.optional=!1,h.any=!1,h.obj=!1,h.use=null,h.useDecoder=null,h.key=null,h.default=null,h.explicit=null,h.implicit=null,h.contains=null,h.parent||(h.children=[],this._wrap())}Z_=a;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return a.prototype.clone=function(){var c=this._baseState,u={};l.forEach(function(g){u[g]=c[g]});var h=new this.constructor(u.parent);return h._baseState=u,h},a.prototype._wrap=function(){var c=this._baseState;o.forEach(function(u){this[u]=function(){var h=new this.constructor(this);return c.children.push(h),h[u].apply(h,arguments)}},this)},a.prototype._init=function(c){var u=this._baseState;n(u.parent===null),c.call(this),u.children=u.children.filter(function(h){return h._baseState.parent===this},this),n.equal(u.children.length,1,"Root node can have only one child")},a.prototype._useArgs=function(c){var u=this._baseState,h=c.filter(function(g){return g instanceof this.constructor},this);c=c.filter(function(g){return!(g instanceof this.constructor)},this),h.length!==0&&(n(u.children===null),u.children=h,h.forEach(function(g){g._baseState.parent=this},this)),c.length!==0&&(n(u.args===null),u.args=c,u.reverseArgs=c.map(function(g){if(typeof g!="object"||g.constructor!==Object)return g;var k={};return Object.keys(g).forEach(function(R){R==(R|0)&&(R|=0);var F=g[R];k[F]=R}),k}))},s.forEach(function(c){a.prototype[c]=function(){var u=this._baseState;throw new Error(c+" not implemented for encoding: "+u.enc)}}),i.forEach(function(c){a.prototype[c]=function(){var u=this._baseState,h=Array.prototype.slice.call(arguments);return n(u.tag===null),u.tag=c,this._useArgs(h),this}}),a.prototype.use=function(c){n(c);var u=this._baseState;return n(u.use===null),u.use=c,this},a.prototype.optional=function(){var c=this._baseState;return c.optional=!0,this},a.prototype.def=function(c){var u=this._baseState;return n(u.default===null),u.default=c,u.optional=!0,this},a.prototype.explicit=function(c){var u=this._baseState;return n(u.explicit===null&&u.implicit===null),u.explicit=c,this},a.prototype.implicit=function(c){var u=this._baseState;return n(u.explicit===null&&u.implicit===null),u.implicit=c,this},a.prototype.obj=function(){var c=this._baseState,u=Array.prototype.slice.call(arguments);return c.obj=!0,u.length!==0&&this._useArgs(u),this},a.prototype.key=function(c){var u=this._baseState;return n(u.key===null),u.key=c,this},a.prototype.any=function(){var c=this._baseState;return c.any=!0,this},a.prototype.choice=function(c){var u=this._baseState;return n(u.choice===null),u.choice=c,this._useArgs(Object.keys(c).map(function(h){return c[h]})),this},a.prototype.contains=function(c){var u=this._baseState;return n(u.use===null),u.contains=c,this},a.prototype._decode=function(c,u){var h=this._baseState;if(h.parent===null)return c.wrapResult(h.children[0]._decode(c,u));var g=h.default,k=!0,R=null;if(h.key!==null&&(R=c.enterKey(h.key)),h.optional){var F=null;if(h.explicit!==null?F=h.explicit:h.implicit!==null?F=h.implicit:h.tag!==null&&(F=h.tag),F===null&&!h.any){var D=c.save();try{h.choice===null?this._decodeGeneric(h.tag,c,u):this._decodeChoice(c,u),k=!0}catch{k=!1}c.restore(D)}else if(k=this._peekTag(c,F,h.any),c.isError(k))return k}var $;if(h.obj&&k&&($=c.enterObject()),k){if(h.explicit!==null){var B=this._decodeTag(c,h.explicit);if(c.isError(B))return B;c=B}var U=c.offset;if(h.use===null&&h.choice===null){if(h.any)var D=c.save();var q=this._decodeTag(c,h.implicit!==null?h.implicit:h.tag,h.any);if(c.isError(q))return q;h.any?g=c.raw(D):c=q}if(u&&u.track&&h.tag!==null&&u.track(c.path(),U,c.length,"tagged"),u&&u.track&&h.tag!==null&&u.track(c.path(),c.offset,c.length,"content"),h.any?g=g:h.choice===null?g=this._decodeGeneric(h.tag,c,u):g=this._decodeChoice(c,u),c.isError(g))return g;if(!h.any&&h.choice===null&&h.children!==null&&h.children.forEach(function(ae){ae._decode(c,u)}),h.contains&&(h.tag==="octstr"||h.tag==="bitstr")){var ee=new r(g);g=this._getUse(h.contains,c._reporterState.obj)._decode(ee,u)}}return h.obj&&k&&(g=c.leaveObject($)),h.key!==null&&(g!==null||k===!0)?c.leaveKey(R,h.key,g):R!==null&&c.exitKey(R),g},a.prototype._decodeGeneric=function(c,u,h){var g=this._baseState;return c==="seq"||c==="set"?null:c==="seqof"||c==="setof"?this._decodeList(u,c,g.args[0],h):/str$/.test(c)?this._decodeStr(u,c,h):c==="objid"&&g.args?this._decodeObjid(u,g.args[0],g.args[1],h):c==="objid"?this._decodeObjid(u,null,null,h):c==="gentime"||c==="utctime"?this._decodeTime(u,c,h):c==="null_"?this._decodeNull(u,h):c==="bool"?this._decodeBool(u,h):c==="objDesc"?this._decodeStr(u,c,h):c==="int"||c==="enum"?this._decodeInt(u,g.args&&g.args[0],h):g.use!==null?this._getUse(g.use,u._reporterState.obj)._decode(u,h):u.error("unknown tag: "+c)},a.prototype._getUse=function(c,u){var h=this._baseState;return h.useDecoder=this._use(c,u),n(h.useDecoder._baseState.parent===null),h.useDecoder=h.useDecoder._baseState.children[0],h.implicit!==h.useDecoder._baseState.implicit&&(h.useDecoder=h.useDecoder.clone(),h.useDecoder._baseState.implicit=h.implicit),h.useDecoder},a.prototype._decodeChoice=function(c,u){var h=this._baseState,g=null,k=!1;return Object.keys(h.choice).some(function(R){var F=c.save(),D=h.choice[R];try{var $=D._decode(c,u);if(c.isError($))return!1;g={type:R,value:$},k=!0}catch{return c.restore(F),!1}return!0},this),k?g:c.error("Choice not matched")},a.prototype._createEncoderBuffer=function(c){return new t(c,this.reporter)},a.prototype._encode=function(c,u,h){var g=this._baseState;if(!(g.default!==null&&g.default===c)){var k=this._encodeValue(c,u,h);if(k!==void 0&&!this._skipDefault(k,u,h))return k}},a.prototype._encodeValue=function(c,u,h){var g=this._baseState;if(g.parent===null)return g.children[0]._encode(c,u||new e);var D=null;if(this.reporter=u,g.optional&&c===void 0)if(g.default!==null)c=g.default;else return;var k=null,R=!1;if(g.any)D=this._createEncoderBuffer(c);else if(g.choice)D=this._encodeChoice(c,u);else if(g.contains)k=this._getUse(g.contains,h)._encode(c,u),R=!0;else if(g.children)k=g.children.map(function(U){if(U._baseState.tag==="null_")return U._encode(null,u,c);if(U._baseState.key===null)return u.error("Child should have a key");var q=u.enterKey(U._baseState.key);if(typeof c!="object")return u.error("Child expected, but input is not object");var ee=U._encode(c[U._baseState.key],u,c);return u.leaveKey(q),ee},this).filter(function(U){return U}),k=this._createEncoderBuffer(k);else if(g.tag==="seqof"||g.tag==="setof"){if(!(g.args&&g.args.length===1))return u.error("Too many args for : "+g.tag);if(!Array.isArray(c))return u.error("seqof/setof, but data is not Array");var F=this.clone();F._baseState.implicit=null,k=this._createEncoderBuffer(c.map(function(U){var q=this._baseState;return this._getUse(q.args[0],c)._encode(U,u)},F))}else g.use!==null?D=this._getUse(g.use,h)._encode(c,u):(k=this._encodePrimitive(g.tag,c),R=!0);var D;if(!g.any&&g.choice===null){var $=g.implicit!==null?g.implicit:g.tag,B=g.implicit===null?"universal":"context";$===null?g.use===null&&u.error("Tag could be omitted only for .use()"):g.use===null&&(D=this._encodeComposite($,R,B,k))}return g.explicit!==null&&(D=this._encodeComposite(g.explicit,!1,"context",D)),D},a.prototype._encodeChoice=function(c,u){var h=this._baseState,g=h.choice[c.type];return g||n(!1,c.type+" not found in "+JSON.stringify(Object.keys(h.choice))),g._encode(c.value,u)},a.prototype._encodePrimitive=function(c,u){var h=this._baseState;if(/str$/.test(c))return this._encodeStr(u,c);if(c==="objid"&&h.args)return this._encodeObjid(u,h.reverseArgs[0],h.args[1]);if(c==="objid")return this._encodeObjid(u,null,null);if(c==="gentime"||c==="utctime")return this._encodeTime(u,c);if(c==="null_")return this._encodeNull();if(c==="int"||c==="enum")return this._encodeInt(u,h.args&&h.reverseArgs[0]);if(c==="bool")return this._encodeBool(u);if(c==="objDesc")return this._encodeStr(u,c);throw new Error("Unsupported tag: "+c)},a.prototype._isNumstr=function(c){return/^[0-9 ]*$/.test(c)},a.prototype._isPrintstr=function(c){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(c)},Z_}var $M;function Yb(){return $M||($M=1,function(e){var t=e;t.Reporter=tK.Reporter,t.DecoderBuffer=zM().DecoderBuffer,t.EncoderBuffer=zM().EncoderBuffer,t.Node=zbe()}(jM)),jM}var FM={},DM={},HM;function Lbe(){return HM||(HM=1,function(e){var t=rK();e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=t._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=t._reverse(e.tag)}(DM)),DM}var KM;function rK(){return KM||(KM=1,function(e){var t=e;t._reverse=function(r){var n={};return Object.keys(r).forEach(function(i){(i|0)==i&&(i=i|0);var o=r[i];n[o]=i}),n},t.der=Lbe()}(FM)),FM}var VM={},G_,WM;function nK(){if(WM)return G_;WM=1;var e=Mr,t=nw(),r=t.base,n=t.bignum,i=t.constants.der;function o(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new s,this.tree._init(c.body)}G_=o,o.prototype.decode=function(c,u){return c instanceof r.DecoderBuffer||(c=new r.DecoderBuffer(c,u)),this.tree._decode(c,u)};function s(c){r.Node.call(this,"der",c)}e(s,r.Node),s.prototype._peekTag=function(c,u,h){if(c.isEmpty())return!1;var g=c.save(),k=a(c,'Failed to peek tag: "'+u+'"');return c.isError(k)?k:(c.restore(g),k.tag===u||k.tagStr===u||k.tagStr+"of"===u||h)},s.prototype._decodeTag=function(c,u,h){var g=a(c,'Failed to decode tag of "'+u+'"');if(c.isError(g))return g;var k=l(c,g.primitive,'Failed to get length of "'+u+'"');if(c.isError(k))return k;if(!h&&g.tag!==u&&g.tagStr!==u&&g.tagStr+"of"!==u)return c.error('Failed to match tag: "'+u+'"');if(g.primitive||k!==null)return c.skip(k,'Failed to match body of: "'+u+'"');var R=c.save(),F=this._skipUntilEnd(c,'Failed to skip indefinite length body: "'+this.tag+'"');return c.isError(F)?F:(k=c.offset-R.offset,c.restore(R),c.skip(k,'Failed to match body of: "'+u+'"'))},s.prototype._skipUntilEnd=function(c,u){for(;;){var h=a(c,u);if(c.isError(h))return h;var g=l(c,h.primitive,u);if(c.isError(g))return g;var k;if(h.primitive||g!==null?k=c.skip(g):k=this._skipUntilEnd(c,u),c.isError(k))return k;if(h.tagStr==="end")break}},s.prototype._decodeList=function(c,u,h,g){for(var k=[];!c.isEmpty();){var R=this._peekTag(c,"end");if(c.isError(R))return R;var F=h.decode(c,"der",g);if(c.isError(F)&&R)break;k.push(F)}return k},s.prototype._decodeStr=function(c,u){if(u==="bitstr"){var h=c.readUInt8();return c.isError(h)?h:{unused:h,data:c.raw()}}else if(u==="bmpstr"){var g=c.raw();if(g.length%2===1)return c.error("Decoding of string type: bmpstr length mismatch");for(var k="",R=0;R<g.length/2;R++)k+=String.fromCharCode(g.readUInt16BE(R*2));return k}else if(u==="numstr"){var F=c.raw().toString("ascii");return this._isNumstr(F)?F:c.error("Decoding of string type: numstr unsupported characters")}else{if(u==="octstr"||u==="objDesc")return c.raw();if(u==="printstr"){var D=c.raw().toString("ascii");return this._isPrintstr(D)?D:c.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(u)?c.raw().toString():c.error("Decoding of string type: "+u+" unsupported")}},s.prototype._decodeObjid=function(c,u,h){for(var g,k=[],R=0;!c.isEmpty();){var F=c.readUInt8();R<<=7,R|=F&127,F&128||(k.push(R),R=0)}F&128&&k.push(R);var D=k[0]/40|0,$=k[0]%40;if(h?g=k:g=[D,$].concat(k.slice(1)),u){var B=u[g.join(" ")];B===void 0&&(B=u[g.join(".")]),B!==void 0&&(g=B)}return g},s.prototype._decodeTime=function(c,u){var h=c.raw().toString();if(u==="gentime")var g=h.slice(0,4)|0,k=h.slice(4,6)|0,R=h.slice(6,8)|0,F=h.slice(8,10)|0,D=h.slice(10,12)|0,$=h.slice(12,14)|0;else if(u==="utctime"){var g=h.slice(0,2)|0,k=h.slice(2,4)|0,R=h.slice(4,6)|0,F=h.slice(6,8)|0,D=h.slice(8,10)|0,$=h.slice(10,12)|0;g<70?g=2e3+g:g=1900+g}else return c.error("Decoding "+u+" time is not supported yet");return Date.UTC(g,k-1,R,F,D,$,0)},s.prototype._decodeNull=function(c){return null},s.prototype._decodeBool=function(c){var u=c.readUInt8();return c.isError(u)?u:u!==0},s.prototype._decodeInt=function(c,u){var h=c.raw(),g=new n(h);return u&&(g=u[g.toString(10)]||g),g},s.prototype._use=function(c,u){return typeof c=="function"&&(c=c(u)),c._getDecoder("der").tree};function a(c,u){var h=c.readUInt8(u);if(c.isError(h))return h;var g=i.tagClass[h>>6],k=(h&32)===0;if((h&31)===31){var R=h;for(h=0;(R&128)===128;){if(R=c.readUInt8(u),c.isError(R))return R;h<<=7,h|=R&127}}else h&=31;var F=i.tag[h];return{cls:g,primitive:k,tag:h,tagStr:F}}function l(c,u,h){var g=c.readUInt8(h);if(c.isError(g))return g;if(!u&&g===128)return null;if(!(g&128))return g;var k=g&127;if(k>4)return c.error("length octect is too long");g=0;for(var R=0;R<k;R++){g<<=8;var F=c.readUInt8(h);if(c.isError(F))return F;g|=F}return g}return G_}var X_,qM;function $be(){if(qM)return X_;qM=1;var e=Mr,t=Ed.Buffer,r=nK();function n(i){r.call(this,i),this.enc="pem"}return e(n,r),X_=n,n.prototype.decode=function(i,o){for(var s=i.toString().split(/[\r\n]+/g),a=o.label.toUpperCase(),l=/^-----(BEGIN|END) ([^-]+)-----$/,c=-1,u=-1,h=0;h<s.length;h++){var g=s[h].match(l);if(g!==null&&g[2]===a)if(c===-1){if(g[1]!=="BEGIN")break;c=h}else{if(g[1]!=="END")break;u=h;break}}if(c===-1||u===-1)throw new Error("PEM section not found for: "+a);var k=s.slice(c+1,u).join("");k.replace(/[^a-z0-9\+\/=]+/gi,"");var R=new t(k,"base64");return r.prototype.decode.call(this,R,o)},X_}var ZM;function Fbe(){return ZM||(ZM=1,function(e){var t=e;t.der=nK(),t.pem=$be()}(VM)),VM}var GM={},Q_,XM;function iK(){if(XM)return Q_;XM=1;var e=Mr,t=Ed.Buffer,r=nw(),n=r.base,i=r.constants.der;function o(c){this.enc="der",this.name=c.name,this.entity=c,this.tree=new s,this.tree._init(c.body)}Q_=o,o.prototype.encode=function(c,u){return this.tree._encode(c,u).join()};function s(c){n.Node.call(this,"der",c)}e(s,n.Node),s.prototype._encodeComposite=function(c,u,h,g){var k=l(c,u,h,this.reporter);if(g.length<128){var D=new t(2);return D[0]=k,D[1]=g.length,this._createEncoderBuffer([D,g])}for(var R=1,F=g.length;F>=256;F>>=8)R++;var D=new t(2+R);D[0]=k,D[1]=128|R;for(var F=1+R,$=g.length;$>0;F--,$>>=8)D[F]=$&255;return this._createEncoderBuffer([D,g])},s.prototype._encodeStr=function(c,u){if(u==="bitstr")return this._createEncoderBuffer([c.unused|0,c.data]);if(u==="bmpstr"){for(var h=new t(c.length*2),g=0;g<c.length;g++)h.writeUInt16BE(c.charCodeAt(g),g*2);return this._createEncoderBuffer(h)}else return u==="numstr"?this._isNumstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: numstr supports only digits and space"):u==="printstr"?this._isPrintstr(c)?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(u)?this._createEncoderBuffer(c):u==="objDesc"?this._createEncoderBuffer(c):this.reporter.error("Encoding of string type: "+u+" unsupported")},s.prototype._encodeObjid=function(c,u,h){if(typeof c=="string"){if(!u)return this.reporter.error("string objid given, but no values map found");if(!u.hasOwnProperty(c))return this.reporter.error("objid not found in values map");c=u[c].split(/[\s\.]+/g);for(var g=0;g<c.length;g++)c[g]|=0}else if(Array.isArray(c)){c=c.slice();for(var g=0;g<c.length;g++)c[g]|=0}if(!Array.isArray(c))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(c));if(!h){if(c[1]>=40)return this.reporter.error("Second objid identifier OOB");c.splice(0,2,c[0]*40+c[1])}for(var k=0,g=0;g<c.length;g++){var R=c[g];for(k++;R>=128;R>>=7)k++}for(var F=new t(k),D=F.length-1,g=c.length-1;g>=0;g--){var R=c[g];for(F[D--]=R&127;(R>>=7)>0;)F[D--]=128|R&127}return this._createEncoderBuffer(F)};function a(c){return c<10?"0"+c:c}s.prototype._encodeTime=function(c,u){var h,g=new Date(c);return u==="gentime"?h=[a(g.getFullYear()),a(g.getUTCMonth()+1),a(g.getUTCDate()),a(g.getUTCHours()),a(g.getUTCMinutes()),a(g.getUTCSeconds()),"Z"].join(""):u==="utctime"?h=[a(g.getFullYear()%100),a(g.getUTCMonth()+1),a(g.getUTCDate()),a(g.getUTCHours()),a(g.getUTCMinutes()),a(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+u+" time is not supported yet"),this._encodeStr(h,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(c,u){if(typeof c=="string"){if(!u)return this.reporter.error("String int or enum given, but no values map");if(!u.hasOwnProperty(c))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(c));c=u[c]}if(typeof c!="number"&&!t.isBuffer(c)){var h=c.toArray();!c.sign&&h[0]&128&&h.unshift(0),c=new t(h)}if(t.isBuffer(c)){var g=c.length;c.length===0&&g++;var k=new t(g);return c.copy(k),c.length===0&&(k[0]=0),this._createEncoderBuffer(k)}if(c<128)return this._createEncoderBuffer(c);if(c<256)return this._createEncoderBuffer([0,c]);for(var g=1,R=c;R>=256;R>>=8)g++;for(var k=new Array(g),R=k.length-1;R>=0;R--)k[R]=c&255,c>>=8;return k[0]&128&&k.unshift(0),this._createEncoderBuffer(new t(k))},s.prototype._encodeBool=function(c){return this._createEncoderBuffer(c?255:0)},s.prototype._use=function(c,u){return typeof c=="function"&&(c=c(u)),c._getEncoder("der").tree},s.prototype._skipDefault=function(c,u,h){var g=this._baseState,k;if(g.default===null)return!1;var R=c.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,u,h).join()),R.length!==g.defaultBuffer.length)return!1;for(k=0;k<R.length;k++)if(R[k]!==g.defaultBuffer[k])return!1;return!0};function l(c,u,h,g){var k;if(c==="seqof"?c="seq":c==="setof"&&(c="set"),i.tagByName.hasOwnProperty(c))k=i.tagByName[c];else if(typeof c=="number"&&(c|0)===c)k=c;else return g.error("Unknown tag: "+c);return k>=31?g.error("Multi-octet tag encoding unsupported"):(u||(k|=32),k|=i.tagClassByName[h||"universal"]<<6,k)}return Q_}var Y_,QM;function Dbe(){if(QM)return Y_;QM=1;var e=Mr,t=iK();function r(n){t.call(this,n),this.enc="pem"}return e(r,t),Y_=r,r.prototype.encode=function(n,i){for(var o=t.prototype.encode.call(this,n),s=o.toString("base64"),a=["-----BEGIN "+i.label+"-----"],l=0;l<s.length;l+=64)a.push(s.slice(l,l+64));return a.push("-----END "+i.label+"-----"),a.join(`
`)},Y_}var YM;function Hbe(){return YM||(YM=1,function(e){var t=e;t.der=iK(),t.pem=Dbe()}(GM)),GM}var JM;function nw(){return JM||(JM=1,function(e){var t=e;t.bignum=eo,t.define=jbe().define,t.base=Yb(),t.constants=rK(),t.decoders=Fbe(),t.encoders=Hbe()}(MM)),MM}var Bu=nw(),eR=Bu.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),Kbe=Bu.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),QA=Bu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),Vbe=Bu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(QA),this.key("subjectPublicKey").bitstr())}),Wbe=Bu.define("RelativeDistinguishedName",function(){this.setof(Kbe)}),qbe=Bu.define("RDNSequence",function(){this.seqof(Wbe)}),tR=Bu.define("Name",function(){this.choice({rdnSequence:this.use(qbe)})}),Zbe=Bu.define("Validity",function(){this.seq().obj(this.key("notBefore").use(eR),this.key("notAfter").use(eR))}),Gbe=Bu.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),Xbe=Bu.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(QA),this.key("issuer").use(tR),this.key("validity").use(Zbe),this.key("subject").use(tR),this.key("subjectPublicKeyInfo").use(Vbe),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(Gbe).optional())}),Qbe=Bu.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(Xbe),this.key("signatureAlgorithm").use(QA),this.key("signatureValue").bitstr())}),Ybe=Qbe,Nu=nw();Iu.certificate=Ybe;var Jbe=Nu.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Iu.RSAPrivateKey=Jbe;var e0e=Nu.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Iu.RSAPublicKey=e0e;var oK=Nu.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),t0e=Nu.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(oK),this.key("subjectPublicKey").bitstr())});Iu.PublicKey=t0e;var r0e=Nu.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(oK),this.key("subjectPrivateKey").octstr())});Iu.PrivateKey=r0e;var n0e=Nu.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Iu.EncryptedPrivateKey=n0e;var i0e=Nu.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Iu.DSAPrivateKey=i0e;Iu.DSAparam=Nu.define("DSAparam",function(){this.int()});var o0e=Nu.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),s0e=Nu.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(o0e),this.key("publicKey").optional().explicit(1).bitstr())});Iu.ECPrivateKey=s0e;Iu.signature=Nu.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const a0e={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var u0e=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,l0e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,c0e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,f0e=o6,d0e=Xs,J2=Pr.Buffer,h0e=function(e,t){var r=e.toString(),n=r.match(u0e),i;if(n){var o="aes"+n[1],s=J2.from(n[2],"hex"),a=J2.from(n[3].replace(/[\r\n]/g,""),"base64"),l=f0e(t,s.slice(0,8),parseInt(n[1],10)).key,c=[],u=d0e.createDecipheriv(o,l,s);c.push(u.update(a)),c.push(u.final()),i=J2.concat(c)}else{var h=r.match(c0e);i=J2.from(h[2].replace(/[\r\n]/g,""),"base64")}var g=r.match(l0e)[1];return{tag:g,data:i}},ns=Iu,p0e=a0e,g0e=h0e,y0e=Xs,m0e=r6,R9=Pr.Buffer;function b0e(e,t){var r=e.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=p0e[e.algorithm.decrypt.cipher.algo.join(".")],o=e.algorithm.decrypt.cipher.iv,s=e.subjectPrivateKey,a=parseInt(i.split("-")[1],10)/8,l=m0e.pbkdf2Sync(t,r,n,a,"sha1"),c=y0e.createDecipheriv(i,l,o),u=[];return u.push(c.update(s)),u.push(c.final()),R9.concat(u)}function sK(e){var t;typeof e=="object"&&!R9.isBuffer(e)&&(t=e.passphrase,e=e.key),typeof e=="string"&&(e=R9.from(e));var r=g0e(e,t),n=r.tag,i=r.data,o,s;switch(n){case"CERTIFICATE":s=ns.certificate.decode(i,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(s||(s=ns.PublicKey.decode(i,"der")),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return ns.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=ns.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"ENCRYPTED PRIVATE KEY":i=ns.EncryptedPrivateKey.decode(i,"der"),i=b0e(i,t);case"PRIVATE KEY":switch(s=ns.PrivateKey.decode(i,"der"),o=s.algorithm.algorithm.join("."),o){case"1.2.840.113549.1.1.1":return ns.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:ns.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=ns.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+o)}case"RSA PUBLIC KEY":return ns.RSAPublicKey.decode(i,"der");case"RSA PRIVATE KEY":return ns.RSAPrivateKey.decode(i,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:ns.DSAPrivateKey.decode(i,"der")};case"EC PRIVATE KEY":return i=ns.ECPrivateKey.decode(i,"der"),{curve:i.parameters.value,privateKey:i.privateKey};default:throw new Error("unknown key type "+n)}}sK.signature=ns.signature;var _6=sK;const aK={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var rR;function v0e(){if(rR)return Qm.exports;rR=1;var e=Pr.Buffer,t=wD,r=VA,n=XA().ec,i=KA,o=_6,s=aK,a=1;function l($,B,U,q,ee){var ae=o(B);if(ae.curve){if(q!=="ecdsa"&&q!=="ecdsa/rsa")throw new Error("wrong private key type");return c($,ae)}else if(ae.type==="dsa"){if(q!=="dsa")throw new Error("wrong private key type");return u($,ae,U)}if(q!=="rsa"&&q!=="ecdsa/rsa")throw new Error("wrong private key type");if(B.padding!==void 0&&B.padding!==a)throw new Error("illegal or unsupported padding mode");$=e.concat([ee,$]);for(var re=ae.modulus.byteLength(),K=[0,1];$.length+K.length+1<re;)K.push(255);K.push(0);for(var C=-1;++C<$.length;)K.push($[C]);var G=r(K,ae);return G}function c($,B){var U=s[B.curve.join(".")];if(!U)throw new Error("unknown curve "+B.curve.join("."));var q=new n(U),ee=q.keyFromPrivate(B.privateKey),ae=ee.sign($);return e.from(ae.toDER())}function u($,B,U){for(var q=B.params.priv_key,ee=B.params.p,ae=B.params.q,re=B.params.g,K=new i(0),C,G=k($,ae).mod(ae),v=!1,I=g(q,ae,$,U);v===!1;)C=F(ae,I,U),K=D(re,C,ee,ae),v=C.invm(ae).imul(G.add(q.mul(K))).mod(ae),v.cmpn(0)===0&&(v=!1,K=new i(0));return h(K,v)}function h($,B){$=$.toArray(),B=B.toArray(),$[0]&128&&($=[0].concat($)),B[0]&128&&(B=[0].concat(B));var U=$.length+B.length+4,q=[48,U,2,$.length];return q=q.concat($,[2,B.length],B),e.from(q)}function g($,B,U,q){if($=e.from($.toArray()),$.length<B.byteLength()){var ee=e.alloc(B.byteLength()-$.length);$=e.concat([ee,$])}var ae=U.length,re=R(U,B),K=e.alloc(ae);K.fill(1);var C=e.alloc(ae);return C=t(q,C).update(K).update(e.from([0])).update($).update(re).digest(),K=t(q,C).update(K).digest(),C=t(q,C).update(K).update(e.from([1])).update($).update(re).digest(),K=t(q,C).update(K).digest(),{k:C,v:K}}function k($,B){var U=new i($),q=($.length<<3)-B.bitLength();return q>0&&U.ishrn(q),U}function R($,B){$=k($,B),$=$.mod(B);var U=e.from($.toArray());if(U.length<B.byteLength()){var q=e.alloc(B.byteLength()-U.length);U=e.concat([q,U])}return U}function F($,B,U){var q,ee;do{for(q=e.alloc(0);q.length*8<$.bitLength();)B.v=t(U,B.k).update(B.v).digest(),q=e.concat([q,B.v]);ee=k(q,$),B.k=t(U,B.k).update(B.v).update(e.from([0])).digest(),B.v=t(U,B.k).update(B.v).digest()}while(ee.cmp($)!==-1);return ee}function D($,B,U,q){return $.toRed(i.mont(U)).redPow(B).fromRed().mod(q)}return Qm.exports=l,Qm.exports.getKey=g,Qm.exports.makeKey=F,Qm.exports}var J_,nR;function w0e(){if(nR)return J_;nR=1;var e=Pr.Buffer,t=KA,r=XA().ec,n=_6,i=aK;function o(c,u,h,g,k){var R=n(h);if(R.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return s(c,u,R)}else if(R.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return a(c,u,R)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");u=e.concat([k,u]);for(var F=R.modulus.byteLength(),D=[1],$=0;u.length+D.length+2<F;)D.push(255),$+=1;D.push(0);for(var B=-1;++B<u.length;)D.push(u[B]);D=e.from(D);var U=t.mont(R.modulus);c=new t(c).toRed(U),c=c.redPow(new t(R.publicExponent)),c=e.from(c.fromRed().toArray());var q=$<8?1:0;for(F=Math.min(c.length,D.length),c.length!==D.length&&(q=1),B=-1;++B<F;)q|=c[B]^D[B];return q===0}function s(c,u,h){var g=i[h.data.algorithm.curve.join(".")];if(!g)throw new Error("unknown curve "+h.data.algorithm.curve.join("."));var k=new r(g),R=h.data.subjectPrivateKey.data;return k.verify(u,c,R)}function a(c,u,h){var g=h.data.p,k=h.data.q,R=h.data.g,F=h.data.pub_key,D=n.signature.decode(c,"der"),$=D.s,B=D.r;l($,k),l(B,k);var U=t.mont(g),q=$.invm(k),ee=R.toRed(U).redPow(new t(u).mul(q).mod(k)).fromRed().mul(F.toRed(U).redPow(B.mul(q).mod(k)).fromRed()).mod(g).mod(k);return ee.cmp(B)===0}function l(c,u){if(c.cmpn(0)<=0)throw new Error("invalid sig");if(c.cmp(u)>=0)throw new Error("invalid sig")}return J_=o,J_}var eS,iR;function E0e(){if(iR)return eS;iR=1;var e=Pr.Buffer,t=Gv,r=Bye,n=Mr,i=v0e(),o=w0e(),s=ED;Object.keys(s).forEach(function(h){s[h].id=e.from(s[h].id,"hex"),s[h.toLowerCase()]=s[h]});function a(h){r.Writable.call(this);var g=s[h];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=t(g.hash),this._tag=g.id,this._signType=g.sign}n(a,r.Writable),a.prototype._write=function(h,g,k){this._hash.update(h),k()},a.prototype.update=function(h,g){return this._hash.update(typeof h=="string"?e.from(h,g):h),this},a.prototype.sign=function(h,g){this.end();var k=this._hash.digest(),R=i(k,h,this._hashType,this._signType,this._tag);return g?R.toString(g):R};function l(h){r.Writable.call(this);var g=s[h];if(!g)throw new Error("Unknown message digest");this._hash=t(g.hash),this._tag=g.id,this._signType=g.sign}n(l,r.Writable),l.prototype._write=function(h,g,k){this._hash.update(h),k()},l.prototype.update=function(h,g){return this._hash.update(typeof h=="string"?e.from(h,g):h),this},l.prototype.verify=function(h,g,k){var R=typeof g=="string"?e.from(g,k):g;this.end();var F=this._hash.digest();return o(R,F,h,this._signType,this._tag)};function c(h){return new a(h)}function u(h){return new l(h)}return eS={Sign:c,Verify:u,createSign:c,createVerify:u},eS}var tS,oR;function _0e(){if(oR)return tS;oR=1;var e=XA(),t=eo;tS=function(o){return new n(o)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(o){this.curveType=r[o],this.curveType||(this.curveType={name:o}),this.curve=new e.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(o,s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(o,s)},n.prototype.computeSecret=function(o,s,a){s=s||"utf8",Fe.isBuffer(o)||(o=new Fe(o,s));var l=this.curve.keyFromPublic(o).getPublic(),c=l.mul(this.keys.getPrivate()).getX();return i(c,a,this.curveType.byteLength)},n.prototype.getPublicKey=function(o,s){var a=this.keys.getPublic(s==="compressed",!0);return s==="hybrid"&&(a[a.length-1]%2?a[0]=7:a[0]=6),i(a,o)},n.prototype.getPrivateKey=function(o){return i(this.keys.getPrivate(),o)},n.prototype.setPublicKey=function(o,s){return s=s||"utf8",Fe.isBuffer(o)||(o=new Fe(o,s)),this.keys._importPublic(o),this},n.prototype.setPrivateKey=function(o,s){s=s||"utf8",Fe.isBuffer(o)||(o=new Fe(o,s));var a=new t(o);return a=a.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(a),this};function i(o,s,a){Array.isArray(o)||(o=o.toArray());var l=new Fe(o);if(a&&l.length<a){var c=new Fe(a-l.length);c.fill(0),l=Fe.concat([c,l])}return s?l.toString(s):l}return tS}var uK={},S0e=Gv,C9=Pr.Buffer,lK=function(e,t){for(var r=C9.alloc(0),n=0,i;r.length<t;)i=k0e(n++),r=C9.concat([r,S0e("sha1").update(e).update(i).digest()]);return r.slice(0,t)};function k0e(e){var t=C9.allocUnsafe(4);return t.writeUInt32BE(e,0),t}var cK=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e},sR=eo,x0e=Pr.Buffer;function A0e(e,t){return x0e.from(e.toRed(sR.mont(t.modulus)).redPow(new sR(t.publicExponent)).fromRed().toArray())}var fK=A0e,O0e=_6,j9=Vy,P0e=Gv,aR=lK,uR=cK,YA=eo,T0e=fK,I0e=VA,fu=Pr.Buffer,B0e=function(e,t,r){var n;e.padding?n=e.padding:r?n=1:n=4;var i=O0e(e),o;if(n===4)o=N0e(i,t);else if(n===1)o=M0e(i,t,r);else if(n===3){if(o=new YA(t),o.cmp(i.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return r?I0e(o,i):T0e(o,i)};function N0e(e,t){var r=e.modulus.byteLength(),n=t.length,i=P0e("sha1").update(fu.alloc(0)).digest(),o=i.length,s=2*o;if(n>r-s-2)throw new Error("message too long");var a=fu.alloc(r-n-s-2),l=r-o-1,c=j9(o),u=uR(fu.concat([i,a,fu.alloc(1,1),t],l),aR(c,l)),h=uR(c,aR(u,o));return new YA(fu.concat([fu.alloc(1),h,u],r))}function M0e(e,t,r){var n=t.length,i=e.modulus.byteLength();if(n>i-11)throw new Error("message too long");var o;return r?o=fu.alloc(i-n-3,255):o=R0e(i-n-3),new YA(fu.concat([fu.from([0,r?1:2]),o,fu.alloc(1),t],i))}function R0e(e){for(var t=fu.allocUnsafe(e),r=0,n=j9(e*2),i=0,o;r<e;)i===n.length&&(n=j9(e*2),i=0),o=n[i++],o&&(t[r++]=o);return t}var C0e=_6,lR=lK,cR=cK,fR=eo,j0e=VA,U0e=Gv,z0e=fK,D0=Pr.Buffer,L0e=function(e,t,r){var n;e.padding?n=e.padding:r?n=1:n=4;var i=C0e(e),o=i.modulus.byteLength();if(t.length>o||new fR(t).cmp(i.modulus)>=0)throw new Error("decryption error");var s;r?s=z0e(new fR(t),i):s=j0e(t,i);var a=D0.alloc(o-s.length);if(s=D0.concat([a,s],o),n===4)return $0e(i,s);if(n===1)return F0e(i,s,r);if(n===3)return s;throw new Error("unknown padding")};function $0e(e,t){var r=e.modulus.byteLength(),n=U0e("sha1").update(D0.alloc(0)).digest(),i=n.length;if(t[0]!==0)throw new Error("decryption error");var o=t.slice(1,i+1),s=t.slice(i+1),a=cR(o,lR(s,i)),l=cR(s,lR(a,r-i-1));if(D0e(n,l.slice(0,i)))throw new Error("decryption error");for(var c=i;l[c]===0;)c++;if(l[c++]!==1)throw new Error("decryption error");return l.slice(c)}function F0e(e,t,r){for(var n=t.slice(0,2),i=2,o=0;t[i++]!==0;)if(i>=t.length){o++;break}var s=t.slice(2,i-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&o++,s.length<8&&o++,o)throw new Error("decryption error");return t.slice(i)}function D0e(e,t){e=D0.from(e),t=D0.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}(function(e){e.publicEncrypt=B0e,e.privateDecrypt=L0e,e.privateEncrypt=function(t,r){return e.publicEncrypt(t,r,!0)},e.publicDecrypt=function(t,r){return e.privateDecrypt(t,r,!0)}})(uK);var Tb={};function dR(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var dK=Pr,hR=Vy,hK=dK.Buffer,pK=dK.kMaxLength,U9=He.crypto||He.msCrypto,gK=Math.pow(2,32)-1;function yK(e,t){if(typeof e!="number"||e!==e)throw new TypeError("offset must be a number");if(e>gK||e<0)throw new TypeError("offset must be a uint32");if(e>pK||e>t)throw new RangeError("offset out of range")}function mK(e,t,r){if(typeof e!="number"||e!==e)throw new TypeError("size must be a number");if(e>gK||e<0)throw new TypeError("size must be a uint32");if(e+t>r||e>pK)throw new RangeError("buffer too small")}U9&&U9.getRandomValues||!Bn.browser?(Tb.randomFill=H0e,Tb.randomFillSync=K0e):(Tb.randomFill=dR,Tb.randomFillSync=dR);function H0e(e,t,r,n){if(!hK.isBuffer(e)&&!(e instanceof He.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof t=="function")n=t,t=0,r=e.length;else if(typeof r=="function")n=r,r=e.length-t;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return yK(t,e.length),mK(r,t,e.length),bK(e,t,r,n)}function bK(e,t,r,n){if(Bn.browser){var i=e.buffer,o=new Uint8Array(i,t,r);if(U9.getRandomValues(o),n){Bn.nextTick(function(){n(null,e)});return}return e}if(n){hR(r,function(a,l){if(a)return n(a);l.copy(e,t),n(null,e)});return}var s=hR(r);return s.copy(e,t),e}function K0e(e,t,r){if(typeof t>"u"&&(t=0),!hK.isBuffer(e)&&!(e instanceof He.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return yK(t,e.length),r===void 0&&(r=e.length-t),mK(r,t,e.length),bK(e,t,r)}var pR;function JA(){if(pR)return vr;pR=1,vr.randomBytes=vr.rng=vr.pseudoRandomBytes=vr.prng=Vy,vr.createHash=vr.Hash=Gv,vr.createHmac=vr.Hmac=wD;var e=Epe,t=Object.keys(e),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(t);vr.getHashes=function(){return r};var n=r6;vr.pbkdf2=n.pbkdf2,vr.pbkdf2Sync=n.pbkdf2Sync;var i=ku;vr.Cipher=i.Cipher,vr.createCipher=i.createCipher,vr.Cipheriv=i.Cipheriv,vr.createCipheriv=i.createCipheriv,vr.Decipher=i.Decipher,vr.createDecipher=i.createDecipher,vr.Decipheriv=i.Decipheriv,vr.createDecipheriv=i.createDecipheriv,vr.getCiphers=i.getCiphers,vr.listCiphers=i.listCiphers;var o=Jge();vr.DiffieHellmanGroup=o.DiffieHellmanGroup,vr.createDiffieHellmanGroup=o.createDiffieHellmanGroup,vr.getDiffieHellman=o.getDiffieHellman,vr.createDiffieHellman=o.createDiffieHellman,vr.DiffieHellman=o.DiffieHellman;var s=E0e();vr.createSign=s.createSign,vr.Sign=s.Sign,vr.createVerify=s.createVerify,vr.Verify=s.Verify,vr.createECDH=_0e();var a=uK;vr.publicEncrypt=a.publicEncrypt,vr.privateEncrypt=a.privateEncrypt,vr.publicDecrypt=a.publicDecrypt,vr.privateDecrypt=a.privateDecrypt;var l=Tb;return vr.randomFill=l.randomFill,vr.randomFillSync=l.randomFillSync,vr.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},vr.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},vr}(function(e){/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.utils=e.schnorr=e.verify=e.signSync=e.sign=e.getSharedSecret=e.recoverPublicKey=e.getPublicKey=e.hexToBytes=e.bytesToHex=e.Signature=e.Point=e.CURVE=void 0;const t=JA(),r=BigInt(0),n=BigInt(1),i=BigInt(2),o=BigInt(3),s=BigInt(8),a=Object.freeze({a:r,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:n,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});e.CURVE=a;const l=(Se,ye)=>(Se+ye/i)/ye,c={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(Se){const{n:ye}=a,xe=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),Be=-n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),je=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),Ge=xe,lt=BigInt("0x100000000000000000000000000000000"),Ye=l(Ge*Se,ye),Et=l(-Be*Se,ye);let wt=Z(Se-Ye*xe-Et*je,ye),ft=Z(-Ye*Be-Et*Ge,ye);const It=wt>lt,Bt=ft>lt;if(It&&(wt=ye-wt),Bt&&(ft=ye-ft),wt>lt||ft>lt)throw new Error("splitScalarEndo: Endomorphism failed, k="+Se);return{k1neg:It,k1:wt,k2neg:Bt,k2:ft}}},u=32,h=32,g=32,k=u+1,R=2*u+1;function F(Se){const{a:ye,b:xe}=a,Be=Z(Se*Se),je=Z(Be*Se);return Z(je+ye*Se+xe)}const D=a.a===r;class $ extends Error{constructor(ye){super(ye)}}function B(Se){if(!(Se instanceof U))throw new TypeError("JacobianPoint expected")}class U{constructor(ye,xe,Be){this.x=ye,this.y=xe,this.z=Be}static fromAffine(ye){if(!(ye instanceof ae))throw new TypeError("JacobianPoint#fromAffine: expected Point");return ye.equals(ae.ZERO)?U.ZERO:new U(ye.x,ye.y,n)}static toAffineBatch(ye){const xe=Oe(ye.map(Be=>Be.z));return ye.map((Be,je)=>Be.toAffine(xe[je]))}static normalizeZ(ye){return U.toAffineBatch(ye).map(U.fromAffine)}equals(ye){B(ye);const{x:xe,y:Be,z:je}=this,{x:Ge,y:lt,z:Ye}=ye,Et=Z(je*je),wt=Z(Ye*Ye),ft=Z(xe*wt),It=Z(Ge*Et),Bt=Z(Z(Be*Ye)*wt),Ct=Z(Z(lt*je)*Et);return ft===It&&Bt===Ct}negate(){return new U(this.x,Z(-this.y),this.z)}double(){const{x:ye,y:xe,z:Be}=this,je=Z(ye*ye),Ge=Z(xe*xe),lt=Z(Ge*Ge),Ye=ye+Ge,Et=Z(i*(Z(Ye*Ye)-je-lt)),wt=Z(o*je),ft=Z(wt*wt),It=Z(ft-i*Et),Bt=Z(wt*(Et-It)-s*lt),Ct=Z(i*xe*Be);return new U(It,Bt,Ct)}add(ye){B(ye);const{x:xe,y:Be,z:je}=this,{x:Ge,y:lt,z:Ye}=ye;if(Ge===r||lt===r)return this;if(xe===r||Be===r)return ye;const Et=Z(je*je),wt=Z(Ye*Ye),ft=Z(xe*wt),It=Z(Ge*Et),Bt=Z(Z(Be*Ye)*wt),Ct=Z(Z(lt*je)*Et),et=Z(It-ft),_t=Z(Ct-Bt);if(et===r)return _t===r?this.double():U.ZERO;const Ie=Z(et*et),yt=Z(et*Ie),at=Z(ft*Ie),Jt=Z(_t*_t-yt-i*at),ve=Z(_t*(at-Jt)-Bt*yt),Tr=Z(je*Ye*et);return new U(Jt,ve,Tr)}subtract(ye){return this.add(ye.negate())}multiplyUnsafe(ye){const xe=U.ZERO;if(typeof ye=="bigint"&&ye===r)return xe;let Be=se(ye);if(Be===n)return this;if(!D){let It=xe,Bt=this;for(;Be>r;)Be&n&&(It=It.add(Bt)),Bt=Bt.double(),Be>>=n;return It}let{k1neg:je,k1:Ge,k2neg:lt,k2:Ye}=c.splitScalar(Be),Et=xe,wt=xe,ft=this;for(;Ge>r||Ye>r;)Ge&n&&(Et=Et.add(ft)),Ye&n&&(wt=wt.add(ft)),ft=ft.double(),Ge>>=n,Ye>>=n;return je&&(Et=Et.negate()),lt&&(wt=wt.negate()),wt=new U(Z(wt.x*c.beta),wt.y,wt.z),Et.add(wt)}precomputeWindow(ye){const xe=D?128/ye+1:256/ye+1,Be=[];let je=this,Ge=je;for(let lt=0;lt<xe;lt++){Ge=je,Be.push(Ge);for(let Ye=1;Ye<2**(ye-1);Ye++)Ge=Ge.add(je),Be.push(Ge);je=Ge.double()}return Be}wNAF(ye,xe){!xe&&this.equals(U.BASE)&&(xe=ae.BASE);const Be=xe&&xe._WINDOW_SIZE||1;if(256%Be)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let je=xe&&ee.get(xe);je||(je=this.precomputeWindow(Be),xe&&Be!==1&&(je=U.normalizeZ(je),ee.set(xe,je)));let Ge=U.ZERO,lt=U.BASE;const Ye=1+(D?128/Be:256/Be),Et=2**(Be-1),wt=BigInt(2**Be-1),ft=2**Be,It=BigInt(Be);for(let Bt=0;Bt<Ye;Bt++){const Ct=Bt*Et;let et=Number(ye&wt);ye>>=It,et>Et&&(et-=ft,ye+=n);const _t=Ct,Ie=Ct+Math.abs(et)-1,yt=Bt%2!==0,at=et<0;et===0?lt=lt.add(q(yt,je[_t])):Ge=Ge.add(q(at,je[Ie]))}return{p:Ge,f:lt}}multiply(ye,xe){let Be=se(ye),je,Ge;if(D){const{k1neg:lt,k1:Ye,k2neg:Et,k2:wt}=c.splitScalar(Be);let{p:ft,f:It}=this.wNAF(Ye,xe),{p:Bt,f:Ct}=this.wNAF(wt,xe);ft=q(lt,ft),Bt=q(Et,Bt),Bt=new U(Z(Bt.x*c.beta),Bt.y,Bt.z),je=ft.add(Bt),Ge=It.add(Ct)}else{const{p:lt,f:Ye}=this.wNAF(Be,xe);je=lt,Ge=Ye}return U.normalizeZ([je,Ge])[0]}toAffine(ye){const{x:xe,y:Be,z:je}=this,Ge=this.equals(U.ZERO);ye==null&&(ye=Ge?s:Ee(je));const lt=ye,Ye=Z(lt*lt),Et=Z(Ye*lt),wt=Z(xe*Ye),ft=Z(Be*Et),It=Z(je*lt);if(Ge)return ae.ZERO;if(It!==n)throw new Error("invZ was invalid");return new ae(wt,ft)}}U.BASE=new U(a.Gx,a.Gy,n),U.ZERO=new U(r,n,r);function q(Se,ye){const xe=ye.negate();return Se?xe:ye}const ee=new WeakMap;class ae{constructor(ye,xe){this.x=ye,this.y=xe}_setWindowSize(ye){this._WINDOW_SIZE=ye,ee.delete(this)}hasEvenY(){return this.y%i===r}static fromCompressedHex(ye){const xe=ye.length===32,Be=ue(xe?ye:ye.subarray(1));if(!Ke(Be))throw new Error("Point is not on curve");const je=F(Be);let Ge=pe(je);const lt=(Ge&n)===n;xe?lt&&(Ge=Z(-Ge)):(ye[0]&1)===1!==lt&&(Ge=Z(-Ge));const Ye=new ae(Be,Ge);return Ye.assertValidity(),Ye}static fromUncompressedHex(ye){const xe=ue(ye.subarray(1,u+1)),Be=ue(ye.subarray(u+1,u*2+1)),je=new ae(xe,Be);return je.assertValidity(),je}static fromHex(ye){const xe=W(ye),Be=xe.length,je=xe[0];if(Be===u)return this.fromCompressedHex(xe);if(Be===k&&(je===2||je===3))return this.fromCompressedHex(xe);if(Be===R&&je===4)return this.fromUncompressedHex(xe);throw new Error(`Point.fromHex: received invalid point. Expected 32-${k} compressed bytes or ${R} uncompressed bytes, not ${Be}`)}static fromPrivateKey(ye){return ae.BASE.multiply(We(ye))}static fromSignature(ye,xe,Be){const{r:je,s:Ge}=d(xe);if(![0,1,2,3].includes(Be))throw new Error("Cannot recover: invalid recovery bit");const lt=Ce(W(ye)),{n:Ye}=a,Et=Be===2||Be===3?je+Ye:je,wt=Ee(Et,Ye),ft=Z(-lt*wt,Ye),It=Z(Ge*wt,Ye),Bt=Be&1?"03":"02",Ct=ae.fromHex(Bt+T(Et)),et=ae.BASE.multiplyAndAddUnsafe(Ct,ft,It);if(!et)throw new Error("Cannot recover signature: point at infinify");return et.assertValidity(),et}toRawBytes(ye=!1){return x(this.toHex(ye))}toHex(ye=!1){const xe=T(this.x);return ye?`${this.hasEvenY()?"02":"03"}${xe}`:`04${xe}${T(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const ye="Point is not on elliptic curve",{x:xe,y:Be}=this;if(!Ke(xe)||!Ke(Be))throw new Error(ye);const je=Z(Be*Be),Ge=F(xe);if(Z(je-Ge)!==r)throw new Error(ye)}equals(ye){return this.x===ye.x&&this.y===ye.y}negate(){return new ae(this.x,Z(-this.y))}double(){return U.fromAffine(this).double().toAffine()}add(ye){return U.fromAffine(this).add(U.fromAffine(ye)).toAffine()}subtract(ye){return this.add(ye.negate())}multiply(ye){return U.fromAffine(this).multiply(ye,this).toAffine()}multiplyAndAddUnsafe(ye,xe,Be){const je=U.fromAffine(this),Ge=xe===r||xe===n||this!==ae.BASE?je.multiplyUnsafe(xe):je.multiply(xe),lt=U.fromAffine(ye).multiplyUnsafe(Be),Ye=Ge.add(lt);return Ye.equals(U.ZERO)?void 0:Ye.toAffine()}}e.Point=ae,ae.BASE=new ae(a.Gx,a.Gy),ae.ZERO=new ae(r,r);function re(Se){return Number.parseInt(Se[0],16)>=8?"00"+Se:Se}function K(Se){if(Se.length<2||Se[0]!==2)throw new Error(`Invalid signature integer tag: ${w(Se)}`);const ye=Se[1],xe=Se.subarray(2,ye+2);if(!ye||xe.length!==ye)throw new Error("Invalid signature integer: wrong length");if(xe[0]===0&&xe[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:ue(xe),left:Se.subarray(ye+2)}}function C(Se){if(Se.length<2||Se[0]!=48)throw new Error(`Invalid signature tag: ${w(Se)}`);if(Se[1]!==Se.length-2)throw new Error("Invalid signature: incorrect length");const{data:ye,left:xe}=K(Se.subarray(2)),{data:Be,left:je}=K(xe);if(je.length)throw new Error(`Invalid signature: left bytes after parsing: ${w(je)}`);return{r:ye,s:Be}}class G{constructor(ye,xe){this.r=ye,this.s=xe,this.assertValidity()}static fromCompact(ye){const xe=v(ye),Be="Signature.fromCompact";if(typeof ye!="string"&&!xe)throw new TypeError(`${Be}: Expected string or Uint8Array`);const je=xe?w(ye):ye;if(je.length!==128)throw new Error(`${Be}: Expected 64-byte hex`);return new G(he(je.slice(0,64)),he(je.slice(64,128)))}static fromDER(ye){const xe=v(ye);if(typeof ye!="string"&&!xe)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:Be,s:je}=C(xe?ye:x(ye));return new G(Be,je)}static fromHex(ye){return this.fromDER(ye)}assertValidity(){const{r:ye,s:xe}=this;if(!Ue(ye))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ue(xe))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const ye=a.n>>n;return this.s>ye}normalizeS(){return this.hasHighS()?new G(this.r,Z(-this.s,a.n)):this}toDERRawBytes(){return x(this.toDERHex())}toDERHex(){const ye=re(Q(this.s)),xe=re(Q(this.r)),Be=ye.length/2,je=xe.length/2,Ge=Q(Be),lt=Q(je);return`30${Q(je+Be+4)}02${lt}${xe}02${Ge}${ye}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return x(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}e.Signature=G;function v(Se){return Se instanceof Uint8Array||ArrayBuffer.isView(Se)&&Se.constructor.name==="Uint8Array"}function I(Se){if(!v(Se))throw new Error("Uint8Array expected")}function p(...Se){if(Se.every(I),Se.length===1)return Se[0];const ye=Se.reduce((Be,je)=>Be+je.length,0),xe=new Uint8Array(ye);for(let Be=0,je=0;Be<Se.length;Be++){const Ge=Se[Be];xe.set(Ge,je),je+=Ge.length}return xe}const _=Array.from({length:256},(Se,ye)=>ye.toString(16).padStart(2,"0"));function w(Se){I(Se);let ye="";for(let xe=0;xe<Se.length;xe++)ye+=_[Se[xe]];return ye}e.bytesToHex=w;const S={_0:48,_9:57,A:65,F:70,a:97,f:102};function A(Se){if(Se>=S._0&&Se<=S._9)return Se-S._0;if(Se>=S.A&&Se<=S.F)return Se-(S.A-10);if(Se>=S.a&&Se<=S.f)return Se-(S.a-10)}function x(Se){if(typeof Se!="string")throw new Error("hex string expected, got "+typeof Se);const ye=Se.length,xe=ye/2;if(ye%2)throw new Error("hex string expected, got unpadded hex of length "+ye);const Be=new Uint8Array(xe);for(let je=0,Ge=0;je<xe;je++,Ge+=2){const lt=A(Se.charCodeAt(Ge)),Ye=A(Se.charCodeAt(Ge+1));if(lt===void 0||Ye===void 0){const Et=Se[Ge]+Se[Ge+1];throw new Error('hex string expected, got non-hex character "'+Et+'" at index '+Ge)}Be[je]=lt*16+Ye}return Be}e.hexToBytes=x;const E=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function T(Se){if(typeof Se!="bigint")throw new Error("Expected bigint");if(!(r<=Se&&Se<E))throw new Error("Expected number 0 <= n < 2^256");return Se.toString(16).padStart(64,"0")}function M(Se){const ye=x(T(Se));if(ye.length!==32)throw new Error("Error: expected 32 bytes");return ye}function Q(Se){const ye=Se.toString(16);return ye.length&1?`0${ye}`:ye}function he(Se){if(typeof Se!="string")throw new TypeError("hexToNumber: expected string, got "+typeof Se);return BigInt(`0x${Se}`)}function ue(Se){return he(w(Se))}function W(Se){return v(Se)?Uint8Array.from(Se):x(Se)}function se(Se){if(typeof Se=="number"&&Number.isSafeInteger(Se)&&Se>0)return BigInt(Se);if(typeof Se=="bigint"&&Ue(Se))return Se;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Z(Se,ye=a.P){const xe=Se%ye;return xe>=r?xe:ye+xe}function ie(Se,ye){const{P:xe}=a;let Be=Se;for(;ye-- >r;)Be*=Be,Be%=xe;return Be}function pe(Se){const{P:ye}=a,xe=BigInt(6),Be=BigInt(11),je=BigInt(22),Ge=BigInt(23),lt=BigInt(44),Ye=BigInt(88),Et=Se*Se*Se%ye,wt=Et*Et*Se%ye,ft=ie(wt,o)*wt%ye,It=ie(ft,o)*wt%ye,Bt=ie(It,i)*Et%ye,Ct=ie(Bt,Be)*Bt%ye,et=ie(Ct,je)*Ct%ye,_t=ie(et,lt)*et%ye,Ie=ie(_t,Ye)*_t%ye,yt=ie(Ie,lt)*et%ye,at=ie(yt,o)*wt%ye,Jt=ie(at,Ge)*Ct%ye,ve=ie(Jt,xe)*Et%ye,Tr=ie(ve,i);if(Tr*Tr%ye!==Se)throw new Error("Cannot find square root");return Tr}function Ee(Se,ye=a.P){if(Se===r||ye<=r)throw new Error(`invert: expected positive integers, got n=${Se} mod=${ye}`);let xe=Z(Se,ye),Be=ye,je=r,Ge=n;for(;xe!==r;){const lt=Be/xe,Ye=Be%xe,Et=je-Ge*lt;Be=xe,xe=Ye,je=Ge,Ge=Et}if(Be!==n)throw new Error("invert: does not exist");return Z(je,ye)}function Oe(Se,ye=a.P){const xe=new Array(Se.length),Be=Se.reduce((Ge,lt,Ye)=>lt===r?Ge:(xe[Ye]=Ge,Z(Ge*lt,ye)),n),je=Ee(Be,ye);return Se.reduceRight((Ge,lt,Ye)=>lt===r?Ge:(xe[Ye]=Z(Ge*xe[Ye],ye),Z(Ge*lt,ye)),je),xe}function Re(Se){const ye=Se.length*8-h*8,xe=ue(Se);return ye>0?xe>>BigInt(ye):xe}function Ce(Se,ye=!1){const xe=Re(Se);if(ye)return xe;const{n:Be}=a;return xe>=Be?xe-Be:xe}let P,Y;class be{constructor(ye,xe){if(this.hashLen=ye,this.qByteLen=xe,typeof ye!="number"||ye<2)throw new Error("hashLen must be a number");if(typeof xe!="number"||xe<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(ye).fill(1),this.k=new Uint8Array(ye).fill(0),this.counter=0}hmac(...ye){return e.utils.hmacSha256(this.k,...ye)}hmacSync(...ye){return Y(this.k,...ye)}checkSync(){if(typeof Y!="function")throw new $("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(ye=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),ye),this.v=await this.hmac(this.v),ye.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),ye),this.v=await this.hmac(this.v))}reseedSync(ye=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),ye),this.v=this.hmacSync(this.v),ye.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),ye),this.v=this.hmacSync(this.v))}async generate(){this.incr();let ye=0;const xe=[];for(;ye<this.qByteLen;){this.v=await this.hmac(this.v);const Be=this.v.slice();xe.push(Be),ye+=this.v.length}return p(...xe)}generateSync(){this.checkSync(),this.incr();let ye=0;const xe=[];for(;ye<this.qByteLen;){this.v=this.hmacSync(this.v);const Be=this.v.slice();xe.push(Be),ye+=this.v.length}return p(...xe)}}function Ue(Se){return r<Se&&Se<a.n}function Ke(Se){return r<Se&&Se<a.P}function rt(Se,ye,xe,Be=!0){const{n:je}=a,Ge=Ce(Se,!0);if(!Ue(Ge))return;const lt=Ee(Ge,je),Ye=ae.BASE.multiply(Ge),Et=Z(Ye.x,je);if(Et===r)return;const wt=Z(lt*Z(ye+xe*Et,je),je);if(wt===r)return;let ft=new G(Et,wt),It=(Ye.x===ft.r?0:2)|Number(Ye.y&n);return Be&&ft.hasHighS()&&(ft=ft.normalizeS(),It^=1),{sig:ft,recovery:It}}function We(Se){let ye;if(typeof Se=="bigint")ye=Se;else if(typeof Se=="number"&&Number.isSafeInteger(Se)&&Se>0)ye=BigInt(Se);else if(typeof Se=="string"){if(Se.length!==2*h)throw new Error("Expected 32 bytes of private key");ye=he(Se)}else if(v(Se)){if(Se.length!==h)throw new Error("Expected 32 bytes of private key");ye=ue(Se)}else throw new TypeError("Expected valid private key");if(!Ue(ye))throw new Error("Expected private key: 0 < key < n");return ye}function Qe(Se){return Se instanceof ae?(Se.assertValidity(),Se):ae.fromHex(Se)}function d(Se){if(Se instanceof G)return Se.assertValidity(),Se;try{return G.fromDER(Se)}catch{return G.fromCompact(Se)}}function b(Se,ye=!1){return ae.fromPrivateKey(Se).toRawBytes(ye)}e.getPublicKey=b;function H(Se,ye,xe,Be=!1){return ae.fromSignature(Se,ye,xe).toRawBytes(Be)}e.recoverPublicKey=H;function te(Se){const ye=v(Se),xe=typeof Se=="string",Be=(ye||xe)&&Se.length;return ye?Be===k||Be===R:xe?Be===k*2||Be===R*2:Se instanceof ae}function ce(Se,ye,xe=!1){if(te(Se))throw new TypeError("getSharedSecret: first arg must be private key");if(!te(ye))throw new TypeError("getSharedSecret: second arg must be public key");const Be=Qe(ye);return Be.assertValidity(),Be.multiply(We(Se)).toRawBytes(xe)}e.getSharedSecret=ce;function z(Se){const ye=Se.length>u?Se.slice(0,u):Se;return ue(ye)}function X(Se){const ye=z(Se),xe=Z(ye,a.n);return oe(xe<r?ye:xe)}function oe(Se){return M(Se)}function N(Se,ye,xe){if(Se==null)throw new Error(`sign: expected valid message hash, not "${Se}"`);const Be=W(Se),je=We(ye),Ge=[oe(je),X(Be)];if(xe!=null){xe===!0&&(xe=e.utils.randomBytes(u));const Et=W(xe);if(Et.length!==u)throw new Error(`sign: Expected ${u} bytes of extra data`);Ge.push(Et)}const lt=p(...Ge),Ye=z(Be);return{seed:lt,m:Ye,d:je}}function L(Se,ye){const{sig:xe,recovery:Be}=Se,{der:je,recovered:Ge}=Object.assign({canonical:!0,der:!0},ye),lt=je?xe.toDERRawBytes():xe.toCompactRawBytes();return Ge?[lt,Be]:lt}async function J(Se,ye,xe={}){const{seed:Be,m:je,d:Ge}=N(Se,ye,xe.extraEntropy),lt=new be(g,h);await lt.reseed(Be);let Ye;for(;!(Ye=rt(await lt.generate(),je,Ge,xe.canonical));)await lt.reseed();return L(Ye,xe)}e.sign=J;function ge(Se,ye,xe={}){const{seed:Be,m:je,d:Ge}=N(Se,ye,xe.extraEntropy),lt=new be(g,h);lt.reseedSync(Be);let Ye;for(;!(Ye=rt(lt.generateSync(),je,Ge,xe.canonical));)lt.reseedSync();return L(Ye,xe)}e.signSync=ge;const le={strict:!0};function Me(Se,ye,xe,Be=le){let je;try{je=d(Se),ye=W(ye)}catch{return!1}const{r:Ge,s:lt}=je;if(Be.strict&&je.hasHighS())return!1;const Ye=Ce(ye);let Et;try{Et=Qe(xe)}catch{return!1}const{n:wt}=a,ft=Ee(lt,wt),It=Z(Ye*ft,wt),Bt=Z(Ge*ft,wt),Ct=ae.BASE.multiplyAndAddUnsafe(Et,It,Bt);return Ct?Z(Ct.x,wt)===Ge:!1}e.verify=Me;function De(Se){return Z(ue(Se),a.n)}class nt{constructor(ye,xe){this.r=ye,this.s=xe,this.assertValidity()}static fromHex(ye){const xe=W(ye);if(xe.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${xe.length}`);const Be=ue(xe.subarray(0,32)),je=ue(xe.subarray(32,64));return new nt(Be,je)}assertValidity(){const{r:ye,s:xe}=this;if(!Ke(ye)||!Ue(xe))throw new Error("Invalid signature")}toHex(){return T(this.r)+T(this.s)}toRawBytes(){return x(this.toHex())}}function gt(Se){return ae.fromPrivateKey(Se).toRawX()}class jt{constructor(ye,xe,Be=e.utils.randomBytes()){if(ye==null)throw new TypeError(`sign: Expected valid message, not "${ye}"`);this.m=W(ye);const{x:je,scalar:Ge}=this.getScalar(We(xe));if(this.px=je,this.d=Ge,this.rand=W(Be),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(ye){const xe=ae.fromPrivateKey(ye),Be=xe.hasEvenY()?ye:a.n-ye;return{point:xe,scalar:Be,x:xe.toRawX()}}initNonce(ye,xe){return M(ye^ue(xe))}finalizeNonce(ye){const xe=Z(ue(ye),a.n);if(xe===r)throw new Error("sign: Creation of signature failed. k is zero");const{point:Be,x:je,scalar:Ge}=this.getScalar(xe);return{R:Be,rx:je,k:Ge}}finalizeSig(ye,xe,Be,je){return new nt(ye.x,Z(xe+Be*je,a.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:ye,d:xe,px:Be,rand:je}=this,Ge=e.utils.taggedHash,lt=this.initNonce(xe,await Ge(Ft.aux,je)),{R:Ye,rx:Et,k:wt}=this.finalizeNonce(await Ge(Ft.nonce,lt,Be,ye)),ft=De(await Ge(Ft.challenge,Et,Be,ye)),It=this.finalizeSig(Ye,wt,ft,xe);return await Wt(It,ye,Be)||this.error(),It}calcSync(){const{m:ye,d:xe,px:Be,rand:je}=this,Ge=e.utils.taggedHashSync,lt=this.initNonce(xe,Ge(Ft.aux,je)),{R:Ye,rx:Et,k:wt}=this.finalizeNonce(Ge(Ft.nonce,lt,Be,ye)),ft=De(Ge(Ft.challenge,Et,Be,ye)),It=this.finalizeSig(Ye,wt,ft,xe);return Ut(It,ye,Be)||this.error(),It}}async function Ze(Se,ye,xe){return new jt(Se,ye,xe).calc()}function xt(Se,ye,xe){return new jt(Se,ye,xe).calcSync()}function mr(Se,ye,xe){const Be=Se instanceof nt,je=Be?Se:nt.fromHex(Se);return Be&&je.assertValidity(),{...je,m:W(ye),P:Qe(xe)}}function Hr(Se,ye,xe,Be){const je=ae.BASE.multiplyAndAddUnsafe(ye,We(xe),Z(-Be,a.n));return!(!je||!je.hasEvenY()||je.x!==Se)}async function Wt(Se,ye,xe){try{const{r:Be,s:je,m:Ge,P:lt}=mr(Se,ye,xe),Ye=De(await e.utils.taggedHash(Ft.challenge,M(Be),lt.toRawX(),Ge));return Hr(Be,lt,je,Ye)}catch{return!1}}function Ut(Se,ye,xe){try{const{r:Be,s:je,m:Ge,P:lt}=mr(Se,ye,xe),Ye=De(e.utils.taggedHashSync(Ft.challenge,M(Be),lt.toRawX(),Ge));return Hr(Be,lt,je,Ye)}catch(Be){if(Be instanceof $)throw Be;return!1}}e.schnorr={Signature:nt,getPublicKey:gt,sign:Ze,verify:Wt,signSync:xt,verifySync:Ut},ae.BASE._setWindowSize(8);const Yt={node:t,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Ft={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},Ur={};e.utils={bytesToHex:w,hexToBytes:x,concatBytes:p,mod:Z,invert:Ee,isValidPrivateKey(Se){try{return We(Se),!0}catch{return!1}},_bigintTo32Bytes:M,_normalizePrivateKey:We,hashToPrivateKey:Se=>{Se=W(Se);const ye=h+8;if(Se.length<ye||Se.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const xe=Z(ue(Se),a.n-n)+n;return M(xe)},randomBytes:(Se=32)=>{if(Yt.web)return Yt.web.getRandomValues(new Uint8Array(Se));if(Yt.node){const{randomBytes:ye}=Yt.node;return Uint8Array.from(ye(Se))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>e.utils.hashToPrivateKey(e.utils.randomBytes(h+8)),precompute(Se=8,ye=ae.BASE){const xe=ye===ae.BASE?ye:new ae(ye.x,ye.y);return xe._setWindowSize(Se),xe.multiply(o),xe},sha256:async(...Se)=>{if(Yt.web){const ye=await Yt.web.subtle.digest("SHA-256",p(...Se));return new Uint8Array(ye)}else if(Yt.node){const{createHash:ye}=Yt.node,xe=ye("sha256");return Se.forEach(Be=>xe.update(Be)),Uint8Array.from(xe.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(Se,...ye)=>{if(Yt.web){const xe=await Yt.web.subtle.importKey("raw",Se,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),Be=p(...ye),je=await Yt.web.subtle.sign("HMAC",xe,Be);return new Uint8Array(je)}else if(Yt.node){const{createHmac:xe}=Yt.node,Be=xe("sha256",Se);return ye.forEach(je=>Be.update(je)),Uint8Array.from(Be.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(Se,...ye)=>{let xe=Ur[Se];if(xe===void 0){const Be=await e.utils.sha256(Uint8Array.from(Se,je=>je.charCodeAt(0)));xe=p(Be,Be),Ur[Se]=xe}return e.utils.sha256(xe,...ye)},taggedHashSync:(Se,...ye)=>{if(typeof P!="function")throw new $("sha256Sync is undefined, you need to set it");let xe=Ur[Se];if(xe===void 0){const Be=P(Uint8Array.from(Se,je=>je.charCodeAt(0)));xe=p(Be,Be),Ur[Se]=xe}return P(xe,...ye)},_JacobianPoint:U},Object.defineProperties(e.utils,{sha256Sync:{configurable:!1,get(){return P},set(Se){P||(P=Se)}},hmacSha256Sync:{configurable:!1,get(){return Y},set(Se){Y||(Y=Se)}}})})(tD);var by={};Object.defineProperty(by,"__esModule",{value:!0});by.joseToDer=by.derToJose=void 0;const vK=Ky,wK=Lo;function rS(e){return(e/8|0)+(e%8===0?0:1)}const V0e={ES256:rS(256),ES384:rS(384),ES512:rS(521)};function EK(e){const t=V0e[e];if(t)return t;throw new Error(`Unknown algorithm "${e}"`)}const c1=128,_K=0,W0e=32,q0e=16,Z0e=2,SK=q0e|W0e|_K<<6,f1=Z0e|_K<<6;function kK(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return(0,vK.toByteArray)((0,wK.pad)(e));throw new TypeError("ECDSA signature must be a Base64 string or a Uint8Array")}function G0e(e,t){const r=kK(e),n=EK(t),i=n+1,o=r.length;let s=0;if(r[s++]!==SK)throw new Error('Could not find expected "seq"');let a=r[s++];if(a===(c1|1)&&(a=r[s++]),o-s<a)throw new Error(`"seq" specified length of "${a}", only "${o-s}" remaining`);if(r[s++]!==f1)throw new Error('Could not find expected "int" for "r"');const l=r[s++];if(o-s-2<l)throw new Error(`"r" specified length of "${l}", only "${o-s-2}" available`);if(i<l)throw new Error(`"r" specified length of "${l}", max of "${i}" is acceptable`);const c=s;if(s+=l,r[s++]!==f1)throw new Error('Could not find expected "int" for "s"');const u=r[s++];if(o-s!==u)throw new Error(`"s" specified length of "${u}", expected "${o-s}"`);if(i<u)throw new Error(`"s" specified length of "${u}", max of "${i}" is acceptable`);const h=s;if(s+=u,s!==o)throw new Error(`Expected to consume entire array, but "${o-s}" bytes remain`);const g=n-l,k=n-u,R=new Uint8Array(g+l+k+u);for(s=0;s<g;++s)R[s]=0;R.set(r.subarray(c+Math.max(-g,0),c+l),s),s=n;for(const F=s;s<F+k;++s)R[s]=0;return R.set(r.subarray(h+Math.max(-k,0),h+u),s),(0,wK.escape)((0,vK.fromByteArray)(R))}by.derToJose=G0e;function gR(e,t,r){let n=0;for(;t+n<r&&e[t+n]===0;)++n;return e[t+n]>=c1&&--n,n}function X0e(e,t){e=kK(e);const r=EK(t),n=e.length;if(n!==r*2)throw new TypeError(`"${t}" signatures must be "${r*2}" bytes, saw "${n}"`);const i=gR(e,0,r),o=gR(e,r,e.length),s=r-i,a=r-o,l=2+s+1+1+a,c=l<c1,u=new Uint8Array((c?2:3)+l);let h=0;return u[h++]=SK,c?u[h++]=l:(u[h++]=c1|1,u[h++]=l&255),u[h++]=f1,u[h++]=s,i<0?(u[h++]=0,u.set(e.subarray(0,r),h),h+=r):(u.set(e.subarray(i,r),h),h+=r-i),u[h++]=f1,u[h++]=a,o<0?(u[h++]=0,u.set(e.subarray(r),h)):u.set(e.subarray(r+o),h),u}by.joseToDer=X0e;var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.InvalidTokenError=Bc.MissingParametersError=void 0;class Q0e extends Error{constructor(t){super(),this.name="MissingParametersError",this.message=t||""}}Bc.MissingParametersError=Q0e;class Y0e extends Error{constructor(t){super(),this.name="InvalidTokenError",this.message=t||""}}Bc.InvalidTokenError=Y0e;Object.defineProperty(W4,"__esModule",{value:!0});W4.SECP256K1Client=void 0;const J0e=$v,eve=Pa,i8=tD,yR=by,mR=Bc,bR=Zr;i8.utils.hmacSha256Sync=(e,...t)=>{const r=J0e.hmac.create(eve.sha256,e);return t.forEach(n=>r.update(n)),r.digest()};class xK{static derivePublicKey(t,r=!0){return t.length===66&&(t=t.slice(0,64)),t.length<64&&(t=t.padStart(64,"0")),(0,bR.bytesToHex)(i8.getPublicKey(t,r))}static signHash(t,r,n="jose"){if(!t||!r)throw new mR.MissingParametersError("a signing input hash and private key are all required");const i=i8.signSync(t,r.slice(0,64),{der:!0,canonical:!1});if(n==="der")return(0,bR.bytesToHex)(i);if(n==="jose")return(0,yR.derToJose)(i,"ES256");throw Error("Invalid signature format")}static loadSignature(t){return(0,yR.joseToDer)(t,"ES256")}static verifyHash(t,r,n){if(!t||!r||!n)throw new mR.MissingParametersError("a signing input hash, der signature, and public key are all required");return i8.verify(r,t,n,{strict:!1})}}W4.SECP256K1Client=xK;xK.algorithmName="ES256K";(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.cryptoClients=e.SECP256K1Client=void 0;const t=W4;Object.defineProperty(e,"SECP256K1Client",{enumerable:!0,get:function(){return t.SECP256K1Client}});const r={ES256K:t.SECP256K1Client};e.cryptoClients=r})(V4);var Fh={},tve=He&&He.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(Fh,"__esModule",{value:!0});Fh.hashSha256Async=Fh.hashSha256=void 0;const rve=Pa;function AK(e){return(0,rve.sha256)(e)}Fh.hashSha256=AK;function nve(e){return tve(this,void 0,void 0,function*(){try{if(typeof crypto<"u"&&typeof crypto.subtle<"u"){const t=typeof e=="string"?new TextEncoder().encode(e):e,r=yield crypto.subtle.digest("SHA-256",t);return new Uint8Array(r)}else{const t=JA();if(!t.createHash)throw new Error("`crypto` module does not contain `createHash`");return Promise.resolve(t.createHash("sha256").update(e).digest())}}catch(t){return console.log(t),console.log('Crypto lib not found. Neither the global `crypto.subtle` Web Crypto API, nor the or the Node.js `require("crypto").createHash` module is available. Falling back to JS implementation.'),Promise.resolve(AK(e))}})}Fh.hashSha256Async=nve;var ive=He&&He.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(u){try{c(n.next(u))}catch(h){s(h)}}function l(u){try{c(n.throw(u))}catch(h){s(h)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(ly,"__esModule",{value:!0});ly.TokenSigner=ly.createUnsecuredToken=void 0;const z9=Lo,vR=V4,ove=Bc,wR=Fh;function L9(e,t){const r=[],n=z9.encode(JSON.stringify(t));r.push(n);const i=z9.encode(JSON.stringify(e));return r.push(i),r.join(".")}function sve(e){return L9(e,{typ:"JWT",alg:"none"})+"."}ly.createUnsecuredToken=sve;class ave{constructor(t,r){if(!(t&&r))throw new ove.MissingParametersError("a signing algorithm and private key are required");if(typeof t!="string")throw new Error("signing algorithm parameter must be a string");if(t=t.toUpperCase(),!vR.cryptoClients.hasOwnProperty(t))throw new Error("invalid signing algorithm");this.tokenType="JWT",this.cryptoClient=vR.cryptoClients[t],this.rawPrivateKey=r}header(t={}){const r={typ:this.tokenType,alg:this.cryptoClient.algorithmName};return Object.assign({},r,t)}sign(t,r=!1,n={}){const i=this.header(n),o=L9(t,i),s=(0,wR.hashSha256)(o);return this.createWithSignedHash(t,r,i,o,s)}signAsync(t,r=!1,n={}){return ive(this,void 0,void 0,function*(){const i=this.header(n),o=L9(t,i),s=yield(0,wR.hashSha256Async)(o);return this.createWithSignedHash(t,r,i,o,s)})}createWithSignedHash(t,r,n,i,o){const s=this.cryptoClient.signHash(o,this.rawPrivateKey);return r?{header:[z9.encode(JSON.stringify(n))],payload:JSON.stringify(t),signature:[s]}:[i,s].join(".")}}ly.TokenSigner=ave;var S6={};Object.defineProperty(S6,"__esModule",{value:!0});S6.TokenVerifier=void 0;const uve=Lo,ER=V4,lve=Bc,e3=Fh;class cve{constructor(t,r){if(!(t&&r))throw new lve.MissingParametersError("a signing algorithm and public key are required");if(typeof t!="string")throw"signing algorithm parameter must be a string";if(t=t.toUpperCase(),!ER.cryptoClients.hasOwnProperty(t))throw"invalid signing algorithm";this.tokenType="JWT",this.cryptoClient=ER.cryptoClients[t],this.rawPublicKey=r}verify(t){return typeof t=="string"?this.verifyCompact(t,!1):typeof t=="object"?this.verifyExpanded(t,!1):!1}verifyAsync(t){return typeof t=="string"?this.verifyCompact(t,!0):typeof t=="object"?this.verifyExpanded(t,!0):Promise.resolve(!1)}verifyCompact(t,r){const n=t.split("."),i=n[0]+"."+n[1],o=s=>{const a=this.cryptoClient.loadSignature(n[2]);return this.cryptoClient.verifyHash(s,a,this.rawPublicKey)};if(r)return(0,e3.hashSha256Async)(i).then(s=>o(s));{const s=(0,e3.hashSha256)(i);return o(s)}}verifyExpanded(t,r){const n=[t.header.join("."),uve.encode(t.payload)].join(".");let i=!0;const o=s=>(t.signature.map(a=>{const l=this.cryptoClient.loadSignature(a);this.cryptoClient.verifyHash(s,l,this.rawPublicKey)||(i=!1)}),i);if(r)return(0,e3.hashSha256Async)(n).then(s=>o(s));{const s=(0,e3.hashSha256)(n);return o(s)}}}S6.TokenVerifier=cve;var k6={};Object.defineProperty(k6,"__esModule",{value:!0});k6.decodeToken=void 0;const t3=Lo;function fve(e){if(typeof e=="string"){const t=e.split("."),r=JSON.parse(t3.decode(t[0])),n=JSON.parse(t3.decode(t[1])),i=t[2];return{header:r,payload:n,signature:i}}else if(typeof e=="object"){if(typeof e.payload!="string")throw new Error("Expected token payload to be a base64 or json string");let t=e.payload;e.payload[0]!=="{"&&(t=t3.decode(t));const r=[];return e.header.map(n=>{const i=JSON.parse(t3.decode(n));r.push(i)}),{header:r,payload:JSON.parse(t),signature:e.signature}}}k6.decodeToken=fve;(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(ly,e),r(S6,e),r(k6,e),r(Bc,e),r(V4,e)})(ta);function dve(e,t){var r;return(r=void 0)==null?void 0:r.get(t)}function x6(e){var t,r;const n=typeof e;return n==="string"?`"${e}"`:n==="number"||n==="bigint"||n==="boolean"?`${e}`:n==="object"||n==="function"?(e&&((r=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:r.name))??"null":n}function xi(e,t,r,n,i){const o=i&&"input"in i?i.input:r.value,s=(i==null?void 0:i.expected)??e.expects??null,a=(i==null?void 0:i.received)??x6(o),l={kind:e.kind,type:e.type,input:o,expected:s,received:a,message:`Invalid ${t}: ${s?`Expected ${s} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=e.kind==="schema",u=(i==null?void 0:i.message)??e.message??dve(e.reference,l.lang)??(c?(l.lang,void 0):null)??n.message??(l.lang,void 0);u&&(l.message=typeof u=="function"?u(l):u),c&&(r.typed=!1),r.issues?r.issues.push(l):r.issues=[l]}function OK(e,t){return Object.hasOwn(e,t)&&t!=="__proto__"&&t!=="prototype"&&t!=="constructor"}function A6(e,t){const r=[...new Set(e)];return r.length>1?`(${r.join(` ${t} `)})`:r[0]??"never"}function PK(e,t){return{kind:"validation",type:"check",reference:PK,async:!1,expects:null,requirement:e,message:t,_run(r,n){return r.typed&&!this.requirement(r.value)&&xi(this,"input",r,n),r}}}function TK(e,t){return{kind:"validation",type:"max_length",reference:TK,async:!1,expects:`<=${e}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value.length>this.requirement&&xi(this,"length",r,n,{received:`${r.value.length}`}),r}}}function IK(e,t){return{kind:"validation",type:"min_length",reference:IK,async:!1,expects:`>=${e}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value.length<this.requirement&&xi(this,"length",r,n,{received:`${r.value.length}`}),r}}}function BK(e,t,r){return typeof e.default=="function"?e.default(t,r):e.default}function _R(e,t){return!e._run({typed:!1,value:t},{abortEarly:!0}).issues}function $n(e,t){return{kind:"schema",type:"array",reference:$n,expects:"Array",async:!1,item:e,message:t,_run(r,n){var i;const o=r.value;if(Array.isArray(o)){r.typed=!0,r.value=[];for(let s=0;s<o.length;s++){const a=o[s],l=this.item._run({typed:!1,value:a},n);if(l.issues){const c={type:"array",origin:"value",input:o,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),r.value.push(l.value)}}else xi(this,"type",r,n);return r}}}function lp(e){return{kind:"schema",type:"boolean",reference:lp,expects:"boolean",async:!1,message:e,_run(t,r){return typeof t.value=="boolean"?t.typed=!0:xi(this,"type",t,r),t}}}function xs(e,t){const r=Object.entries(e).filter(([n])=>isNaN(+n)).map(([,n])=>n);return{kind:"schema",type:"enum",reference:xs,expects:A6(r.map(x6),"|"),async:!1,enum:e,options:r,message:t,_run(n,i){return this.options.includes(n.value)?n.typed=!0:xi(this,"type",n,i),n}}}function ur(e,t){return{kind:"schema",type:"literal",reference:ur,expects:x6(e),async:!1,literal:e,message:t,_run(r,n){return r.value===this.literal?r.typed=!0:xi(this,"type",r,n),r}}}function NK(e,t){return{kind:"schema",type:"loose_object",reference:NK,expects:"Object",async:!1,entries:e,message:t,_run(r,n){var i;const o=r.value;if(o&&typeof o=="object"){r.typed=!0,r.value={};for(const s in this.entries){const a=o[s],l=this.entries[s]._run({typed:!1,value:a},n);if(l.issues){const c={type:"object",origin:"value",input:o,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),(l.value!==void 0||s in o)&&(r.value[s]=l.value)}if(!r.issues||!n.abortEarly)for(const s in o)OK(o,s)&&!(s in this.entries)&&(r.value[s]=o[s])}else xi(this,"type",r,n);return r}}}function eO(e,t){return{kind:"schema",type:"non_optional",reference:eO,expects:"!undefined",async:!1,wrapped:e,message:t,_run(r,n){return r.value===void 0?(xi(this,"type",r,n),r):this.wrapped._run(r,n)}}}function To(e){return{kind:"schema",type:"null",reference:To,expects:"null",async:!1,message:e,_run(t,r){return t.value===null?t.typed=!0:xi(this,"type",t,r),t}}}function Fi(e,...t){const r={kind:"schema",type:"nullish",reference:Fi,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,_run(n,i){return(n.value===null||n.value===void 0)&&("default"in this&&(n.value=BK(this,n,i)),n.value===null||n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in t&&(r.default=t[0]),r}function ci(e){return{kind:"schema",type:"number",reference:ci,expects:"number",async:!1,message:e,_run(t,r){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:xi(this,"type",t,r),t}}}function st(e,t){return{kind:"schema",type:"object",reference:st,expects:"Object",async:!1,entries:e,message:t,_run(r,n){var i;const o=r.value;if(o&&typeof o=="object"){r.typed=!0,r.value={};for(const s in this.entries){const a=o[s],l=this.entries[s]._run({typed:!1,value:a},n);if(l.issues){const c={type:"object",origin:"value",input:o,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),(l.value!==void 0||s in o)&&(r.value[s]=l.value)}}else xi(this,"type",r,n);return r}}}function Qt(e,...t){const r={kind:"schema",type:"optional",reference:Qt,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,_run(n,i){return n.value===void 0&&("default"in this&&(n.value=BK(this,n,i)),n.value===void 0)?(n.typed=!0,n):this.wrapped._run(n,i)}};return 0 in t&&(r.default=t[0]),r}function MK(e,t){return{kind:"schema",type:"picklist",reference:MK,expects:A6(e.map(x6),"|"),async:!1,options:e,message:t,_run(r,n){return this.options.includes(r.value)?r.typed=!0:xi(this,"type",r,n),r}}}function RK(e,t,r){return{kind:"schema",type:"record",reference:RK,expects:"Object",async:!1,key:e,value:t,message:r,_run(n,i){var o,s;const a=n.value;if(a&&typeof a=="object"){n.typed=!0,n.value={};for(const l in a)if(OK(a,l)){const c=a[l],u=this.key._run({typed:!1,value:l},i);if(u.issues){const g={type:"object",origin:"key",input:a,key:l,value:c};for(const k of u.issues)k.path=[g],(o=n.issues)==null||o.push(k);if(n.issues||(n.issues=u.issues),i.abortEarly){n.typed=!1;break}}const h=this.value._run({typed:!1,value:c},i);if(h.issues){const g={type:"object",origin:"value",input:a,key:l,value:c};for(const k of h.issues)k.path?k.path.unshift(g):k.path=[g],(s=n.issues)==null||s.push(k);if(n.issues||(n.issues=h.issues),i.abortEarly){n.typed=!1;break}}(!u.typed||!h.typed)&&(n.typed=!1),u.typed&&(n.value[u.value]=h.value)}}else xi(this,"type",n,i);return n}}}function tt(e){return{kind:"schema",type:"string",reference:tt,expects:"string",async:!1,message:e,_run(t,r){return typeof t.value=="string"?t.typed=!0:xi(this,"type",t,r),t}}}function SR(e){let t;if(e)for(const r of e)t?t.push(...r.issues):t=r.issues;return t}function cp(e,t){return{kind:"schema",type:"union",reference:cp,expects:A6(e.map(r=>r.expects),"|"),async:!1,options:e,message:t,_run(r,n){let i,o,s;for(const a of this.options){const l=a._run({typed:!1,value:r.value},n);if(l.typed)if(l.issues)o?o.push(l):o=[l];else{i=l;break}else s?s.push(l):s=[l]}if(i)return i;if(o){if(o.length===1)return o[0];xi(this,"type",r,n,{issues:SR(o)}),r.typed=!0}else{if((s==null?void 0:s.length)===1)return s[0];xi(this,"type",r,n,{issues:SR(s)})}return r}}}function O6(){return{kind:"schema",type:"unknown",reference:O6,expects:"unknown",async:!1,_run(e){return e.typed=!0,e}}}function CK(e,t,r){return{kind:"schema",type:"variant",reference:CK,expects:"Object",async:!1,key:e,options:t,message:r,_run(n,i){const o=n.value;if(o&&typeof o=="object"){let s,a=0,l=this.key,c=[];const u=(h,g)=>{for(const k of h.options){if(k.type==="variant")u(k,new Set(g).add(k.key));else{let R=!0,F=0;for(const D of g){if(k.entries[D]._run({typed:!1,value:o[D]},i).issues){R=!1,l!==D&&(a<F||a===F&&D in o&&!(l in o))&&(a=F,l=D,c=[]),l===D&&c.push(k.entries[D].expects);break}F++}if(R){const D=k._run({typed:!1,value:o},i);(!s||!s.typed&&D.typed)&&(s=D)}}if(s&&!s.issues)break}};if(u(this,new Set([this.key])),s)return s;xi(this,"type",n,i,{input:o[l],expected:A6(c,"|"),path:[{type:"object",origin:"value",input:o,key:l,value:o[l]}]})}else xi(this,"type",n,i);return n}}}function kR(e,t){const r={...e.entries};for(const n of t)delete r[n];return{...e,entries:r}}function $9(...e){return{...e[0],pipe:e,_run(t,r){for(const n of e)if(n.kind!=="metadata"){if(t.issues&&(n.kind==="schema"||n.kind==="transformation")){t.typed=!1;break}(!t.issues||!r.abortEarly&&!r.abortPipeEarly)&&(t=n._run(t,r))}return t}}}function hve(e){return e.wrapped}const pve=globalThis||void 0||self;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";(()=>{const e=Array(256).fill(-1);for(let t=0;t<xR.length;++t)e[xR.charCodeAt(t)]=t})();var AR,nS,r3,tO=(AR=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let h=0;h<32;h++){const g=r.charAt(h);n[g]=h}function i(h){const g=h>>25;return(33554431&h)<<5^996825010&-(g>>0&1)^642813549&-(g>>1&1)^513874426&-(g>>2&1)^1027748829&-(g>>3&1)^705979059&-(g>>4&1)}function o(h){let g=1;for(let k=0;k<h.length;++k){const R=h.charCodeAt(k);if(R<33||R>126)return"Invalid prefix ("+h+")";g=i(g)^R>>5}g=i(g);for(let k=0;k<h.length;++k){const R=h.charCodeAt(k);g=i(g)^31&R}return g}function s(h,g,k,R){let F=0,D=0;const $=(1<<k)-1,B=[];for(let U=0;U<h.length;++U)for(F=F<<g|h[U],D+=g;D>=k;)D-=k,B.push(F>>D&$);if(R)D>0&&B.push(F<<k-D&$);else{if(D>=g)return"Excess padding";if(F<<k-D&$)return"Non-zero padding"}return B}function a(h){return s(h,8,5,!0)}function l(h){const g=s(h,5,8,!1);if(Array.isArray(g))return g}function c(h){const g=s(h,5,8,!1);if(Array.isArray(g))return g;throw new Error(g)}function u(h){let g;function k(R,F){if(F=F||90,R.length<8)return R+" too short";if(R.length>F)return"Exceeds length limit";const D=R.toLowerCase(),$=R.toUpperCase();if(R!==D&&R!==$)return"Mixed-case string "+R;const B=(R=D).lastIndexOf("1");if(B===-1)return"No separator character for "+R;if(B===0)return"Missing prefix for "+R;const U=R.slice(0,B),q=R.slice(B+1);if(q.length<6)return"Data too short";let ee=o(U);if(typeof ee=="string")return ee;const ae=[];for(let re=0;re<q.length;++re){const K=q.charAt(re),C=n[K];if(C===void 0)return"Unknown character "+K;ee=i(ee)^C,re+6>=q.length||ae.push(C)}return ee!==g?"Invalid checksum for "+R:{prefix:U,words:ae}}return g=h==="bech32"?1:734539939,{decodeUnsafe:function(R,F){const D=k(R,F);if(typeof D=="object")return D},decode:function(R,F){const D=k(R,F);if(typeof D=="object")return D;throw new Error(D)},encode:function(R,F,D){if(D=D||90,R.length+7+F.length>D)throw new TypeError("Exceeds length limit");let $=o(R=R.toLowerCase());if(typeof $=="string")throw new Error($);let B=R+"1";for(let U=0;U<F.length;++U){const q=F[U];if(q>>5)throw new Error("Non 5-bit word");$=i($)^q,B+=r.charAt(q)}for(let U=0;U<6;++U)$=i($);$^=g;for(let U=0;U<6;++U)B+=r.charAt($>>5*(5-U)&31);return B},toWords:a,fromWordsUnsafe:l,fromWords:c}}t.bech32=u("bech32"),t.bech32m=u("bech32m")},AR(nS={exports:{}},nS.exports),nS.exports);(r3=tO)&&r3.__esModule&&Object.prototype.hasOwnProperty.call(r3,"default")&&r3.default;tO.bech32m;tO.bech32;new Uint8Array(new Uint16Array([65279]).buffer)[0];var Bg,Ng;(function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"})(Bg||(Bg={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(Ng||(Ng={}));Ng.p2pkh,Bg.mainnet,Ng.p2pkh,Bg.testnet,Ng.p2sh,Bg.mainnet,Ng.p2sh,Bg.testnet;var gve=["software","ledger","keystone"],jK=MK(gve),Dh=(e=>(e.Ordinals="ordinals",e.Payment="payment",e.Stacks="stacks",e))(Dh||{}),UK=(e=>(e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr",e.stacks="stacks",e))(UK||{}),zK=st({address:tt(),publicKey:tt(),purpose:xs(Dh),addressType:xs(UK),walletType:jK}),yve=async e=>{var t,r;const n=await P6(e.getProvider),{purposes:i}=e.payload;if(!i)throw new Error("Address purposes are required");try{const o=ta.createUnsecuredToken(e.payload),s=await n.connect(o);(t=e.onFinish)==null||t.call(e,s)}catch(o){console.error("[Connect] Error during address request",o),(r=e.onCancel)==null||r.call(e)}},ui=(e=>(e.Mainnet="Mainnet",e.Testnet="Testnet",e.Testnet4="Testnet4",e.Signet="Signet",e.Regtest="Regtest",e))(ui||{}),rO=Qt(cp([tt(),ci(),To()])),en=st({jsonrpc:ur("2.0"),method:tt(),params:Qt(cp([$n(O6()),NK({}),To()])),id:hve(rO)}),Ib=(e=>(e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",e[e.USER_REJECTION=-32e3]="USER_REJECTION",e[e.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED",e[e.ACCESS_DENIED=-32002]="ACCESS_DENIED",e))(Ib||{}),LK=st({jsonrpc:ur("2.0"),result:eO(O6()),id:rO}),$K=st({jsonrpc:ur("2.0"),error:eO(O6()),id:rO});cp([LK,$K]);var mve="accountChange";st({type:ur(mve),addresses:Qt($n(zK))});var bve="networkChange";st({type:ur(bve),bitcoin:st({name:xs(ui)}),stacks:st({name:tt()})});var vve="disconnect";st({type:ur(vve)});async function P6(e){var t;const r=await(e==null?void 0:e())||((t=window.XverseProviders)==null?void 0:t.BitcoinProvider)||window.BitcoinProvider;if(!r)throw new Error("No Bitcoin wallet installed");return r}var wve="stx_callContract",Eve=st({contract:tt(),functionName:tt(),arguments:Qt($n(tt())),functionArgs:Qt($n(tt())),postConditions:Qt($n(tt())),postConditionMode:Qt(cp([ur("allow"),ur("deny")]))});st({...en.entries,...st({method:ur(wve),params:Eve,id:tt()}).entries});var _ve="stx_deployContract",Sve=st({name:tt(),clarityCode:tt(),clarityVersion:Qt(tt()),postConditions:Qt($n(tt())),postConditionMode:Qt(cp([ur("allow"),ur("deny")]))});st({...en.entries,...st({method:ur(_ve),params:Sve,id:tt()}).entries});var kve=st({read:Qt(lp())}),xve=st({readNetwork:Qt(lp())}),Ave=st({type:ur("account"),resourceId:tt(),clientId:tt(),actions:kve}),Ove=st({type:ur("wallet"),resourceId:tt(),clientId:tt(),actions:xve}),FK=CK("type",[st({...kR(Ave,["clientId"]).entries}),st({...kR(Ove,["clientId"]).entries})]),Pve="wallet_requestPermissions",Tve=Fi($n(FK));ur(!0);st({...en.entries,...st({method:ur(Pve),params:Tve,id:tt()}).entries});var Ive="wallet_renouncePermissions",Bve=Fi(To());Fi(To());st({...en.entries,...st({method:ur(Ive),params:Bve,id:tt()}).entries});var Nve="wallet_disconnect",Mve=Fi(To());Fi(To());st({...en.entries,...st({method:ur(Nve),params:Mve,id:tt()}).entries});var Rve="wallet_getWalletType",Cve=Fi(To());st({...en.entries,...st({method:ur(Rve),params:Cve,id:tt()}).entries});var jve="wallet_getCurrentPermissions",Uve=Fi(To());st({...en.entries,...st({method:ur(jve),params:Uve,id:tt()}).entries});var zve="wallet_getNetwork",Lve=Fi(To());st({bitcoin:st({name:xs(ui)}),stacks:st({name:tt()})});st({...en.entries,...st({method:ur(zve),params:Lve,id:tt()}).entries});var $ve="wallet_changeNetwork",Fve=st({name:xs(ui)});Fi(To());st({...en.entries,...st({method:ur($ve),params:Fve,id:tt()}).entries});var Dve="wallet_getAccount",Hve=Fi(To());st({...en.entries,...st({method:ur(Dve),params:Hve,id:tt()}).entries});var Kve="wallet_connect",Vve=Fi(st({permissions:Qt($n(FK)),addresses:Qt($n(xs(Dh))),message:Qt($9(tt(),TK(80,"The message must not exceed 80 characters."))),network:Qt(xs(ui))}));st({...en.entries,...st({method:ur(Kve),params:Vve,id:tt()}).entries});var Wve="stx_getAccounts",qve=Fi(To());st({...en.entries,...st({method:ur(Wve),params:qve,id:tt()}).entries});var Zve="stx_getAddresses",Gve=Fi(st({message:Qt(tt())}));st({...en.entries,...st({method:ur(Zve),params:Gve,id:tt()}).entries});var Xve="stx_signMessage",Qve=st({message:tt()});st({...en.entries,...st({method:ur(Xve),params:Qve,id:tt()}).entries});var Yve="stx_signStructuredMessage",Jve=st({domain:tt(),message:tt(),publicKey:Qt(tt())});st({...en.entries,...st({method:ur(Yve),params:Jve,id:tt()}).entries});var ewe="stx_signTransaction",twe=st({transaction:tt(),pubkey:Qt(tt()),broadcast:Qt(lp())});st({...en.entries,...st({method:ur(ewe),params:twe,id:tt()}).entries});var rwe="stx_signTransactions",nwe=st({transactions:$9($n($9(tt(),PK(e=>!0,"Invalid hex-encoded Stacks transaction."))),IK(1)),broadcast:Qt(lp())});st({...en.entries,...st({method:ur(rwe),params:nwe,id:tt()}).entries});var iwe="stx_transferStx",owe=st({amount:cp([ci(),tt()]),recipient:tt(),memo:Qt(tt()),version:Qt(tt()),postConditionMode:Qt(ci()),postConditions:Qt($n(tt())),pubkey:Qt(tt())});st({...en.entries,...st({method:ur(iwe),params:owe,id:tt()}).entries});var swe="getInfo",awe=Fi(To());st({version:tt(),methods:Qt($n(tt())),supports:$n(tt())});st({...en.entries,...st({method:ur(swe),params:awe,id:tt()}).entries});var uwe="getAddresses",lwe=st({purposes:$n(xs(Dh)),message:Qt(tt())});st({...en.entries,...st({method:ur(uwe),params:lwe,id:tt()}).entries});var cwe="signMessage",Hh=(e=>(e.ECDSA="ECDSA",e.BIP322="BIP322",e))(Hh||{}),fwe=st({address:tt(),message:tt(),protocol:Qt(xs(Hh))});st({signature:tt(),messageHash:tt(),address:tt(),protocol:xs(Hh)});st({...en.entries,...st({method:ur(cwe),params:fwe,id:tt()}).entries});var dwe="sendTransfer",hwe=st({recipients:$n(st({address:tt(),amount:ci()}))});st({...en.entries,...st({method:ur(dwe),params:hwe,id:tt()}).entries});var pwe="signPsbt",gwe=st({psbt:tt(),signInputs:RK(tt(),$n(ci())),broadcast:Qt(lp())});st({psbt:tt(),txid:Qt(tt())});st({...en.entries,...st({method:ur(pwe),params:gwe,id:tt()}).entries});var ywe="getAccounts",mwe=st({purposes:$n(xs(Dh)),message:Qt(tt())});$n(st({...zK.entries,...st({walletType:jK}).entries}));st({...en.entries,...st({method:ur(ywe),params:mwe,id:tt()}).entries});var bwe="getBalance";Fi(To());st({...en.entries,...st({method:ur(bwe),id:tt()}).entries});var vwe="runes_etch",wwe=st({amount:tt(),cap:tt(),heightStart:Qt(tt()),heightEnd:Qt(tt()),offsetStart:Qt(tt()),offsetEnd:Qt(tt())}),Ewe=st({contentType:tt(),contentBase64:tt()}),_we=st({runeName:tt(),divisibility:Qt(ci()),symbol:Qt(tt()),premine:Qt(tt()),isMintable:lp(),delegateInscriptionId:Qt(tt()),destinationAddress:tt(),refundAddress:tt(),feeRate:ci(),appServiceFee:Qt(ci()),appServiceFeeAddress:Qt(tt()),terms:Qt(wwe),inscriptionDetails:Qt(Ewe),network:Qt(xs(ui))});st({...en.entries,...st({method:ur(vwe),params:_we,id:tt()}).entries});var Swe="runes_getBalance",kwe=Fi(To());st({balances:$n(st({runeName:tt(),amount:tt(),divisibility:ci(),symbol:tt(),inscriptionId:Fi(tt()),spendableBalance:tt()}))});st({...en.entries,...st({method:ur(Swe),params:kwe,id:tt()}).entries});var xwe="runes_mint",Awe=st({appServiceFee:Qt(ci()),appServiceFeeAddress:Qt(tt()),destinationAddress:tt(),feeRate:ci(),refundAddress:tt(),repeats:ci(),runeName:tt(),network:Qt(xs(ui))});st({...en.entries,...st({method:ur(xwe),params:Awe,id:tt()}).entries});var Owe="runes_transfer",Pwe=st({recipients:$n(st({runeName:tt(),amount:tt(),address:tt()}))});st({...en.entries,...st({method:ur(Owe),params:Pwe,id:tt()}).entries});var Twe="ord_getInscriptions",Iwe=st({offset:ci(),limit:ci()});st({total:ci(),limit:ci(),offset:ci(),inscriptions:$n(st({inscriptionId:tt(),inscriptionNumber:tt(),address:tt(),collectionName:Qt(tt()),postage:tt(),contentLength:tt(),contentType:tt(),timestamp:ci(),offset:ci(),genesisTransaction:tt(),output:tt()}))});st({...en.entries,...st({method:ur(Twe),params:Iwe,id:tt()}).entries});var Bwe="ord_sendInscriptions",Nwe=st({transfers:$n(st({address:tt(),inscriptionId:tt()}))});st({...en.entries,...st({method:ur(Bwe),params:Nwe,id:tt()}).entries});var Hd=async(e,t,r)=>{var n;let i=((n=window.XverseProviders)==null?void 0:n.BitcoinProvider)||window.BitcoinProvider;if(!i)throw new Error("no wallet provider was found");if(!e)throw new Error("A wallet method is required");const o=await i.request(e,t);return _R($K,o)?{status:"error",error:o.error}:_R(LK,o)?{status:"success",result:o.result}:{status:"error",error:{code:-32603,message:"Received unknown response from provider.",data:o}}},OR=(e,t,r)=>{var n;let i=((n=window.XverseProviders)==null?void 0:n.BitcoinProvider)||window.BitcoinProvider;if(!i)throw new Error("no wallet provider was found");return i.addListener?i.addListener(e,t):(console.error("The wallet provider you are using does not support the addListener method. Please update your wallet provider."),()=>{})},Mwe=async e=>{var t,r;const n=await P6(e.getProvider),{address:i,message:o}=e.payload;if(!i)throw new Error("An address is required to sign a message");if(!o)throw new Error("A message to be signed is required");try{const s=ta.createUnsecuredToken(e.payload),a=await n.signMessage(s);(t=e.onFinish)==null||t.call(e,a)}catch(s){console.error("[Connect] Error during sign message request",s),(r=e.onCancel)==null||r.call(e)}},Rwe=e=>e.map(t=>{const{address:r,amountSats:n}=t;return{address:r,amountSats:n.toString()}}),Cwe=async e=>{var t,r;const n=await P6(e.getProvider),{recipients:i,senderAddress:o,network:s,message:a}=e.payload;if(!i||i.length===0)throw new Error("At least one recipient is required");if(i.some(l=>typeof l.address!="string"||typeof l.amountSats!="bigint"))throw new Error("Incorrect recipient format");if(!o)throw new Error("The sender address is required");try{const l=Rwe(i),c={network:s,senderAddress:o,message:a,recipients:l},u=ta.createUnsecuredToken(c),h=await n.sendBtcTransaction(u);(t=e.onFinish)==null||t.call(e,h)}catch(l){console.error("[Connect] Error during send BTC transaction request",l),(r=e.onCancel)==null||r.call(e)}},jwe=async e=>{var t,r;const n=await P6(e.getProvider),{psbtBase64:i,inputsToSign:o}=e.payload;if(!i)throw new Error("A value for psbtBase64 representing the tx hash is required");if(!o)throw new Error("An array specifying the inputs to be signed by the wallet is required");try{const s=ta.createUnsecuredToken(e.payload),a=await n.signTransaction(s);(t=e.onFinish)==null||t.call(e,a)}catch(s){console.error("[Connect] Error during sign transaction request",s),(r=e.onCancel)==null||r.call(e)}};const wn=mt.MAINNET,qs=mt.SIGNET,_o=mt.TESTNET,hs=mt.TESTNET4,Lc=mt.FRACTAL_MAINNET,ps=mt.FRACTAL_TESTNET;mt.REGTEST;const DK=mt.OYLNET,iS=e=>e===mt.MAINNET?ui.Mainnet:e===mt.TESTNET?ui.Testnet:e===mt.TESTNET4?ui.Testnet4:e===mt.SIGNET?ui.Signet:(e===mt.FRACTAL_MAINNET||mt.FRACTAL_TESTNET,ui.Mainnet),HK=e=>e===mt.MAINNET?ss.MAINNET:e===mt.TESTNET?ss.TESTNET:e===mt.TESTNET4?ss.TESTNET4:e===mt.SIGNET?ss.SIGNET:e===mt.FRACTAL_MAINNET?ss.FRACTAL_MAINNET:e===mt.FRACTAL_TESTNET?ss.FRACTAL_TESTNET:ss.MAINNET,Uwe=e=>e===mt.MAINNET?Df.BITCOIN_MAINNET:e===mt.TESTNET?Df.BITCOIN_TESTNET:e===mt.SIGNET?Df.BITCOIN_SIGNET:Df.BITCOIN_MAINNET,oS=e=>e===mt.MAINNET?Q3.MAINNET:e===mt.TESTNET||e===mt.TESTNET4||e===mt.SIGNET?Q3.TESTNET:(e===mt.FRACTAL_MAINNET||mt.FRACTAL_TESTNET,Q3.MAINNET),zwe=e=>e===mt.MAINNET?Ab.MAINNET:e===mt.TESTNET4||e===mt.TESTNET?Ab.TESTNET:e===mt.SIGNET?Ab.SIGNET:(e===mt.MAINNET||mt.TESTNET,Ab.MAINNET),d1=e=>e===ss.MAINNET?mt.MAINNET:e===ss.TESTNET?mt.TESTNET:e===ss.TESTNET4?mt.TESTNET4:e===ss.SIGNET?mt.SIGNET:e===ss.FRACTAL_MAINNET?mt.FRACTAL_MAINNET:e===ss.FRACTAL_TESTNET?mt.TESTNET:mt.MAINNET,Lwe=e=>e===Df.BITCOIN_MAINNET?mt.MAINNET:e===Df.BITCOIN_TESTNET?mt.TESTNET:e===Df.BITCOIN_SIGNET?mt.SIGNET:mt.MAINNET,sS=e=>e===eh.MAINNET?mt.MAINNET:e===eh.TESTNET?mt.TESTNET:e===eh.TESTNET4?mt.TESTNET4:e===eh.SIGNET?mt.SIGNET:e===eh.FRACTAL_MAINNET?mt.FRACTAL_MAINNET:e===eh.FRACTAL_TESTNET?mt.FRACTAL_TESTNET:mt.MAINNET,$we=e=>e===y9.MAINNET?mt.MAINNET:e===y9.TESTNET?mt.TESTNET:mt.MAINNET,PR=e=>e===Tg.MAINNET?mt.MAINNET:e===Tg.TESTNET?mt.TESTNET:e===Tg.TESTNET4?mt.TESTNET4:e===Tg.SIGNET?mt.SIGNET:e===g9.TESTNET?mt.TESTNET:(g9.MAINNET,mt.MAINNET);function KK(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fwe}=Object.prototype,{getPrototypeOf:nO}=Object,{iterator:T6,toStringTag:VK}=Symbol,I6=(e=>t=>{const r=Fwe.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Mu=e=>(e=e.toLowerCase(),t=>I6(t)===e),B6=e=>t=>typeof t===e,{isArray:em}=Array,H0=B6("undefined");function Dwe(e){return e!==null&&!H0(e)&&e.constructor!==null&&!H0(e.constructor)&&Es(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const WK=Mu("ArrayBuffer");function Hwe(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&WK(e.buffer),t}const Kwe=B6("string"),Es=B6("function"),qK=B6("number"),N6=e=>e!==null&&typeof e=="object",Vwe=e=>e===!0||e===!1,o8=e=>{if(I6(e)!=="object")return!1;const t=nO(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(VK in e)&&!(T6 in e)},Wwe=Mu("Date"),qwe=Mu("File"),Zwe=Mu("Blob"),Gwe=Mu("FileList"),Xwe=e=>N6(e)&&Es(e.pipe),Qwe=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Es(e.append)&&((t=I6(e))==="formdata"||t==="object"&&Es(e.toString)&&e.toString()==="[object FormData]"))},Ywe=Mu("URLSearchParams"),[Jwe,e2e,t2e,r2e]=["ReadableStream","Request","Response","Headers"].map(Mu),n2e=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function iw(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),em(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(n=0;n<s;n++)a=o[n],t.call(null,e[a],a,e)}}function ZK(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const yh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:pve,GK=e=>!H0(e)&&e!==yh;function F9(){const{caseless:e}=GK(this)&&this||{},t={},r=(n,i)=>{const o=e&&ZK(t,i)||i;o8(t[o])&&o8(n)?t[o]=F9(t[o],n):o8(n)?t[o]=F9({},n):em(n)?t[o]=n.slice():t[o]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&iw(arguments[n],r);return t}const i2e=(e,t,r,{allOwnKeys:n}={})=>(iw(t,(i,o)=>{r&&Es(i)?e[o]=KK(i,r):e[o]=i},{allOwnKeys:n}),e),o2e=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),s2e=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},a2e=(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!n||n(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=r!==!1&&nO(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},u2e=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},l2e=e=>{if(!e)return null;if(em(e))return e;let t=e.length;if(!qK(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},c2e=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&nO(Uint8Array)),f2e=(e,t)=>{const r=(e&&e[T6]).call(e);let n;for(;(n=r.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},d2e=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},h2e=Mu("HTMLFormElement"),p2e=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,n){return r.toUpperCase()+n}),TR=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),g2e=Mu("RegExp"),XK=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};iw(r,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(n[o]=s||i)}),Object.defineProperties(e,n)},y2e=e=>{XK(e,(t,r)=>{if(Es(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Es(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},m2e=(e,t)=>{const r={},n=i=>{i.forEach(o=>{r[o]=!0})};return em(e)?n(e):n(String(e).split(t)),r},b2e=()=>{},v2e=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function w2e(e){return!!(e&&Es(e.append)&&e[VK]==="FormData"&&e[T6])}const E2e=e=>{const t=new Array(10),r=(n,i)=>{if(N6(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;const o=em(n)?[]:{};return iw(n,(s,a)=>{const l=r(s,i+1);!H0(l)&&(o[a]=l)}),t[i]=void 0,o}}return n};return r(e,0)},_2e=Mu("AsyncFunction"),S2e=e=>e&&(N6(e)||Es(e))&&Es(e.then)&&Es(e.catch),QK=((e,t)=>e?setImmediate:t?((r,n)=>(yh.addEventListener("message",({source:i,data:o})=>{i===yh&&o===r&&n.length&&n.shift()()},!1),i=>{n.push(i),yh.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Es(yh.postMessage)),k2e=typeof queueMicrotask<"u"?queueMicrotask.bind(yh):typeof Bn<"u"&&Bn.nextTick||QK,x2e=e=>e!=null&&Es(e[T6]),Xe={isArray:em,isArrayBuffer:WK,isBuffer:Dwe,isFormData:Qwe,isArrayBufferView:Hwe,isString:Kwe,isNumber:qK,isBoolean:Vwe,isObject:N6,isPlainObject:o8,isReadableStream:Jwe,isRequest:e2e,isResponse:t2e,isHeaders:r2e,isUndefined:H0,isDate:Wwe,isFile:qwe,isBlob:Zwe,isRegExp:g2e,isFunction:Es,isStream:Xwe,isURLSearchParams:Ywe,isTypedArray:c2e,isFileList:Gwe,forEach:iw,merge:F9,extend:i2e,trim:n2e,stripBOM:o2e,inherits:s2e,toFlatObject:a2e,kindOf:I6,kindOfTest:Mu,endsWith:u2e,toArray:l2e,forEachEntry:f2e,matchAll:d2e,isHTMLForm:h2e,hasOwnProperty:TR,hasOwnProp:TR,reduceDescriptors:XK,freezeMethods:y2e,toObjectSet:m2e,toCamelCase:p2e,noop:b2e,toFiniteNumber:v2e,findKey:ZK,global:yh,isContextDefined:GK,isSpecCompliantForm:w2e,toJSONObject:E2e,isAsyncFn:_2e,isThenable:S2e,setImmediate:QK,asap:k2e,isIterable:x2e};function gr(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}Xe.inherits(gr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Xe.toJSONObject(this.config),code:this.code,status:this.status}}});const YK=gr.prototype,JK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{JK[e]={value:e}});Object.defineProperties(gr,JK);Object.defineProperty(YK,"isAxiosError",{value:!0});gr.from=(e,t,r,n,i,o)=>{const s=Object.create(YK);return Xe.toFlatObject(e,s,function(a){return a!==Error.prototype},a=>a!=="isAxiosError"),gr.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const A2e=null;function D9(e){return Xe.isPlainObject(e)||Xe.isArray(e)}function eV(e){return Xe.endsWith(e,"[]")?e.slice(0,-2):e}function IR(e,t,r){return e?e.concat(t).map(function(n,i){return n=eV(n),!r&&i?"["+n+"]":n}).join(r?".":""):t}function O2e(e){return Xe.isArray(e)&&!e.some(D9)}const P2e=Xe.toFlatObject(Xe,{},null,function(e){return/^is[A-Z]/.test(e)});function M6(e,t,r){if(!Xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Xe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,R){return!Xe.isUndefined(R[k])});const n=r.metaTokens,i=r.visitor||c,o=r.dots,s=r.indexes,a=(r.Blob||typeof Blob<"u"&&Blob)&&Xe.isSpecCompliantForm(t);if(!Xe.isFunction(i))throw new TypeError("visitor must be a function");function l(k){if(k===null)return"";if(Xe.isDate(k))return k.toISOString();if(Xe.isBoolean(k))return k.toString();if(!a&&Xe.isBlob(k))throw new gr("Blob is not supported. Use a Buffer instead.");return Xe.isArrayBuffer(k)||Xe.isTypedArray(k)?a&&typeof Blob=="function"?new Blob([k]):Fe.from(k):k}function c(k,R,F){let D=k;if(k&&!F&&typeof k=="object"){if(Xe.endsWith(R,"{}"))R=n?R:R.slice(0,-2),k=JSON.stringify(k);else if(Xe.isArray(k)&&O2e(k)||(Xe.isFileList(k)||Xe.endsWith(R,"[]"))&&(D=Xe.toArray(k)))return R=eV(R),D.forEach(function($,B){!(Xe.isUndefined($)||$===null)&&t.append(s===!0?IR([R],B,o):s===null?R:R+"[]",l($))}),!1}return D9(k)?!0:(t.append(IR(F,R,o),l(k)),!1)}const u=[],h=Object.assign(P2e,{defaultVisitor:c,convertValue:l,isVisitable:D9});function g(k,R){if(!Xe.isUndefined(k)){if(u.indexOf(k)!==-1)throw Error("Circular reference detected in "+R.join("."));u.push(k),Xe.forEach(k,function(F,D){(!(Xe.isUndefined(F)||F===null)&&i.call(t,F,Xe.isString(D)?D.trim():D,R,h))===!0&&g(F,R?R.concat(D):[D])}),u.pop()}}if(!Xe.isObject(e))throw new TypeError("data must be an object");return g(e),t}function BR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function iO(e,t){this._pairs=[],e&&M6(e,this,t)}const tV=iO.prototype;tV.append=function(e,t){this._pairs.push([e,t])};tV.toString=function(e){const t=e?function(r){return e.call(this,r,BR)}:BR;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function T2e(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function rV(e,t,r){if(!t)return e;const n=r&&r.encode||T2e;Xe.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(t,r):o=Xe.isURLSearchParams(t)?t.toString():new iO(t,r).toString(n),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class NR{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Xe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const nV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},I2e=typeof URLSearchParams<"u"?URLSearchParams:iO,B2e=typeof FormData<"u"?FormData:null,N2e=typeof Blob<"u"?Blob:null,M2e={isBrowser:!0,classes:{URLSearchParams:I2e,FormData:B2e,Blob:N2e},protocols:["http","https","file","blob","url","data"]},oO=typeof window<"u"&&typeof document<"u",H9=typeof navigator=="object"&&navigator||void 0,R2e=oO&&(!H9||["ReactNative","NativeScript","NS"].indexOf(H9.product)<0),C2e=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",j2e=oO&&window.location.href||"http://localhost",U2e=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oO,hasStandardBrowserEnv:R2e,hasStandardBrowserWebWorkerEnv:C2e,navigator:H9,origin:j2e},Symbol.toStringTag,{value:"Module"})),So={...U2e,...M2e};function z2e(e,t){return M6(e,new So.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,o){return So.isNode&&Xe.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function L2e(e){return Xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function $2e(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}function iV(e){function t(r,n,i,o){let s=r[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=r.length;return s=!s&&Xe.isArray(i)?i.length:s,l?(Xe.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!a):((!i[s]||!Xe.isObject(i[s]))&&(i[s]=[]),t(r,n,i[s],o)&&Xe.isArray(i[s])&&(i[s]=$2e(i[s])),!a)}if(Xe.isFormData(e)&&Xe.isFunction(e.entries)){const r={};return Xe.forEachEntry(e,(n,i)=>{t(L2e(n),i,r,0)}),r}return null}function F2e(e,t,r){if(Xe.isString(e))try{return(t||JSON.parse)(e),Xe.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const ow={transitional:nV,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=Xe.isObject(e);if(i&&Xe.isHTMLForm(e)&&(e=new FormData(e)),Xe.isFormData(e))return n?JSON.stringify(iV(e)):e;if(Xe.isArrayBuffer(e)||Xe.isBuffer(e)||Xe.isStream(e)||Xe.isFile(e)||Xe.isBlob(e)||Xe.isReadableStream(e))return e;if(Xe.isArrayBufferView(e))return e.buffer;if(Xe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return z2e(e,this.formSerializer).toString();if((o=Xe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const s=this.env&&this.env.FormData;return M6(o?{"files[]":e}:e,s&&new s,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),F2e(e)):e}],transformResponse:[function(e){const t=this.transitional||ow.transitional,r=t&&t.forcedJSONParsing,n=this.responseType==="json";if(Xe.isResponse(e)||Xe.isReadableStream(e))return e;if(e&&Xe.isString(e)&&(r&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(o){if(i)throw o.name==="SyntaxError"?gr.from(o,gr.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:So.classes.FormData,Blob:So.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Xe.forEach(["delete","get","head","post","put","patch"],e=>{ow.headers[e]={}});const D2e=Xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),H2e=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||t[r]&&D2e[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},MR=Symbol("internals");function eb(e){return e&&String(e).trim().toLowerCase()}function s8(e){return e===!1||e==null?e:Xe.isArray(e)?e.map(s8):String(e)}function K2e(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const V2e=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function aS(e,t,r,n,i){if(Xe.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!Xe.isString(t)){if(Xe.isString(n))return t.indexOf(n)!==-1;if(Xe.isRegExp(n))return n.test(t)}}function W2e(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function q2e(e,t){const r=Xe.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,o,s){return this[n].call(this,t,i,o,s)},configurable:!0})})}let _s=class{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(s,a,l){const c=eb(a);if(!c)throw new Error("header name must be a non-empty string");const u=Xe.findKey(n,c);(!u||n[u]===void 0||l===!0||l===void 0&&n[u]!==!1)&&(n[u||a]=s8(s))}const o=(s,a)=>Xe.forEach(s,(l,c)=>i(l,c,a));if(Xe.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Xe.isString(e)&&(e=e.trim())&&!V2e(e))o(H2e(e),t);else if(Xe.isObject(e)&&Xe.isIterable(e)){let s={},a,l;for(const c of e){if(!Xe.isArray(c))throw TypeError("Object iterator must return a key-value pair");s[l=c[0]]=(a=s[l])?Xe.isArray(a)?[...a,c[1]]:[a,c[1]]:c[1]}o(s,t)}else e!=null&&i(t,e,r);return this}get(e,t){if(e=eb(e),e){const r=Xe.findKey(this,e);if(r){const n=this[r];if(!t)return n;if(t===!0)return K2e(n);if(Xe.isFunction(t))return t.call(this,n,r);if(Xe.isRegExp(t))return t.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eb(e),e){const r=Xe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||aS(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let n=!1;function i(o){if(o=eb(o),o){const s=Xe.findKey(r,o);s&&(!t||aS(r,r[s],s,t))&&(delete r[s],n=!0)}}return Xe.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];(!e||aS(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return Xe.forEach(this,(n,i)=>{const o=Xe.findKey(r,i);if(o){t[o]=s8(n),delete t[i];return}const s=e?W2e(i):String(i).trim();s!==i&&delete t[i],t[s]=s8(n),r[s]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Xe.forEach(this,(r,n)=>{r!=null&&r!==!1&&(t[n]=e&&Xe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(n=>r.set(n)),r}static accessor(e){const t=(this[MR]=this[MR]={accessors:{}}).accessors,r=this.prototype;function n(i){const o=eb(i);t[o]||(q2e(r,i),t[o]=!0)}return Xe.isArray(e)?e.forEach(n):n(e),this}};_s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Xe.reduceDescriptors(_s.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Xe.freezeMethods(_s);function uS(e,t){const r=this||ow,n=t||r,i=_s.from(n.headers);let o=n.data;return Xe.forEach(e,function(s){o=s.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function oV(e){return!!(e&&e.__CANCEL__)}function tm(e,t,r){gr.call(this,e??"canceled",gr.ERR_CANCELED,t,r),this.name="CanceledError"}Xe.inherits(tm,gr,{__CANCEL__:!0});function sV(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new gr("Request failed with status code "+r.status,[gr.ERR_BAD_REQUEST,gr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Z2e(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function G2e(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(a){const l=Date.now(),c=n[o];s||(s=l),r[i]=a,n[i]=l;let u=o,h=0;for(;u!==i;)h+=r[u++],u=u%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),l-s<t)return;const g=c&&l-c;return g?Math.round(h*1e3/g):void 0}}function X2e(e,t){let r=0,n=1e3/t,i,o;const s=(a,l=Date.now())=>{r=l,i=null,o&&(clearTimeout(o),o=null),e.apply(null,a)};return[(...a)=>{const l=Date.now(),c=l-r;c>=n?s(a,l):(i=a,o||(o=setTimeout(()=>{o=null,s(i)},n-c)))},()=>i&&s(i)]}const h1=(e,t,r=3)=>{let n=0;const i=G2e(50,250);return X2e(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-n,c=i(l),u=s<=a;n=s;const h={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(h)},r)},RR=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},CR=e=>(...t)=>Xe.asap(()=>e(...t)),Q2e=So.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,So.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(So.origin),So.navigator&&/(msie|trident)/i.test(So.navigator.userAgent)):()=>!0,Y2e=So.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];Xe.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Xe.isString(n)&&s.push("path="+n),Xe.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function J2e(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function e3e(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function aV(e,t,r){let n=!J2e(t);return e&&(n||r==!1)?e3e(e,t):t}const jR=e=>e instanceof _s?{...e}:e;function Kh(e,t){t=t||{};const r={};function n(c,u,h,g){return Xe.isPlainObject(c)&&Xe.isPlainObject(u)?Xe.merge.call({caseless:g},c,u):Xe.isPlainObject(u)?Xe.merge({},u):Xe.isArray(u)?u.slice():u}function i(c,u,h,g){if(Xe.isUndefined(u)){if(!Xe.isUndefined(c))return n(void 0,c,h,g)}else return n(c,u,h,g)}function o(c,u){if(!Xe.isUndefined(u))return n(void 0,u)}function s(c,u){if(Xe.isUndefined(u)){if(!Xe.isUndefined(c))return n(void 0,c)}else return n(void 0,u)}function a(c,u,h){if(h in t)return n(c,u);if(h in e)return n(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,h)=>i(jR(c),jR(u),h,!0)};return Xe.forEach(Object.keys(Object.assign({},e,t)),function(c){const u=l[c]||i,h=u(e[c],t[c],c);Xe.isUndefined(h)&&u!==a||(r[c]=h)}),r}const uV=e=>{const t=Kh({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=_s.from(s),t.url=rV(aV(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Xe.isFormData(r)){if(So.hasStandardBrowserEnv||So.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(So.hasStandardBrowserEnv&&(n&&Xe.isFunction(n)&&(n=n(t)),n||n!==!1&&Q2e(t.url))){const c=i&&o&&Y2e.read(o);c&&s.set(i,c)}return t},t3e=typeof XMLHttpRequest<"u",r3e=t3e&&function(e){return new Promise(function(t,r){const n=uV(e);let i=n.data;const o=_s.from(n.headers).normalize();let{responseType:s,onUploadProgress:a,onDownloadProgress:l}=n,c,u,h,g,k;function R(){g&&g(),k&&k(),n.cancelToken&&n.cancelToken.unsubscribe(c),n.signal&&n.signal.removeEventListener("abort",c)}let F=new XMLHttpRequest;F.open(n.method.toUpperCase(),n.url,!0),F.timeout=n.timeout;function D(){if(!F)return;const B=_s.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),U={data:!s||s==="text"||s==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:B,config:e,request:F};sV(function(q){t(q),R()},function(q){r(q),R()},U),F=null}"onloadend"in F?F.onloadend=D:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(D)},F.onabort=function(){F&&(r(new gr("Request aborted",gr.ECONNABORTED,e,F)),F=null)},F.onerror=function(){r(new gr("Network Error",gr.ERR_NETWORK,e,F)),F=null},F.ontimeout=function(){let B=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const U=n.transitional||nV;n.timeoutErrorMessage&&(B=n.timeoutErrorMessage),r(new gr(B,U.clarifyTimeoutError?gr.ETIMEDOUT:gr.ECONNABORTED,e,F)),F=null},i===void 0&&o.setContentType(null),"setRequestHeader"in F&&Xe.forEach(o.toJSON(),function(B,U){F.setRequestHeader(U,B)}),Xe.isUndefined(n.withCredentials)||(F.withCredentials=!!n.withCredentials),s&&s!=="json"&&(F.responseType=n.responseType),l&&([h,k]=h1(l,!0),F.addEventListener("progress",h)),a&&F.upload&&([u,g]=h1(a),F.upload.addEventListener("progress",u),F.upload.addEventListener("loadend",g)),(n.cancelToken||n.signal)&&(c=B=>{F&&(r(!B||B.type?new tm(null,e,F):B),F.abort(),F=null)},n.cancelToken&&n.cancelToken.subscribe(c),n.signal&&(n.signal.aborted?c():n.signal.addEventListener("abort",c)));const $=Z2e(n.url);if($&&So.protocols.indexOf($)===-1){r(new gr("Unsupported protocol "+$+":",gr.ERR_BAD_REQUEST,e));return}F.send(i||null)})},n3e=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;n.abort(u instanceof gr?u:new tm(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,o(new gr(`timeout ${t} of ms exceeded`,gr.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=n;return l.unsubscribe=()=>Xe.asap(a),l}},i3e=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},o3e=async function*(e,t){for await(const r of s3e(e))yield*i3e(r,t)},s3e=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},UR=(e,t,r,n)=>{const i=o3e(e,t);let o=0,s,a=l=>{s||(s=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let h=u.byteLength;if(r){let g=o+=h;r(g)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},R6=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",lV=R6&&typeof ReadableStream=="function",a3e=R6&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),cV=(e,...t)=>{try{return!!e(...t)}catch{return!1}},u3e=lV&&cV(()=>{let e=!1;const t=new Request(So.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),zR=64*1024,K9=lV&&cV(()=>Xe.isReadableStream(new Response("").body)),p1={stream:K9&&(e=>e.body)};R6&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!p1[t]&&(p1[t]=Xe.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new gr(`Response type '${t}' is not supported`,gr.ERR_NOT_SUPPORT,n)})})})(new Response);const l3e=async e=>{if(e==null)return 0;if(Xe.isBlob(e))return e.size;if(Xe.isSpecCompliantForm(e))return(await new Request(So.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Xe.isArrayBufferView(e)||Xe.isArrayBuffer(e))return e.byteLength;if(Xe.isURLSearchParams(e)&&(e=e+""),Xe.isString(e))return(await a3e(e)).byteLength},c3e=async(e,t)=>Xe.toFiniteNumber(e.getContentLength())??l3e(t),f3e=R6&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:g}=uV(e);c=c?(c+"").toLowerCase():"text";let k=n3e([i,o&&o.toAbortSignal()],s),R;const F=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let D;try{if(l&&u3e&&r!=="get"&&r!=="head"&&(D=await c3e(u,n))!==0){let ee=new Request(t,{method:"POST",body:n,duplex:"half"}),ae;if(Xe.isFormData(n)&&(ae=ee.headers.get("content-type"))&&u.setContentType(ae),ee.body){const[re,K]=RR(D,h1(CR(l)));n=UR(ee.body,zR,re,K)}}Xe.isString(h)||(h=h?"include":"omit");const $="credentials"in Request.prototype;R=new Request(t,{...g,signal:k,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:$?h:void 0});let B=await fetch(R,g);const U=K9&&(c==="stream"||c==="response");if(K9&&(a||U&&F)){const ee={};["status","statusText","headers"].forEach(C=>{ee[C]=B[C]});const ae=Xe.toFiniteNumber(B.headers.get("content-length")),[re,K]=a&&RR(ae,h1(CR(a),!0))||[];B=new Response(UR(B.body,zR,re,()=>{K&&K(),F&&F()}),ee)}c=c||"text";let q=await p1[Xe.findKey(p1,c)||"text"](B,e);return!U&&F&&F(),await new Promise((ee,ae)=>{sV(ee,ae,{data:q,headers:_s.from(B.headers),status:B.status,statusText:B.statusText,config:e,request:R})})}catch($){throw F&&F(),$&&$.name==="TypeError"&&/Load failed|fetch/i.test($.message)?Object.assign(new gr("Network Error",gr.ERR_NETWORK,e,R),{cause:$.cause||$}):gr.from($,$&&$.code,e,R)}}),V9={http:A2e,xhr:r3e,fetch:f3e};Xe.forEach(V9,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const LR=e=>`- ${e}`,d3e=e=>Xe.isFunction(e)||e===null||e===!1,fV={getAdapter:e=>{e=Xe.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){r=e[o];let s;if(n=r,!d3e(r)&&(n=V9[(s=String(r)).toLowerCase()],n===void 0))throw new gr(`Unknown adapter '${s}'`);if(n)break;i[s||"#"+o]=n}if(!n){const o=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?`since :
`+o.map(LR).join(`
`):" "+LR(o[0]):"as no adapter specified";throw new gr("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return n},adapters:V9};function lS(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new tm(null,e)}function $R(e){return lS(e),e.headers=_s.from(e.headers),e.data=uS.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),fV.getAdapter(e.adapter||ow.adapter)(e).then(function(t){return lS(e),t.data=uS.call(e,e.transformResponse,t),t.headers=_s.from(t.headers),t},function(t){return oV(t)||(lS(e),t&&t.response&&(t.response.data=uS.call(e,e.transformResponse,t.response),t.response.headers=_s.from(t.response.headers))),Promise.reject(t)})}const dV="1.10.0",C6={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{C6[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const FR={};C6.transitional=function(e,t,r){function n(i,o){return"[Axios v"+dV+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,s)=>{if(e===!1)throw new gr(n(o," has been removed"+(t?" in "+t:"")),gr.ERR_DEPRECATED);return t&&!FR[o]&&(FR[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(i,o,s):!0}};C6.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function h3e(e,t,r){if(typeof e!="object")throw new gr("options must be an object",gr.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new gr("option "+o+" must be "+l,gr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new gr("Unknown option "+o,gr.ERR_BAD_OPTION)}}const a8={assertOptions:h3e,validators:C6},Fu=a8.validators;let Ah=class{constructor(e){this.defaults=e||{},this.interceptors={request:new NR,response:new NR}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const i=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Kh(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;r!==void 0&&a8.assertOptions(r,{silentJSONParsing:Fu.transitional(Fu.boolean),forcedJSONParsing:Fu.transitional(Fu.boolean),clarifyTimeoutError:Fu.transitional(Fu.boolean)},!1),n!=null&&(Xe.isFunction(n)?t.paramsSerializer={serialize:n}:a8.assertOptions(n,{encode:Fu.function,serialize:Fu.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),a8.assertOptions(t,{baseUrl:Fu.spelling("baseURL"),withXsrfToken:Fu.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&Xe.merge(i.common,i[t.method]);i&&Xe.forEach(["delete","get","head","post","put","patch","common"],k=>{delete i[k]}),t.headers=_s.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(a=a&&k.synchronous,s.unshift(k.fulfilled,k.rejected))});const l=[];this.interceptors.response.forEach(function(k){l.push(k.fulfilled,k.rejected)});let c,u=0,h;if(!a){const k=[$R.bind(this),void 0];for(k.unshift.apply(k,s),k.push.apply(k,l),h=k.length,c=Promise.resolve(t);u<h;)c=c.then(k[u++],k[u++]);return c}h=s.length;let g=t;for(u=0;u<h;){const k=s[u++],R=s[u++];try{g=k(g)}catch(F){R.call(this,F);break}}try{c=$R.call(this,g)}catch(k){return Promise.reject(k)}for(u=0,h=l.length;u<h;)c=c.then(l[u++],l[u++]);return c}getUri(e){e=Kh(this.defaults,e);const t=aV(e.baseURL,e.url,e.allowAbsoluteUrls);return rV(t,e.params,e.paramsSerializer)}};Xe.forEach(["delete","get","head","options"],function(e){Ah.prototype[e]=function(t,r){return this.request(Kh(r||{},{method:e,url:t,data:(r||{}).data}))}});Xe.forEach(["post","put","patch"],function(e){function t(r){return function(n,i,o){return this.request(Kh(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}Ah.prototype[e]=t(),Ah.prototype[e+"Form"]=t(!0)});let p3e=class hV{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(i=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](i);n._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{n.subscribe(a),o=a}).then(i);return s.cancel=function(){n.unsubscribe(o)},s},t(function(i,o,s){n.reason||(n.reason=new tm(i,o,s),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new hV(function(r){t=r}),cancel:t}}};function g3e(e){return function(t){return e.apply(null,t)}}function y3e(e){return Xe.isObject(e)&&e.isAxiosError===!0}const W9={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(W9).forEach(([e,t])=>{W9[t]=e});function pV(e){const t=new Ah(e),r=KK(Ah.prototype.request,t);return Xe.extend(r,Ah.prototype,t,{allOwnKeys:!0}),Xe.extend(r,t,null,{allOwnKeys:!0}),r.create=function(n){return pV(Kh(e,n))},r}const cn=pV(ow);cn.Axios=Ah;cn.CanceledError=tm;cn.CancelToken=p3e;cn.isCancel=oV;cn.VERSION=dV;cn.toFormData=M6;cn.AxiosError=gr;cn.Cancel=cn.CanceledError;cn.all=function(e){return Promise.all(e)};cn.spread=g3e;cn.isAxiosError=y3e;cn.mergeConfig=Kh;cn.AxiosHeaders=_s;cn.formToJSON=e=>iV(Xe.isHTMLForm(e)?new FormData(e):e);cn.getAdapter=fV.getAdapter;cn.HttpStatusCode=W9;cn.default=cn;const{Axios:ERe,AxiosError:_Re,CanceledError:SRe,isCancel:kRe,CancelToken:xRe,VERSION:ARe,all:ORe,Cancel:PRe,isAxiosError:TRe,spread:IRe,toFormData:BRe,AxiosHeaders:NRe,HttpStatusCode:MRe,formToJSON:RRe,getAdapter:CRe,mergeConfig:jRe}=cn,gV="https://mainnet.sandshrew.io/v2",m3e="https://signet.sandshrew.io/v2",b3e="https://testnet.sandshrew.io/v2",v3e="https://ladder-chain-sieve.sandshrew.io/v2",Wg="lasereyes",w3e="VIOi9IApvUkDFWBQ7I9oHsfUMWOIfDeO",yV="bVG4GSXShooC9f67hq5YQWAJfZyRPrEN",E3e="https://xbt-mainnet.gomaestro-api.org/v0",_3e="https://xbt-testnet.gomaestro-api.org/v0",S3e="https://mempool.space",k3e="https://mempool.space/testnet",x3e="https://mempool.space/testnet4",A3e="https://mempool.space/signet",O3e="https://mempool.fractalbitcoin.io",P3e="https://mempool-testnet.fractalbitcoin.io",T3e="https://static.unisat.io/content",DR="https://static-testnet.unisat.io/content",I3e="https://ordinals-testnet4.unisat.io/content",B3e="https://ordinals.fractalbitcoin.io/content",N3e="https://ordinals-testnet.fractalbitcoin.io/content",M3e="https://static.unisat.io/preview",HR="https://static-testnet.unisat.io/preview",R3e="https://ordinals-testnet4.unisat.io/preview",C3e="https://ordinals.fractalbitcoin.io/preview",j3e="https://ordinals-testnet.fractalbitcoin.io/preview",bo=e=>{switch(e){case _o:return k3e;case hs:return x3e;case qs:return A3e;case Lc:return O3e;case ps:return P3e;default:return S3e}},g1=(e,t)=>e===mt.TESTNET4?_3e:E3e,Mg=(e,t)=>{switch(e){case DK:return v3e;case _o:return b3e;case qs:return m3e;default:return gV}},U3e=e=>{switch(e){case _o:return DR;case hs:return I3e;case qs:return DR;case Lc:return B3e;case ps:return N3e;default:return T3e}},z3e=e=>{switch(e){case _o:return HR;case hs:return R3e;case qs:return HR;case Lc:return C3e;case ps:return j3e;default:return M3e}};nA(K4);const Vr=e=>e===_o||e===hs||e===qs?tse:Pu,y1=e=>e.find(({purpose:t})=>t==="ordinals"),m1=e=>e.find(({purpose:t})=>t==="payment"),vy=async(e,t)=>{try{const r=await aO(e,t);return r?r.reduce((n,i)=>n+BigInt(i.value),0n):0n}catch(r){throw console.error("Error fetching BTC balance:",r),new Error("Failed to fetch BTC balance")}};function sO(e,t,r){const n=e*57+t*41,i=r*34;return 10+n+i}async function aO(e,t){if(e.startsWith("t")){if(t===wn)return[];if(t===Lc)return[];if(t===ps)return[]}return console.log("address",e),console.log("network",t),e.startsWith("bcrt")&&t===DK?[]:await cn.get(`${bo(t)}/api/address/${e}/utxo`).then(r=>r.data)}async function j6(e,t,r,n,i,o,s=7){const a=e===t,l=await aO(t,o);if(!l)throw new Error("No UTXOs found");const c=l.sort((R,F)=>F.value-R.value),u=new Fr({network:Vr(o)}),h=sO(1,0,2),g=Math.floor(h*s)+n;let k=0;for await(const R of c){const{txid:F,vout:D,value:$}=R,B=Ca(t,Vr(o));if(u.addInput({hash:F,index:D,witnessUtxo:{script:B,value:BigInt($)}}),!a){const U=uw(i,o);u.updateInput(D,{redeemScript:U})}if(k+=$,k>=g)break}if(k<g)throw new Error("Insufficient funds");return u.addOutput({address:r,value:BigInt(n)}),k>g&&u.addOutput({address:t,value:BigInt(k-g)}),{psbtBase64:u.toBase64(),psbtHex:u.toHex()}}function U6(e){return e==null?void 0:e.reduce((t,r)=>t+r.value,0)}async function z6(e,t){return(await cn.post(`${bo(t)}/api/tx`,e,{headers:{"Content-Type":"text/plain"}})).data}const mV=e=>e===_o||e===hs||e===qs,L6=e=>e===wn||e===Lc||e===ps;var Il={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.sha512_256=Ci.SHA512_256=Ci.sha512_224=Ci.SHA512_224=Ci.sha384=Ci.SHA384=Ci.sha512=Ci.SHA512=void 0;const Ad=an;Ci.SHA512=Ad.SHA512;Ci.sha512=Ad.sha512;Ci.SHA384=Ad.SHA384;Ci.sha384=Ad.sha384;Ci.SHA512_224=Ad.SHA512_224;Ci.sha512_224=Ad.sha512_224;Ci.SHA512_256=Ad.SHA512_256;Ci.sha512_256=Ad.sha512_256;var $6={};Object.defineProperty($6,"__esModule",{value:!0});$6.pbkdf2=$3e;$6.pbkdf2Async=F3e;const L3e=$v,lu=Zr;function bV(e,t,r,n){(0,lu.ahash)(e);const i=(0,lu.checkOpts)({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if((0,lu.anumber)(o),(0,lu.anumber)(s),(0,lu.anumber)(a),o<1)throw new Error("iterations (c) should be >= 1");const l=(0,lu.kdfInputToBytes)(t),c=(0,lu.kdfInputToBytes)(r),u=new Uint8Array(s),h=L3e.hmac.create(e,l),g=h._cloneInto().update(c);return{c:o,dkLen:s,asyncTick:a,DK:u,PRF:h,PRFSalt:g}}function vV(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),(0,lu.clean)(i),r}function $3e(e,t,r,n){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:l}=bV(e,t,r,n);let c;const u=new Uint8Array(4),h=(0,lu.createView)(u),g=new Uint8Array(a.outputLen);for(let k=1,R=0;R<o;k++,R+=a.outputLen){const F=s.subarray(R,R+a.outputLen);h.setInt32(0,k,!1),(c=l._cloneInto(c)).update(u).digestInto(g),F.set(g.subarray(0,F.length));for(let D=1;D<i;D++){a._cloneInto(c).update(g).digestInto(g);for(let $=0;$<F.length;$++)F[$]^=g[$]}}return vV(a,l,s,c,g)}async function F3e(e,t,r,n){const{c:i,dkLen:o,asyncTick:s,DK:a,PRF:l,PRFSalt:c}=bV(e,t,r,n);let u;const h=new Uint8Array(4),g=(0,lu.createView)(h),k=new Uint8Array(l.outputLen);for(let R=1,F=0;F<o;R++,F+=l.outputLen){const D=a.subarray(F,F+l.outputLen);g.setInt32(0,R,!1),(u=c._cloneInto(u)).update(h).digestInto(k),D.set(k.subarray(0,D.length)),await(0,lu.asyncLoop)(i-1,s,()=>{l._cloneInto(u).update(k).digestInto(k);for(let $=0;$<D.length;$++)D[$]^=k[$]})}return vV(l,c,a,u,k)}var Xo={};const D3e=["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"],H3e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],K3e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V3e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],W3e=["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","academie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquerir","acronyme","acteur","actif","actuel","adepte","adequat","adhesif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aerer","aeronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agreable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algebre","algue","aliener","aliment","alleger","alliage","allouer","allumer","alourdir","alpaga","altesse","alveole","amateur","ambigu","ambre","amenager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","aneantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","aperitif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arteriel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","banniere","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","belier","belote","benefice","berceau","berger","berline","bermuda","besace","besogne","betail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","breche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafeine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","camera","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cedille","ceinture","celeste","cellule","cendrier","censurer","central","cercle","cerebral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chequier","chercher","cheval","chien","chiffre","chignon","chimere","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinema","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohesion","coiffer","coincer","colere","colibri","colline","colmater","colonel","combat","comedie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortege","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","creature","crediter","cremeux","creuser","crevette","cribler","crier","cristal","critere","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillere","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","debattre","debiter","deborder","debrider","debutant","decaler","decembre","dechirer","decider","declarer","decorer","decrire","decupler","dedale","deductif","deesse","defensif","defiler","defrayer","degager","degivrer","deglutir","degrafer","dejeuner","delice","deloger","demander","demeurer","demolir","denicher","denouer","dentelle","denuder","depart","depenser","dephaser","deplacer","deposer","deranger","derober","desastre","descente","desert","designer","desobeir","dessiner","destrier","detacher","detester","detourer","detresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","differer","digerer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","eblouir","ecarter","echarpe","echelle","eclairer","eclipse","eclore","ecluse","ecole","economie","ecorce","ecouter","ecraser","ecremer","ecrivain","ecrou","ecume","ecureuil","edifier","eduquer","effacer","effectif","effigie","effort","effrayer","effusion","egaliser","egarer","ejecter","elaborer","elargir","electron","elegant","elephant","eleve","eligible","elitisme","eloge","elucider","eluder","emballer","embellir","embryon","emeraude","emission","emmener","emotion","emouvoir","empereur","employer","emporter","emprise","emulsion","encadrer","enchere","enclave","encoche","endiguer","endosser","endroit","enduire","energie","enfance","enfermer","enfouir","engager","engin","englober","enigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","enumerer","envahir","enviable","envoyer","enzyme","eolien","epaissir","epargne","epatant","epaule","epicerie","epidemie","epier","epilogue","epine","episode","epitaphe","epoque","epreuve","eprouver","epuisant","equerre","equipe","eriger","erosion","erreur","eruption","escalier","espadon","espece","espiegle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","etagere","etaler","etanche","etatique","eteindre","etendoir","eternel","ethanol","ethique","ethnie","etirer","etoffer","etoile","etonnant","etourdir","etrange","etroit","etude","euphorie","evaluer","evasion","eventail","evidence","eviter","evolutif","evoquer","exact","exagerer","exaucer","exceller","excitant","exclusif","excuse","executer","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expedier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","febrile","feconder","federer","felin","femme","femur","fendoir","feodal","fermer","feroce","ferveur","festival","feuille","feutre","fevrier","fiasco","ficeler","fictif","fidele","figure","filature","filetage","filiere","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fleau","fleche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougere","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fregate","freiner","frelon","fremir","frenesie","frere","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","geant","gelatine","gelule","gendarme","general","genie","genou","gentil","geologie","geometre","geranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyere","guepard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","helium","hematome","herbe","herisson","hermine","heron","hesiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogene","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiene","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","imperial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inedit","ineptie","inexact","infini","infliger","informer","infusion","ingerer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irreel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvenile","kayak","kimono","kiosque","label","labial","labourer","lacerer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","legal","leger","legume","lessive","lettre","levier","lexique","lezard","liasse","liberer","libre","licence","licorne","liege","lievre","ligature","ligoter","ligue","limer","limite","limonade","limpide","lineaire","lingot","lionceau","liquide","lisiere","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumiere","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","malefice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","materiel","matiere","matraque","maudire","maussade","mauve","maximal","mechant","meconnu","medaille","medecin","mediter","meduse","meilleur","melange","melodie","membre","memoire","menacer","mener","menhir","mensonge","mentor","mercredi","merite","merle","messager","mesure","metal","meteore","methode","metier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mineral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murene","murmure","muscle","museum","musicien","mutation","muter","mutuel","myriade","myrtille","mystere","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nebuleux","nectar","nefaste","negation","negliger","negocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numero","nuptial","nuque","nutritif","obeir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","ocean","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onereux","onirique","opale","opaque","operer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygene","ozone","paisible","palace","palmares","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pasteque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pelican","pelle","pelouse","peluche","pendule","penetrer","penible","pensif","penurie","pepite","peplum","perdrix","perforer","periode","permuter","perplexe","persil","perte","peser","petale","petit","petrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","piece","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poesie","poete","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponderer","poney","portique","position","posseder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","precieux","predire","prefixe","prelude","prenom","presence","pretexte","prevoir","primitif","prince","prison","priver","probleme","proceder","prodige","profond","progres","proie","projeter","prologue","promener","propre","prospere","proteger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quietude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","reactif","reagir","realiser","reanimer","recevoir","reciter","reclamer","recolter","recruter","reculer","recycler","rediger","redouter","refaire","reflexe","reformer","refrain","refuge","regalien","region","reglage","regulier","reiterer","rejeter","rejouer","relatif","relever","relief","remarque","remede","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","reserve","resineux","resoudre","respect","rester","resultat","retablir","retenir","reticule","retomber","retracer","reunion","reussir","revanche","revivre","revolte","revulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","riviere","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scelerat","scenario","sceptre","schema","science","scinder","score","scrutin","sculpter","seance","secable","secher","secouer","secreter","sedatif","seduire","seigneur","sejour","selectif","semaine","sembler","semence","seminal","senateur","sensible","sentence","separer","sequence","serein","sergent","serieux","serrure","serum","service","sesame","sevir","sevrage","sextuple","sideral","siecle","sieger","siffler","sigle","signal","silence","silicium","simple","sincere","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","special","sphere","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succes","sucre","suffixe","suggerer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symetrie","synapse","syntaxe","systeme","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","temoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tetine","texte","theme","theorie","therapie","thorax","tibia","tiede","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolerant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trefle","tremper","tresor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","vegetal","vehicule","veinard","veloce","vendredi","venerer","venger","venimeux","ventouse","verdure","verin","vernir","verrou","verser","vertu","veston","veteran","vetuste","vexant","vexer","viaduc","viande","victoire","vidange","video","vignette","vigueur","vilain","village","vinaigre","violon","vipere","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xenon","yacht","zebre","zenith","zeste","zoologie"],q3e=["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"],Z3e=["abaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accion","aceite","acelga","acento","aceptar","acido","aclarar","acne","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aereo","afectar","aficion","afinar","afirmar","agil","agitar","agonia","agosto","agotar","agregar","agrio","agua","agudo","aguila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacran","alambre","alarma","alba","album","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodon","aliado","aliento","alivio","alma","almeja","almibar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ambar","ambito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","anden","anemia","angulo","anillo","animo","anis","anotar","antena","antiguo","antojo","anual","anular","anuncio","anadir","anejo","ano","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","arana","arar","arbitro","arbol","arbusto","archivo","arco","arder","ardilla","arduo","area","arido","aries","armonia","arnes","aroma","arpa","arpon","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","aspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","atico","atleta","atomo","atraer","atroz","atun","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avion","aviso","ayer","ayuda","ayuno","azafran","azar","azote","azucar","azufre","azul","baba","babor","bache","bahia","baile","bajar","balanza","balcon","balde","bambu","banco","banda","bano","barba","barco","barniz","barro","bascula","baston","basura","batalla","bateria","batir","batuta","baul","bazar","bebe","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsai","borde","borrar","bosque","bote","botin","boveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufon","buho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzon","caballo","cabeza","cabina","cabra","cacao","cadaver","cadena","caer","cafe","caida","caiman","caja","cajon","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cancer","candil","canela","canguro","canica","canto","cana","canon","caoba","caos","capaz","capitan","capote","captar","capucha","cara","carbon","carcel","careta","carga","carino","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","celebre","celoso","celula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","cesped","cetro","chacal","chaleco","champu","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclon","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipres","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clinica","cobre","coccion","cochino","cocina","coco","codigo","codo","cofre","coger","cohete","cojin","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","comodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazon","corbata","corcho","cordon","corona","correr","coser","cosmos","costa","craneo","crater","crear","crecer","creido","crema","cria","crimen","cripta","crisis","cromo","cronica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupon","cupula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","datil","deber","debil","decada","decir","dedo","defensa","definir","dejar","delfin","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvio","detalle","detener","deuda","dia","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","dificil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseno","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragon","droga","ducha","duda","duelo","dueno","dulce","duo","duque","durar","dureza","duro","ebano","ebrio","echar","eco","ecuador","edad","edicion","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","elite","elixir","elogio","eludir","embudo","emitir","emocion","empate","empeno","empleo","empresa","enano","encargo","enchufe","encia","enemigo","enero","enfado","enfermo","engano","enigma","enlace","enorme","enredo","ensayo","ensenar","entero","entrar","envase","envio","epoca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espia","esposa","espuma","esqui","estar","este","estilo","estufa","etapa","eterno","etica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","exito","experto","explicar","exponer","extremo","fabrica","fabula","fachada","facil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraon","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fertil","fervor","festin","fiable","fianza","fiar","fibra","ficcion","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","fluor","fobia","foca","fogata","fogon","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fragil","franja","frase","fraude","freir","freno","fresa","frio","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcion","funda","furgon","furia","fusil","futbol","futuro","gacela","gafas","gaita","gajo","gala","galeria","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilan","gemelo","gemir","gen","genero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","grafico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grua","grueso","grumo","grupo","guante","guapo","guardia","guerra","guia","guino","guion","guiso","guitarra","gusano","gustar","haber","habil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazana","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","heroe","hervir","hielo","hierro","higado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","humedo","humilde","humo","hundir","huracan","hurto","icono","ideal","idioma","idolo","iglesia","iglu","igual","ilegal","ilusion","imagen","iman","imitar","impar","imperio","imponer","impulso","incapaz","indice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interes","intimo","intuir","inutil","invierno","ira","iris","ironia","isla","islote","jabali","jabon","jamon","jarabe","jardin","jarra","jaula","jazmin","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","jupiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladron","lagarto","lagrima","laguna","laico","lamer","lamina","lampara","lana","lancha","langosta","lanza","lapiz","largo","larva","lastima","lata","latex","latir","laurel","lavar","lazo","leal","leccion","leche","lector","leer","legion","legumbre","lejano","lengua","lento","lena","leon","leopardo","lesion","letal","letra","leve","leyenda","libertad","libro","licor","lider","lidiar","lienzo","liga","ligero","lima","limite","limon","limpio","lince","lindo","linea","lingote","lino","linterna","liquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locion","loco","locura","logica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maiz","maldad","maleta","malla","malo","mama","mambo","mamut","manco","mando","manejar","manga","maniqui","manjar","mano","manso","manta","manana","mapa","maquina","mar","marco","marea","marfil","margen","marido","marmol","marron","martes","marzo","masa","mascara","masivo","matar","materia","matiz","matriz","maximo","mayor","mazorca","mecha","medalla","medio","medula","mejilla","mejor","melena","melon","memoria","menor","mensaje","mente","menu","mercado","merengue","merito","mes","meson","meta","meter","metodo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millon","mimo","mina","minero","minimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocion","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mono","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","movil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muneca","mural","muro","musculo","museo","musgo","musica","muslo","nacar","nacion","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","nausea","naval","nave","navidad","necio","nectar","negar","negocio","negro","neon","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","ninez","nino","nitido","nivel","nobleza","noche","nomina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nucleo","nudillo","nudo","nuera","nueve","nuez","nulo","numero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oceano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oido","oir","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcion","opera","opinar","oponer","optar","optica","opuesto","oracion","orador","oral","orbita","orca","orden","oreja","organo","orgia","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadia","oscuro","osezno","oso","ostra","otono","otro","oveja","ovulo","oxido","oxigeno","oyente","ozono","pacto","padre","paella","pagina","pago","pais","pajaro","palabra","palco","paleta","palido","palma","paloma","palpar","pan","panal","panico","pantera","panuelo","papa","papel","papilla","paquete","parar","parcela","pared","parir","paro","parpado","parque","parrafo","parte","pasar","paseo","pasion","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peaton","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldano","pelea","peligro","pellejo","pelo","peluca","pena","pensar","penon","peon","peor","pepino","pequeno","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pesimo","pestana","petalo","petroleo","pez","pezuna","picar","pichon","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pina","piojo","pipa","pirata","pisar","piscina","piso","pista","piton","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesia","poeta","polen","policia","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcion","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","principe","prision","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","proximo","prueba","publico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmon","pulpo","pulso","puma","punto","punal","puno","pupa","pupila","pure","quedar","queja","quemar","querer","queso","quieto","quimica","quince","quitar","rabano","rabia","rabo","racion","radical","raiz","rama","rampa","rancho","rango","rapaz","rapido","rapto","rasgo","raspa","rato","rayo","raza","razon","reaccion","realidad","rebano","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refran","refugio","regalo","regir","regla","regreso","rehen","reino","reir","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reves","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rigido","rigor","rincon","rinon","rio","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sabado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmon","salon","salsa","salto","salud","salvar","samba","sancion","sandia","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarten","sastre","satan","sauna","saxofon","seccion","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","senal","senor","separar","sepia","sequia","ser","serie","sermon","servir","sesenta","sesion","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","silaba","silbar","silencio","silla","simbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","solido","soltar","solucion","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sosten","sotano","suave","subir","suceso","sudor","suegra","suelo","sueno","suerte","sufrir","sujeto","sultan","sumar","superar","suplir","suponer","supremo","sur","surco","sureno","surgir","susto","sutil","tabaco","tabique","tabla","tabu","taco","tacto","tajo","talar","talco","talento","talla","talon","tamano","tambor","tango","tanque","tapa","tapete","tapia","tapon","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazon","teatro","techo","tecla","tecnica","tejado","tejer","tejido","tela","telefono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoria","terapia","terco","termino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburon","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","timido","timo","tinta","tio","tipico","tipo","tira","tiron","titan","titere","titulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","torax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","toxico","trabajo","tractor","traer","trafico","trago","traje","tramo","trance","trato","trauma","trazar","trebol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberia","tubo","tuerto","tumba","tumor","tunel","tunica","turbina","turismo","turno","tutor","ubicar","ulcera","umbral","unidad","unir","universo","uno","untar","una","urbano","urbe","urgente","urna","usar","usuario","util","utopia","uva","vaca","vacio","vacuna","vagar","vago","vaina","vajilla","vale","valido","valle","valor","valvula","vampiro","vara","variar","varon","vaso","vecino","vector","vehiculo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","via","viaje","vibrar","vicio","victima","vida","video","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vinedo","violin","viral","virgo","virtud","visor","vispera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcan","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"],G3e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],X3e=["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"],Q3e=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"];Object.defineProperty(Xo,"__esModule",{value:!0});const Qs={};Xo.wordlists=Qs;let Fn;var Bl=Xo._default=Fn;try{Bl=Xo._default=Fn=D3e,Qs.czech=Fn}catch{}try{Bl=Xo._default=Fn=H3e,Qs.chinese_simplified=Fn}catch{}try{Bl=Xo._default=Fn=K3e,Qs.chinese_traditional=Fn}catch{}try{Bl=Xo._default=Fn=V3e,Qs.korean=Fn}catch{}try{Bl=Xo._default=Fn=W3e,Qs.french=Fn}catch{}try{Bl=Xo._default=Fn=q3e,Qs.italian=Fn}catch{}try{Bl=Xo._default=Fn=Z3e,Qs.spanish=Fn}catch{}try{Bl=Xo._default=Fn=G3e,Qs.japanese=Fn,Qs.JA=Fn}catch{}try{Bl=Xo._default=Fn=X3e,Qs.portuguese=Fn}catch{}try{Bl=Xo._default=Fn=Q3e,Qs.english=Fn,Qs.EN=Fn}catch{}Object.defineProperty(Il,"__esModule",{value:!0});const Y3e=Pa,wV=Ci,EV=$6,J3e=Zr,b1=Xo;let K0=b1._default;const KR="Invalid mnemonic",Oh="Invalid entropy",e8e="Invalid mnemonic checksum",_V=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function V0(e){return(e||"").normalize("NFKD")}function SV(e,t,r){for(;e.length<r;)e=t+e;return e}function kV(e){return parseInt(e,2)}function xV(e){return e.map(t=>SV(t.toString(2),"0",8)).join("")}function AV(e){const t=e.length*8/32,r=Y3e.sha256(Uint8Array.from(e));return xV(Array.from(r)).slice(0,t)}function OV(e){return"mnemonic"+(e||"")}function t8e(e,t){const r=Uint8Array.from(Fe.from(V0(e),"utf8")),n=Uint8Array.from(Fe.from(OV(V0(t)),"utf8")),i=EV.pbkdf2(wV.sha512,r,n,{c:2048,dkLen:64});return Fe.from(i)}Il.mnemonicToSeedSync=t8e;function r8e(e,t){const r=Uint8Array.from(Fe.from(V0(e),"utf8")),n=Uint8Array.from(Fe.from(OV(V0(t)),"utf8"));return EV.pbkdf2Async(wV.sha512,r,n,{c:2048,dkLen:64}).then(i=>Fe.from(i))}var n8e=Il.mnemonicToSeed=r8e;function PV(e,t){if(t=t||K0,!t)throw new Error(_V);const r=V0(e).split(" ");if(r.length%3!==0)throw new Error(KR);const n=r.map(c=>{const u=t.indexOf(c);if(u===-1)throw new Error(KR);return SV(u.toString(2),"0",11)}).join(""),i=Math.floor(n.length/33)*32,o=n.slice(0,i),s=n.slice(i),a=o.match(/(.{1,8})/g).map(kV);if(a.length<16)throw new Error(Oh);if(a.length>32)throw new Error(Oh);if(a.length%4!==0)throw new Error(Oh);const l=Fe.from(a);if(AV(l)!==s)throw new Error(e8e);return l.toString("hex")}Il.mnemonicToEntropy=PV;function TV(e,t){if(Fe.isBuffer(e)||(e=Fe.from(e,"hex")),t=t||K0,!t)throw new Error(_V);if(e.length<16)throw new TypeError(Oh);if(e.length>32)throw new TypeError(Oh);if(e.length%4!==0)throw new TypeError(Oh);const r=xV(Array.from(e)),n=AV(e),i=(r+n).match(/(.{1,11})/g).map(o=>{const s=kV(o);return t[s]});return t[0]===""?i.join(""):i.join(" ")}var i8e=Il.entropyToMnemonic=TV;function o8e(e,t,r){if(e=e||128,e%32!==0)throw new TypeError(Oh);return t=t||(n=>Fe.from(J3e.randomBytes(n))),TV(t(e/8),r)}Il.generateMnemonic=o8e;function s8e(e,t){try{PV(e,t)}catch{return!1}return!0}Il.validateMnemonic=s8e;function a8e(e){const t=b1.wordlists[e];if(t)K0=t;else throw new Error('Could not find wordlist for language "'+e+'"')}Il.setDefaultWordlist=a8e;function u8e(){if(!K0)throw new Error("No Default Wordlist set");return Object.keys(b1.wordlists).filter(e=>e==="JA"||e==="EN"?!1:b1.wordlists[e].every((t,r)=>t===K0[r]))[0]}Il.getDefaultWordlist=u8e;var l8e=Xo;Il.wordlists=l8e.wordlists;let IV=class extends JL{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Rse(e);const r=Jx(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),id(i)}update(e){return X8(this),this.iHash.update(e),this}digestInto(e){X8(this),R4(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e=e,e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const BV=(e,t,r)=>new IV(e,t).update(r).digest();BV.create=(e,t)=>new IV(e,t);const c8e=uae;function f8e(e){return o$(Gi(e))}function VR(e,t){return BV(c8e,e,t)}const wr=e=>Sae(e);function d8e(e){if(gi(e.isPoint(wr("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),gi(!e.isPoint(wr("030000000000000000000000000000000000000000000000000000000000000005"))),gi(e.isPrivate(wr("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),gi(e.isPrivate(wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),gi(!e.isPrivate(wr("0000000000000000000000000000000000000000000000000000000000000000"))),gi(!e.isPrivate(wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),gi(!e.isPrivate(wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),gi(Wl(e.pointFromScalar(wr("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af")),wr("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))===0),e.xOnlyPointAddTweak){gi(e.xOnlyPointAddTweak(wr("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===null);let t=e.xOnlyPointAddTweak(wr("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),wr("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));gi(Wl(t.xOnlyPubkey,wr("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))===0&&t.parity===1),t=e.xOnlyPointAddTweak(wr("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),wr("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47"))}gi(Wl(e.pointAddScalar(wr("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),wr("0000000000000000000000000000000000000000000000000000000000000003")),wr("02c6047f9441ed7d6d3045406e95c07cd85c778e4b8cef3ca7abac09b95c709ee5"))===0),gi(Wl(e.privateAdd(wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),wr("0000000000000000000000000000000000000000000000000000000000000002")),wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===0),e.privateNegate&&(gi(Wl(e.privateNegate(wr("0000000000000000000000000000000000000000000000000000000000000001")),wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))===0),gi(Wl(e.privateNegate(wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e")),wr("0000000000000000000000000000000000000000000000000000000000000003"))===0),gi(Wl(e.privateNegate(wr("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af")),wr("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))===0)),gi(Wl(e.sign(wr("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),wr("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")),wr("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))===0),gi(e.verify(wr("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),wr("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),wr("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&gi(Wl(e.signSchnorr(wr("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),wr("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),wr("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906")),wr("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))===0),e.verifySchnorr&&gi(e.verifySchnorr(wr("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),wr("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),wr("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}function gi(e){if(!e)throw new Error("ecc library invalid")}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function q9(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function NV(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(r=>typeof r=="string"):t.every(r=>Number.isSafeInteger(r)):!1}function h8e(e){if(typeof e!="function")throw new Error("function expected");return!0}function Z9(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function uO(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function G9(e){if(!Array.isArray(e))throw new Error("array expected")}function MV(e,t){if(!NV(!0,t))throw new Error(`${e}: array of strings expected`)}function p8e(e,t){if(!NV(!1,t))throw new Error(`${e}: array of numbers expected`)}function RV(...e){const t=o=>o,r=(o,s)=>a=>o(s(a)),n=e.map(o=>o.encode).reduceRight(r,t),i=e.map(o=>o.decode).reduce(r,t);return{encode:n,decode:i}}function g8e(e){const t=e.split(""),r=t.length;MV("alphabet",t);const n=new Map(t.map((i,o)=>[i,o]));return{encode:i=>(G9(i),i.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return t[o]})),decode:i=>(G9(i),i.map(o=>{Z9("alphabet.decode",o);const s=n.get(o);if(s===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return s}))}}function y8e(e=""){return Z9("join",e),{encode:t=>(MV("join.decode",t),t.join(e)),decode:t=>(Z9("join.decode",t),t.split(e))}}function WR(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(G9(e),!e.length)return[];let n=0;const i=[],o=Array.from(e,a=>{if(uO(a),a<0||a>=t)throw new Error(`invalid integer: ${a}`);return a}),s=o.length;for(;;){let a=0,l=!0;for(let c=n;c<s;c++){const u=o[c],h=t*a,g=h+u;if(!Number.isSafeInteger(g)||h/t!==a||g-u!==h)throw new Error("convertRadix: carry overflow");const k=g/r;a=g%r;const R=Math.floor(k);if(o[c]=R,!Number.isSafeInteger(R)||R*r+a!==g)throw new Error("convertRadix: carry overflow");if(l)R?l=!1:n=c;else continue}if(i.push(a),l)break}for(let a=0;a<e.length-1&&e[a]===0;a++)i.push(0);return i.reverse()}function m8e(e){uO(e);const t=2**8;return{encode:r=>{if(!q9(r))throw new Error("radix.encode input should be Uint8Array");return WR(Array.from(r),t,e)},decode:r=>(p8e("radix.decode",r),Uint8Array.from(WR(r,e,t)))}}function b8e(e,t){return uO(e),h8e(t),{encode(r){if(!q9(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!q9(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=r.slice(-e),o=t(n).slice(0,e);for(let s=0;s<e;s++)if(o[s]!==i[s])throw new Error("Invalid checksum");return n}}}const v8e=e=>RV(m8e(58),g8e(e),y8e("")),w8e=v8e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),E8e=e=>RV(b8e(4,t=>e(e(t))),w8e),_8e=E8e;function S8e(e){return{lang:(e==null?void 0:e.lang)??void 0,message:e==null?void 0:e.message,abortEarly:(e==null?void 0:e.abortEarly)??void 0,abortPipeEarly:(e==null?void 0:e.abortPipeEarly)??void 0}}function k8e(e,t){var r;return(r=void 0)==null?void 0:r.get(t)}function W0(e){var t,r;const n=typeof e;return n==="string"?`"${e}"`:n==="number"||n==="bigint"||n==="boolean"?`${e}`:n==="object"||n==="function"?(e&&((r=(t=Object.getPrototypeOf(e))==null?void 0:t.constructor)==null?void 0:r.name))??"null":n}function $c(e,t,r,n,i){const o=i&&"input"in i?i.input:r.value,s=(i==null?void 0:i.expected)??e.expects??null,a=(i==null?void 0:i.received)??W0(o),l={kind:e.kind,type:e.type,input:o,expected:s,received:a,message:`Invalid ${t}: ${s?`Expected ${s} but r`:"R"}eceived ${a}`,requirement:e.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:n.lang,abortEarly:n.abortEarly,abortPipeEarly:n.abortPipeEarly},c=e.kind==="schema",u=(i==null?void 0:i.message)??e.message??k8e(e.reference,l.lang)??(c?(l.lang,void 0):null)??n.message??(l.lang,void 0);u&&(l.message=typeof u=="function"?u(l):u),c&&(r.typed=!1),r.issues?r.issues.push(l):r.issues=[l]}var x8e=class extends Error{constructor(e){super(e[0].message),vt(this,"issues"),this.name="ValiError",this.issues=e}};function F6(e){return{kind:"validation",type:"integer",reference:F6,async:!1,expects:null,requirement:Number.isInteger,message:e,_run(t,r){return t.typed&&!this.requirement(t.value)&&$c(this,"integer",t,r),t}}}function lO(e,t){return{kind:"validation",type:"length",reference:lO,async:!1,expects:`${e}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value.length!==this.requirement&&$c(this,"length",r,n,{received:`${r.value.length}`}),r}}}function D6(e,t){return{kind:"validation",type:"max_value",reference:D6,async:!1,expects:`<=${e instanceof Date?e.toJSON():W0(e)}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value>this.requirement&&$c(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():W0(r.value)}),r}}}function H6(e,t){return{kind:"validation",type:"min_value",reference:H6,async:!1,expects:`>=${e instanceof Date?e.toJSON():W0(e)}`,requirement:e,message:t,_run(r,n){return r.typed&&r.value<this.requirement&&$c(this,"value",r,n,{received:r.value instanceof Date?r.value.toJSON():W0(r.value)}),r}}}function CV(e,t){return{kind:"validation",type:"regex",reference:CV,async:!1,expects:`${e}`,requirement:e,message:t,_run(r,n){return r.typed&&!this.requirement.test(r.value)&&$c(this,"format",r,n),r}}}function K6(e,t){return{kind:"schema",type:"instance",reference:K6,expects:e.name,async:!1,class:e,message:t,_run(r,n){return r.value instanceof this.class?r.typed=!0:$c(this,"type",r,n),r}}}function V6(e){return{kind:"schema",type:"number",reference:V6,expects:"number",async:!1,message:e,_run(t,r){return typeof t.value=="number"&&!isNaN(t.value)?t.typed=!0:$c(this,"type",t,r),t}}}function X9(e,t){return{kind:"schema",type:"object",reference:X9,expects:"Object",async:!1,entries:e,message:t,_run(r,n){var i;const o=r.value;if(o&&typeof o=="object"){r.typed=!0,r.value={};for(const s in this.entries){const a=o[s],l=this.entries[s]._run({typed:!1,value:a},n);if(l.issues){const c={type:"object",origin:"value",input:o,key:s,value:a};for(const u of l.issues)u.path?u.path.unshift(c):u.path=[c],(i=r.issues)==null||i.push(u);if(r.issues||(r.issues=l.issues),n.abortEarly){r.typed=!1;break}}l.typed||(r.typed=!1),(l.value!==void 0||s in o)&&(r.value[s]=l.value)}}else $c(this,"type",r,n);return r}}}function jV(e){return{kind:"schema",type:"string",reference:jV,expects:"string",async:!1,message:e,_run(t,r){return typeof t.value=="string"?t.typed=!0:$c(this,"type",t,r),t}}}function Zl(e,t,r){const n=e._run({typed:!1,value:t},S8e(r));if(n.issues)throw new x8e(n.issues);return n.value}function rm(...e){return{...e[0],pipe:e,_run(t,r){for(const n of e)if(n.kind!=="metadata"){if(t.issues&&(n.kind==="schema"||n.kind==="transformation")){t.typed=!1;break}(!t.issues||!r.abortEarly&&!r.abortPipeEarly)&&(t=n._run(t,r))}return t}}}const Q9=rm(V6(),F6(),H6(0),D6(4294967295)),A8e=rm(V6(),F6(),H6(0),D6(2147483647)),O8e=rm(V6(),F6(),H6(0),D6(255)),cS=rm(K6(Uint8Array),lO(32)),P8e=rm(K6(Uint8Array),lO(33)),T8e=X9({wif:O8e,bip32:X9({public:Q9,private:Q9})}),I8e=rm(jV(),CV(/^(m\/)?(\d+'?\/)*\d+'?$/));function B8e(e,t,r){if(t.length!==32)throw new TypeError("Invalid privateKey length");var n=new Uint8Array(34),i=new DataView(n.buffer);return i.setUint8(0,e),n.set(t,1),n[33]=1,n}function N8e(e){return ay.encode(B8e(e.version,e.privateKey))}const qR=_8e(Gi),ZR={encode:e=>qR.encode(e),decode:e=>qR.decode(e)};function M8e(e){d8e(e);const t={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},r=2147483648;function n(g){return g.length===32?g:g.slice(1,33)}class i{constructor(k,R){vt(this,"__D"),vt(this,"__Q"),vt(this,"lowR",!1),this.__D=k,this.__Q=R}get publicKey(){return this.__Q===void 0&&(this.__Q=e.pointFromScalar(this.__D,!0)),this.__Q}get privateKey(){return this.__D}sign(k,R){if(!this.privateKey)throw new Error("Missing private key");if(R===void 0&&(R=this.lowR),R===!1)return e.sign(k,this.privateKey);{let F=e.sign(k,this.privateKey);const D=new Uint8Array(32);let $=0;for(;F[0]>127;)$++,Jd(D,0,$,"LE"),F=e.sign(k,this.privateKey,D);return F}}signSchnorr(k){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return e.signSchnorr(k,this.privateKey)}verify(k,R){return e.verify(k,this.publicKey,R)}verifySchnorr(k,R){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(k,this.publicKey.subarray(1,33),R)}}class o extends i{constructor(k,R,F,D,$=0,B=0,U=0){super(k,R),vt(this,"chainCode"),vt(this,"network"),vt(this,"__DEPTH"),vt(this,"__INDEX"),vt(this,"__PARENT_FINGERPRINT"),this.chainCode=F,this.network=D,this.__DEPTH=$,this.__INDEX=B,this.__PARENT_FINGERPRINT=U,Zl(T8e,D)}get depth(){return this.__DEPTH}get index(){return this.__INDEX}get parentFingerprint(){return this.__PARENT_FINGERPRINT}get identifier(){return f8e(this.publicKey)}get fingerprint(){return this.identifier.slice(0,4)}get compressed(){return!0}isNeutered(){return this.__D===void 0}neutered(){return u(this.publicKey,this.chainCode,this.network,this.depth,this.index,this.parentFingerprint)}toBase58(){const k=this.network,R=this.isNeutered()?k.bip32.public:k.bip32.private,F=new Uint8Array(78);return Jd(F,0,R,"BE"),dN(F,4,this.depth),Jd(F,5,this.parentFingerprint,"BE"),Jd(F,9,this.index,"BE"),F.set(this.chainCode,13),this.isNeutered()?F.set(this.publicKey,45):(dN(F,45,0),F.set(this.privateKey,46)),ZR.encode(F)}toWIF(){if(!this.privateKey)throw new TypeError("Missing private key");return N8e({version:this.network.wif,privateKey:this.privateKey})}derive(k){Zl(Q9,k);const R=k>=r,F=new Uint8Array(37);if(R){if(this.isNeutered())throw new TypeError("Missing private key for hardened child key");F[0]=0,F.set(this.privateKey,1),Jd(F,33,k,"BE")}else F.set(this.publicKey,0),Jd(F,33,k,"BE");const D=VR(this.chainCode,F),$=D.slice(0,32),B=D.slice(32);if(!e.isPrivate($))return this.derive(k+1);let U;if(this.isNeutered()){const q=e.pointAddScalar(this.publicKey,$,!0);if(q===null)return this.derive(k+1);U=u(q,B,this.network,this.depth+1,k,og(this.fingerprint,0,"BE"))}else{const q=e.privateAdd(this.privateKey,$);if(q==null)return this.derive(k+1);U=l(q,B,this.network,this.depth+1,k,og(this.fingerprint,0,"BE"))}return U}deriveHardened(k){if(typeof Zl(A8e,k)=="number")return this.derive(k+r);throw new TypeError("Expected UInt31, got "+k)}derivePath(k){Zl(I8e,k);let R=k.split("/");if(R[0]==="m"){if(this.parentFingerprint)throw new TypeError("Expected master, got child");R=R.slice(1)}return R.reduce((F,D)=>{let $;return D.slice(-1)==="'"?($=parseInt(D.slice(0,-1),10),F.deriveHardened($)):($=parseInt(D,10),F.derive($))},this)}tweak(k){return this.privateKey?this.tweakFromPrivateKey(k):this.tweakFromPublicKey(k)}tweakFromPublicKey(k){const R=n(this.publicKey);if(!e.xOnlyPointAddTweak)throw new Error("xOnlyPointAddTweak not supported by ecc library");const F=e.xOnlyPointAddTweak(R,k);if(!F||F.xOnlyPubkey===null)throw new Error("Cannot tweak public key!");const D=Uint8Array.from([F.parity===0?2:3]),$=_ae([D,F.xOnlyPubkey]);return new i(void 0,$)}tweakFromPrivateKey(k){const R=this.publicKey[0]===3||this.publicKey[0]===4&&(this.publicKey[64]&1)===1,F=(()=>{if(R){if(e.privateNegate)return e.privateNegate(this.privateKey);throw new Error("privateNegate not supported by ecc library")}else return this.privateKey})(),D=e.privateAdd(F,k);if(!D)throw new Error("Invalid tweaked private key!");return new i(D,void 0)}}function s(g,k){const R=ZR.decode(g);if(R.length!==78)throw new TypeError("Invalid buffer length");k=k||t;const F=og(R,0,"BE");if(F!==k.bip32.private&&F!==k.bip32.public)throw new TypeError("Invalid network version");const D=R[4],$=og(R,5,"BE");if(D===0&&$!==0)throw new TypeError("Invalid parent fingerprint");const B=og(R,9,"BE");if(D===0&&B!==0)throw new TypeError("Invalid index");const U=R.slice(13,45);let q;if(F===k.bip32.private){if(R[45]!==0)throw new TypeError("Invalid private key");const ee=R.slice(46,78);q=l(ee,U,k,D,B,$)}else{const ee=R.slice(45,78);q=u(ee,U,k,D,B,$)}return q}function a(g,k,R){return l(g,k,R)}function l(g,k,R,F,D,$){if(Zl(cS,g),Zl(cS,k),R=R||t,!e.isPrivate(g))throw new TypeError("Private key not in range [1, n)");return new o(g,void 0,k,R,F,D,$)}function c(g,k,R){return u(g,k,R)}function u(g,k,R,F,D,$){if(Zl(P8e,g),Zl(cS,k),R=R||t,!e.isPoint(g))throw new TypeError("Point is not on the curve");return new o(void 0,g,k,R,F,D,$)}function h(g,k){if(Zl(K6(Uint8Array),g),g.length<16)throw new TypeError("Seed should be at least 128 bits");if(g.length>64)throw new TypeError("Seed should be at most 512 bits");k=k||t;const R=VR(Eae("Bitcoin seed"),g),F=R.slice(0,32),D=R.slice(32);return a(F,D,k)}return{fromSeed:h,fromBase58:s,fromPublicKey:c,fromPrivateKey:a}}const R8e="text/plain",GR="btc",XR="brc20",QR="runes",YR="alkanes",W6="bip322",sw="ecdsa",aw="bip322-simple",UV=async(e=wn)=>await cn.get(`${bo(e)}/api/v1/fees/recommended`,{headers:{"Content-Type":"application/json"}}).then(t=>t.data),C8e=M8e(K4);nA(K4);async function j8e(e){const t=crypto.getRandomValues(new Uint8Array(32)),r=i8e(Fe.from(t)),n=await n8e(r);return C8e.fromSeed(n,Vr(e)).derivePath("m/44'/0'/0'/0/0").privateKey}const q6=(e,t)=>{try{const r=Vr(t),n=w$(e);if(n.version===r.pubKeyHash)return xce;if(n.version===r.scriptHash){const i=zn(n.hash);return i&&i.length===2&&i[0]===Qr.OP_0?Ace:zv}}catch{try{const r=oA(e);if(r.version===0&&r.data.length===20)return X3;if(r.version===0&&r.data.length===32)return Oce;if(r.version===1&&r.data.length===32)return kh}catch{return"unknown"}}return"unknown"},U8e=(e,t)=>{const r=Vr(t);return Ca(e,r)};function zV(e,t){const r=Vr(t);return Ca(e,r)}function uw(e,t){var r;const n=Cv({pubkey:Fe.from(e,"hex"),network:Vr(t)}),i=Ly({redeem:n,network:Vr(t)});return(r=i==null?void 0:i.redeem)==null?void 0:r.output}function qi(e,t,r){var n;if(!e||typeof e!="object")return r;for(const i of t)if(e[i]!==void 0)return((n=e[i])==null?void 0:n.toString())||r;return r}function n3(e,t,r){if(!e||typeof e!="object")return r;for(const n of t)if(e[n]!==void 0){const i=Number(e[n]);return isNaN(i)?r:i}return r}function qg(e,t="unknown",r){var n,i;if(!e)return console.warn(`Invalid inscription data from source: ${t}`),{id:"",inscriptionId:"",content:"",number:0,address:"",contentType:"unknown",output:"",location:"",preview:"",genesisTransaction:"",height:0,outputValue:0};const o=qi(e,["id","inscription_id","inscriptionId"],""),s=n3(e,["num","number","inscriptionNumber"],0),a=qi(e,["address","owner","ownerAddress"],""),l=qi(e,["content_type","contentType","mime","mimeType"],"unknown");let c=qi(e,["utxo_txid","txid","transaction_id"],""),u=n3(e,["vout","utxo_vout"],0),h=qi(e,["output"],"");h||c&&(h=`${c}:${u}`),h&&(!c||!u)&&(console.warn(`Invalid inscription location from source: ${t}`),c=h.split(":")[0],u=Number.parseInt(h.split(":")[1]));const g=n3(e,["output_value","value","outputValue","postage","satoshis"],0),k=n3(e,["height","block_height"],0);let R=qi(e,["genesis_tx_id","genesisTx","genesis_txid","genesisTransaction"],((i=(n=e.inscription_id)==null?void 0:n.split("i"))==null?void 0:i[0])||e.txid||"");const F=e.utxo_sat_offset!==void 0?e.utxo_sat_offset:0;if(!o)throw console.warn(`Invalid inscription data from source: ${t}`),new Error(`Invalid inscription data from source: ${t}`);if(!a)throw console.warn(`Invalid inscription address from source: ${t}`),new Error(`Invalid inscription address from source: ${t}`);if(!h)throw console.warn(`Invalid inscription output from source: ${t}`),new Error(`Invalid inscription output from source: ${t}`);if(!l)throw console.warn(`Invalid inscription content type from source: ${t}`),new Error(`Invalid inscription content type from source: ${t}`);return R||(R=o.split("i")[0]),{address:a,id:o,inscriptionId:o,number:s,outputValue:g,contentType:l,output:h,location:`${c}:${u}:${F}`,content:`${U3e(r)}/${o}`,preview:`${z3e(r)}/${o}`,genesisTransaction:R,height:k,offset:F}}function z8e(e,t="unknown"){const r=[];if(!e)return console.warn(`Invalid BRC20 balance data from source: ${t}`),r;if(e.data&&typeof e.data=="object")return Object.entries(e.data).forEach(([n,i])=>{const o=qi(i,["overall","overallBalance","total","totalBalance"],"0"),s=qi(i,["transferable","transferableBalance"],"na"),a=qi(i,["available","availableBalance"],"0");if(!o||!a){console.warn(`Invalid BRC20 balance data from source: ${t}`);return}const l={ticker:n,overall:o,transferable:s??"na",available:a};r.push(l)}),r;if(Array.isArray(e))return e.forEach(n=>{const i=qi(n,["ticker","tick","token"],"");if(!i){console.warn(`Missing ticker in BRC20 balance from source: ${t}`);return}const o=qi(n,["overall","overallBalance","total","totalBalance"],"0"),s=qi(n,["transferable","transferableBalance"],"0"),a=qi(n,["available","availableBalance"],"0");if(!o||!a){console.warn(`Invalid BRC20 balance data from source: ${t}`);return}const l={ticker:i,overall:o,transferable:s??"na",available:a};r.push(l)}),r;if(typeof e=="object"&&!Array.isArray(e)){const n=qi(e,["ticker","tick","token"],"");if(!n)return console.warn(`Missing ticker in BRC20 balance from source: ${t}`),r;const i=qi(e,["overall","overallBalance","total","totalBalance"],"0"),o=qi(e,["transferable","transferableBalance"],"0"),s=qi(e,["available","availableBalance"],"0");if(!i||!s)throw console.warn(`Invalid BRC20 balance data from source: ${t}`),new Error(`Invalid BRC20 balance data from source: ${t}`);const a={ticker:n,overall:i,transferable:o??"na",available:s};return r.push(a),r}return console.warn(`Unrecognized BRC20 balance format from source: ${t}`),r}class L8e{constructor(t,r){vt(this,"apiUrl",""),vt(this,"apiKey",""),vt(this,"networks"),this.networks={[hs]:{apiKey:yV,apiUrl:g1(mt.TESTNET4)},...r==null?void 0:r.networks},this.setNetwork(t)}getName(){return eF}setNetwork(t){this.networks[t]?(this.apiUrl=this.networks[t].apiUrl,this.apiKey=this.networks[t].apiKey):(this.apiUrl=g1(t),this.apiKey=this.networks.mainnet.apiKey)}async call(t,r,n){const i=`${this.apiUrl}${r}`;try{const o={headers:{"Content-Type":"application/json","api-key":this.apiKey}},s=t==="get"?await cn.get(i,o):await cn.post(i,n,o);if(!s||!s.data)throw new Error(`Invalid response from Maestro API: ${JSON.stringify(s)}`);return s.data}catch(o){throw console.error("MaestroDataSource.call error:",o),o}}async getAddressBtcBalance(t){return(await this.call("get",`/addresses/${t}/balance`)).data}async getAddressBrc20Balances(t){return await this.call("get",`/addresses/${t}/brc20`)}async getAddressInscriptions(t,r=0,n=10){let i,o=r,s=100,a=null;for(;o>0;){const h=Math.min(s,o),g=new URLSearchParams;g.append("count",h.toString()),i&&g.append("cursor",i);const k=`/addresses/${t}/inscriptions?${g.toString()}`;if(a=await this.call("get",k),!a.next_cursor&&o>h)return{...a,data:[]};i=a.next_cursor,o-=h}const l=new URLSearchParams;l.append("count",n.toString()),i&&l.append("cursor",i);const c=`/addresses/${t}/inscriptions?${l.toString()}`,u=await this.call("get",c);return{...u,data:u.data.map(h=>({...h,address:t}))}}async getInscriptionInfo(t){return await this.call("get",`/assets/inscriptions/${t}`)}async getBrc20ByTicker(t){return this.call("get",`/assets/brc20/${t}`)}async getRuneById(t){return this.call("get",`/assets/runes/${t}`)}async getRuneByName(t){return this.call("get",`/assets/runes/${t}`)}async getTransactionInfo(t){return this.call("get",`/rpc/transaction/${t}`)}async broadcastTransaction(t){return await this.call("post","/arpc/transaction/submit",t)}async getRawTransaction(t){return this.call("get",`/raw-transactions/${t}`)}async getRecommendedFees(){const t=(await this.call("get","/mempool/fee_rates")).data[0].sats_per_vb,r=t.median,n=t.min;return{fastFee:r,minFee:n}}async getOrdAddress(t){return this.call("get",`/inscriptions/${t}`)}}class $8e{constructor(t,r){vt(this,"apiUrl",""),vt(this,"networks"),vt(this,"network"),this.networks={[wn]:{apiUrl:bo("mainnet")},[_o]:{apiUrl:bo("testnet")},[hs]:{apiUrl:bo("testnet4")},[qs]:{apiUrl:bo("signet")},[Lc]:{apiUrl:bo("fractal-mainnet")},[ps]:{apiUrl:bo("fractal-testnet")},...r==null?void 0:r.networks},this.network=t,this.setNetwork(t)}getName(){return jce}setNetwork(t){this.networks[t]?this.apiUrl=this.networks[t].apiUrl:this.apiUrl=bo(t),this.network=t}async call(t,r,n){try{const i=`${this.apiUrl}${r}`,o={headers:{"Content-Type":t==="post"?"text/plain":"application/json"}};return(t==="get"?await cn.get(i,o):await cn.post(i,n,o)).data}catch(i){throw console.error("MempoolSpaceDataSource.call error:",i),i}}async getOutputValueByVOutIndex(t,r){const n=Date.now();for(;;)try{const i=await this.getTransaction(t);if(i!=null&&i.vout&&i.vout.length>0)return Math.floor(i.vout[r].value);if(Date.now()-n>6e4)return null;await new Promise(o=>setTimeout(o,5e3))}catch(i){if(console.error("Error fetching transaction output value:",i),Date.now()-n>6e4)return null;await new Promise(o=>setTimeout(o,5e3))}}async waitForTransaction(t){const r=Date.now();for(;;)try{if(await this.getTransaction(t))return console.log("Transaction found in mempool:",t),!0;if(Date.now()-r>6e4)return!1;await new Promise(n=>setTimeout(n,5e3))}catch{if(Date.now()-r>6e4)return!1;await new Promise(n=>setTimeout(n,5e3))}}async getAddressUtxos(t){if(t.startsWith("bcrt"))return[];const r=await this.call("get",`/api/address/${t}/utxo`),n=Ca(t,Vr(this.network));return r.map(i=>({...i,scriptPk:Fe.from(n).toString("hex")}))}async getTransaction(t){return await this.call("get",`/api/tx/${t}`)}async getRecommendedFees(){const t=await this.call("get","/api/v1/fees/recommended"),r=t.fastestFee,n=t.minimumFee;return{fastFee:r,minFee:n}}async broadcastTransaction(t){return await this.call("post","/api/tx",t)}}async function*F8e(e,t,r){const n=new Set;async function i(){const[o,s]=await Promise.race(n);return n.delete(o),s}for(const o of t){const s=(async()=>await r(o,t))().then(a=>[s,a]);n.add(s),n.size>=e&&(yield await i())}for(;n.size;)yield await i()}var D8e=F8e;const H8e=a$(D8e);var cO={},Nl={},Os={},fp={},fO={};(function(e){var t=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,O,V){m!=Array.prototype&&m!=Object.prototype&&(m[O]=V.value)},r=He;function n(m,O){if(O){var V=r;m=m.split(".");for(var fe=0;fe<m.length-1;fe++){var Ae=m[fe];Ae in V||(V[Ae]={}),V=V[Ae]}m=m[m.length-1],fe=V[m],O=O(fe),O!=fe&&O!=null&&t(V,m,{configurable:!0,writable:!0,value:O})}}function i(m){var O=0;return function(){return O<m.length?{done:!1,value:m[O++]}:{done:!0}}}function o(){o=function(){},r.Symbol||(r.Symbol=a)}function s(m,O){this.a=m,t(this,"description",{configurable:!0,writable:!0,value:O})}s.prototype.toString=function(){return this.a};var a=function(){function m(V){if(this instanceof m)throw new TypeError("Symbol is not a constructor");return new s("jscomp_symbol_"+(V||"")+"_"+O++,V)}var O=0;return m}();function l(){o();var m=r.Symbol.iterator;m||(m=r.Symbol.iterator=r.Symbol("Symbol.iterator")),typeof Array.prototype[m]!="function"&&t(Array.prototype,m,{configurable:!0,writable:!0,value:function(){return c(i(this))}}),l=function(){}}function c(m){return l(),m={next:m},m[r.Symbol.iterator]=function(){return this},m}function u(m,O){l(),m instanceof String&&(m+="");var V=0,fe={next:function(){if(V<m.length){var Ae=V++;return{value:O(Ae,m[Ae]),done:!1}}return fe.next=function(){return{done:!0,value:void 0}},fe.next()}};return fe[Symbol.iterator]=function(){return fe},fe}n("Array.prototype.entries",function(m){return m||function(){return u(this,function(O,V){return[O,V]})}});var h=He||self;function g(m,O,V){m=m.split("."),V=V||h,m[0]in V||typeof V.execScript>"u"||V.execScript("var "+m[0]);for(var fe;m.length&&(fe=m.shift());)m.length||O===void 0?V[fe]&&V[fe]!==Object.prototype[fe]?V=V[fe]:V=V[fe]={}:V[fe]=O}function k(m){var O=typeof m;if(O=="object")if(m){if(m instanceof Array)return"array";if(m instanceof Object)return O;var V=Object.prototype.toString.call(m);if(V=="[object Window]")return"object";if(V=="[object Array]"||typeof m.length=="number"&&typeof m.splice<"u"&&typeof m.propertyIsEnumerable<"u"&&!m.propertyIsEnumerable("splice"))return"array";if(V=="[object Function]"||typeof m.call<"u"&&typeof m.propertyIsEnumerable<"u"&&!m.propertyIsEnumerable("call"))return"function"}else return"null";else if(O=="function"&&typeof m.call>"u")return"object";return O}function R(m){var O=typeof m;return O=="object"&&m!=null||O=="function"}function F(m,O,V){g(m,O,V)}function D(m,O){function V(){}V.prototype=O.prototype,m.prototype=new V,m.prototype.constructor=m}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(m,O){for(var V,fe,Ae=1;Ae<arguments.length;Ae++){fe=arguments[Ae];for(V in fe)m[V]=fe[V];for(var $e=0;$e<$.length;$e++)V=$[$e],Object.prototype.hasOwnProperty.call(fe,V)&&(m[V]=fe[V])}}var U=Array.prototype.forEach?function(m,O){Array.prototype.forEach.call(m,O,void 0)}:function(m,O){for(var V=m.length,fe=typeof m=="string"?m.split(""):m,Ae=0;Ae<V;Ae++)Ae in fe&&O.call(void 0,fe[Ae],Ae,m)},q=Array.prototype.map?function(m,O){return Array.prototype.map.call(m,O,void 0)}:function(m,O){for(var V=m.length,fe=Array(V),Ae=typeof m=="string"?m.split(""):m,$e=0;$e<V;$e++)$e in Ae&&(fe[$e]=O.call(void 0,Ae[$e],$e,m));return fe};function ee(m,O,V){return 2>=arguments.length?Array.prototype.slice.call(m,O):Array.prototype.slice.call(m,O,V)}function ae(m,O,V,fe){var Ae="Assertion failed";if(V){Ae+=": "+V;var $e=fe}else m&&(Ae+=": "+m,$e=O);throw Error(Ae,$e||[])}function re(m,O,V){for(var fe=[],Ae=2;Ae<arguments.length;++Ae)fe[Ae-2]=arguments[Ae];return m||ae("",null,O,fe),m}function K(m,O,V){for(var fe=[],Ae=2;Ae<arguments.length;++Ae)fe[Ae-2]=arguments[Ae];typeof m!="string"&&ae("Expected string but got %s: %s.",[k(m),m],O,fe)}function C(m,O,V){for(var fe=[],Ae=2;Ae<arguments.length;++Ae)fe[Ae-2]=arguments[Ae];Array.isArray(m)||ae("Expected array but got %s: %s.",[k(m),m],O,fe)}function G(m,O){for(var V=[],fe=1;fe<arguments.length;++fe)V[fe-1]=arguments[fe];throw Error("Failure"+(m?": "+m:""),V)}function v(m,O,V,fe){for(var Ae=[],$e=3;$e<arguments.length;++$e)Ae[$e-3]=arguments[$e];m instanceof O||ae("Expected instanceof %s but got %s.",[I(O),I(m)],V,Ae)}function I(m){return m instanceof Function?m.displayName||m.name||"unknown type name":m instanceof Object?m.constructor.displayName||m.constructor.name||Object.prototype.toString.call(m):m===null?"null":typeof m}function p(m,O){if(this.c=m,this.b=O,this.a={},this.arrClean=!0,0<this.c.length){for(m=0;m<this.c.length;m++){O=this.c[m];var V=O[0];this.a[V.toString()]=new A(V,O[1])}this.arrClean=!0}}g("jspb.Map",p,void 0),p.prototype.g=function(){if(this.arrClean){if(this.b){var m=this.a,O;for(O in m)if(Object.prototype.hasOwnProperty.call(m,O)){var V=m[O].a;V&&V.g()}}}else{for(this.c.length=0,m=S(this),m.sort(),O=0;O<m.length;O++){var fe=this.a[m[O]];(V=fe.a)&&V.g(),this.c.push([fe.key,fe.value])}this.arrClean=!0}return this.c},p.prototype.toArray=p.prototype.g,p.prototype.Mc=function(m,O){for(var V=this.g(),fe=[],Ae=0;Ae<V.length;Ae++){var $e=this.a[V[Ae][0].toString()];w(this,$e);var dt=$e.a;dt?(re(O),fe.push([$e.key,O(m,dt)])):fe.push([$e.key,$e.value])}return fe},p.prototype.toObject=p.prototype.Mc,p.fromObject=function(m,O,V){O=new p([],O);for(var fe=0;fe<m.length;fe++){var Ae=m[fe][0],$e=V(m[fe][1]);O.set(Ae,$e)}return O};function _(m){this.a=0,this.b=m}_.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(_.prototype[Symbol.iterator]=function(){return this}),p.prototype.Jb=function(){return S(this).length},p.prototype.getLength=p.prototype.Jb,p.prototype.clear=function(){this.a={},this.arrClean=!1},p.prototype.clear=p.prototype.clear,p.prototype.Cb=function(m){m=m.toString();var O=this.a.hasOwnProperty(m);return delete this.a[m],this.arrClean=!1,O},p.prototype.del=p.prototype.Cb,p.prototype.Eb=function(){var m=[],O=S(this);O.sort();for(var V=0;V<O.length;V++){var fe=this.a[O[V]];m.push([fe.key,fe.value])}return m},p.prototype.getEntryList=p.prototype.Eb,p.prototype.entries=function(){var m=[],O=S(this);O.sort();for(var V=0;V<O.length;V++){var fe=this.a[O[V]];m.push([fe.key,w(this,fe)])}return new _(m)},p.prototype.entries=p.prototype.entries,p.prototype.keys=function(){var m=[],O=S(this);O.sort();for(var V=0;V<O.length;V++)m.push(this.a[O[V]].key);return new _(m)},p.prototype.keys=p.prototype.keys,p.prototype.values=function(){var m=[],O=S(this);O.sort();for(var V=0;V<O.length;V++)m.push(w(this,this.a[O[V]]));return new _(m)},p.prototype.values=p.prototype.values,p.prototype.forEach=function(m,O){var V=S(this);V.sort();for(var fe=0;fe<V.length;fe++){var Ae=this.a[V[fe]];m.call(O,w(this,Ae),Ae.key,this)}},p.prototype.forEach=p.prototype.forEach,p.prototype.set=function(m,O){var V=new A(m);return this.b?(V.a=O,V.value=O.g()):V.value=O,this.a[m.toString()]=V,this.arrClean=!1,this},p.prototype.set=p.prototype.set;function w(m,O){return m.b?(O.a||(O.a=new m.b(O.value)),O.a):O.value}p.prototype.get=function(m){if(m=this.a[m.toString()])return w(this,m)},p.prototype.get=p.prototype.get,p.prototype.has=function(m){return m.toString()in this.a},p.prototype.has=p.prototype.has,p.prototype.Jc=function(m,O,V,fe,Ae){var $e=S(this);$e.sort();for(var dt=0;dt<$e.length;dt++){var Dt=this.a[$e[dt]];O.Va(m),V.call(O,1,Dt.key),this.b?fe.call(O,2,w(this,Dt),Ae):fe.call(O,2,Dt.value),O.Ya()}},p.prototype.serializeBinary=p.prototype.Jc,p.deserializeBinary=function(m,O,V,fe,Ae,$e,dt){for(;O.oa()&&!O.bb();){var Dt=O.c;Dt==1?$e=V.call(O):Dt==2&&(m.b?(re(Ae),dt||(dt=new m.b),fe.call(O,dt,Ae)):dt=fe.call(O))}re($e!=null),re(dt!=null),m.set($e,dt)};function S(m){m=m.a;var O=[],V;for(V in m)Object.prototype.hasOwnProperty.call(m,V)&&O.push(V);return O}function A(m,O){this.key=m,this.value=O,this.a=void 0}function x(m){if(8192>=m.length)return String.fromCharCode.apply(null,m);for(var O="",V=0;V<m.length;V+=8192)O+=String.fromCharCode.apply(null,ee(m,V,V+8192));return O}var E={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},T={"'":"\\'"},M={},Q=null;function he(m,O){O===void 0&&(O=0),se(),O=M[O];for(var V=[],fe=0;fe<m.length;fe+=3){var Ae=m[fe],$e=fe+1<m.length,dt=$e?m[fe+1]:0,Dt=fe+2<m.length,An=Dt?m[fe+2]:0,Ka=Ae>>2;Ae=(Ae&3)<<4|dt>>4,dt=(dt&15)<<2|An>>6,An&=63,Dt||(An=64,$e||(dt=64)),V.push(O[Ka],O[Ae],O[dt]||"",O[An]||"")}return V.join("")}function ue(m){var O=m.length,V=3*O/4;V%3?V=Math.floor(V):"=.".indexOf(m[O-1])!=-1&&(V="=.".indexOf(m[O-2])!=-1?V-2:V-1);var fe=new Uint8Array(V),Ae=0;return W(m,function($e){fe[Ae++]=$e}),fe.subarray(0,Ae)}function W(m,O){function V(An){for(;fe<m.length;){var Ka=m.charAt(fe++),Tw=Q[Ka];if(Tw!=null)return Tw;if(!/^[\s\xa0]*$/.test(Ka))throw Error("Unknown base64 encoding at char: "+Ka)}return An}se();for(var fe=0;;){var Ae=V(-1),$e=V(0),dt=V(64),Dt=V(64);if(Dt===64&&Ae===-1)break;O(Ae<<2|$e>>4),dt!=64&&(O($e<<4&240|dt>>2),Dt!=64&&O(dt<<6&192|Dt))}}function se(){if(!Q){Q={};for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),O=["+/=","+/","-_=","-_.","-_"],V=0;5>V;V++){var fe=m.concat(O[V].split(""));M[V]=fe;for(var Ae=0;Ae<fe.length;Ae++){var $e=fe[Ae];Q[$e]===void 0&&(Q[$e]=Ae)}}}}g("jspb.ConstBinaryMessage",function(){},void 0),g("jspb.BinaryMessage",function(){},void 0),g("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),g("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),g("jspb.BinaryConstants.FieldTypeToWireType",function(m){switch(m){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),g("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),g("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),g("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),g("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),g("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),g("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),g("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),g("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),g("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),g("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),g("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),g("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),g("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),g("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),g("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var Z=0,ie=0;g("jspb.utils.getSplit64Low",function(){return Z},void 0),g("jspb.utils.getSplit64High",function(){return ie},void 0);function pe(m){var O=m>>>0;m=Math.floor((m-O)/4294967296)>>>0,Z=O,ie=m}g("jspb.utils.splitUint64",pe,void 0);function Ee(m){var O=0>m;m=Math.abs(m);var V=m>>>0;m=Math.floor((m-V)/4294967296),m>>>=0,O&&(m=~m>>>0,V=(~V>>>0)+1,4294967295<V&&(V=0,m++,4294967295<m&&(m=0))),Z=V,ie=m}g("jspb.utils.splitInt64",Ee,void 0);function Oe(m){var O=0>m;m=2*Math.abs(m),pe(m),m=Z;var V=ie;O&&(m==0?V==0?V=m=4294967295:(V--,m=4294967295):m--),Z=m,ie=V}g("jspb.utils.splitZigzag64",Oe,void 0);function Re(m){var O=0>m?1:0;if(m=O?-m:m,m===0)0<1/m?Z=ie=0:(ie=0,Z=2147483648);else if(isNaN(m))ie=0,Z=2147483647;else if(34028234663852886e22<m)ie=0,Z=(O<<31|2139095040)>>>0;else if(11754943508222875e-54>m)m=Math.round(m/Math.pow(2,-149)),ie=0,Z=(O<<31|m)>>>0;else{var V=Math.floor(Math.log(m)/Math.LN2);m*=Math.pow(2,-V),m=Math.round(8388608*m),16777216<=m&&++V,ie=0,Z=(O<<31|V+127<<23|m&8388607)>>>0}}g("jspb.utils.splitFloat32",Re,void 0);function Ce(m){var O=0>m?1:0;if(m=O?-m:m,m===0)ie=0<1/m?0:2147483648,Z=0;else if(isNaN(m))ie=2147483647,Z=4294967295;else if(17976931348623157e292<m)ie=(O<<31|2146435072)>>>0,Z=0;else if(22250738585072014e-324>m)m/=Math.pow(2,-1074),ie=(O<<31|m/4294967296)>>>0,Z=m>>>0;else{var V=m,fe=0;if(2<=V)for(;2<=V&&1023>fe;)fe++,V/=2;else for(;1>V&&-1022<fe;)V*=2,fe--;m*=Math.pow(2,-fe),ie=(O<<31|fe+1023<<20|1048576*m&1048575)>>>0,Z=4503599627370496*m>>>0}}g("jspb.utils.splitFloat64",Ce,void 0);function P(m){var O=m.charCodeAt(4),V=m.charCodeAt(5),fe=m.charCodeAt(6),Ae=m.charCodeAt(7);Z=m.charCodeAt(0)+(m.charCodeAt(1)<<8)+(m.charCodeAt(2)<<16)+(m.charCodeAt(3)<<24)>>>0,ie=O+(V<<8)+(fe<<16)+(Ae<<24)>>>0}g("jspb.utils.splitHash64",P,void 0);function Y(m,O){return 4294967296*O+(m>>>0)}g("jspb.utils.joinUint64",Y,void 0);function be(m,O){var V=O&2147483648;return V&&(m=~m+1>>>0,O=~O>>>0,m==0&&(O=O+1>>>0)),m=Y(m,O),V?-m:m}g("jspb.utils.joinInt64",be,void 0);function Ue(m,O,V){var fe=O>>31;return V(m<<1^fe,(O<<1|m>>>31)^fe)}g("jspb.utils.toZigzag64",Ue,void 0);function Ke(m,O){return rt(m,O,be)}g("jspb.utils.joinZigzag64",Ke,void 0);function rt(m,O,V){var fe=-(m&1);return V((m>>>1|O<<31)^fe,O>>>1^fe)}g("jspb.utils.fromZigzag64",rt,void 0);function We(m){var O=2*(m>>31)+1,V=m>>>23&255;return m&=8388607,V==255?m?NaN:1/0*O:V==0?O*Math.pow(2,-149)*m:O*Math.pow(2,V-150)*(m+Math.pow(2,23))}g("jspb.utils.joinFloat32",We,void 0);function Qe(m,O){var V=2*(O>>31)+1,fe=O>>>20&2047;return m=4294967296*(O&1048575)+m,fe==2047?m?NaN:1/0*V:fe==0?V*Math.pow(2,-1074)*m:V*Math.pow(2,fe-1075)*(m+4503599627370496)}g("jspb.utils.joinFloat64",Qe,void 0);function d(m,O){return String.fromCharCode(m>>>0&255,m>>>8&255,m>>>16&255,m>>>24&255,O>>>0&255,O>>>8&255,O>>>16&255,O>>>24&255)}g("jspb.utils.joinHash64",d,void 0),g("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function b(m,O){function V(Ae,$e){return Ae=Ae?String(Ae):"",$e?"0000000".slice(Ae.length)+Ae:Ae}if(2097151>=O)return""+Y(m,O);var fe=(m>>>24|O<<8)>>>0&16777215;return O=O>>16&65535,m=(m&16777215)+6777216*fe+6710656*O,fe+=8147497*O,O*=2,1e7<=m&&(fe+=Math.floor(m/1e7),m%=1e7),1e7<=fe&&(O+=Math.floor(fe/1e7),fe%=1e7),V(O,0)+V(fe,O)+V(m,1)}g("jspb.utils.joinUnsignedDecimalString",b,void 0);function H(m,O){var V=O&2147483648;return V&&(m=~m+1>>>0,O=~O+(m==0?1:0)>>>0),m=b(m,O),V?"-"+m:m}g("jspb.utils.joinSignedDecimalString",H,void 0);function te(m,O){P(m),m=Z;var V=ie;return O?H(m,V):b(m,V)}g("jspb.utils.hash64ToDecimalString",te,void 0),g("jspb.utils.hash64ArrayToDecimalStrings",function(m,O){for(var V=Array(m.length),fe=0;fe<m.length;fe++)V[fe]=te(m[fe],O);return V},void 0);function ce(m){function O(dt,Dt){for(var An=0;8>An&&(dt!==1||0<Dt);An++)Dt=dt*Ae[An]+Dt,Ae[An]=Dt&255,Dt>>>=8}function V(){for(var dt=0;8>dt;dt++)Ae[dt]=~Ae[dt]&255}re(0<m.length);var fe=!1;m[0]==="-"&&(fe=!0,m=m.slice(1));for(var Ae=[0,0,0,0,0,0,0,0],$e=0;$e<m.length;$e++)O(10,m.charCodeAt($e)-48);return fe&&(V(),O(1,1)),x(Ae)}g("jspb.utils.decimalStringToHash64",ce,void 0),g("jspb.utils.splitDecimalString",function(m){P(ce(m))},void 0);function z(m){return String.fromCharCode(10>m?48+m:87+m)}function X(m){return 97<=m?m-97+10:m-48}g("jspb.utils.hash64ToHexString",function(m){var O=Array(18);O[0]="0",O[1]="x";for(var V=0;8>V;V++){var fe=m.charCodeAt(7-V);O[2*V+2]=z(fe>>4),O[2*V+3]=z(fe&15)}return O.join("")},void 0),g("jspb.utils.hexStringToHash64",function(m){m=m.toLowerCase(),re(m.length==18),re(m[0]=="0"),re(m[1]=="x");for(var O="",V=0;8>V;V++)O=String.fromCharCode(16*X(m.charCodeAt(2*V+2))+X(m.charCodeAt(2*V+3)))+O;return O},void 0),g("jspb.utils.hash64ToNumber",function(m,O){P(m),m=Z;var V=ie;return O?be(m,V):Y(m,V)},void 0),g("jspb.utils.numberToHash64",function(m){return Ee(m),d(Z,ie)},void 0),g("jspb.utils.countVarints",function(m,O,V){for(var fe=0,Ae=O;Ae<V;Ae++)fe+=m[Ae]>>7;return V-O-fe},void 0),g("jspb.utils.countVarintFields",function(m,O,V,fe){var Ae=0;if(fe*=8,128>fe)for(;O<V&&m[O++]==fe;)for(Ae++;;){var $e=m[O++];if(!($e&128))break}else for(;O<V;){for($e=fe;128<$e;){if(m[O]!=($e&127|128))return Ae;O++,$e>>=7}if(m[O++]!=$e)break;for(Ae++;$e=m[O++],($e&128)!=0;);}return Ae},void 0);function oe(m,O,V,fe,Ae){var $e=0;if(128>fe)for(;O<V&&m[O++]==fe;)$e++,O+=Ae;else for(;O<V;){for(var dt=fe;128<dt;){if(m[O++]!=(dt&127|128))return $e;dt>>=7}if(m[O++]!=dt)break;$e++,O+=Ae}return $e}g("jspb.utils.countFixed32Fields",function(m,O,V,fe){return oe(m,O,V,8*fe+5,4)},void 0),g("jspb.utils.countFixed64Fields",function(m,O,V,fe){return oe(m,O,V,8*fe+1,8)},void 0),g("jspb.utils.countDelimitedFields",function(m,O,V,fe){var Ae=0;for(fe=8*fe+2;O<V;){for(var $e=fe;128<$e;){if(m[O++]!=($e&127|128))return Ae;$e>>=7}if(m[O++]!=$e)break;Ae++;for(var dt=0,Dt=1;$e=m[O++],dt+=($e&127)*Dt,Dt*=128,($e&128)!=0;);O+=dt}return Ae},void 0),g("jspb.utils.debugBytesToTextFormat",function(m){var O='"';if(m){m=N(m);for(var V=0;V<m.length;V++)O+="\\x",16>m[V]&&(O+="0"),O+=m[V].toString(16)}return O+'"'},void 0),g("jspb.utils.debugScalarToTextFormat",function(m){if(typeof m=="string"){m=String(m);for(var O=['"'],V=0;V<m.length;V++){var fe=m.charAt(V),Ae=fe.charCodeAt(0),$e=V+1,dt;(dt=E[fe])||(31<Ae&&127>Ae||(Ae=fe,Ae in T?fe=T[Ae]:Ae in E?fe=T[Ae]=E[Ae]:(dt=Ae.charCodeAt(0),31<dt&&127>dt?fe=Ae:(256>dt?(fe="\\x",(16>dt||256<dt)&&(fe+="0")):(fe="\\u",4096>dt&&(fe+="0")),fe+=dt.toString(16).toUpperCase()),fe=T[Ae]=fe)),dt=fe),O[$e]=dt}O.push('"'),m=O.join("")}else m=m.toString();return m},void 0),g("jspb.utils.stringToByteArray",function(m){for(var O=new Uint8Array(m.length),V=0;V<m.length;V++){var fe=m.charCodeAt(V);if(255<fe)throw Error("Conversion error: string contains codepoint outside of byte range");O[V]=fe}return O},void 0);function N(m){return m.constructor===Uint8Array?m:m.constructor===ArrayBuffer?new Uint8Array(m):m.constructor===Array?new Uint8Array(m):m.constructor===String?ue(m):m instanceof Uint8Array?new Uint8Array(m.buffer,m.byteOffset,m.byteLength):(G("Type not convertible to Uint8Array."),new Uint8Array(0))}g("jspb.utils.byteSourceToUint8Array",N,void 0);function L(m,O,V){this.b=null,this.a=this.c=this.h=0,this.v=!1,m&&this.H(m,O,V)}g("jspb.BinaryDecoder",L,void 0);var J=[];L.getInstanceCacheLength=function(){return J.length};function ge(m,O,V){if(J.length){var fe=J.pop();return m&&fe.H(m,O,V),fe}return new L(m,O,V)}L.alloc=ge,L.prototype.Ca=function(){this.clear(),100>J.length&&J.push(this)},L.prototype.free=L.prototype.Ca,L.prototype.clone=function(){return ge(this.b,this.h,this.c-this.h)},L.prototype.clone=L.prototype.clone,L.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},L.prototype.clear=L.prototype.clear,L.prototype.Y=function(){return this.b},L.prototype.getBuffer=L.prototype.Y,L.prototype.H=function(m,O,V){this.b=N(m),this.h=O!==void 0?O:0,this.c=V!==void 0?this.h+V:this.b.length,this.a=this.h},L.prototype.setBlock=L.prototype.H,L.prototype.Db=function(){return this.c},L.prototype.getEnd=L.prototype.Db,L.prototype.setEnd=function(m){this.c=m},L.prototype.setEnd=L.prototype.setEnd,L.prototype.reset=function(){this.a=this.h},L.prototype.reset=L.prototype.reset,L.prototype.B=function(){return this.a},L.prototype.getCursor=L.prototype.B,L.prototype.Ma=function(m){this.a=m},L.prototype.setCursor=L.prototype.Ma,L.prototype.advance=function(m){this.a+=m,re(this.a<=this.c)},L.prototype.advance=L.prototype.advance,L.prototype.ya=function(){return this.a==this.c},L.prototype.atEnd=L.prototype.ya,L.prototype.Qb=function(){return this.a>this.c},L.prototype.pastEnd=L.prototype.Qb,L.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},L.prototype.getError=L.prototype.getError,L.prototype.w=function(m){for(var O=128,V=0,fe=0,Ae=0;4>Ae&&128<=O;Ae++)O=this.b[this.a++],V|=(O&127)<<7*Ae;if(128<=O&&(O=this.b[this.a++],V|=(O&127)<<28,fe|=(O&127)>>4),128<=O)for(Ae=0;5>Ae&&128<=O;Ae++)O=this.b[this.a++],fe|=(O&127)<<7*Ae+3;if(128>O)return m(V>>>0,fe>>>0);G("Failed to read varint, encoding is invalid."),this.v=!0},L.prototype.readSplitVarint64=L.prototype.w,L.prototype.ea=function(m){return this.w(function(O,V){return rt(O,V,m)})},L.prototype.readSplitZigzagVarint64=L.prototype.ea,L.prototype.ta=function(m){var O=this.b,V=this.a;this.a+=8;for(var fe=0,Ae=0,$e=V+7;$e>=V;$e--)fe=fe<<8|O[$e],Ae=Ae<<8|O[$e+4];return m(fe,Ae)},L.prototype.readSplitFixed64=L.prototype.ta,L.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},L.prototype.skipVarint=L.prototype.kb,L.prototype.mb=function(m){for(;128<m;)this.a--,m>>>=7;this.a--},L.prototype.unskipVarint=L.prototype.mb,L.prototype.o=function(){var m=this.b,O=m[this.a],V=O&127;return 128>O?(this.a+=1,re(this.a<=this.c),V):(O=m[this.a+1],V|=(O&127)<<7,128>O?(this.a+=2,re(this.a<=this.c),V):(O=m[this.a+2],V|=(O&127)<<14,128>O?(this.a+=3,re(this.a<=this.c),V):(O=m[this.a+3],V|=(O&127)<<21,128>O?(this.a+=4,re(this.a<=this.c),V):(O=m[this.a+4],V|=(O&15)<<28,128>O?(this.a+=5,re(this.a<=this.c),V>>>0):(this.a+=5,128<=m[this.a++]&&128<=m[this.a++]&&128<=m[this.a++]&&128<=m[this.a++]&&128<=m[this.a++]&&re(!1),re(this.a<=this.c),V)))))},L.prototype.readUnsignedVarint32=L.prototype.o,L.prototype.da=function(){return~~this.o()},L.prototype.readSignedVarint32=L.prototype.da,L.prototype.O=function(){return this.o().toString()},L.prototype.Ea=function(){return this.da().toString()},L.prototype.readSignedVarint32String=L.prototype.Ea,L.prototype.Ia=function(){var m=this.o();return m>>>1^-(m&1)},L.prototype.readZigzagVarint32=L.prototype.Ia,L.prototype.Ga=function(){return this.w(Y)},L.prototype.readUnsignedVarint64=L.prototype.Ga,L.prototype.Ha=function(){return this.w(b)},L.prototype.readUnsignedVarint64String=L.prototype.Ha,L.prototype.sa=function(){return this.w(be)},L.prototype.readSignedVarint64=L.prototype.sa,L.prototype.Fa=function(){return this.w(H)},L.prototype.readSignedVarint64String=L.prototype.Fa,L.prototype.Ja=function(){return this.w(Ke)},L.prototype.readZigzagVarint64=L.prototype.Ja,L.prototype.fb=function(){return this.ea(d)},L.prototype.readZigzagVarintHash64=L.prototype.fb,L.prototype.Ka=function(){return this.ea(H)},L.prototype.readZigzagVarint64String=L.prototype.Ka,L.prototype.Gc=function(){var m=this.b[this.a];return this.a+=1,re(this.a<=this.c),m},L.prototype.readUint8=L.prototype.Gc,L.prototype.Ec=function(){var m=this.b[this.a],O=this.b[this.a+1];return this.a+=2,re(this.a<=this.c),m<<0|O<<8},L.prototype.readUint16=L.prototype.Ec,L.prototype.m=function(){var m=this.b[this.a],O=this.b[this.a+1],V=this.b[this.a+2],fe=this.b[this.a+3];return this.a+=4,re(this.a<=this.c),(m<<0|O<<8|V<<16|fe<<24)>>>0},L.prototype.readUint32=L.prototype.m,L.prototype.ga=function(){var m=this.m(),O=this.m();return Y(m,O)},L.prototype.readUint64=L.prototype.ga,L.prototype.ha=function(){var m=this.m(),O=this.m();return b(m,O)},L.prototype.readUint64String=L.prototype.ha,L.prototype.Xb=function(){var m=this.b[this.a];return this.a+=1,re(this.a<=this.c),m<<24>>24},L.prototype.readInt8=L.prototype.Xb,L.prototype.Vb=function(){var m=this.b[this.a],O=this.b[this.a+1];return this.a+=2,re(this.a<=this.c),(m<<0|O<<8)<<16>>16},L.prototype.readInt16=L.prototype.Vb,L.prototype.P=function(){var m=this.b[this.a],O=this.b[this.a+1],V=this.b[this.a+2],fe=this.b[this.a+3];return this.a+=4,re(this.a<=this.c),m<<0|O<<8|V<<16|fe<<24},L.prototype.readInt32=L.prototype.P,L.prototype.ba=function(){var m=this.m(),O=this.m();return be(m,O)},L.prototype.readInt64=L.prototype.ba,L.prototype.ca=function(){var m=this.m(),O=this.m();return H(m,O)},L.prototype.readInt64String=L.prototype.ca,L.prototype.aa=function(){var m=this.m();return We(m)},L.prototype.readFloat=L.prototype.aa,L.prototype.Z=function(){var m=this.m(),O=this.m();return Qe(m,O)},L.prototype.readDouble=L.prototype.Z,L.prototype.pa=function(){return!!this.b[this.a++]},L.prototype.readBool=L.prototype.pa,L.prototype.ra=function(){return this.da()},L.prototype.readEnum=L.prototype.ra,L.prototype.fa=function(m){var O=this.b,V=this.a;m=V+m;for(var fe=[],Ae="";V<m;){var $e=O[V++];if(128>$e)fe.push($e);else{if(192>$e)continue;if(224>$e){var dt=O[V++];fe.push(($e&31)<<6|dt&63)}else if(240>$e){dt=O[V++];var Dt=O[V++];fe.push(($e&15)<<12|(dt&63)<<6|Dt&63)}else if(248>$e){dt=O[V++],Dt=O[V++];var An=O[V++];$e=($e&7)<<18|(dt&63)<<12|(Dt&63)<<6|An&63,$e-=65536,fe.push(($e>>10&1023)+55296,($e&1023)+56320)}}8192<=fe.length&&(Ae+=String.fromCharCode.apply(null,fe),fe.length=0)}return Ae+=x(fe),this.a=V,Ae},L.prototype.readString=L.prototype.fa,L.prototype.Dc=function(){var m=this.o();return this.fa(m)},L.prototype.readStringWithLength=L.prototype.Dc,L.prototype.qa=function(m){if(0>m||this.a+m>this.b.length)return this.v=!0,G("Invalid byte length!"),new Uint8Array(0);var O=this.b.subarray(this.a,this.a+m);return this.a+=m,re(this.a<=this.c),O},L.prototype.readBytes=L.prototype.qa,L.prototype.ia=function(){return this.w(d)},L.prototype.readVarintHash64=L.prototype.ia,L.prototype.$=function(){var m=this.b,O=this.a,V=m[O],fe=m[O+1],Ae=m[O+2],$e=m[O+3],dt=m[O+4],Dt=m[O+5],An=m[O+6];return m=m[O+7],this.a+=8,String.fromCharCode(V,fe,Ae,$e,dt,Dt,An,m)},L.prototype.readFixedHash64=L.prototype.$;function le(m,O,V){this.a=ge(m,O,V),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}g("jspb.BinaryReader",le,void 0);var Me=[];le.clearInstanceCache=function(){Me=[]},le.getInstanceCacheLength=function(){return Me.length};function De(m,O,V){if(Me.length){var fe=Me.pop();return m&&fe.a.H(m,O,V),fe}return new le(m,O,V)}le.alloc=De,le.prototype.zb=De,le.prototype.alloc=le.prototype.zb,le.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>Me.length&&Me.push(this)},le.prototype.free=le.prototype.Ca,le.prototype.Fb=function(){return this.O},le.prototype.getFieldCursor=le.prototype.Fb,le.prototype.B=function(){return this.a.B()},le.prototype.getCursor=le.prototype.B,le.prototype.Y=function(){return this.a.Y()},le.prototype.getBuffer=le.prototype.Y,le.prototype.Hb=function(){return this.c},le.prototype.getFieldNumber=le.prototype.Hb,le.prototype.Lb=function(){return this.b},le.prototype.getWireType=le.prototype.Lb,le.prototype.Mb=function(){return this.b==2},le.prototype.isDelimited=le.prototype.Mb,le.prototype.bb=function(){return this.b==4},le.prototype.isEndGroup=le.prototype.bb,le.prototype.getError=function(){return this.h||this.a.getError()},le.prototype.getError=le.prototype.getError,le.prototype.H=function(m,O,V){this.a.H(m,O,V),this.b=this.c=-1},le.prototype.setBlock=le.prototype.H,le.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},le.prototype.reset=le.prototype.reset,le.prototype.advance=function(m){this.a.advance(m)},le.prototype.advance=le.prototype.advance,le.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return G("Decoder hit an error"),!1;this.O=this.a.B();var m=this.a.o(),O=m>>>3;return m&=7,m!=0&&m!=5&&m!=1&&m!=2&&m!=3&&m!=4?(G("Invalid wire type: %s (at position %s)",m,this.O),this.h=!0,!1):(this.c=O,this.b=m,!0)},le.prototype.nextField=le.prototype.oa,le.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},le.prototype.unskipHeader=le.prototype.Oa,le.prototype.Lc=function(){var m=this.c;for(this.Oa();this.oa()&&this.c==m;)this.C();this.a.ya()||this.Oa()},le.prototype.skipMatchingFields=le.prototype.Lc,le.prototype.lb=function(){this.b!=0?(G("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},le.prototype.skipVarintField=le.prototype.lb,le.prototype.gb=function(){if(this.b!=2)G("Invalid wire type for skipDelimitedField"),this.C();else{var m=this.a.o();this.a.advance(m)}},le.prototype.skipDelimitedField=le.prototype.gb,le.prototype.hb=function(){this.b!=5?(G("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},le.prototype.skipFixed32Field=le.prototype.hb,le.prototype.ib=function(){this.b!=1?(G("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},le.prototype.skipFixed64Field=le.prototype.ib,le.prototype.jb=function(){var m=this.c;do{if(!this.oa()){G("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=m&&(G("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},le.prototype.skipGroup=le.prototype.jb,le.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:G("Invalid wire encoding for field.")}},le.prototype.skipField=le.prototype.C,le.prototype.Hc=function(m,O){this.v===null&&(this.v={}),re(!this.v[m]),this.v[m]=O},le.prototype.registerReadCallback=le.prototype.Hc,le.prototype.Ic=function(m){return re(this.v!==null),m=this.v[m],re(m),m(this)},le.prototype.runReadCallback=le.prototype.Ic,le.prototype.Yb=function(m,O){re(this.b==2);var V=this.a.c,fe=this.a.o();fe=this.a.B()+fe,this.a.setEnd(fe),O(m,this),this.a.Ma(fe),this.a.setEnd(V)},le.prototype.readMessage=le.prototype.Yb,le.prototype.Ub=function(m,O,V){re(this.b==3),re(this.c==m),V(O,this),this.h||this.b==4||(G("Group submessage did not end with an END_GROUP tag"),this.h=!0)},le.prototype.readGroup=le.prototype.Ub,le.prototype.Gb=function(){re(this.b==2);var m=this.a.o(),O=this.a.B(),V=O+m;return m=ge(this.a.Y(),O,m),this.a.Ma(V),m},le.prototype.getFieldDecoder=le.prototype.Gb,le.prototype.P=function(){return re(this.b==0),this.a.da()},le.prototype.readInt32=le.prototype.P,le.prototype.Wb=function(){return re(this.b==0),this.a.Ea()},le.prototype.readInt32String=le.prototype.Wb,le.prototype.ba=function(){return re(this.b==0),this.a.sa()},le.prototype.readInt64=le.prototype.ba,le.prototype.ca=function(){return re(this.b==0),this.a.Fa()},le.prototype.readInt64String=le.prototype.ca,le.prototype.m=function(){return re(this.b==0),this.a.o()},le.prototype.readUint32=le.prototype.m,le.prototype.Fc=function(){return re(this.b==0),this.a.O()},le.prototype.readUint32String=le.prototype.Fc,le.prototype.ga=function(){return re(this.b==0),this.a.Ga()},le.prototype.readUint64=le.prototype.ga,le.prototype.ha=function(){return re(this.b==0),this.a.Ha()},le.prototype.readUint64String=le.prototype.ha,le.prototype.zc=function(){return re(this.b==0),this.a.Ia()},le.prototype.readSint32=le.prototype.zc,le.prototype.Ac=function(){return re(this.b==0),this.a.Ja()},le.prototype.readSint64=le.prototype.Ac,le.prototype.Bc=function(){return re(this.b==0),this.a.Ka()},le.prototype.readSint64String=le.prototype.Bc,le.prototype.Rb=function(){return re(this.b==5),this.a.m()},le.prototype.readFixed32=le.prototype.Rb,le.prototype.Sb=function(){return re(this.b==1),this.a.ga()},le.prototype.readFixed64=le.prototype.Sb,le.prototype.Tb=function(){return re(this.b==1),this.a.ha()},le.prototype.readFixed64String=le.prototype.Tb,le.prototype.vc=function(){return re(this.b==5),this.a.P()},le.prototype.readSfixed32=le.prototype.vc,le.prototype.wc=function(){return re(this.b==5),this.a.P().toString()},le.prototype.readSfixed32String=le.prototype.wc,le.prototype.xc=function(){return re(this.b==1),this.a.ba()},le.prototype.readSfixed64=le.prototype.xc,le.prototype.yc=function(){return re(this.b==1),this.a.ca()},le.prototype.readSfixed64String=le.prototype.yc,le.prototype.aa=function(){return re(this.b==5),this.a.aa()},le.prototype.readFloat=le.prototype.aa,le.prototype.Z=function(){return re(this.b==1),this.a.Z()},le.prototype.readDouble=le.prototype.Z,le.prototype.pa=function(){return re(this.b==0),!!this.a.o()},le.prototype.readBool=le.prototype.pa,le.prototype.ra=function(){return re(this.b==0),this.a.sa()},le.prototype.readEnum=le.prototype.ra,le.prototype.fa=function(){re(this.b==2);var m=this.a.o();return this.a.fa(m)},le.prototype.readString=le.prototype.fa,le.prototype.qa=function(){re(this.b==2);var m=this.a.o();return this.a.qa(m)},le.prototype.readBytes=le.prototype.qa,le.prototype.ia=function(){return re(this.b==0),this.a.ia()},le.prototype.readVarintHash64=le.prototype.ia,le.prototype.Cc=function(){return re(this.b==0),this.a.fb()},le.prototype.readSintHash64=le.prototype.Cc,le.prototype.w=function(m){return re(this.b==0),this.a.w(m)},le.prototype.readSplitVarint64=le.prototype.w,le.prototype.ea=function(m){return re(this.b==0),this.a.w(function(O,V){return rt(O,V,m)})},le.prototype.readSplitZigzagVarint64=le.prototype.ea,le.prototype.$=function(){return re(this.b==1),this.a.$()},le.prototype.readFixedHash64=le.prototype.$,le.prototype.ta=function(m){return re(this.b==1),this.a.ta(m)},le.prototype.readSplitFixed64=le.prototype.ta;function nt(m,O){re(m.b==2);var V=m.a.o();V=m.a.B()+V;for(var fe=[];m.a.B()<V;)fe.push(O.call(m.a));return fe}le.prototype.gc=function(){return nt(this,this.a.da)},le.prototype.readPackedInt32=le.prototype.gc,le.prototype.hc=function(){return nt(this,this.a.Ea)},le.prototype.readPackedInt32String=le.prototype.hc,le.prototype.ic=function(){return nt(this,this.a.sa)},le.prototype.readPackedInt64=le.prototype.ic,le.prototype.jc=function(){return nt(this,this.a.Fa)},le.prototype.readPackedInt64String=le.prototype.jc,le.prototype.qc=function(){return nt(this,this.a.o)},le.prototype.readPackedUint32=le.prototype.qc,le.prototype.rc=function(){return nt(this,this.a.O)},le.prototype.readPackedUint32String=le.prototype.rc,le.prototype.sc=function(){return nt(this,this.a.Ga)},le.prototype.readPackedUint64=le.prototype.sc,le.prototype.tc=function(){return nt(this,this.a.Ha)},le.prototype.readPackedUint64String=le.prototype.tc,le.prototype.nc=function(){return nt(this,this.a.Ia)},le.prototype.readPackedSint32=le.prototype.nc,le.prototype.oc=function(){return nt(this,this.a.Ja)},le.prototype.readPackedSint64=le.prototype.oc,le.prototype.pc=function(){return nt(this,this.a.Ka)},le.prototype.readPackedSint64String=le.prototype.pc,le.prototype.bc=function(){return nt(this,this.a.m)},le.prototype.readPackedFixed32=le.prototype.bc,le.prototype.cc=function(){return nt(this,this.a.ga)},le.prototype.readPackedFixed64=le.prototype.cc,le.prototype.dc=function(){return nt(this,this.a.ha)},le.prototype.readPackedFixed64String=le.prototype.dc,le.prototype.kc=function(){return nt(this,this.a.P)},le.prototype.readPackedSfixed32=le.prototype.kc,le.prototype.lc=function(){return nt(this,this.a.ba)},le.prototype.readPackedSfixed64=le.prototype.lc,le.prototype.mc=function(){return nt(this,this.a.ca)},le.prototype.readPackedSfixed64String=le.prototype.mc,le.prototype.fc=function(){return nt(this,this.a.aa)},le.prototype.readPackedFloat=le.prototype.fc,le.prototype.$b=function(){return nt(this,this.a.Z)},le.prototype.readPackedDouble=le.prototype.$b,le.prototype.Zb=function(){return nt(this,this.a.pa)},le.prototype.readPackedBool=le.prototype.Zb,le.prototype.ac=function(){return nt(this,this.a.ra)},le.prototype.readPackedEnum=le.prototype.ac,le.prototype.uc=function(){return nt(this,this.a.ia)},le.prototype.readPackedVarintHash64=le.prototype.uc,le.prototype.ec=function(){return nt(this,this.a.$)},le.prototype.readPackedFixedHash64=le.prototype.ec;function gt(m,O,V,fe,Ae){this.ma=m,this.Ba=O,this.la=V,this.Na=fe,this.na=Ae}g("jspb.ExtensionFieldInfo",gt,void 0);function jt(m,O,V,fe,Ae,$e){this.Za=m,this.za=O,this.Aa=V,this.Wa=fe,this.Ab=Ae,this.Nb=$e}g("jspb.ExtensionFieldBinaryInfo",jt,void 0),gt.prototype.F=function(){return!!this.la},gt.prototype.isMessageType=gt.prototype.F;function Ze(){}g("jspb.Message",Ze,void 0),Ze.GENERATE_TO_OBJECT=!0,Ze.GENERATE_FROM_OBJECT=!0;var xt=typeof Uint8Array=="function";Ze.prototype.Ib=function(){return this.b},Ze.prototype.getJsPbMessageId=Ze.prototype.Ib,Ze.initialize=function(m,O,V,fe,Ae,$e){m.f=null,O||(O=V?[V]:[]),m.b=V?String(V):void 0,m.D=V===0?-1:0,m.u=O;e:{if(V=m.u.length,O=-1,V&&(O=V-1,V=m.u[O],!(V===null||typeof V!="object"||Array.isArray(V)||xt&&V instanceof Uint8Array))){m.G=O-m.D,m.i=V;break e}-1<fe?(m.G=Math.max(fe,O+1-m.D),m.i=null):m.G=Number.MAX_VALUE}if(m.a={},Ae)for(fe=0;fe<Ae.length;fe++)O=Ae[fe],O<m.G?(O+=m.D,m.u[O]=m.u[O]||mr):(Hr(m),m.i[O]=m.i[O]||mr);if($e&&$e.length)for(fe=0;fe<$e.length;fe++)lt(m,$e[fe])};var mr=Object.freeze?Object.freeze([]):[];function Hr(m){var O=m.G+m.D;m.u[O]||(m.i=m.u[O]={})}function Wt(m,O,V){for(var fe=[],Ae=0;Ae<m.length;Ae++)fe[Ae]=O.call(m[Ae],V,m[Ae]);return fe}Ze.toObjectList=Wt,Ze.toObjectExtension=function(m,O,V,fe,Ae){for(var $e in V){var dt=V[$e],Dt=fe.call(m,dt);if(Dt!=null){for(var An in dt.Ba)if(dt.Ba.hasOwnProperty(An))break;O[An]=dt.Na?dt.na?Wt(Dt,dt.Na,Ae):dt.Na(Ae,Dt):Dt}}},Ze.serializeBinaryExtensions=function(m,O,V,fe){for(var Ae in V){var $e=V[Ae],dt=$e.Za;if(!$e.Aa)throw Error("Message extension present that was generated without binary serialization support");var Dt=fe.call(m,dt);if(Dt!=null)if(dt.F())if($e.Wa)$e.Aa.call(O,dt.ma,Dt,$e.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else $e.Aa.call(O,dt.ma,Dt)}},Ze.readBinaryExtension=function(m,O,V,fe,Ae){var $e=V[O.c];if($e){if(V=$e.Za,!$e.za)throw Error("Deserializing extension whose generated code does not support binary format");if(V.F()){var dt=new V.la;$e.za.call(O,dt,$e.Ab)}else dt=$e.za.call(O);V.na&&!$e.Nb?(O=fe.call(m,V))?O.push(dt):Ae.call(m,V,[dt]):Ae.call(m,V,dt)}else O.C()};function Ut(m,O){if(O<m.G){O+=m.D;var V=m.u[O];return V===mr?m.u[O]=[]:V}if(m.i)return V=m.i[O],V===mr?m.i[O]=[]:V}Ze.getField=Ut,Ze.getRepeatedField=function(m,O){return Ut(m,O)};function Yt(m,O){return m=Ut(m,O),m==null?m:+m}Ze.getOptionalFloatingPointField=Yt;function Ft(m,O){return m=Ut(m,O),m==null?m:!!m}Ze.getBooleanField=Ft,Ze.getRepeatedFloatingPointField=function(m,O){var V=Ut(m,O);if(m.a||(m.a={}),!m.a[O]){for(var fe=0;fe<V.length;fe++)V[fe]=+V[fe];m.a[O]=!0}return V},Ze.getRepeatedBooleanField=function(m,O){var V=Ut(m,O);if(m.a||(m.a={}),!m.a[O]){for(var fe=0;fe<V.length;fe++)V[fe]=!!V[fe];m.a[O]=!0}return V};function Ur(m){return m==null||typeof m=="string"?m:xt&&m instanceof Uint8Array?he(m):(G("Cannot coerce to b64 string: "+k(m)),null)}Ze.bytesAsB64=Ur;function Se(m){return m==null||m instanceof Uint8Array?m:typeof m=="string"?ue(m):(G("Cannot coerce to Uint8Array: "+k(m)),null)}Ze.bytesAsU8=Se,Ze.bytesListAsB64=function(m){return ye(m),m.length&&typeof m[0]!="string"?q(m,Ur):m},Ze.bytesListAsU8=function(m){return ye(m),!m.length||m[0]instanceof Uint8Array?m:q(m,Se)};function ye(m){if(m&&1<m.length){var O=k(m[0]);U(m,function(V){k(V)!=O&&G("Inconsistent type in JSPB repeated field array. Got "+k(V)+" expected "+O)})}}function xe(m,O,V){return m=Ut(m,O),m??V}Ze.getFieldWithDefault=xe,Ze.getBooleanFieldWithDefault=function(m,O,V){return m=Ft(m,O),m??V},Ze.getFloatingPointFieldWithDefault=function(m,O,V){return m=Yt(m,O),m??V},Ze.getFieldProto3=xe,Ze.getMapField=function(m,O,V,fe){if(m.f||(m.f={}),O in m.f)return m.f[O];var Ae=Ut(m,O);if(!Ae){if(V)return;Ae=[],Be(m,O,Ae)}return m.f[O]=new p(Ae,fe)};function Be(m,O,V){return v(m,Ze),O<m.G?m.u[O+m.D]=V:(Hr(m),m.i[O]=V),m}Ze.setField=Be,Ze.setProto3IntField=function(m,O,V){return je(m,O,V,0)},Ze.setProto3FloatField=function(m,O,V){return je(m,O,V,0)},Ze.setProto3BooleanField=function(m,O,V){return je(m,O,V,!1)},Ze.setProto3StringField=function(m,O,V){return je(m,O,V,"")},Ze.setProto3BytesField=function(m,O,V){return je(m,O,V,"")},Ze.setProto3EnumField=function(m,O,V){return je(m,O,V,0)},Ze.setProto3StringIntField=function(m,O,V){return je(m,O,V,"0")};function je(m,O,V,fe){return v(m,Ze),V!==fe?Be(m,O,V):O<m.G?m.u[O+m.D]=null:(Hr(m),delete m.i[O]),m}Ze.addToRepeatedField=function(m,O,V,fe){return v(m,Ze),O=Ut(m,O),fe!=null?O.splice(fe,0,V):O.push(V),m};function Ge(m,O,V,fe){return v(m,Ze),(V=lt(m,V))&&V!==O&&fe!==void 0&&(m.f&&V in m.f&&(m.f[V]=void 0),Be(m,V,void 0)),Be(m,O,fe)}Ze.setOneofField=Ge;function lt(m,O){for(var V,fe,Ae=0;Ae<O.length;Ae++){var $e=O[Ae],dt=Ut(m,$e);dt!=null&&(V=$e,fe=dt,Be(m,$e,void 0))}return V?(Be(m,V,fe),V):0}Ze.computeOneofCase=lt,Ze.getWrapperField=function(m,O,V,fe){if(m.f||(m.f={}),!m.f[V]){var Ae=Ut(m,V);(fe||Ae)&&(m.f[V]=new O(Ae))}return m.f[V]},Ze.getRepeatedWrapperField=function(m,O,V){return Ye(m,O,V),O=m.f[V],O==mr&&(O=m.f[V]=[]),O};function Ye(m,O,V){if(m.f||(m.f={}),!m.f[V]){for(var fe=Ut(m,V),Ae=[],$e=0;$e<fe.length;$e++)Ae[$e]=new O(fe[$e]);m.f[V]=Ae}}Ze.setWrapperField=function(m,O,V){v(m,Ze),m.f||(m.f={});var fe=V&&V.g();return m.f[O]=V,Be(m,O,fe)},Ze.setOneofWrapperField=function(m,O,V,fe){v(m,Ze),m.f||(m.f={});var Ae=fe&&fe.g();return m.f[O]=fe,Ge(m,O,V,Ae)},Ze.setRepeatedWrapperField=function(m,O,V){v(m,Ze),m.f||(m.f={}),V=V||[];for(var fe=[],Ae=0;Ae<V.length;Ae++)fe[Ae]=V[Ae].g();return m.f[O]=V,Be(m,O,fe)},Ze.addToRepeatedWrapperField=function(m,O,V,fe,Ae){Ye(m,fe,O);var $e=m.f[O];return $e||($e=m.f[O]=[]),V=V||new fe,m=Ut(m,O),Ae!=null?($e.splice(Ae,0,V),m.splice(Ae,0,V.g())):($e.push(V),m.push(V.g())),V},Ze.toMap=function(m,O,V,fe){for(var Ae={},$e=0;$e<m.length;$e++)Ae[O.call(m[$e])]=V?V.call(m[$e],fe,m[$e]):m[$e];return Ae};function Et(m){if(m.f)for(var O in m.f){var V=m.f[O];if(Array.isArray(V))for(var fe=0;fe<V.length;fe++)V[fe]&&V[fe].g();else V&&V.g()}}Ze.prototype.g=function(){return Et(this),this.u},Ze.prototype.toArray=Ze.prototype.g,Ze.prototype.toString=function(){return Et(this),this.u.toString()},Ze.prototype.getExtension=function(m){if(this.i){this.f||(this.f={});var O=m.ma;if(m.na){if(m.F())return this.f[O]||(this.f[O]=q(this.i[O]||[],function(V){return new m.la(V)})),this.f[O]}else if(m.F())return!this.f[O]&&this.i[O]&&(this.f[O]=new m.la(this.i[O])),this.f[O];return this.i[O]}},Ze.prototype.getExtension=Ze.prototype.getExtension,Ze.prototype.Kc=function(m,O){this.f||(this.f={}),Hr(this);var V=m.ma;return m.na?(O=O||[],m.F()?(this.f[V]=O,this.i[V]=q(O,function(fe){return fe.g()})):this.i[V]=O):m.F()?(this.f[V]=O,this.i[V]=O&&O.g()):this.i[V]=O,this},Ze.prototype.setExtension=Ze.prototype.Kc,Ze.difference=function(m,O){if(!(m instanceof O.constructor))throw Error("Messages have different types.");var V=m.g();O=O.g();var fe=[],Ae=0,$e=V.length>O.length?V.length:O.length;for(m.b&&(fe[0]=m.b,Ae=1);Ae<$e;Ae++)ft(V[Ae],O[Ae])||(fe[Ae]=O[Ae]);return new m.constructor(fe)},Ze.equals=function(m,O){return m==O||!(!m||!O)&&m instanceof O.constructor&&ft(m.g(),O.g())};function wt(m,O){m=m||{},O=O||{};var V={},fe;for(fe in m)V[fe]=0;for(fe in O)V[fe]=0;for(fe in V)if(!ft(m[fe],O[fe]))return!1;return!0}Ze.compareExtensions=wt;function ft(m,O){if(m==O)return!0;if(!R(m)||!R(O))return typeof m=="number"&&isNaN(m)||typeof O=="number"&&isNaN(O)?String(m)==String(O):!1;if(m.constructor!=O.constructor)return!1;if(xt&&m.constructor===Uint8Array){if(m.length!=O.length)return!1;for(var V=0;V<m.length;V++)if(m[V]!=O[V])return!1;return!0}if(m.constructor===Array){var fe=void 0,Ae=void 0,$e=Math.max(m.length,O.length);for(V=0;V<$e;V++){var dt=m[V],Dt=O[V];if(dt&&dt.constructor==Object&&(re(fe===void 0),re(V===m.length-1),fe=dt,dt=void 0),Dt&&Dt.constructor==Object&&(re(Ae===void 0),re(V===O.length-1),Ae=Dt,Dt=void 0),!ft(dt,Dt))return!1}return fe||Ae?(fe=fe||{},Ae=Ae||{},wt(fe,Ae)):!0}if(m.constructor===Object)return wt(m,O);throw Error("Invalid type in JSPB array")}Ze.compareFields=ft,Ze.prototype.Bb=function(){return It(this)},Ze.prototype.cloneMessage=Ze.prototype.Bb,Ze.prototype.clone=function(){return It(this)},Ze.prototype.clone=Ze.prototype.clone,Ze.clone=function(m){return It(m)};function It(m){return new m.constructor(Bt(m.g()))}Ze.copyInto=function(m,O){v(m,Ze),v(O,Ze),re(m.constructor==O.constructor,"Copy source and target message should have the same type."),m=It(m);for(var V=O.g(),fe=m.g(),Ae=V.length=0;Ae<fe.length;Ae++)V[Ae]=fe[Ae];O.f=m.f,O.i=m.i};function Bt(m){if(Array.isArray(m)){for(var O=Array(m.length),V=0;V<m.length;V++){var fe=m[V];fe!=null&&(O[V]=typeof fe=="object"?Bt(re(fe)):fe)}return O}if(xt&&m instanceof Uint8Array)return new Uint8Array(m);O={};for(V in m)fe=m[V],fe!=null&&(O[V]=typeof fe=="object"?Bt(re(fe)):fe);return O}Ze.registerMessageType=function(m,O){O.we=m};var Ct={dump:function(m){return v(m,Ze,"jspb.Message instance expected"),re(m.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),Ct.X(m)}};g("jspb.debug.dump",Ct.dump,void 0),Ct.X=function(m){var O=k(m);if(O=="number"||O=="string"||O=="boolean"||O=="null"||O=="undefined"||typeof Uint8Array<"u"&&m instanceof Uint8Array)return m;if(O=="array")return C(m),q(m,Ct.X);if(m instanceof p){var V={};m=m.entries();for(var fe=m.next();!fe.done;fe=m.next())V[fe.value[0]]=Ct.X(fe.value[1]);return V}v(m,Ze,"Only messages expected: "+m),O=m.constructor;var Ae={$name:O.name||O.displayName};for(Dt in O.prototype){var $e=/^get([A-Z]\w*)/.exec(Dt);if($e&&Dt!="getExtension"&&Dt!="getJsPbMessageId"){var dt="has"+$e[1];(!m[dt]||m[dt]())&&(dt=m[Dt](),Ae[Ct.$a($e[1])]=Ct.X(dt))}}if(m.extensionObject_)return Ae.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",Ae;for(fe in O.extensions)if(/^\d+$/.test(fe)){dt=O.extensions[fe];var Dt=m.getExtension(dt);$e=void 0,dt=dt.Ba;var An=[],Ka=0;for($e in dt)An[Ka++]=$e;$e=An[0],Dt!=null&&(V||(V=Ae.$extensions={}),V[Ct.$a($e)]=Ct.X(Dt))}return Ae},Ct.$a=function(m){return m.replace(/^[A-Z]/,function(O){return O.toLowerCase()})};function et(){this.a=[]}g("jspb.BinaryEncoder",et,void 0),et.prototype.length=function(){return this.a.length},et.prototype.length=et.prototype.length,et.prototype.end=function(){var m=this.a;return this.a=[],m},et.prototype.end=et.prototype.end,et.prototype.l=function(m,O){for(re(m==Math.floor(m)),re(O==Math.floor(O)),re(0<=m&&4294967296>m),re(0<=O&&4294967296>O);0<O||127<m;)this.a.push(m&127|128),m=(m>>>7|O<<25)>>>0,O>>>=7;this.a.push(m)},et.prototype.writeSplitVarint64=et.prototype.l,et.prototype.A=function(m,O){re(m==Math.floor(m)),re(O==Math.floor(O)),re(0<=m&&4294967296>m),re(0<=O&&4294967296>O),this.s(m),this.s(O)},et.prototype.writeSplitFixed64=et.prototype.A,et.prototype.j=function(m){for(re(m==Math.floor(m)),re(0<=m&&4294967296>m);127<m;)this.a.push(m&127|128),m>>>=7;this.a.push(m)},et.prototype.writeUnsignedVarint32=et.prototype.j,et.prototype.M=function(m){if(re(m==Math.floor(m)),re(-2147483648<=m&&2147483648>m),0<=m)this.j(m);else{for(var O=0;9>O;O++)this.a.push(m&127|128),m>>=7;this.a.push(1)}},et.prototype.writeSignedVarint32=et.prototype.M,et.prototype.va=function(m){re(m==Math.floor(m)),re(0<=m&&18446744073709552e3>m),Ee(m),this.l(Z,ie)},et.prototype.writeUnsignedVarint64=et.prototype.va,et.prototype.ua=function(m){re(m==Math.floor(m)),re(-9223372036854776e3<=m&&9223372036854776e3>m),Ee(m),this.l(Z,ie)},et.prototype.writeSignedVarint64=et.prototype.ua,et.prototype.wa=function(m){re(m==Math.floor(m)),re(-2147483648<=m&&2147483648>m),this.j((m<<1^m>>31)>>>0)},et.prototype.writeZigzagVarint32=et.prototype.wa,et.prototype.xa=function(m){re(m==Math.floor(m)),re(-9223372036854776e3<=m&&9223372036854776e3>m),Oe(m),this.l(Z,ie)},et.prototype.writeZigzagVarint64=et.prototype.xa,et.prototype.Ta=function(m){this.W(ce(m))},et.prototype.writeZigzagVarint64String=et.prototype.Ta,et.prototype.W=function(m){var O=this;P(m),Ue(Z,ie,function(V,fe){O.l(V>>>0,fe>>>0)})},et.prototype.writeZigzagVarintHash64=et.prototype.W,et.prototype.be=function(m){re(m==Math.floor(m)),re(0<=m&&256>m),this.a.push(m>>>0&255)},et.prototype.writeUint8=et.prototype.be,et.prototype.ae=function(m){re(m==Math.floor(m)),re(0<=m&&65536>m),this.a.push(m>>>0&255),this.a.push(m>>>8&255)},et.prototype.writeUint16=et.prototype.ae,et.prototype.s=function(m){re(m==Math.floor(m)),re(0<=m&&4294967296>m),this.a.push(m>>>0&255),this.a.push(m>>>8&255),this.a.push(m>>>16&255),this.a.push(m>>>24&255)},et.prototype.writeUint32=et.prototype.s,et.prototype.V=function(m){re(m==Math.floor(m)),re(0<=m&&18446744073709552e3>m),pe(m),this.s(Z),this.s(ie)},et.prototype.writeUint64=et.prototype.V,et.prototype.Qc=function(m){re(m==Math.floor(m)),re(-128<=m&&128>m),this.a.push(m>>>0&255)},et.prototype.writeInt8=et.prototype.Qc,et.prototype.Pc=function(m){re(m==Math.floor(m)),re(-32768<=m&&32768>m),this.a.push(m>>>0&255),this.a.push(m>>>8&255)},et.prototype.writeInt16=et.prototype.Pc,et.prototype.S=function(m){re(m==Math.floor(m)),re(-2147483648<=m&&2147483648>m),this.a.push(m>>>0&255),this.a.push(m>>>8&255),this.a.push(m>>>16&255),this.a.push(m>>>24&255)},et.prototype.writeInt32=et.prototype.S,et.prototype.T=function(m){re(m==Math.floor(m)),re(-9223372036854776e3<=m&&9223372036854776e3>m),Ee(m),this.A(Z,ie)},et.prototype.writeInt64=et.prototype.T,et.prototype.ka=function(m){re(m==Math.floor(m)),re(-9223372036854776e3<=+m&&9223372036854776e3>+m),P(ce(m)),this.A(Z,ie)},et.prototype.writeInt64String=et.prototype.ka,et.prototype.L=function(m){re(m===1/0||m===-1/0||isNaN(m)||-34028234663852886e22<=m&&34028234663852886e22>=m),Re(m),this.s(Z)},et.prototype.writeFloat=et.prototype.L,et.prototype.J=function(m){re(m===1/0||m===-1/0||isNaN(m)||-17976931348623157e292<=m&&17976931348623157e292>=m),Ce(m),this.s(Z),this.s(ie)},et.prototype.writeDouble=et.prototype.J,et.prototype.I=function(m){re(typeof m=="boolean"||typeof m=="number"),this.a.push(m?1:0)},et.prototype.writeBool=et.prototype.I,et.prototype.R=function(m){re(m==Math.floor(m)),re(-2147483648<=m&&2147483648>m),this.M(m)},et.prototype.writeEnum=et.prototype.R,et.prototype.ja=function(m){this.a.push.apply(this.a,m)},et.prototype.writeBytes=et.prototype.ja,et.prototype.N=function(m){P(m),this.l(Z,ie)},et.prototype.writeVarintHash64=et.prototype.N,et.prototype.K=function(m){P(m),this.s(Z),this.s(ie)},et.prototype.writeFixedHash64=et.prototype.K,et.prototype.U=function(m){var O=this.a.length;K(m);for(var V=0;V<m.length;V++){var fe=m.charCodeAt(V);if(128>fe)this.a.push(fe);else if(2048>fe)this.a.push(fe>>6|192),this.a.push(fe&63|128);else if(65536>fe)if(55296<=fe&&56319>=fe&&V+1<m.length){var Ae=m.charCodeAt(V+1);56320<=Ae&&57343>=Ae&&(fe=1024*(fe-55296)+Ae-56320+65536,this.a.push(fe>>18|240),this.a.push(fe>>12&63|128),this.a.push(fe>>6&63|128),this.a.push(fe&63|128),V++)}else this.a.push(fe>>12|224),this.a.push(fe>>6&63|128),this.a.push(fe&63|128)}return this.a.length-O},et.prototype.writeString=et.prototype.U;function _t(m,O){this.lo=m,this.hi=O}g("jspb.arith.UInt64",_t,void 0),_t.prototype.cmp=function(m){return this.hi<m.hi||this.hi==m.hi&&this.lo<m.lo?-1:this.hi==m.hi&&this.lo==m.lo?0:1},_t.prototype.cmp=_t.prototype.cmp,_t.prototype.La=function(){return new _t((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},_t.prototype.rightShift=_t.prototype.La,_t.prototype.Da=function(){return new _t(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},_t.prototype.leftShift=_t.prototype.Da,_t.prototype.cb=function(){return!!(this.hi&2147483648)},_t.prototype.msb=_t.prototype.cb,_t.prototype.Ob=function(){return!!(this.lo&1)},_t.prototype.lsb=_t.prototype.Ob,_t.prototype.Ua=function(){return this.lo==0&&this.hi==0},_t.prototype.zero=_t.prototype.Ua,_t.prototype.add=function(m){return new _t((this.lo+m.lo&4294967295)>>>0>>>0,((this.hi+m.hi&4294967295)>>>0)+(4294967296<=this.lo+m.lo?1:0)>>>0)},_t.prototype.add=_t.prototype.add,_t.prototype.sub=function(m){return new _t((this.lo-m.lo&4294967295)>>>0>>>0,((this.hi-m.hi&4294967295)>>>0)-(0>this.lo-m.lo?1:0)>>>0)},_t.prototype.sub=_t.prototype.sub;function Ie(m,O){var V=m&65535;m>>>=16;var fe=O&65535,Ae=O>>>16;for(O=V*fe+65536*(V*Ae&65535)+65536*(m*fe&65535),V=m*Ae+(V*Ae>>>16)+(m*fe>>>16);4294967296<=O;)O-=4294967296,V+=1;return new _t(O>>>0,V>>>0)}_t.mul32x32=Ie,_t.prototype.eb=function(m){var O=Ie(this.lo,m);return m=Ie(this.hi,m),m.hi=m.lo,m.lo=0,O.add(m)},_t.prototype.mul=_t.prototype.eb,_t.prototype.Xa=function(m){if(m==0)return[];var O=new _t(0,0),V=new _t(this.lo,this.hi);m=new _t(m,0);for(var fe=new _t(1,0);!m.cb();)m=m.Da(),fe=fe.Da();for(;!fe.Ua();)0>=m.cmp(V)&&(O=O.add(fe),V=V.sub(m)),m=m.La(),fe=fe.La();return[O,V]},_t.prototype.div=_t.prototype.Xa,_t.prototype.toString=function(){for(var m="",O=this;!O.Ua();){O=O.Xa(10);var V=O[0];m=O[1].lo+m,O=V}return m==""&&(m="0"),m},_t.prototype.toString=_t.prototype.toString;function yt(m){for(var O=new _t(0,0),V=new _t(0,0),fe=0;fe<m.length;fe++){if("0">m[fe]||"9"<m[fe])return null;V.lo=parseInt(m[fe],10),O=O.eb(10).add(V)}return O}_t.fromString=yt,_t.prototype.clone=function(){return new _t(this.lo,this.hi)},_t.prototype.clone=_t.prototype.clone;function at(m,O){this.lo=m,this.hi=O}g("jspb.arith.Int64",at,void 0),at.prototype.add=function(m){return new at((this.lo+m.lo&4294967295)>>>0>>>0,((this.hi+m.hi&4294967295)>>>0)+(4294967296<=this.lo+m.lo?1:0)>>>0)},at.prototype.add=at.prototype.add,at.prototype.sub=function(m){return new at((this.lo-m.lo&4294967295)>>>0>>>0,((this.hi-m.hi&4294967295)>>>0)-(0>this.lo-m.lo?1:0)>>>0)},at.prototype.sub=at.prototype.sub,at.prototype.clone=function(){return new at(this.lo,this.hi)},at.prototype.clone=at.prototype.clone,at.prototype.toString=function(){var m=(this.hi&2147483648)!=0,O=new _t(this.lo,this.hi);return m&&(O=new _t(0,0).sub(O)),(m?"-":"")+O.toString()},at.prototype.toString=at.prototype.toString;function Jt(m){var O=0<m.length&&m[0]=="-";return O&&(m=m.substring(1)),m=yt(m),m===null?null:(O&&(m=new _t(0,0).sub(m)),new at(m.lo,m.hi))}at.fromString=Jt;function ve(){this.c=[],this.b=0,this.a=new et,this.h=[]}g("jspb.BinaryWriter",ve,void 0);function Tr(m,O){var V=m.a.end();m.c.push(V),m.c.push(O),m.b+=V.length+O.length}function or(m,O){return At(m,O,2),O=m.a.end(),m.c.push(O),m.b+=O.length,O.push(m.b),O}function sr(m,O){var V=O.pop();for(V=m.b+m.a.length()-V,re(0<=V);127<V;)O.push(V&127|128),V>>>=7,m.b++;O.push(V),m.b++}ve.prototype.pb=function(m,O,V){Tr(this,m.subarray(O,V))},ve.prototype.writeSerializedMessage=ve.prototype.pb,ve.prototype.Pb=function(m,O,V){m!=null&&O!=null&&V!=null&&this.pb(m,O,V)},ve.prototype.maybeWriteSerializedMessage=ve.prototype.Pb,ve.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},ve.prototype.reset=ve.prototype.reset,ve.prototype.ab=function(){re(this.h.length==0);for(var m=new Uint8Array(this.b+this.a.length()),O=this.c,V=O.length,fe=0,Ae=0;Ae<V;Ae++){var $e=O[Ae];m.set($e,fe),fe+=$e.length}return O=this.a.end(),m.set(O,fe),fe+=O.length,re(fe==m.length),this.c=[m],m},ve.prototype.getResultBuffer=ve.prototype.ab,ve.prototype.Kb=function(m){return he(this.ab(),m)},ve.prototype.getResultBase64String=ve.prototype.Kb,ve.prototype.Va=function(m){this.h.push(or(this,m))},ve.prototype.beginSubMessage=ve.prototype.Va,ve.prototype.Ya=function(){re(0<=this.h.length),sr(this,this.h.pop())},ve.prototype.endSubMessage=ve.prototype.Ya;function At(m,O,V){re(1<=O&&O==Math.floor(O)),m.a.j(8*O+V)}ve.prototype.Nc=function(m,O,V){switch(m){case 1:this.J(O,V);break;case 2:this.L(O,V);break;case 3:this.T(O,V);break;case 4:this.V(O,V);break;case 5:this.S(O,V);break;case 6:this.Qa(O,V);break;case 7:this.Pa(O,V);break;case 8:this.I(O,V);break;case 9:this.U(O,V);break;case 10:G("Group field type not supported in writeAny()");break;case 11:G("Message field type not supported in writeAny()");break;case 12:this.ja(O,V);break;case 13:this.s(O,V);break;case 14:this.R(O,V);break;case 15:this.Ra(O,V);break;case 16:this.Sa(O,V);break;case 17:this.rb(O,V);break;case 18:this.sb(O,V);break;case 30:this.K(O,V);break;case 31:this.N(O,V);break;default:G("Invalid field type in writeAny()")}},ve.prototype.writeAny=ve.prototype.Nc;function on(m,O,V){V!=null&&(At(m,O,0),m.a.j(V))}function Di(m,O,V){V!=null&&(At(m,O,0),m.a.M(V))}ve.prototype.S=function(m,O){O!=null&&(re(-2147483648<=O&&2147483648>O),Di(this,m,O))},ve.prototype.writeInt32=ve.prototype.S,ve.prototype.ob=function(m,O){O!=null&&(O=parseInt(O,10),re(-2147483648<=O&&2147483648>O),Di(this,m,O))},ve.prototype.writeInt32String=ve.prototype.ob,ve.prototype.T=function(m,O){O!=null&&(re(-9223372036854776e3<=O&&9223372036854776e3>O),O!=null&&(At(this,m,0),this.a.ua(O)))},ve.prototype.writeInt64=ve.prototype.T,ve.prototype.ka=function(m,O){O!=null&&(O=Jt(O),At(this,m,0),this.a.l(O.lo,O.hi))},ve.prototype.writeInt64String=ve.prototype.ka,ve.prototype.s=function(m,O){O!=null&&(re(0<=O&&4294967296>O),on(this,m,O))},ve.prototype.writeUint32=ve.prototype.s,ve.prototype.ub=function(m,O){O!=null&&(O=parseInt(O,10),re(0<=O&&4294967296>O),on(this,m,O))},ve.prototype.writeUint32String=ve.prototype.ub,ve.prototype.V=function(m,O){O!=null&&(re(0<=O&&18446744073709552e3>O),O!=null&&(At(this,m,0),this.a.va(O)))},ve.prototype.writeUint64=ve.prototype.V,ve.prototype.vb=function(m,O){O!=null&&(O=yt(O),At(this,m,0),this.a.l(O.lo,O.hi))},ve.prototype.writeUint64String=ve.prototype.vb,ve.prototype.rb=function(m,O){O!=null&&(re(-2147483648<=O&&2147483648>O),O!=null&&(At(this,m,0),this.a.wa(O)))},ve.prototype.writeSint32=ve.prototype.rb,ve.prototype.sb=function(m,O){O!=null&&(re(-9223372036854776e3<=O&&9223372036854776e3>O),O!=null&&(At(this,m,0),this.a.xa(O)))},ve.prototype.writeSint64=ve.prototype.sb,ve.prototype.$d=function(m,O){O!=null&&O!=null&&(At(this,m,0),this.a.W(O))},ve.prototype.writeSintHash64=ve.prototype.$d,ve.prototype.Zd=function(m,O){O!=null&&O!=null&&(At(this,m,0),this.a.Ta(O))},ve.prototype.writeSint64String=ve.prototype.Zd,ve.prototype.Pa=function(m,O){O!=null&&(re(0<=O&&4294967296>O),At(this,m,5),this.a.s(O))},ve.prototype.writeFixed32=ve.prototype.Pa,ve.prototype.Qa=function(m,O){O!=null&&(re(0<=O&&18446744073709552e3>O),At(this,m,1),this.a.V(O))},ve.prototype.writeFixed64=ve.prototype.Qa,ve.prototype.nb=function(m,O){O!=null&&(O=yt(O),At(this,m,1),this.a.A(O.lo,O.hi))},ve.prototype.writeFixed64String=ve.prototype.nb,ve.prototype.Ra=function(m,O){O!=null&&(re(-2147483648<=O&&2147483648>O),At(this,m,5),this.a.S(O))},ve.prototype.writeSfixed32=ve.prototype.Ra,ve.prototype.Sa=function(m,O){O!=null&&(re(-9223372036854776e3<=O&&9223372036854776e3>O),At(this,m,1),this.a.T(O))},ve.prototype.writeSfixed64=ve.prototype.Sa,ve.prototype.qb=function(m,O){O!=null&&(O=Jt(O),At(this,m,1),this.a.A(O.lo,O.hi))},ve.prototype.writeSfixed64String=ve.prototype.qb,ve.prototype.L=function(m,O){O!=null&&(At(this,m,5),this.a.L(O))},ve.prototype.writeFloat=ve.prototype.L,ve.prototype.J=function(m,O){O!=null&&(At(this,m,1),this.a.J(O))},ve.prototype.writeDouble=ve.prototype.J,ve.prototype.I=function(m,O){O!=null&&(re(typeof O=="boolean"||typeof O=="number"),At(this,m,0),this.a.I(O))},ve.prototype.writeBool=ve.prototype.I,ve.prototype.R=function(m,O){O!=null&&(re(-2147483648<=O&&2147483648>O),At(this,m,0),this.a.M(O))},ve.prototype.writeEnum=ve.prototype.R,ve.prototype.U=function(m,O){O!=null&&(m=or(this,m),this.a.U(O),sr(this,m))},ve.prototype.writeString=ve.prototype.U,ve.prototype.ja=function(m,O){O!=null&&(O=N(O),At(this,m,2),this.a.j(O.length),Tr(this,O))},ve.prototype.writeBytes=ve.prototype.ja,ve.prototype.Rc=function(m,O,V){O!=null&&(m=or(this,m),V(O,this),sr(this,m))},ve.prototype.writeMessage=ve.prototype.Rc,ve.prototype.Sc=function(m,O,V){O!=null&&(At(this,1,3),At(this,2,0),this.a.M(m),m=or(this,3),V(O,this),sr(this,m),At(this,1,4))},ve.prototype.writeMessageSet=ve.prototype.Sc,ve.prototype.Oc=function(m,O,V){O!=null&&(At(this,m,3),V(O,this),At(this,m,4))},ve.prototype.writeGroup=ve.prototype.Oc,ve.prototype.K=function(m,O){O!=null&&(re(O.length==8),At(this,m,1),this.a.K(O))},ve.prototype.writeFixedHash64=ve.prototype.K,ve.prototype.N=function(m,O){O!=null&&(re(O.length==8),At(this,m,0),this.a.N(O))},ve.prototype.writeVarintHash64=ve.prototype.N,ve.prototype.A=function(m,O,V){At(this,m,1),this.a.A(O,V)},ve.prototype.writeSplitFixed64=ve.prototype.A,ve.prototype.l=function(m,O,V){At(this,m,0),this.a.l(O,V)},ve.prototype.writeSplitVarint64=ve.prototype.l,ve.prototype.tb=function(m,O,V){At(this,m,0);var fe=this.a;Ue(O,V,function(Ae,$e){fe.l(Ae>>>0,$e>>>0)})},ve.prototype.writeSplitZigzagVarint64=ve.prototype.tb,ve.prototype.Ed=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)Di(this,m,O[V])},ve.prototype.writeRepeatedInt32=ve.prototype.Ed,ve.prototype.Fd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.ob(m,O[V])},ve.prototype.writeRepeatedInt32String=ve.prototype.Fd,ve.prototype.Gd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++){var fe=O[V];fe!=null&&(At(this,m,0),this.a.ua(fe))}},ve.prototype.writeRepeatedInt64=ve.prototype.Gd,ve.prototype.Qd=function(m,O,V,fe){if(O!=null)for(var Ae=0;Ae<O.length;Ae++)this.A(m,V(O[Ae]),fe(O[Ae]))},ve.prototype.writeRepeatedSplitFixed64=ve.prototype.Qd,ve.prototype.Rd=function(m,O,V,fe){if(O!=null)for(var Ae=0;Ae<O.length;Ae++)this.l(m,V(O[Ae]),fe(O[Ae]))},ve.prototype.writeRepeatedSplitVarint64=ve.prototype.Rd,ve.prototype.Sd=function(m,O,V,fe){if(O!=null)for(var Ae=0;Ae<O.length;Ae++)this.tb(m,V(O[Ae]),fe(O[Ae]))},ve.prototype.writeRepeatedSplitZigzagVarint64=ve.prototype.Sd,ve.prototype.Hd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.ka(m,O[V])},ve.prototype.writeRepeatedInt64String=ve.prototype.Hd,ve.prototype.Ud=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)on(this,m,O[V])},ve.prototype.writeRepeatedUint32=ve.prototype.Ud,ve.prototype.Vd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.ub(m,O[V])},ve.prototype.writeRepeatedUint32String=ve.prototype.Vd,ve.prototype.Wd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++){var fe=O[V];fe!=null&&(At(this,m,0),this.a.va(fe))}},ve.prototype.writeRepeatedUint64=ve.prototype.Wd,ve.prototype.Xd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.vb(m,O[V])},ve.prototype.writeRepeatedUint64String=ve.prototype.Xd,ve.prototype.Md=function(m,O){if(O!=null)for(var V=0;V<O.length;V++){var fe=O[V];fe!=null&&(At(this,m,0),this.a.wa(fe))}},ve.prototype.writeRepeatedSint32=ve.prototype.Md,ve.prototype.Nd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++){var fe=O[V];fe!=null&&(At(this,m,0),this.a.xa(fe))}},ve.prototype.writeRepeatedSint64=ve.prototype.Nd,ve.prototype.Od=function(m,O){if(O!=null)for(var V=0;V<O.length;V++){var fe=O[V];fe!=null&&(At(this,m,0),this.a.Ta(fe))}},ve.prototype.writeRepeatedSint64String=ve.prototype.Od,ve.prototype.Pd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++){var fe=O[V];fe!=null&&(At(this,m,0),this.a.W(fe))}},ve.prototype.writeRepeatedSintHash64=ve.prototype.Pd,ve.prototype.yd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.Pa(m,O[V])},ve.prototype.writeRepeatedFixed32=ve.prototype.yd,ve.prototype.zd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.Qa(m,O[V])},ve.prototype.writeRepeatedFixed64=ve.prototype.zd,ve.prototype.Ad=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.nb(m,O[V])},ve.prototype.writeRepeatedFixed64String=ve.prototype.Ad,ve.prototype.Jd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.Ra(m,O[V])},ve.prototype.writeRepeatedSfixed32=ve.prototype.Jd,ve.prototype.Kd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.Sa(m,O[V])},ve.prototype.writeRepeatedSfixed64=ve.prototype.Kd,ve.prototype.Ld=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.qb(m,O[V])},ve.prototype.writeRepeatedSfixed64String=ve.prototype.Ld,ve.prototype.Cd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.L(m,O[V])},ve.prototype.writeRepeatedFloat=ve.prototype.Cd,ve.prototype.wd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.J(m,O[V])},ve.prototype.writeRepeatedDouble=ve.prototype.wd,ve.prototype.ud=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.I(m,O[V])},ve.prototype.writeRepeatedBool=ve.prototype.ud,ve.prototype.xd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.R(m,O[V])},ve.prototype.writeRepeatedEnum=ve.prototype.xd,ve.prototype.Td=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.U(m,O[V])},ve.prototype.writeRepeatedString=ve.prototype.Td,ve.prototype.vd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.ja(m,O[V])},ve.prototype.writeRepeatedBytes=ve.prototype.vd,ve.prototype.Id=function(m,O,V){if(O!=null)for(var fe=0;fe<O.length;fe++){var Ae=or(this,m);V(O[fe],this),sr(this,Ae)}},ve.prototype.writeRepeatedMessage=ve.prototype.Id,ve.prototype.Dd=function(m,O,V){if(O!=null)for(var fe=0;fe<O.length;fe++)At(this,m,3),V(O[fe],this),At(this,m,4)},ve.prototype.writeRepeatedGroup=ve.prototype.Dd,ve.prototype.Bd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.K(m,O[V])},ve.prototype.writeRepeatedFixedHash64=ve.prototype.Bd,ve.prototype.Yd=function(m,O){if(O!=null)for(var V=0;V<O.length;V++)this.N(m,O[V])},ve.prototype.writeRepeatedVarintHash64=ve.prototype.Yd,ve.prototype.ad=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.M(O[V]);sr(this,m)}},ve.prototype.writePackedInt32=ve.prototype.ad,ve.prototype.bd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.M(parseInt(O[V],10));sr(this,m)}},ve.prototype.writePackedInt32String=ve.prototype.bd,ve.prototype.cd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.ua(O[V]);sr(this,m)}},ve.prototype.writePackedInt64=ve.prototype.cd,ve.prototype.md=function(m,O,V,fe){if(O!=null){m=or(this,m);for(var Ae=0;Ae<O.length;Ae++)this.a.A(V(O[Ae]),fe(O[Ae]));sr(this,m)}},ve.prototype.writePackedSplitFixed64=ve.prototype.md,ve.prototype.nd=function(m,O,V,fe){if(O!=null){m=or(this,m);for(var Ae=0;Ae<O.length;Ae++)this.a.l(V(O[Ae]),fe(O[Ae]));sr(this,m)}},ve.prototype.writePackedSplitVarint64=ve.prototype.nd,ve.prototype.od=function(m,O,V,fe){if(O!=null){m=or(this,m);for(var Ae=this.a,$e=0;$e<O.length;$e++)Ue(V(O[$e]),fe(O[$e]),function(dt,Dt){Ae.l(dt>>>0,Dt>>>0)});sr(this,m)}},ve.prototype.writePackedSplitZigzagVarint64=ve.prototype.od,ve.prototype.dd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++){var fe=Jt(O[V]);this.a.l(fe.lo,fe.hi)}sr(this,m)}},ve.prototype.writePackedInt64String=ve.prototype.dd,ve.prototype.pd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.j(O[V]);sr(this,m)}},ve.prototype.writePackedUint32=ve.prototype.pd,ve.prototype.qd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.j(parseInt(O[V],10));sr(this,m)}},ve.prototype.writePackedUint32String=ve.prototype.qd,ve.prototype.rd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.va(O[V]);sr(this,m)}},ve.prototype.writePackedUint64=ve.prototype.rd,ve.prototype.sd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++){var fe=yt(O[V]);this.a.l(fe.lo,fe.hi)}sr(this,m)}},ve.prototype.writePackedUint64String=ve.prototype.sd,ve.prototype.hd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.wa(O[V]);sr(this,m)}},ve.prototype.writePackedSint32=ve.prototype.hd,ve.prototype.jd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.xa(O[V]);sr(this,m)}},ve.prototype.writePackedSint64=ve.prototype.jd,ve.prototype.kd=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.W(ce(O[V]));sr(this,m)}},ve.prototype.writePackedSint64String=ve.prototype.kd,ve.prototype.ld=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.W(O[V]);sr(this,m)}},ve.prototype.writePackedSintHash64=ve.prototype.ld,ve.prototype.Wc=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(4*O.length),m=0;m<O.length;m++)this.a.s(O[m])},ve.prototype.writePackedFixed32=ve.prototype.Wc,ve.prototype.Xc=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(8*O.length),m=0;m<O.length;m++)this.a.V(O[m])},ve.prototype.writePackedFixed64=ve.prototype.Xc,ve.prototype.Yc=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(8*O.length),m=0;m<O.length;m++){var V=yt(O[m]);this.a.A(V.lo,V.hi)}},ve.prototype.writePackedFixed64String=ve.prototype.Yc,ve.prototype.ed=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(4*O.length),m=0;m<O.length;m++)this.a.S(O[m])},ve.prototype.writePackedSfixed32=ve.prototype.ed,ve.prototype.fd=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(8*O.length),m=0;m<O.length;m++)this.a.T(O[m])},ve.prototype.writePackedSfixed64=ve.prototype.fd,ve.prototype.gd=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(8*O.length),m=0;m<O.length;m++)this.a.ka(O[m])},ve.prototype.writePackedSfixed64String=ve.prototype.gd,ve.prototype.$c=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(4*O.length),m=0;m<O.length;m++)this.a.L(O[m])},ve.prototype.writePackedFloat=ve.prototype.$c,ve.prototype.Uc=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(8*O.length),m=0;m<O.length;m++)this.a.J(O[m])},ve.prototype.writePackedDouble=ve.prototype.Uc,ve.prototype.Tc=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(O.length),m=0;m<O.length;m++)this.a.I(O[m])},ve.prototype.writePackedBool=ve.prototype.Tc,ve.prototype.Vc=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.R(O[V]);sr(this,m)}},ve.prototype.writePackedEnum=ve.prototype.Vc,ve.prototype.Zc=function(m,O){if(O!=null&&O.length)for(At(this,m,2),this.a.j(8*O.length),m=0;m<O.length;m++)this.a.K(O[m])},ve.prototype.writePackedFixedHash64=ve.prototype.Zc,ve.prototype.td=function(m,O){if(O!=null&&O.length){m=or(this,m);for(var V=0;V<O.length;V++)this.a.N(O[V]);sr(this,m)}},ve.prototype.writePackedVarintHash64=ve.prototype.td,e.debug=Ct,e.Map=p,e.Message=Ze,e.BinaryReader=le,e.BinaryWriter=ve,e.ExtensionFieldInfo=gt,e.ExtensionFieldBinaryInfo=jt,e.exportSymbol=F,e.inherits=D,e.object={extend:B},e.typeOf=k})(fO);var K8e=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),V8e=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),W8e=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&K8e(t,e,r);return V8e(t,e),t},Pn=He&&He.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)};Object.defineProperty(fp,"__esModule",{value:!0});fp.protorune=void 0;const Pe=W8e(fO);var JR;(function(e){var t,r,n,i,o,s,a,l,c,u,h,g,k,R,F,D,$,B,U,q,ee,ae,re,K;class C extends Pe.Message{constructor(P){super(),t.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,t,"f")),!Array.isArray(P)&&typeof P=="object"&&("height"in P&&P.height!=null&&(this.height=P.height),"txindex"in P&&P.txindex!=null&&(this.txindex=P.txindex))}get height(){return Pe.Message.getFieldWithDefault(this,1,0)}set height(P){Pe.Message.setField(this,1,P)}get txindex(){return Pe.Message.getFieldWithDefault(this,2,0)}set txindex(P){Pe.Message.setField(this,2,P)}static fromObject(P){const Y=new C({});return P.height!=null&&(Y.height=P.height),P.txindex!=null&&(Y.txindex=P.txindex),Y}toObject(){const P={};return this.height!=null&&(P.height=this.height),this.txindex!=null&&(P.txindex=this.txindex),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.height!=0&&Y.writeUint32(1,this.height),this.txindex!=0&&Y.writeUint32(2,this.txindex),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new C;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.height=Y.readUint32();break;case 2:be.txindex=Y.readUint32();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return C.deserialize(P)}}t=new WeakMap,e.RuneId=C;class G extends Pe.Message{constructor(P){super(),r.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,r,"f")),!Array.isArray(P)&&typeof P=="object"&&("height"in P&&P.height!=null&&(this.height=P.height),"transaction"in P&&P.transaction!=null&&(this.transaction=P.transaction))}get height(){return Pe.Message.getFieldWithDefault(this,1,0)}set height(P){Pe.Message.setField(this,1,P)}get transaction(){return Pe.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set transaction(P){Pe.Message.setField(this,2,P)}static fromObject(P){const Y=new G({});return P.height!=null&&(Y.height=P.height),P.transaction!=null&&(Y.transaction=P.transaction),Y}toObject(){const P={};return this.height!=null&&(P.height=this.height),this.transaction!=null&&(P.transaction=this.transaction),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.height!=0&&Y.writeUint64(1,this.height),this.transaction.length&&Y.writeBytes(2,this.transaction),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new G;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.height=Y.readUint64();break;case 2:be.transaction=Y.readBytes();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return G.deserialize(P)}}r=new WeakMap,e.TransactionRecord=G;class v extends Pe.Message{constructor(P){super(),n.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,n,"f")),!Array.isArray(P)&&typeof P=="object"&&("height"in P&&P.height!=null&&(this.height=P.height),"txindex"in P&&P.txindex!=null&&(this.txindex=P.txindex))}get height(){return Pe.Message.getWrapperField(this,se,1)}set height(P){Pe.Message.setWrapperField(this,1,P)}get has_height(){return Pe.Message.getField(this,1)!=null}get txindex(){return Pe.Message.getWrapperField(this,se,2)}set txindex(P){Pe.Message.setWrapperField(this,2,P)}get has_txindex(){return Pe.Message.getField(this,2)!=null}static fromObject(P){const Y=new v({});return P.height!=null&&(Y.height=se.fromObject(P.height)),P.txindex!=null&&(Y.txindex=se.fromObject(P.txindex)),Y}toObject(){const P={};return this.height!=null&&(P.height=this.height.toObject()),this.txindex!=null&&(P.txindex=this.txindex.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_height&&Y.writeMessage(1,this.height,()=>this.height.serialize(Y)),this.has_txindex&&Y.writeMessage(2,this.txindex,()=>this.txindex.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new v;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.height,()=>be.height=se.deserialize(Y));break;case 2:Y.readMessage(be.txindex,()=>be.txindex=se.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return v.deserialize(P)}}n=new WeakMap,e.ProtoruneRuneId=v;class I extends Pe.Message{constructor(P){super(),i.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,i,"f")),!Array.isArray(P)&&typeof P=="object"&&("runeId"in P&&P.runeId!=null&&(this.runeId=P.runeId),"name"in P&&P.name!=null&&(this.name=P.name),"divisibility"in P&&P.divisibility!=null&&(this.divisibility=P.divisibility),"spacers"in P&&P.spacers!=null&&(this.spacers=P.spacers),"symbol"in P&&P.symbol!=null&&(this.symbol=P.symbol),"runes_symbol"in P&&P.runes_symbol!=null&&(this.runes_symbol=P.runes_symbol))}get runeId(){return Pe.Message.getWrapperField(this,v,1)}set runeId(P){Pe.Message.setWrapperField(this,1,P)}get has_runeId(){return Pe.Message.getField(this,1)!=null}get name(){return Pe.Message.getFieldWithDefault(this,2,"")}set name(P){Pe.Message.setField(this,2,P)}get divisibility(){return Pe.Message.getFieldWithDefault(this,3,0)}set divisibility(P){Pe.Message.setField(this,3,P)}get spacers(){return Pe.Message.getFieldWithDefault(this,4,0)}set spacers(P){Pe.Message.setField(this,4,P)}get symbol(){return Pe.Message.getFieldWithDefault(this,5,"")}set symbol(P){Pe.Message.setField(this,5,P)}get runes_symbol(){return Pe.Message.getFieldWithDefault(this,6,0)}set runes_symbol(P){Pe.Message.setField(this,6,P)}static fromObject(P){const Y=new I({});return P.runeId!=null&&(Y.runeId=v.fromObject(P.runeId)),P.name!=null&&(Y.name=P.name),P.divisibility!=null&&(Y.divisibility=P.divisibility),P.spacers!=null&&(Y.spacers=P.spacers),P.symbol!=null&&(Y.symbol=P.symbol),P.runes_symbol!=null&&(Y.runes_symbol=P.runes_symbol),Y}toObject(){const P={};return this.runeId!=null&&(P.runeId=this.runeId.toObject()),this.name!=null&&(P.name=this.name),this.divisibility!=null&&(P.divisibility=this.divisibility),this.spacers!=null&&(P.spacers=this.spacers),this.symbol!=null&&(P.symbol=this.symbol),this.runes_symbol!=null&&(P.runes_symbol=this.runes_symbol),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_runeId&&Y.writeMessage(1,this.runeId,()=>this.runeId.serialize(Y)),this.name.length&&Y.writeString(2,this.name),this.divisibility!=0&&Y.writeUint32(3,this.divisibility),this.spacers!=0&&Y.writeUint32(4,this.spacers),this.symbol.length&&Y.writeString(5,this.symbol),this.runes_symbol!=0&&Y.writeUint32(6,this.runes_symbol),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new I;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.runeId,()=>be.runeId=v.deserialize(Y));break;case 2:be.name=Y.readString();break;case 3:be.divisibility=Y.readUint32();break;case 4:be.spacers=Y.readUint32();break;case 5:be.symbol=Y.readString();break;case 6:be.runes_symbol=Y.readUint32();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return I.deserialize(P)}}i=new WeakMap,e.Rune=I;class p extends Pe.Message{constructor(P){super(),o.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,o,"f")),!Array.isArray(P)&&typeof P=="object"&&("rune"in P&&P.rune!=null&&(this.rune=P.rune),"balance"in P&&P.balance!=null&&(this.balance=P.balance))}get rune(){return Pe.Message.getWrapperField(this,I,1)}set rune(P){Pe.Message.setWrapperField(this,1,P)}get has_rune(){return Pe.Message.getField(this,1)!=null}get balance(){return Pe.Message.getWrapperField(this,se,2)}set balance(P){Pe.Message.setWrapperField(this,2,P)}get has_balance(){return Pe.Message.getField(this,2)!=null}static fromObject(P){const Y=new p({});return P.rune!=null&&(Y.rune=I.fromObject(P.rune)),P.balance!=null&&(Y.balance=se.fromObject(P.balance)),Y}toObject(){const P={};return this.rune!=null&&(P.rune=this.rune.toObject()),this.balance!=null&&(P.balance=this.balance.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_rune&&Y.writeMessage(1,this.rune,()=>this.rune.serialize(Y)),this.has_balance&&Y.writeMessage(2,this.balance,()=>this.balance.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new p;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.rune,()=>be.rune=I.deserialize(Y));break;case 2:Y.readMessage(be.balance,()=>be.balance=se.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return p.deserialize(P)}}o=new WeakMap,e.BalanceSheetItem=p;class _ extends Pe.Message{constructor(P){super(),s.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[1],Pn(this,s,"f")),!Array.isArray(P)&&typeof P=="object"&&"entries"in P&&P.entries!=null&&(this.entries=P.entries)}get entries(){return Pe.Message.getRepeatedWrapperField(this,p,1)}set entries(P){Pe.Message.setRepeatedWrapperField(this,1,P)}static fromObject(P){const Y=new _({});return P.entries!=null&&(Y.entries=P.entries.map(be=>p.fromObject(be))),Y}toObject(){const P={};return this.entries!=null&&(P.entries=this.entries.map(Y=>Y.toObject())),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.entries.length&&Y.writeRepeatedMessage(1,this.entries,be=>be.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new _;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.entries,()=>Pe.Message.addToRepeatedWrapperField(be,1,p.deserialize(Y),p));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return _.deserialize(P)}}s=new WeakMap,e.BalanceSheet=_;class w extends Pe.Message{constructor(P){super(),a.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,a,"f")),!Array.isArray(P)&&typeof P=="object"&&("txid"in P&&P.txid!=null&&(this.txid=P.txid),"vout"in P&&P.vout!=null&&(this.vout=P.vout))}get txid(){return Pe.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set txid(P){Pe.Message.setField(this,1,P)}get vout(){return Pe.Message.getFieldWithDefault(this,2,0)}set vout(P){Pe.Message.setField(this,2,P)}static fromObject(P){const Y=new w({});return P.txid!=null&&(Y.txid=P.txid),P.vout!=null&&(Y.vout=P.vout),Y}toObject(){const P={};return this.txid!=null&&(P.txid=this.txid),this.vout!=null&&(P.vout=this.vout),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.txid.length&&Y.writeBytes(1,this.txid),this.vout!=0&&Y.writeUint32(2,this.vout),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new w;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.txid=Y.readBytes();break;case 2:be.vout=Y.readUint32();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return w.deserialize(P)}}a=new WeakMap,e.Outpoint=w;class S extends Pe.Message{constructor(P){super(),l.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,l,"f")),!Array.isArray(P)&&typeof P=="object"&&("txid"in P&&P.txid!=null&&(this.txid=P.txid),"vout"in P&&P.vout!=null&&(this.vout=P.vout),"protocol"in P&&P.protocol!=null&&(this.protocol=P.protocol))}get txid(){return Pe.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set txid(P){Pe.Message.setField(this,1,P)}get vout(){return Pe.Message.getFieldWithDefault(this,2,0)}set vout(P){Pe.Message.setField(this,2,P)}get protocol(){return Pe.Message.getWrapperField(this,se,3)}set protocol(P){Pe.Message.setWrapperField(this,3,P)}get has_protocol(){return Pe.Message.getField(this,3)!=null}static fromObject(P){const Y=new S({});return P.txid!=null&&(Y.txid=P.txid),P.vout!=null&&(Y.vout=P.vout),P.protocol!=null&&(Y.protocol=se.fromObject(P.protocol)),Y}toObject(){const P={};return this.txid!=null&&(P.txid=this.txid),this.vout!=null&&(P.vout=this.vout),this.protocol!=null&&(P.protocol=this.protocol.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.txid.length&&Y.writeBytes(1,this.txid),this.vout!=0&&Y.writeUint32(2,this.vout),this.has_protocol&&Y.writeMessage(3,this.protocol,()=>this.protocol.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new S;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.txid=Y.readBytes();break;case 2:be.vout=Y.readUint32();break;case 3:Y.readMessage(be.protocol,()=>be.protocol=se.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return S.deserialize(P)}}l=new WeakMap,e.OutpointWithProtocol=S;class A extends Pe.Message{constructor(P){super(),c.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,c,"f")),!Array.isArray(P)&&typeof P=="object"&&("script"in P&&P.script!=null&&(this.script=P.script),"value"in P&&P.value!=null&&(this.value=P.value))}get script(){return Pe.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set script(P){Pe.Message.setField(this,1,P)}get value(){return Pe.Message.getFieldWithDefault(this,2,0)}set value(P){Pe.Message.setField(this,2,P)}static fromObject(P){const Y=new A({});return P.script!=null&&(Y.script=P.script),P.value!=null&&(Y.value=P.value),Y}toObject(){const P={};return this.script!=null&&(P.script=this.script),this.value!=null&&(P.value=this.value),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.script.length&&Y.writeBytes(1,this.script),this.value!=0&&Y.writeUint64(2,this.value),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new A;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.script=Y.readBytes();break;case 2:be.value=Y.readUint64();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return A.deserialize(P)}}c=new WeakMap,e.Output=A;class x extends Pe.Message{constructor(P){super(),u.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,u,"f")),!Array.isArray(P)&&typeof P=="object"&&("balances"in P&&P.balances!=null&&(this.balances=P.balances),"outpoint"in P&&P.outpoint!=null&&(this.outpoint=P.outpoint),"output"in P&&P.output!=null&&(this.output=P.output),"height"in P&&P.height!=null&&(this.height=P.height),"txindex"in P&&P.txindex!=null&&(this.txindex=P.txindex))}get balances(){return Pe.Message.getWrapperField(this,_,1)}set balances(P){Pe.Message.setWrapperField(this,1,P)}get has_balances(){return Pe.Message.getField(this,1)!=null}get outpoint(){return Pe.Message.getWrapperField(this,w,2)}set outpoint(P){Pe.Message.setWrapperField(this,2,P)}get has_outpoint(){return Pe.Message.getField(this,2)!=null}get output(){return Pe.Message.getWrapperField(this,A,3)}set output(P){Pe.Message.setWrapperField(this,3,P)}get has_output(){return Pe.Message.getField(this,3)!=null}get height(){return Pe.Message.getFieldWithDefault(this,4,0)}set height(P){Pe.Message.setField(this,4,P)}get txindex(){return Pe.Message.getFieldWithDefault(this,5,0)}set txindex(P){Pe.Message.setField(this,5,P)}static fromObject(P){const Y=new x({});return P.balances!=null&&(Y.balances=_.fromObject(P.balances)),P.outpoint!=null&&(Y.outpoint=w.fromObject(P.outpoint)),P.output!=null&&(Y.output=A.fromObject(P.output)),P.height!=null&&(Y.height=P.height),P.txindex!=null&&(Y.txindex=P.txindex),Y}toObject(){const P={};return this.balances!=null&&(P.balances=this.balances.toObject()),this.outpoint!=null&&(P.outpoint=this.outpoint.toObject()),this.output!=null&&(P.output=this.output.toObject()),this.height!=null&&(P.height=this.height),this.txindex!=null&&(P.txindex=this.txindex),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_balances&&Y.writeMessage(1,this.balances,()=>this.balances.serialize(Y)),this.has_outpoint&&Y.writeMessage(2,this.outpoint,()=>this.outpoint.serialize(Y)),this.has_output&&Y.writeMessage(3,this.output,()=>this.output.serialize(Y)),this.height!=0&&Y.writeUint32(4,this.height),this.txindex!=0&&Y.writeUint32(5,this.txindex),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new x;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.balances,()=>be.balances=_.deserialize(Y));break;case 2:Y.readMessage(be.outpoint,()=>be.outpoint=w.deserialize(Y));break;case 3:Y.readMessage(be.output,()=>be.output=A.deserialize(Y));break;case 4:be.height=Y.readUint32();break;case 5:be.txindex=Y.readUint32();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return x.deserialize(P)}}u=new WeakMap,e.OutpointResponse=x;class E extends Pe.Message{constructor(P){super(),h.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,h,"f")),!Array.isArray(P)&&typeof P=="object"&&("start"in P&&P.start!=null&&(this.start=P.start),"end"in P&&P.end!=null&&(this.end=P.end))}get start(){return Pe.Message.getFieldWithDefault(this,1,0)}set start(P){Pe.Message.setField(this,1,P)}get end(){return Pe.Message.getFieldWithDefault(this,2,0)}set end(P){Pe.Message.setField(this,2,P)}static fromObject(P){const Y=new E({});return P.start!=null&&(Y.start=P.start),P.end!=null&&(Y.end=P.end),Y}toObject(){const P={};return this.start!=null&&(P.start=this.start),this.end!=null&&(P.end=this.end),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.start!=0&&Y.writeUint32(1,this.start),this.end!=0&&Y.writeUint32(2,this.end),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new E;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.start=Y.readUint32();break;case 2:be.end=Y.readUint32();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return E.deserialize(P)}}h=new WeakMap,e.PaginationInput=E;class T extends Pe.Message{constructor(P){super(),g.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,g,"f")),!Array.isArray(P)&&typeof P=="object"&&"wallet"in P&&P.wallet!=null&&(this.wallet=P.wallet)}get wallet(){return Pe.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set wallet(P){Pe.Message.setField(this,1,P)}static fromObject(P){const Y=new T({});return P.wallet!=null&&(Y.wallet=P.wallet),Y}toObject(){const P={};return this.wallet!=null&&(P.wallet=this.wallet),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.wallet.length&&Y.writeBytes(1,this.wallet),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new T;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.wallet=Y.readBytes();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return T.deserialize(P)}}g=new WeakMap,e.WalletRequest=T;class M extends Pe.Message{constructor(P){super(),k.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[1],Pn(this,k,"f")),!Array.isArray(P)&&typeof P=="object"&&("outpoints"in P&&P.outpoints!=null&&(this.outpoints=P.outpoints),"balances"in P&&P.balances!=null&&(this.balances=P.balances))}get outpoints(){return Pe.Message.getRepeatedWrapperField(this,x,1)}set outpoints(P){Pe.Message.setRepeatedWrapperField(this,1,P)}get balances(){return Pe.Message.getWrapperField(this,_,2)}set balances(P){Pe.Message.setWrapperField(this,2,P)}get has_balances(){return Pe.Message.getField(this,2)!=null}static fromObject(P){const Y=new M({});return P.outpoints!=null&&(Y.outpoints=P.outpoints.map(be=>x.fromObject(be))),P.balances!=null&&(Y.balances=_.fromObject(P.balances)),Y}toObject(){const P={};return this.outpoints!=null&&(P.outpoints=this.outpoints.map(Y=>Y.toObject())),this.balances!=null&&(P.balances=this.balances.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.outpoints.length&&Y.writeRepeatedMessage(1,this.outpoints,be=>be.serialize(Y)),this.has_balances&&Y.writeMessage(2,this.balances,()=>this.balances.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new M;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.outpoints,()=>Pe.Message.addToRepeatedWrapperField(be,1,x.deserialize(Y),x));break;case 2:Y.readMessage(be.balances,()=>be.balances=_.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return M.deserialize(P)}}k=new WeakMap,e.WalletResponse=M;class Q extends Pe.Message{constructor(P){super(),R.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,R,"f")),!Array.isArray(P)&&typeof P=="object"&&("wallet"in P&&P.wallet!=null&&(this.wallet=P.wallet),"protocol_tag"in P&&P.protocol_tag!=null&&(this.protocol_tag=P.protocol_tag))}get wallet(){return Pe.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set wallet(P){Pe.Message.setField(this,1,P)}get protocol_tag(){return Pe.Message.getWrapperField(this,se,2)}set protocol_tag(P){Pe.Message.setWrapperField(this,2,P)}get has_protocol_tag(){return Pe.Message.getField(this,2)!=null}static fromObject(P){const Y=new Q({});return P.wallet!=null&&(Y.wallet=P.wallet),P.protocol_tag!=null&&(Y.protocol_tag=se.fromObject(P.protocol_tag)),Y}toObject(){const P={};return this.wallet!=null&&(P.wallet=this.wallet),this.protocol_tag!=null&&(P.protocol_tag=this.protocol_tag.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.wallet.length&&Y.writeBytes(1,this.wallet),this.has_protocol_tag&&Y.writeMessage(2,this.protocol_tag,()=>this.protocol_tag.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new Q;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.wallet=Y.readBytes();break;case 2:Y.readMessage(be.protocol_tag,()=>be.protocol_tag=se.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return Q.deserialize(P)}}R=new WeakMap,e.ProtorunesWalletRequest=Q;class he extends Pe.Message{constructor(P){super(),F.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,F,"f")),!Array.isArray(P)&&typeof P=="object"&&"height"in P&&P.height!=null&&(this.height=P.height)}get height(){return Pe.Message.getFieldWithDefault(this,1,0)}set height(P){Pe.Message.setField(this,1,P)}static fromObject(P){const Y=new he({});return P.height!=null&&(Y.height=P.height),Y}toObject(){const P={};return this.height!=null&&(P.height=this.height),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.height!=0&&Y.writeUint64(1,this.height),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new he;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.height=Y.readUint64();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return he.deserialize(P)}}F=new WeakMap,e.RunesByHeightRequest=he;class ue extends Pe.Message{constructor(P){super(),D.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[1],Pn(this,D,"f")),!Array.isArray(P)&&typeof P=="object"&&"runes"in P&&P.runes!=null&&(this.runes=P.runes)}get runes(){return Pe.Message.getRepeatedWrapperField(this,I,1)}set runes(P){Pe.Message.setRepeatedWrapperField(this,1,P)}static fromObject(P){const Y=new ue({});return P.runes!=null&&(Y.runes=P.runes.map(be=>I.fromObject(be))),Y}toObject(){const P={};return this.runes!=null&&(P.runes=this.runes.map(Y=>Y.toObject())),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.runes.length&&Y.writeRepeatedMessage(1,this.runes,be=>be.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new ue;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.runes,()=>Pe.Message.addToRepeatedWrapperField(be,1,I.deserialize(Y),I));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return ue.deserialize(P)}}D=new WeakMap,e.RunesResponse=ue;class W extends Pe.Message{constructor(P){super(),$.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,$,"f")),!Array.isArray(P)&&typeof P=="object"&&("protocol_tag"in P&&P.protocol_tag!=null&&(this.protocol_tag=P.protocol_tag),"pointer"in P&&P.pointer!=null&&(this.pointer=P.pointer))}get protocol_tag(){return Pe.Message.getWrapperField(this,se,1)}set protocol_tag(P){Pe.Message.setWrapperField(this,1,P)}get has_protocol_tag(){return Pe.Message.getField(this,1)!=null}get pointer(){return Pe.Message.getFieldWithDefault(this,2,0)}set pointer(P){Pe.Message.setField(this,2,P)}static fromObject(P){const Y=new W({});return P.protocol_tag!=null&&(Y.protocol_tag=se.fromObject(P.protocol_tag)),P.pointer!=null&&(Y.pointer=P.pointer),Y}toObject(){const P={};return this.protocol_tag!=null&&(P.protocol_tag=this.protocol_tag.toObject()),this.pointer!=null&&(P.pointer=this.pointer),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_protocol_tag&&Y.writeMessage(1,this.protocol_tag,()=>this.protocol_tag.serialize(Y)),this.pointer!=0&&Y.writeUint32(2,this.pointer),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new W;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.protocol_tag,()=>be.protocol_tag=se.deserialize(Y));break;case 2:be.pointer=Y.readUint32();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return W.deserialize(P)}}$=new WeakMap,e.ProtoBurn=W;class se extends Pe.Message{constructor(P){super(),B.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,B,"f")),!Array.isArray(P)&&typeof P=="object"&&("lo"in P&&P.lo!=null&&(this.lo=P.lo),"hi"in P&&P.hi!=null&&(this.hi=P.hi))}get lo(){return Pe.Message.getFieldWithDefault(this,1,"0")}set lo(P){Pe.Message.setField(this,1,P)}get hi(){return Pe.Message.getFieldWithDefault(this,2,"0")}set hi(P){Pe.Message.setField(this,2,P)}static fromObject(P){const Y=new se({});return P.lo!=null&&(Y.lo=P.lo),P.hi!=null&&(Y.hi=P.hi),Y}toObject(){const P={};return this.lo!=null&&(P.lo=this.lo),this.hi!=null&&(P.hi=this.hi),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.lo!="0"&&Y.writeUint64String(1,this.lo),this.hi!="0"&&Y.writeUint64String(2,this.hi),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new se;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.lo=Y.readUint64String();break;case 2:be.hi=Y.readUint64String();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return se.deserialize(P)}}B=new WeakMap,e.uint128=se;class Z extends Pe.Message{constructor(P){super(),U.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,U,"f")),!Array.isArray(P)&&typeof P=="object"&&("rune"in P&&P.rune!=null&&(this.rune=P.rune),"amount"in P&&P.amount!=null&&(this.amount=P.amount))}get rune(){return Pe.Message.getWrapperField(this,v,1)}set rune(P){Pe.Message.setWrapperField(this,1,P)}get has_rune(){return Pe.Message.getField(this,1)!=null}get amount(){return Pe.Message.getWrapperField(this,se,2)}set amount(P){Pe.Message.setWrapperField(this,2,P)}get has_amount(){return Pe.Message.getField(this,2)!=null}static fromObject(P){const Y=new Z({});return P.rune!=null&&(Y.rune=v.fromObject(P.rune)),P.amount!=null&&(Y.amount=se.fromObject(P.amount)),Y}toObject(){const P={};return this.rune!=null&&(P.rune=this.rune.toObject()),this.amount!=null&&(P.amount=this.amount.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_rune&&Y.writeMessage(1,this.rune,()=>this.rune.serialize(Y)),this.has_amount&&Y.writeMessage(2,this.amount,()=>this.amount.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new Z;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.rune,()=>be.rune=v.deserialize(Y));break;case 2:Y.readMessage(be.amount,()=>be.amount=se.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return Z.deserialize(P)}}U=new WeakMap,e.Clause=Z;class ie extends Pe.Message{constructor(P){super(),q.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[1],Pn(this,q,"f")),!Array.isArray(P)&&typeof P=="object"&&"clauses"in P&&P.clauses!=null&&(this.clauses=P.clauses)}get clauses(){return Pe.Message.getRepeatedWrapperField(this,Z,1)}set clauses(P){Pe.Message.setRepeatedWrapperField(this,1,P)}static fromObject(P){const Y=new ie({});return P.clauses!=null&&(Y.clauses=P.clauses.map(be=>Z.fromObject(be))),Y}toObject(){const P={};return this.clauses!=null&&(P.clauses=this.clauses.map(Y=>Y.toObject())),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.clauses.length&&Y.writeRepeatedMessage(1,this.clauses,be=>be.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new ie;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.clauses,()=>Pe.Message.addToRepeatedWrapperField(be,1,Z.deserialize(Y),Z));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return ie.deserialize(P)}}q=new WeakMap,e.Predicate=ie;class pe extends Pe.Message{constructor(P){super(),ee.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,ee,"f")),!Array.isArray(P)&&typeof P=="object"&&("calldata"in P&&P.calldata!=null&&(this.calldata=P.calldata),"predicate"in P&&P.predicate!=null&&(this.predicate=P.predicate),"pointer"in P&&P.pointer!=null&&(this.pointer=P.pointer),"refund_pointer"in P&&P.refund_pointer!=null&&(this.refund_pointer=P.refund_pointer))}get calldata(){return Pe.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set calldata(P){Pe.Message.setField(this,1,P)}get predicate(){return Pe.Message.getWrapperField(this,ie,2)}set predicate(P){Pe.Message.setWrapperField(this,2,P)}get has_predicate(){return Pe.Message.getField(this,2)!=null}get pointer(){return Pe.Message.getFieldWithDefault(this,3,0)}set pointer(P){Pe.Message.setField(this,3,P)}get refund_pointer(){return Pe.Message.getFieldWithDefault(this,4,0)}set refund_pointer(P){Pe.Message.setField(this,4,P)}static fromObject(P){const Y=new pe({});return P.calldata!=null&&(Y.calldata=P.calldata),P.predicate!=null&&(Y.predicate=ie.fromObject(P.predicate)),P.pointer!=null&&(Y.pointer=P.pointer),P.refund_pointer!=null&&(Y.refund_pointer=P.refund_pointer),Y}toObject(){const P={};return this.calldata!=null&&(P.calldata=this.calldata),this.predicate!=null&&(P.predicate=this.predicate.toObject()),this.pointer!=null&&(P.pointer=this.pointer),this.refund_pointer!=null&&(P.refund_pointer=this.refund_pointer),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.calldata.length&&Y.writeBytes(1,this.calldata),this.has_predicate&&Y.writeMessage(2,this.predicate,()=>this.predicate.serialize(Y)),this.pointer!=0&&Y.writeUint32(3,this.pointer),this.refund_pointer!=0&&Y.writeUint32(4,this.refund_pointer),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new pe;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.calldata=Y.readBytes();break;case 2:Y.readMessage(be.predicate,()=>be.predicate=ie.deserialize(Y));break;case 3:be.pointer=Y.readUint32();break;case 4:be.refund_pointer=Y.readUint32();break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return pe.deserialize(P)}}ee=new WeakMap,e.ProtoMessage=pe;class Ee extends Pe.Message{constructor(P){super(),ae.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,ae,"f")),!Array.isArray(P)&&typeof P=="object"&&"protocol_tag"in P&&P.protocol_tag!=null&&(this.protocol_tag=P.protocol_tag)}get protocol_tag(){return Pe.Message.getWrapperField(this,se,1)}set protocol_tag(P){Pe.Message.setWrapperField(this,1,P)}get has_protocol_tag(){return Pe.Message.getField(this,1)!=null}static fromObject(P){const Y=new Ee({});return P.protocol_tag!=null&&(Y.protocol_tag=se.fromObject(P.protocol_tag)),Y}toObject(){const P={};return this.protocol_tag!=null&&(P.protocol_tag=this.protocol_tag.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_protocol_tag&&Y.writeMessage(1,this.protocol_tag,()=>this.protocol_tag.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new Ee;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.protocol_tag,()=>be.protocol_tag=se.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return Ee.deserialize(P)}}ae=new WeakMap,e.RuntimeInput=Ee;class Oe extends Pe.Message{constructor(P){super(),re.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,re,"f")),!Array.isArray(P)&&typeof P=="object"&&"balances"in P&&P.balances!=null&&(this.balances=P.balances)}get balances(){return Pe.Message.getWrapperField(this,_,1)}set balances(P){Pe.Message.setWrapperField(this,1,P)}get has_balances(){return Pe.Message.getField(this,1)!=null}static fromObject(P){const Y=new Oe({});return P.balances!=null&&(Y.balances=_.fromObject(P.balances)),Y}toObject(){const P={};return this.balances!=null&&(P.balances=this.balances.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.has_balances&&Y.writeMessage(1,this.balances,()=>this.balances.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new Oe;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:Y.readMessage(be.balances,()=>be.balances=_.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return Oe.deserialize(P)}}re=new WeakMap,e.Runtime=Oe;class Re extends Pe.Message{constructor(P){super(),K.set(this,[]),Pe.Message.initialize(this,Array.isArray(P)?P:[],0,-1,[],Pn(this,K,"f")),!Array.isArray(P)&&typeof P=="object"&&("height"in P&&P.height!=null&&(this.height=P.height),"protocol_tag"in P&&P.protocol_tag!=null&&(this.protocol_tag=P.protocol_tag))}get height(){return Pe.Message.getFieldWithDefault(this,1,0)}set height(P){Pe.Message.setField(this,1,P)}get protocol_tag(){return Pe.Message.getWrapperField(this,se,2)}set protocol_tag(P){Pe.Message.setWrapperField(this,2,P)}get has_protocol_tag(){return Pe.Message.getField(this,2)!=null}static fromObject(P){const Y=new Re({});return P.height!=null&&(Y.height=P.height),P.protocol_tag!=null&&(Y.protocol_tag=se.fromObject(P.protocol_tag)),Y}toObject(){const P={};return this.height!=null&&(P.height=this.height),this.protocol_tag!=null&&(P.protocol_tag=this.protocol_tag.toObject()),P}serialize(P){const Y=P||new Pe.BinaryWriter;if(this.height!=0&&Y.writeUint64(1,this.height),this.has_protocol_tag&&Y.writeMessage(2,this.protocol_tag,()=>this.protocol_tag.serialize(Y)),!P)return Y.getResultBuffer()}static deserialize(P){const Y=P instanceof Pe.BinaryReader?P:new Pe.BinaryReader(P),be=new Re;for(;Y.nextField()&&!Y.isEndGroup();)switch(Y.getFieldNumber()){case 1:be.height=Y.readUint64();break;case 2:Y.readMessage(be.protocol_tag,()=>be.protocol_tag=se.deserialize(Y));break;default:Y.skipField()}return be}serializeBinary(){return this.serialize()}static deserializeBinary(P){return Re.deserialize(P)}}K=new WeakMap,e.ProtorunesByHeightRequest=Re})(JR||(fp.protorune=JR={}));var lw={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.addHexPrefix=e.stripHexPrefix=void 0;const t=n=>n.slice(0,2)=="0x"?n.slice(2):n;e.stripHexPrefix=t;const r=n=>"0x"+(0,e.stripHexPrefix)(n);e.addHexPrefix=r})(lw);var nn={},Z6={};Object.defineProperty(Z6,"__esModule",{value:!0});Z6.SeekBuffer=void 0;let q8e=class{constructor(e){this.buffer=e,this.seekIndex=0}readUInt8(){if(!this.isFinished())return this.buffer.readUInt8(this.seekIndex++)}isFinished(){return this.seekIndex>=this.buffer.length}};Z6.SeekBuffer=q8e;var nm={},Z8e=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),G8e=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),X8e=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Z8e(t,e,r);return G8e(t,e),t},rn=He&&He.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)};Object.defineProperty(nm,"__esModule",{value:!0});nm.alkanes=void 0;const _e=X8e(fO);var eC;(function(e){var t,r,n,i,o,s,a,l,c,u,h,g,k,R,F,D,$,B,U,q,ee,ae,re,K,C,G,v;let I;(function(Qe){Qe[Qe.NONE=0]="NONE",Qe[Qe.CALL=1]="CALL",Qe[Qe.DELEGATECALL=2]="DELEGATECALL",Qe[Qe.STATICCALL=3]="STATICCALL"})(I=e.AlkanesTraceCallType||(e.AlkanesTraceCallType={}));let p;(function(Qe){Qe[Qe.SUCCESS=0]="SUCCESS",Qe[Qe.FAILURE=1]="FAILURE"})(p=e.AlkanesTraceStatusFlag||(e.AlkanesTraceStatusFlag={}));class _ extends _e.Message{constructor(d){super(),t.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,t,"f")),!Array.isArray(d)&&typeof d=="object"&&("lo"in d&&d.lo!=null&&(this.lo=d.lo),"hi"in d&&d.hi!=null&&(this.hi=d.hi))}get lo(){return _e.Message.getFieldWithDefault(this,1,"0")}set lo(d){_e.Message.setField(this,1,d)}get hi(){return _e.Message.getFieldWithDefault(this,2,"0")}set hi(d){_e.Message.setField(this,2,d)}static fromObject(d){const b=new _({});return d.lo!=null&&(b.lo=d.lo),d.hi!=null&&(b.hi=d.hi),b}toObject(){const d={};return this.lo!=null&&(d.lo=this.lo),this.hi!=null&&(d.hi=this.hi),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.lo!="0"&&b.writeUint64String(1,this.lo),this.hi!="0"&&b.writeUint64String(2,this.hi),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new _;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.lo=b.readUint64String();break;case 2:H.hi=b.readUint64String();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return _.deserialize(d)}}t=new WeakMap,e.uint128=_;class w extends _e.Message{constructor(d){super(),r.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,r,"f")),!Array.isArray(d)&&typeof d=="object"&&"id"in d&&d.id!=null&&(this.id=d.id)}get id(){return _e.Message.getWrapperField(this,S,1)}set id(d){_e.Message.setWrapperField(this,1,d)}get has_id(){return _e.Message.getField(this,1)!=null}static fromObject(d){const b=new w({});return d.id!=null&&(b.id=S.fromObject(d.id)),b}toObject(){const d={};return this.id!=null&&(d.id=this.id.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_id&&b.writeMessage(1,this.id,()=>this.id.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new w;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.id,()=>H.id=S.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return w.deserialize(d)}}r=new WeakMap,e.BytecodeRequest=w;class S extends _e.Message{constructor(d){super(),n.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,n,"f")),!Array.isArray(d)&&typeof d=="object"&&("block"in d&&d.block!=null&&(this.block=d.block),"tx"in d&&d.tx!=null&&(this.tx=d.tx))}get block(){return _e.Message.getWrapperField(this,_,1)}set block(d){_e.Message.setWrapperField(this,1,d)}get has_block(){return _e.Message.getField(this,1)!=null}get tx(){return _e.Message.getWrapperField(this,_,2)}set tx(d){_e.Message.setWrapperField(this,2,d)}get has_tx(){return _e.Message.getField(this,2)!=null}static fromObject(d){const b=new S({});return d.block!=null&&(b.block=_.fromObject(d.block)),d.tx!=null&&(b.tx=_.fromObject(d.tx)),b}toObject(){const d={};return this.block!=null&&(d.block=this.block.toObject()),this.tx!=null&&(d.tx=this.tx.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_block&&b.writeMessage(1,this.block,()=>this.block.serialize(b)),this.has_tx&&b.writeMessage(2,this.tx,()=>this.tx.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new S;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.block,()=>H.block=_.deserialize(b));break;case 2:b.readMessage(H.tx,()=>H.tx=_.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return S.deserialize(d)}}n=new WeakMap,e.AlkaneId=S;class A extends _e.Message{constructor(d){super(),i.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,i,"f")),!Array.isArray(d)&&typeof d=="object"&&("id"in d&&d.id!=null&&(this.id=d.id),"value"in d&&d.value!=null&&(this.value=d.value))}get id(){return _e.Message.getWrapperField(this,S,1)}set id(d){_e.Message.setWrapperField(this,1,d)}get has_id(){return _e.Message.getField(this,1)!=null}get value(){return _e.Message.getWrapperField(this,_,2)}set value(d){_e.Message.setWrapperField(this,2,d)}get has_value(){return _e.Message.getField(this,2)!=null}static fromObject(d){const b=new A({});return d.id!=null&&(b.id=S.fromObject(d.id)),d.value!=null&&(b.value=_.fromObject(d.value)),b}toObject(){const d={};return this.id!=null&&(d.id=this.id.toObject()),this.value!=null&&(d.value=this.value.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_id&&b.writeMessage(1,this.id,()=>this.id.serialize(b)),this.has_value&&b.writeMessage(2,this.value,()=>this.value.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new A;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.id,()=>H.id=S.deserialize(b));break;case 2:b.readMessage(H.value,()=>H.value=_.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return A.deserialize(d)}}i=new WeakMap,e.AlkaneTransfer=A;class x extends _e.Message{constructor(d){super(),o.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[1],rn(this,o,"f")),!Array.isArray(d)&&typeof d=="object"&&("alkanes"in d&&d.alkanes!=null&&(this.alkanes=d.alkanes),"transaction"in d&&d.transaction!=null&&(this.transaction=d.transaction),"block"in d&&d.block!=null&&(this.block=d.block),"height"in d&&d.height!=null&&(this.height=d.height),"txindex"in d&&d.txindex!=null&&(this.txindex=d.txindex),"calldata"in d&&d.calldata!=null&&(this.calldata=d.calldata),"vout"in d&&d.vout!=null&&(this.vout=d.vout),"pointer"in d&&d.pointer!=null&&(this.pointer=d.pointer),"refund_pointer"in d&&d.refund_pointer!=null&&(this.refund_pointer=d.refund_pointer))}get alkanes(){return _e.Message.getRepeatedWrapperField(this,A,1)}set alkanes(d){_e.Message.setRepeatedWrapperField(this,1,d)}get transaction(){return _e.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set transaction(d){_e.Message.setField(this,2,d)}get block(){return _e.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set block(d){_e.Message.setField(this,3,d)}get height(){return _e.Message.getFieldWithDefault(this,4,0)}set height(d){_e.Message.setField(this,4,d)}get txindex(){return _e.Message.getFieldWithDefault(this,6,0)}set txindex(d){_e.Message.setField(this,6,d)}get calldata(){return _e.Message.getFieldWithDefault(this,5,new Uint8Array(0))}set calldata(d){_e.Message.setField(this,5,d)}get vout(){return _e.Message.getFieldWithDefault(this,7,0)}set vout(d){_e.Message.setField(this,7,d)}get pointer(){return _e.Message.getFieldWithDefault(this,8,0)}set pointer(d){_e.Message.setField(this,8,d)}get refund_pointer(){return _e.Message.getFieldWithDefault(this,9,0)}set refund_pointer(d){_e.Message.setField(this,9,d)}static fromObject(d){const b=new x({});return d.alkanes!=null&&(b.alkanes=d.alkanes.map(H=>A.fromObject(H))),d.transaction!=null&&(b.transaction=d.transaction),d.block!=null&&(b.block=d.block),d.height!=null&&(b.height=d.height),d.txindex!=null&&(b.txindex=d.txindex),d.calldata!=null&&(b.calldata=d.calldata),d.vout!=null&&(b.vout=d.vout),d.pointer!=null&&(b.pointer=d.pointer),d.refund_pointer!=null&&(b.refund_pointer=d.refund_pointer),b}toObject(){const d={};return this.alkanes!=null&&(d.alkanes=this.alkanes.map(b=>b.toObject())),this.transaction!=null&&(d.transaction=this.transaction),this.block!=null&&(d.block=this.block),this.height!=null&&(d.height=this.height),this.txindex!=null&&(d.txindex=this.txindex),this.calldata!=null&&(d.calldata=this.calldata),this.vout!=null&&(d.vout=this.vout),this.pointer!=null&&(d.pointer=this.pointer),this.refund_pointer!=null&&(d.refund_pointer=this.refund_pointer),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.alkanes.length&&b.writeRepeatedMessage(1,this.alkanes,H=>H.serialize(b)),this.transaction.length&&b.writeBytes(2,this.transaction),this.block.length&&b.writeBytes(3,this.block),this.height!=0&&b.writeUint64(4,this.height),this.txindex!=0&&b.writeUint32(6,this.txindex),this.calldata.length&&b.writeBytes(5,this.calldata),this.vout!=0&&b.writeUint32(7,this.vout),this.pointer!=0&&b.writeUint32(8,this.pointer),this.refund_pointer!=0&&b.writeUint32(9,this.refund_pointer),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new x;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.alkanes,()=>_e.Message.addToRepeatedWrapperField(H,1,A.deserialize(b),A));break;case 2:H.transaction=b.readBytes();break;case 3:H.block=b.readBytes();break;case 4:H.height=b.readUint64();break;case 6:H.txindex=b.readUint32();break;case 5:H.calldata=b.readBytes();break;case 7:H.vout=b.readUint32();break;case 8:H.pointer=b.readUint32();break;case 9:H.refund_pointer=b.readUint32();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return x.deserialize(d)}}o=new WeakMap,e.MessageContextParcel=x;class E extends _e.Message{constructor(d){super(),s.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,s,"f")),!Array.isArray(d)&&typeof d=="object"&&("key"in d&&d.key!=null&&(this.key=d.key),"value"in d&&d.value!=null&&(this.value=d.value))}get key(){return _e.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set key(d){_e.Message.setField(this,1,d)}get value(){return _e.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set value(d){_e.Message.setField(this,2,d)}static fromObject(d){const b=new E({});return d.key!=null&&(b.key=d.key),d.value!=null&&(b.value=d.value),b}toObject(){const d={};return this.key!=null&&(d.key=this.key),this.value!=null&&(d.value=this.value),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.key.length&&b.writeBytes(1,this.key),this.value.length&&b.writeBytes(2,this.value),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new E;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.key=b.readBytes();break;case 2:H.value=b.readBytes();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return E.deserialize(d)}}s=new WeakMap,e.KeyValuePair=E;class T extends _e.Message{constructor(d){super(),a.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[1,2],rn(this,a,"f")),!Array.isArray(d)&&typeof d=="object"&&("alkanes"in d&&d.alkanes!=null&&(this.alkanes=d.alkanes),"storage"in d&&d.storage!=null&&(this.storage=d.storage),"data"in d&&d.data!=null&&(this.data=d.data))}get alkanes(){return _e.Message.getRepeatedWrapperField(this,A,1)}set alkanes(d){_e.Message.setRepeatedWrapperField(this,1,d)}get storage(){return _e.Message.getRepeatedWrapperField(this,E,2)}set storage(d){_e.Message.setRepeatedWrapperField(this,2,d)}get data(){return _e.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set data(d){_e.Message.setField(this,3,d)}static fromObject(d){const b=new T({});return d.alkanes!=null&&(b.alkanes=d.alkanes.map(H=>A.fromObject(H))),d.storage!=null&&(b.storage=d.storage.map(H=>E.fromObject(H))),d.data!=null&&(b.data=d.data),b}toObject(){const d={};return this.alkanes!=null&&(d.alkanes=this.alkanes.map(b=>b.toObject())),this.storage!=null&&(d.storage=this.storage.map(b=>b.toObject())),this.data!=null&&(d.data=this.data),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.alkanes.length&&b.writeRepeatedMessage(1,this.alkanes,H=>H.serialize(b)),this.storage.length&&b.writeRepeatedMessage(2,this.storage,H=>H.serialize(b)),this.data.length&&b.writeBytes(3,this.data),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new T;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.alkanes,()=>_e.Message.addToRepeatedWrapperField(H,1,A.deserialize(b),A));break;case 2:b.readMessage(H.storage,()=>_e.Message.addToRepeatedWrapperField(H,2,E.deserialize(b),E));break;case 3:H.data=b.readBytes();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return T.deserialize(d)}}a=new WeakMap,e.ExtendedCallResponse=T;class M extends _e.Message{constructor(d){super(),l.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[3,5],rn(this,l,"f")),!Array.isArray(d)&&typeof d=="object"&&("myself"in d&&d.myself!=null&&(this.myself=d.myself),"caller"in d&&d.caller!=null&&(this.caller=d.caller),"inputs"in d&&d.inputs!=null&&(this.inputs=d.inputs),"vout"in d&&d.vout!=null&&(this.vout=d.vout),"incoming_alkanes"in d&&d.incoming_alkanes!=null&&(this.incoming_alkanes=d.incoming_alkanes))}get myself(){return _e.Message.getWrapperField(this,S,1)}set myself(d){_e.Message.setWrapperField(this,1,d)}get has_myself(){return _e.Message.getField(this,1)!=null}get caller(){return _e.Message.getWrapperField(this,S,2)}set caller(d){_e.Message.setWrapperField(this,2,d)}get has_caller(){return _e.Message.getField(this,2)!=null}get inputs(){return _e.Message.getRepeatedWrapperField(this,_,3)}set inputs(d){_e.Message.setRepeatedWrapperField(this,3,d)}get vout(){return _e.Message.getFieldWithDefault(this,4,0)}set vout(d){_e.Message.setField(this,4,d)}get incoming_alkanes(){return _e.Message.getRepeatedWrapperField(this,A,5)}set incoming_alkanes(d){_e.Message.setRepeatedWrapperField(this,5,d)}static fromObject(d){const b=new M({});return d.myself!=null&&(b.myself=S.fromObject(d.myself)),d.caller!=null&&(b.caller=S.fromObject(d.caller)),d.inputs!=null&&(b.inputs=d.inputs.map(H=>_.fromObject(H))),d.vout!=null&&(b.vout=d.vout),d.incoming_alkanes!=null&&(b.incoming_alkanes=d.incoming_alkanes.map(H=>A.fromObject(H))),b}toObject(){const d={};return this.myself!=null&&(d.myself=this.myself.toObject()),this.caller!=null&&(d.caller=this.caller.toObject()),this.inputs!=null&&(d.inputs=this.inputs.map(b=>b.toObject())),this.vout!=null&&(d.vout=this.vout),this.incoming_alkanes!=null&&(d.incoming_alkanes=this.incoming_alkanes.map(b=>b.toObject())),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_myself&&b.writeMessage(1,this.myself,()=>this.myself.serialize(b)),this.has_caller&&b.writeMessage(2,this.caller,()=>this.caller.serialize(b)),this.inputs.length&&b.writeRepeatedMessage(3,this.inputs,H=>H.serialize(b)),this.vout!=0&&b.writeUint32(4,this.vout),this.incoming_alkanes.length&&b.writeRepeatedMessage(5,this.incoming_alkanes,H=>H.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new M;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.myself,()=>H.myself=S.deserialize(b));break;case 2:b.readMessage(H.caller,()=>H.caller=S.deserialize(b));break;case 3:b.readMessage(H.inputs,()=>_e.Message.addToRepeatedWrapperField(H,3,_.deserialize(b),_));break;case 4:H.vout=b.readUint32();break;case 5:b.readMessage(H.incoming_alkanes,()=>_e.Message.addToRepeatedWrapperField(H,5,A.deserialize(b),A));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return M.deserialize(d)}}l=new WeakMap,e.Context=M;class Q extends _e.Message{constructor(d){super(),c.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,c,"f")),!Array.isArray(d)&&typeof d=="object"&&("inner"in d&&d.inner!=null&&(this.inner=d.inner),"fuel"in d&&d.fuel!=null&&(this.fuel=d.fuel))}get inner(){return _e.Message.getWrapperField(this,M,1)}set inner(d){_e.Message.setWrapperField(this,1,d)}get has_inner(){return _e.Message.getField(this,1)!=null}get fuel(){return _e.Message.getFieldWithDefault(this,2,0)}set fuel(d){_e.Message.setField(this,2,d)}static fromObject(d){const b=new Q({});return d.inner!=null&&(b.inner=M.fromObject(d.inner)),d.fuel!=null&&(b.fuel=d.fuel),b}toObject(){const d={};return this.inner!=null&&(d.inner=this.inner.toObject()),this.fuel!=null&&(d.fuel=this.fuel),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_inner&&b.writeMessage(1,this.inner,()=>this.inner.serialize(b)),this.fuel!=0&&b.writeUint64(2,this.fuel),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Q;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.inner,()=>H.inner=M.deserialize(b));break;case 2:H.fuel=b.readUint64();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Q.deserialize(d)}}c=new WeakMap,e.TraceContext=Q;class he extends _e.Message{constructor(d){super(),u.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,u,"f")),!Array.isArray(d)&&typeof d=="object"&&("call_type"in d&&d.call_type!=null&&(this.call_type=d.call_type),"context"in d&&d.context!=null&&(this.context=d.context))}get call_type(){return _e.Message.getFieldWithDefault(this,1,I.NONE)}set call_type(d){_e.Message.setField(this,1,d)}get context(){return _e.Message.getWrapperField(this,Q,2)}set context(d){_e.Message.setWrapperField(this,2,d)}get has_context(){return _e.Message.getField(this,2)!=null}static fromObject(d){const b=new he({});return d.call_type!=null&&(b.call_type=d.call_type),d.context!=null&&(b.context=Q.fromObject(d.context)),b}toObject(){const d={};return this.call_type!=null&&(d.call_type=this.call_type),this.context!=null&&(d.context=this.context.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.call_type!=I.NONE&&b.writeEnum(1,this.call_type),this.has_context&&b.writeMessage(2,this.context,()=>this.context.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new he;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.call_type=b.readEnum();break;case 2:b.readMessage(H.context,()=>H.context=Q.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return he.deserialize(d)}}u=new WeakMap,e.AlkanesEnterContext=he;class ue extends _e.Message{constructor(d){super(),h.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,h,"f")),!Array.isArray(d)&&typeof d=="object"&&("status"in d&&d.status!=null&&(this.status=d.status),"response"in d&&d.response!=null&&(this.response=d.response))}get status(){return _e.Message.getFieldWithDefault(this,1,p.SUCCESS)}set status(d){_e.Message.setField(this,1,d)}get response(){return _e.Message.getWrapperField(this,T,2)}set response(d){_e.Message.setWrapperField(this,2,d)}get has_response(){return _e.Message.getField(this,2)!=null}static fromObject(d){const b=new ue({});return d.status!=null&&(b.status=d.status),d.response!=null&&(b.response=T.fromObject(d.response)),b}toObject(){const d={};return this.status!=null&&(d.status=this.status),this.response!=null&&(d.response=this.response.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.status!=p.SUCCESS&&b.writeEnum(1,this.status),this.has_response&&b.writeMessage(2,this.response,()=>this.response.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new ue;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.status=b.readEnum();break;case 2:b.readMessage(H.response,()=>H.response=T.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return ue.deserialize(d)}}h=new WeakMap,e.AlkanesExitContext=ue;class W extends _e.Message{constructor(d){super(),g.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,g,"f")),!Array.isArray(d)&&typeof d=="object"&&"new_alkane"in d&&d.new_alkane!=null&&(this.new_alkane=d.new_alkane)}get new_alkane(){return _e.Message.getWrapperField(this,S,1)}set new_alkane(d){_e.Message.setWrapperField(this,1,d)}get has_new_alkane(){return _e.Message.getField(this,1)!=null}static fromObject(d){const b=new W({});return d.new_alkane!=null&&(b.new_alkane=S.fromObject(d.new_alkane)),b}toObject(){const d={};return this.new_alkane!=null&&(d.new_alkane=this.new_alkane.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_new_alkane&&b.writeMessage(1,this.new_alkane,()=>this.new_alkane.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new W;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.new_alkane,()=>H.new_alkane=S.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return W.deserialize(d)}}g=new WeakMap,e.AlkanesCreate=W;class se extends _e.Message{constructor(d){super(),k.set(this,[[1,2,3]]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,k,"f")),!Array.isArray(d)&&typeof d=="object"&&("enter_context"in d&&d.enter_context!=null&&(this.enter_context=d.enter_context),"exit_context"in d&&d.exit_context!=null&&(this.exit_context=d.exit_context),"create_alkane"in d&&d.create_alkane!=null&&(this.create_alkane=d.create_alkane))}get enter_context(){return _e.Message.getWrapperField(this,he,1)}set enter_context(d){_e.Message.setOneofWrapperField(this,1,rn(this,k,"f")[0],d)}get has_enter_context(){return _e.Message.getField(this,1)!=null}get exit_context(){return _e.Message.getWrapperField(this,ue,2)}set exit_context(d){_e.Message.setOneofWrapperField(this,2,rn(this,k,"f")[0],d)}get has_exit_context(){return _e.Message.getField(this,2)!=null}get create_alkane(){return _e.Message.getWrapperField(this,W,3)}set create_alkane(d){_e.Message.setOneofWrapperField(this,3,rn(this,k,"f")[0],d)}get has_create_alkane(){return _e.Message.getField(this,3)!=null}get event(){return{0:"none",1:"enter_context",2:"exit_context",3:"create_alkane"}[_e.Message.computeOneofCase(this,[1,2,3])]}static fromObject(d){const b=new se({});return d.enter_context!=null&&(b.enter_context=he.fromObject(d.enter_context)),d.exit_context!=null&&(b.exit_context=ue.fromObject(d.exit_context)),d.create_alkane!=null&&(b.create_alkane=W.fromObject(d.create_alkane)),b}toObject(){const d={};return this.enter_context!=null&&(d.enter_context=this.enter_context.toObject()),this.exit_context!=null&&(d.exit_context=this.exit_context.toObject()),this.create_alkane!=null&&(d.create_alkane=this.create_alkane.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_enter_context&&b.writeMessage(1,this.enter_context,()=>this.enter_context.serialize(b)),this.has_exit_context&&b.writeMessage(2,this.exit_context,()=>this.exit_context.serialize(b)),this.has_create_alkane&&b.writeMessage(3,this.create_alkane,()=>this.create_alkane.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new se;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.enter_context,()=>H.enter_context=he.deserialize(b));break;case 2:b.readMessage(H.exit_context,()=>H.exit_context=ue.deserialize(b));break;case 3:b.readMessage(H.create_alkane,()=>H.create_alkane=W.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return se.deserialize(d)}}k=new WeakMap,e.AlkanesTraceEvent=se;class Z extends _e.Message{constructor(d){super(),R.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,R,"f")),!Array.isArray(d)&&typeof d=="object"&&("traces"in d&&d.traces!=null&&(this.traces=d.traces),"outpoint"in d&&d.outpoint!=null&&(this.outpoint=d.outpoint),"txindex"in d&&d.txindex!=null&&(this.txindex=d.txindex))}get traces(){return _e.Message.getWrapperField(this,pe,1)}set traces(d){_e.Message.setWrapperField(this,1,d)}get has_traces(){return _e.Message.getField(this,1)!=null}get outpoint(){return _e.Message.getWrapperField(this,Y,2)}set outpoint(d){_e.Message.setWrapperField(this,2,d)}get has_outpoint(){return _e.Message.getField(this,2)!=null}get txindex(){return _e.Message.getFieldWithDefault(this,3,0)}set txindex(d){_e.Message.setField(this,3,d)}static fromObject(d){const b=new Z({});return d.traces!=null&&(b.traces=pe.fromObject(d.traces)),d.outpoint!=null&&(b.outpoint=Y.fromObject(d.outpoint)),d.txindex!=null&&(b.txindex=d.txindex),b}toObject(){const d={};return this.traces!=null&&(d.traces=this.traces.toObject()),this.outpoint!=null&&(d.outpoint=this.outpoint.toObject()),this.txindex!=null&&(d.txindex=this.txindex),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_traces&&b.writeMessage(1,this.traces,()=>this.traces.serialize(b)),this.has_outpoint&&b.writeMessage(2,this.outpoint,()=>this.outpoint.serialize(b)),this.txindex!=0&&b.writeUint64(3,this.txindex),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Z;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.traces,()=>H.traces=pe.deserialize(b));break;case 2:b.readMessage(H.outpoint,()=>H.outpoint=Y.deserialize(b));break;case 3:H.txindex=b.readUint64();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Z.deserialize(d)}}R=new WeakMap,e.AlkanesBlockEvent=Z;class ie extends _e.Message{constructor(d){super(),F.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[1],rn(this,F,"f")),!Array.isArray(d)&&typeof d=="object"&&"events"in d&&d.events!=null&&(this.events=d.events)}get events(){return _e.Message.getRepeatedWrapperField(this,Z,1)}set events(d){_e.Message.setRepeatedWrapperField(this,1,d)}static fromObject(d){const b=new ie({});return d.events!=null&&(b.events=d.events.map(H=>Z.fromObject(H))),b}toObject(){const d={};return this.events!=null&&(d.events=this.events.map(b=>b.toObject())),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.events.length&&b.writeRepeatedMessage(1,this.events,H=>H.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new ie;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.events,()=>_e.Message.addToRepeatedWrapperField(H,1,Z.deserialize(b),Z));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return ie.deserialize(d)}}F=new WeakMap,e.AlkanesBlockTraceEvent=ie;class pe extends _e.Message{constructor(d){super(),D.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[1],rn(this,D,"f")),!Array.isArray(d)&&typeof d=="object"&&"events"in d&&d.events!=null&&(this.events=d.events)}get events(){return _e.Message.getRepeatedWrapperField(this,se,1)}set events(d){_e.Message.setRepeatedWrapperField(this,1,d)}static fromObject(d){const b=new pe({});return d.events!=null&&(b.events=d.events.map(H=>se.fromObject(H))),b}toObject(){const d={};return this.events!=null&&(d.events=this.events.map(b=>b.toObject())),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.events.length&&b.writeRepeatedMessage(1,this.events,H=>H.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new pe;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.events,()=>_e.Message.addToRepeatedWrapperField(H,1,se.deserialize(b),se));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return pe.deserialize(d)}}D=new WeakMap,e.AlkanesTrace=pe;class Ee extends _e.Message{constructor(d){super(),$.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,$,"f")),!Array.isArray(d)&&typeof d=="object"&&("execution"in d&&d.execution!=null&&(this.execution=d.execution),"gas_used"in d&&d.gas_used!=null&&(this.gas_used=d.gas_used),"error"in d&&d.error!=null&&(this.error=d.error))}get execution(){return _e.Message.getWrapperField(this,T,1)}set execution(d){_e.Message.setWrapperField(this,1,d)}get has_execution(){return _e.Message.getField(this,1)!=null}get gas_used(){return _e.Message.getFieldWithDefault(this,2,0)}set gas_used(d){_e.Message.setField(this,2,d)}get error(){return _e.Message.getFieldWithDefault(this,3,"")}set error(d){_e.Message.setField(this,3,d)}static fromObject(d){const b=new Ee({});return d.execution!=null&&(b.execution=T.fromObject(d.execution)),d.gas_used!=null&&(b.gas_used=d.gas_used),d.error!=null&&(b.error=d.error),b}toObject(){const d={};return this.execution!=null&&(d.execution=this.execution.toObject()),this.gas_used!=null&&(d.gas_used=this.gas_used),this.error!=null&&(d.error=this.error),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_execution&&b.writeMessage(1,this.execution,()=>this.execution.serialize(b)),this.gas_used!=0&&b.writeUint64(2,this.gas_used),this.error.length&&b.writeString(3,this.error),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Ee;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.execution,()=>H.execution=T.deserialize(b));break;case 2:H.gas_used=b.readUint64();break;case 3:H.error=b.readString();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Ee.deserialize(d)}}$=new WeakMap,e.SimulateResponse=Ee;class Oe extends _e.Message{constructor(d){super(),B.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,B,"f")),!Array.isArray(d)&&typeof d=="object"&&"id"in d&&d.id!=null&&(this.id=d.id)}get id(){return _e.Message.getWrapperField(this,S,1)}set id(d){_e.Message.setWrapperField(this,1,d)}get has_id(){return _e.Message.getField(this,1)!=null}static fromObject(d){const b=new Oe({});return d.id!=null&&(b.id=S.fromObject(d.id)),b}toObject(){const d={};return this.id!=null&&(d.id=this.id.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_id&&b.writeMessage(1,this.id,()=>this.id.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Oe;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.id,()=>H.id=S.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Oe.deserialize(d)}}B=new WeakMap,e.AlkaneInventoryRequest=Oe;class Re extends _e.Message{constructor(d){super(),U.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[1],rn(this,U,"f")),!Array.isArray(d)&&typeof d=="object"&&"alkanes"in d&&d.alkanes!=null&&(this.alkanes=d.alkanes)}get alkanes(){return _e.Message.getRepeatedWrapperField(this,A,1)}set alkanes(d){_e.Message.setRepeatedWrapperField(this,1,d)}static fromObject(d){const b=new Re({});return d.alkanes!=null&&(b.alkanes=d.alkanes.map(H=>A.fromObject(H))),b}toObject(){const d={};return this.alkanes!=null&&(d.alkanes=this.alkanes.map(b=>b.toObject())),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.alkanes.length&&b.writeRepeatedMessage(1,this.alkanes,H=>H.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Re;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.alkanes,()=>_e.Message.addToRepeatedWrapperField(H,1,A.deserialize(b),A));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Re.deserialize(d)}}U=new WeakMap,e.AlkaneInventoryResponse=Re;class Ce extends _e.Message{constructor(d){super(),q.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,q,"f")),!Array.isArray(d)&&typeof d=="object"&&"id"in d&&d.id!=null&&(this.id=d.id)}get id(){return _e.Message.getWrapperField(this,S,1)}set id(d){_e.Message.setWrapperField(this,1,d)}get has_id(){return _e.Message.getField(this,1)!=null}static fromObject(d){const b=new Ce({});return d.id!=null&&(b.id=S.fromObject(d.id)),b}toObject(){const d={};return this.id!=null&&(d.id=this.id.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_id&&b.writeMessage(1,this.id,()=>this.id.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Ce;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.id,()=>H.id=S.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Ce.deserialize(d)}}q=new WeakMap,e.AlkaneIdToOutpointRequest=Ce;class P extends _e.Message{constructor(d){super(),ee.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,ee,"f")),!Array.isArray(d)&&typeof d=="object"&&("txid"in d&&d.txid!=null&&(this.txid=d.txid),"vout"in d&&d.vout!=null&&(this.vout=d.vout))}get txid(){return _e.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set txid(d){_e.Message.setField(this,1,d)}get vout(){return _e.Message.getFieldWithDefault(this,2,0)}set vout(d){_e.Message.setField(this,2,d)}static fromObject(d){const b=new P({});return d.txid!=null&&(b.txid=d.txid),d.vout!=null&&(b.vout=d.vout),b}toObject(){const d={};return this.txid!=null&&(d.txid=this.txid),this.vout!=null&&(d.vout=this.vout),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.txid.length&&b.writeBytes(1,this.txid),this.vout!=0&&b.writeUint32(2,this.vout),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new P;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.txid=b.readBytes();break;case 2:H.vout=b.readUint32();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return P.deserialize(d)}}ee=new WeakMap,e.AlkaneIdToOutpointResponse=P;class Y extends _e.Message{constructor(d){super(),ae.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,ae,"f")),!Array.isArray(d)&&typeof d=="object"&&("txid"in d&&d.txid!=null&&(this.txid=d.txid),"vout"in d&&d.vout!=null&&(this.vout=d.vout))}get txid(){return _e.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set txid(d){_e.Message.setField(this,1,d)}get vout(){return _e.Message.getFieldWithDefault(this,2,0)}set vout(d){_e.Message.setField(this,2,d)}static fromObject(d){const b=new Y({});return d.txid!=null&&(b.txid=d.txid),d.vout!=null&&(b.vout=d.vout),b}toObject(){const d={};return this.txid!=null&&(d.txid=this.txid),this.vout!=null&&(d.vout=this.vout),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.txid.length&&b.writeBytes(1,this.txid),this.vout!=0&&b.writeUint32(2,this.vout),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Y;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.txid=b.readBytes();break;case 2:H.vout=b.readUint32();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Y.deserialize(d)}}ae=new WeakMap,e.Outpoint=Y;class be extends _e.Message{constructor(d){super(),re.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,re,"f")),!Array.isArray(d)&&typeof d=="object"&&("outpoint"in d&&d.outpoint!=null&&(this.outpoint=d.outpoint),"trace"in d&&d.trace!=null&&(this.trace=d.trace))}get outpoint(){return _e.Message.getWrapperField(this,Y,1)}set outpoint(d){_e.Message.setWrapperField(this,1,d)}get has_outpoint(){return _e.Message.getField(this,1)!=null}get trace(){return _e.Message.getWrapperField(this,pe,2)}set trace(d){_e.Message.setWrapperField(this,2,d)}get has_trace(){return _e.Message.getField(this,2)!=null}static fromObject(d){const b=new be({});return d.outpoint!=null&&(b.outpoint=Y.fromObject(d.outpoint)),d.trace!=null&&(b.trace=pe.fromObject(d.trace)),b}toObject(){const d={};return this.outpoint!=null&&(d.outpoint=this.outpoint.toObject()),this.trace!=null&&(d.trace=this.trace.toObject()),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.has_outpoint&&b.writeMessage(1,this.outpoint,()=>this.outpoint.serialize(b)),this.has_trace&&b.writeMessage(2,this.trace,()=>this.trace.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new be;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.outpoint,()=>H.outpoint=Y.deserialize(b));break;case 2:b.readMessage(H.trace,()=>H.trace=pe.deserialize(b));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return be.deserialize(d)}}re=new WeakMap,e.Trace=be;class Ue extends _e.Message{constructor(d){super(),K.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,K,"f")),!Array.isArray(d)&&typeof d=="object"&&"block"in d&&d.block!=null&&(this.block=d.block)}get block(){return _e.Message.getFieldWithDefault(this,1,0)}set block(d){_e.Message.setField(this,1,d)}static fromObject(d){const b=new Ue({});return d.block!=null&&(b.block=d.block),b}toObject(){const d={};return this.block!=null&&(d.block=this.block),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.block!=0&&b.writeUint64(1,this.block),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Ue;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.block=b.readUint64();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Ue.deserialize(d)}}K=new WeakMap,e.TraceBlockRequest=Ue;class Ke extends _e.Message{constructor(d){super(),C.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,C,"f")),!Array.isArray(d)&&typeof d=="object"&&"height"in d&&d.height!=null&&(this.height=d.height)}get height(){return _e.Message.getFieldWithDefault(this,1,0)}set height(d){_e.Message.setField(this,1,d)}static fromObject(d){const b=new Ke({});return d.height!=null&&(b.height=d.height),b}toObject(){const d={};return this.height!=null&&(d.height=this.height),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.height!=0&&b.writeUint32(1,this.height),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new Ke;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.height=b.readUint32();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return Ke.deserialize(d)}}C=new WeakMap,e.BlockRequest=Ke;class rt extends _e.Message{constructor(d){super(),G.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[],rn(this,G,"f")),!Array.isArray(d)&&typeof d=="object"&&("block"in d&&d.block!=null&&(this.block=d.block),"height"in d&&d.height!=null&&(this.height=d.height))}get block(){return _e.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set block(d){_e.Message.setField(this,1,d)}get height(){return _e.Message.getFieldWithDefault(this,2,0)}set height(d){_e.Message.setField(this,2,d)}static fromObject(d){const b=new rt({});return d.block!=null&&(b.block=d.block),d.height!=null&&(b.height=d.height),b}toObject(){const d={};return this.block!=null&&(d.block=this.block),this.height!=null&&(d.height=this.height),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.block.length&&b.writeBytes(1,this.block),this.height!=0&&b.writeUint32(2,this.height),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new rt;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:H.block=b.readBytes();break;case 2:H.height=b.readUint32();break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return rt.deserialize(d)}}G=new WeakMap,e.BlockResponse=rt;class We extends _e.Message{constructor(d){super(),v.set(this,[]),_e.Message.initialize(this,Array.isArray(d)?d:[],0,-1,[1],rn(this,v,"f")),!Array.isArray(d)&&typeof d=="object"&&"traces"in d&&d.traces!=null&&(this.traces=d.traces)}get traces(){return _e.Message.getRepeatedWrapperField(this,be,1)}set traces(d){_e.Message.setRepeatedWrapperField(this,1,d)}static fromObject(d){const b=new We({});return d.traces!=null&&(b.traces=d.traces.map(H=>be.fromObject(H))),b}toObject(){const d={};return this.traces!=null&&(d.traces=this.traces.map(b=>b.toObject())),d}serialize(d){const b=d||new _e.BinaryWriter;if(this.traces.length&&b.writeRepeatedMessage(1,this.traces,H=>H.serialize(b)),!d)return b.getResultBuffer()}static deserialize(d){const b=d instanceof _e.BinaryReader?d:new _e.BinaryReader(d),H=new We;for(;b.nextField()&&!b.isEndGroup();)switch(b.getFieldNumber()){case 1:b.readMessage(H.traces,()=>_e.Message.addToRepeatedWrapperField(H,1,be.deserialize(b),be));break;default:b.skipField()}return H}serializeBinary(){return this.serialize()}static deserializeBinary(d){return We.deserialize(d)}}v=new WeakMap,e.TraceBlockResponse=We})(eC||(nm.alkanes=eC={}));Object.defineProperty(nn,"__esModule",{value:!0});nn.fromBuffer=nn.toBuffer=void 0;nn.toProtobufAlkaneTransfer=Y8e;nn.unpack=J8e;nn.leftPad15=LV;nn.leftPadByte=dO;nn.rightPadByte=e1e;nn.leftPad16=hO;nn.leftPad8=J9;nn.toUint128=u8;nn.fromUint128=t1e;nn.toHexString=ek;nn.u128ToBuffer=$V;nn.encodeVarInt=FV;nn.encipher=r1e;nn.decipher=DV;nn.decodeVarInt=HV;nn.tryDecodeVarInt=KV;nn.pack=o1e;nn.decipherPacked=s1e;const Q8e=Z6,Y9=nm;function Y8e(e){return new Y9.alkanes.AlkaneTransfer({id:new Y9.alkanes.AlkaneId({block:u8(e.id.block),tx:u8(e.id.tx)}),value:u8(e.value)})}function J8e(e){return Array.from(e).reduce((t,r,n)=>(n%15===0&&t.push([]),t[t.length-1].push(r),t),[]).map(t=>BigInt("0x"+Fe.from(t.reverse()).toString("hex")))}function LV(e){if(e.length>30)throw Error("varint in encoding cannot exceed 15 bytes");return"0".repeat(30-e.length)+e}function dO(e){return e.length%2?"0"+e:e}function e1e(e){return e.length%2?e+"0":e}function hO(e){if(e.length>16)throw Error("varint in encoding cannot exceed 15 bytes");return"0".repeat(32-e.length)+e}function J9(e){return"0".repeat(16-e.length)+e}function u8(e){let t=hO(e.toString(16));return new Y9.alkanes.uint128({hi:BigInt("0x"+t.substr(0,16)).toString(10),lo:BigInt("0x"+t.substr(16,32)).toString(10)})}function t1e(e){return $V(e)}function ek(e){return BigInt(e).toString(16)}function $V(e){return BigInt("0x"+Fe.from(J9(ek(e.hi))+J9(ek(e.lo)),"hex").toString("hex"))}function FV(e){const t=[];for(;e>>7n>0n;)t.push(Number(e&0xffn)|128),e=BigInt(e>>7n);return t.push(Number(e&0xffn)),Fe.from(t)}function r1e(e){return Fe.concat(e.map(t=>FV(t)))}const n1e=e=>Fe.from(Array.from(Fe.from(hO(e.toString(16)),"hex")).reverse());nn.toBuffer=n1e;const i1e=e=>BigInt("0x"+Fe.from(Array.from(e).reverse()).toString("hex"));nn.fromBuffer=i1e;function DV(e){let t=new Q8e.SeekBuffer(e),r=null;const n=[];for(;(r=HV(t))!==BigInt(-1);)n.push(r);return n}function HV(e){try{return KV(e)}catch{return BigInt(-1)}}function KV(e){let t=BigInt(0);for(let r=0;r<=18;r++){const n=e.readUInt8();if(n===void 0)throw new Error("Unterminated");const i=BigInt(n)&127n;if(r===18&&(i&124n)!==0n)throw new Error("Overflow");if(t=BigInt(t|i<<BigInt(7*r)),!(n&128))return t}throw new Error("Overlong")}function o1e(e){return Fe.concat(e.map(t=>Fe.from(LV(Fe.from(Array.from(Fe.from(dO(t.toString(16)),"hex")).reverse()).toString("hex")),"hex")))}function s1e(e){return DV(Fe.concat(e.map(t=>Fe.from(Array.from(Fe.from(dO(t.toString(16)),"hex")).reverse()))))}Object.defineProperty(Os,"__esModule",{value:!0});Os.encodeOutpointInput=h1e;Os.decodeRunes=VV;Os.decodeOutpointViewBase=WV;Os.decodeOutpointView=p1e;Os.decodeRunesResponse=g1e;Os.encodeBlockHeightInput=y1e;Os.encodeProtorunesByHeightInput=m1e;Os.encodeAlkanesIdToOutpointInput=b1e;Os.decodeAlkanesIdToOutpointResponse=v1e;const a1e=fp,pO=lw,Zg=nn,{OutpointResponse:u1e,Outpoint:l1e,BalanceSheet:URe,RunesResponse:c1e,ProtorunesByHeightRequest:f1e,RunesByHeightRequest:d1e}=a1e.protorune,tk=nm;function h1e(e,t){const r={txid:Fe.from(e,"hex"),vout:t};return"0x"+Fe.from(new l1e(r).serializeBinary()).toString("hex")}function VV(e){return e?e.entries.map(t=>{const r=t.balance,n=t.rune,i="",o=n.spacers.toString(2);let s=n.name,a=s;const l=n.symbol;let c=0;return o.split("").reverse().map((u,h)=>{u=="1"&&(a=`${a.slice(0,h+1+c)}${i}${a.slice(h+1+c)}`,c++)}),{rune:{id:{block:(0,Zg.fromUint128)(n.runeId.height),tx:(0,Zg.fromUint128)(n.runeId.txindex)},name:s,spacedName:a,divisibility:n.divisibility,spacers:n.spacers,symbol:l},balance:(0,Zg.fromUint128)(r)}}):[]}function WV(e){return{runes:VV(e.balances),outpoint:{txid:Fe.from(e.outpoint.txid).toString("hex"),vout:e.outpoint.vout},output:e.output?{value:e.output.value,script:Fe.from(e.output.script).toString("hex")}:{value:"",script:""},height:e.height,txindex:e.txindex}}function p1e(e){const t=Uint8Array.from(Fe.from((0,pO.stripHexPrefix)(e),"hex")),r=u1e.deserializeBinary(t);return WV(r)}function g1e(e){if(!e||e==="0x")return{runes:[]};const t=Fe.from((0,pO.stripHexPrefix)(e),"hex");return t.length===0?{runes:[]}:{runes:c1e.deserializeBinary(t).runes.map(r=>{var n,i;return{runeId:`${((n=r.runeId)==null?void 0:n.height)||0}:${((i=r.runeId)==null?void 0:i.txindex)||0}`,name:Fe.from(r.name).toString("utf8"),divisibility:r.divisibility,spacers:r.spacers,symbol:r.symbol}})}}function y1e(e){const t={height:e};return"0x"+Fe.from(new d1e(t).serializeBinary()).toString("hex")}function m1e(e,t){const r={height:e,protocol_tag:(0,Zg.toUint128)(t)};return"0x"+Fe.from(new f1e(r).serializeBinary()).toString("hex")}function b1e(e,t){const r=new tk.alkanes.AlkaneId({block:(0,Zg.toUint128)(e),tx:(0,Zg.toUint128)(t)});return"0x"+Fe.from(new tk.alkanes.AlkaneIdToOutpointRequest({id:r}).serializeBinary()).toString("hex")}function v1e(e){if(!e||e==="0x")return{outpoint:{}};const t=Fe.from((0,pO.stripHexPrefix)(e),"hex");if(t.length===0)return{outpoint:{}};const r=tk.alkanes.AlkaneIdToOutpointResponse.deserializeBinary(t);return{outpoint:{txid:Fe.from(r.txid).toString("hex"),vout:r.vout}}}Object.defineProperty(Nl,"__esModule",{value:!0});Nl.encodeProtorunesWalletInput=T1e;Nl.encodeTransactionId=I1e;Nl.encodeWalletInput=B1e;Nl.decodeTransactionResult=N1e;Nl.decodeWalletOutput=M1e;Nl.encodeRuntimeInput=R1e;Nl.decodeRuntimeOutput=C1e;const qV=Os,w1e=fp,E1e=Os,q0=lw,_1e=nn,{ProtorunesWalletRequest:S1e,TransactionRecord:k1e,WalletRequest:x1e,WalletResponse:A1e,RuntimeInput:O1e,Runtime:P1e,Outpoint:zRe}=w1e.protorune;function ZV(e){return(0,_1e.toUint128)(e)}function T1e(e,t){const r={wallet:Uint8Array.from(Fe.from(e,"utf-8")),protocol_tag:ZV(t)};return"0x"+Fe.from(new S1e(r).serializeBinary()).toString("hex")}function I1e(e){return Fe.from((0,q0.stripHexPrefix)(e),"hex")}function B1e(e){const t={wallet:Uint8Array.from(Fe.from(e,"utf-8"))};return"0x"+Fe.from(new x1e(t).serializeBinary()).toString("hex")}function N1e(e){const{transaction:t,height:r}=k1e.deserializeBinary(Uint8Array.from(Fe.from((0,q0.stripHexPrefix)(e),"hex")));return{transaction:(0,q0.addHexPrefix)(Fe.from(t).toString("hex")),height:Number(r)}}function M1e(e){const t=A1e.deserializeBinary(Uint8Array.from(Fe.from((0,q0.stripHexPrefix)(e),"hex")));return{outpoints:t.outpoints.map(r=>(0,E1e.decodeOutpointViewBase)(r)),balanceSheet:(0,qV.decodeRunes)(t.balances)}}function R1e(e){const t={protocolTag:ZV(e)};return"0x"+Fe.from(new O1e(t).serializeBinary()).toString("hex")}function C1e(e){const t=P1e.deserializeBinary(Uint8Array.from(Fe.from((0,q0.stripHexPrefix)(e),"hex")));return{balances:(0,qV.decodeRunes)(t.balances)}}var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.formatKey=XV;Vn.toAlkaneTransfer=G6;Vn.toBytecodeRequest=QV;Vn.encodeBlockRequest=U1e;Vn.encodeGetBytecodeRequest=z1e;Vn.fromCallType=YV;Vn.toAlkaneId=Z0;Vn.toStorageSlot=gO;Vn.toContext=JV;Vn.toResponse=eW;Vn.toEvent=yO;Vn.encodeTraceRequest=L1e;Vn.encodeTraceBlockRequest=$1e;Vn.decodeBlockResponse=F1e;Vn.decodeTraceBlockResponse=D1e;Vn.decodeTraceResponse=H1e;Vn.encodeSimulateRequest=K1e;Vn.decodeSimulateResponse=V1e;Vn.outpointResponseToObject=tW;Vn.decodeOutpointResponse=W1e;Vn.decodeMetaResponse=q1e;const vu=nn,_l=nm,ld=lw,GV=fp,{SimulateResponse:LRe,MessageContextParcel:$Re,AlkanesTrace:FRe}=_l.alkanes,j1e=47;function XV(e){return Array.from(e).reduce((t,r)=>r===j1e?(t.push([]),t):(t[t.length-1].push(r),t),[[]]).map(t=>{const r=Fe.from(t).toString("utf8");return/^\w+$/.test(r)?r:Fe.from(t).toString("hex")}).join("/")}function G6(e){return{id:Z0(e.id),value:(0,vu.fromUint128)(e.value)}}function QV({block:e,tx:t}){return new _l.alkanes.BytecodeRequest({id:new _l.alkanes.AlkaneId({block:(0,vu.toUint128)(e),tx:(0,vu.toUint128)(t)})})}function U1e({height:e}){return new _l.alkanes.BlockRequest({height:e})}function z1e(e){const t=QV(e);return(0,ld.addHexPrefix)(Fe.from(t.serializeBinary()).toString("hex"))}function YV(e){switch(e){case 1:return"call";case 2:return"delegatecall";case 3:return"staticcall";default:return"unknowncall"}}function Z0(e){return{block:typeof e.block=="bigint"?e.block:(0,vu.fromUint128)(e.block),tx:typeof e.tx=="bigint"?e.tx:(0,vu.fromUint128)(e.tx)}}function gO(e){return{key:XV(e.key),value:"0x"+Fe.from(e.value).toString("hex")}}function JV(e){return{myself:Z0(e.myself),caller:Z0(e.caller),inputs:e.inputs.map(t=>(0,vu.fromUint128)(t)),incomingAlkanes:e.incoming_alkanes.map(t=>G6(t)),vout:e.vout}}function eW(e){return{alkanes:e.alkanes.map(t=>G6(t)),data:"0x"+Fe.from(e.data).toString("hex"),storage:e.storage.map(t=>gO(t))}}function yO(e){let t=Object.keys(e)[0];switch(t){case"create_alkane":return{event:"create",data:Z0(e[t].new_alkane)};case"enter_context":return{event:"invoke",data:{type:YV(e[t].call_type),context:JV(e[t].context.inner),fuel:e[t].context.fuel}};case"exit_context":return{event:"return",data:{status:e[t].status==0?"success":"revert",response:eW(e[t].response)}}}}function L1e({txid:e,vout:t}){const r={txid:Fe.from((0,ld.stripHexPrefix)(e),"hex"),vout:t};return"0x"+Fe.from(new GV.protorune.Outpoint(r).serializeBinary()).toString("hex")}function $1e({block:e}){const t={block:Number(e)};return"0x"+Fe.from(new _l.alkanes.TraceBlockRequest(t).serializeBinary()).toString("hex")}function F1e(e){return(0,ld.addHexPrefix)(Fe.from(_l.alkanes.BlockResponse.deserializeBinary(Fe.from((0,ld.stripHexPrefix)(e),"hex")).block).toString("hex"))}function D1e(e){return _l.alkanes.TraceBlockResponse.deserializeBinary(Fe.from((0,ld.stripHexPrefix)(e),"hex")).traces.map(({outpoint:t,trace:r})=>({outpoint:{txid:Fe.from(t.txid).toString("hex"),vout:t.vout},trace:r.events.map(n=>yO(n))}))}function H1e(e){return _l.alkanes.AlkanesTrace.deserializeBinary(Fe.from((0,ld.stripHexPrefix)(e),"hex")).toObject().events.map(t=>yO(t))}function K1e({alkanes:e,transaction:t,height:r,block:n,inputs:i,target:o,txindex:s,vout:a,pointer:l,refundPointer:c}){const u={alkanes:e.map(h=>(0,vu.toProtobufAlkaneTransfer)(h)),transaction:Uint8Array.from(Fe.from(t,"hex")),height:Number(r),txindex:s,calldata:(0,vu.encipher)([o.block,o.tx,...i]),block:Uint8Array.from(Fe.from(n,"hex")),vout:a,pointer:l,refund_pointer:c};return"0x"+Fe.from(new _l.alkanes.MessageContextParcel(u).serializeBinary()).toString("hex")}class v1{constructor(){}}v1.SUCCESS=0;v1.REVERT=1;function V1e(e){const t=_l.alkanes.SimulateResponse.deserializeBinary(Fe.from((0,ld.stripHexPrefix)(e),"hex"));return t.error||!t.execution?{status:v1.REVERT,gasUsed:0,execution:{alkanes:[],storage:[],data:"0x",error:t.error}}:{status:v1.SUCCESS,gasUsed:t.gas_used,execution:{alkanes:t.execution.alkanes.map(G6),storage:t.execution.storage.map(gO),error:null,data:"0x"+Fe.from(t.execution.data).toString("hex")}}}function tW(e){return e.map(t=>({token:{id:{block:(0,vu.fromUint128)(t.rune.runeId.height),tx:(0,vu.fromUint128)(t.rune.runeId.txindex)},name:t.rune.name,symbol:t.rune.symbol},value:(0,vu.fromUint128)(t.balance)}))}function W1e(e){return tW(((GV.protorune.OutpointResponse.deserializeBinary(Fe.from(e.substr(2),"hex")).toObject()||{}).balances||{}).entries||[])}function q1e(e){if(!e||e==="0x")return null;const t=Fe.from((0,ld.stripHexPrefix)(e),"hex");try{return JSON.parse(t.toString("utf8"))}catch(r){return console.error("Failed to parse meta response as JSON:",r),null}}var X6={},im={},w1={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */w1.exports;(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,o=typeof He=="object"&&He;(o.global===o||o.window===o||o.self===o)&&(r=o);var s,a=2147483647,l=36,c=1,u=26,h=38,g=700,k=72,R=128,F="-",D=/^xn--/,$=/[^\x20-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,U={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},q=l-c,ee=Math.floor,ae=String.fromCharCode,re;function K(T){throw new RangeError(U[T])}function C(T,M){for(var Q=T.length,he=[];Q--;)he[Q]=M(T[Q]);return he}function G(T,M){var Q=T.split("@"),he="";Q.length>1&&(he=Q[0]+"@",T=Q[1]),T=T.replace(B,".");var ue=T.split("."),W=C(ue,M).join(".");return he+W}function v(T){for(var M=[],Q=0,he=T.length,ue,W;Q<he;)ue=T.charCodeAt(Q++),ue>=55296&&ue<=56319&&Q<he?(W=T.charCodeAt(Q++),(W&64512)==56320?M.push(((ue&1023)<<10)+(W&1023)+65536):(M.push(ue),Q--)):M.push(ue);return M}function I(T){return C(T,function(M){var Q="";return M>65535&&(M-=65536,Q+=ae(M>>>10&1023|55296),M=56320|M&1023),Q+=ae(M),Q}).join("")}function p(T){return T-48<10?T-22:T-65<26?T-65:T-97<26?T-97:l}function _(T,M){return T+22+75*(T<26)-((M!=0)<<5)}function w(T,M,Q){var he=0;for(T=Q?ee(T/g):T>>1,T+=ee(T/M);T>q*u>>1;he+=l)T=ee(T/q);return ee(he+(q+1)*T/(T+h))}function S(T){var M=[],Q=T.length,he,ue=0,W=R,se=k,Z,ie,pe,Ee,Oe,Re,Ce,P,Y;for(Z=T.lastIndexOf(F),Z<0&&(Z=0),ie=0;ie<Z;++ie)T.charCodeAt(ie)>=128&&K("not-basic"),M.push(T.charCodeAt(ie));for(pe=Z>0?Z+1:0;pe<Q;){for(Ee=ue,Oe=1,Re=l;pe>=Q&&K("invalid-input"),Ce=p(T.charCodeAt(pe++)),(Ce>=l||Ce>ee((a-ue)/Oe))&&K("overflow"),ue+=Ce*Oe,P=Re<=se?c:Re>=se+u?u:Re-se,!(Ce<P);Re+=l)Y=l-P,Oe>ee(a/Y)&&K("overflow"),Oe*=Y;he=M.length+1,se=w(ue-Ee,he,Ee==0),ee(ue/he)>a-W&&K("overflow"),W+=ee(ue/he),ue%=he,M.splice(ue++,0,W)}return I(M)}function A(T){var M,Q,he,ue,W,se,Z,ie,pe,Ee,Oe,Re=[],Ce,P,Y,be;for(T=v(T),Ce=T.length,M=R,Q=0,W=k,se=0;se<Ce;++se)Oe=T[se],Oe<128&&Re.push(ae(Oe));for(he=ue=Re.length,ue&&Re.push(F);he<Ce;){for(Z=a,se=0;se<Ce;++se)Oe=T[se],Oe>=M&&Oe<Z&&(Z=Oe);for(P=he+1,Z-M>ee((a-Q)/P)&&K("overflow"),Q+=(Z-M)*P,M=Z,se=0;se<Ce;++se)if(Oe=T[se],Oe<M&&++Q>a&&K("overflow"),Oe==M){for(ie=Q,pe=l;Ee=pe<=W?c:pe>=W+u?u:pe-W,!(ie<Ee);pe+=l)be=ie-Ee,Y=l-Ee,Re.push(ae(_(Ee+be%Y,0))),ie=ee(be/Y);Re.push(ae(_(ie,0))),W=w(Q,P,he==ue),Q=0,++he}++Q,++M}return Re.join("")}function x(T){return G(T,function(M){return D.test(M)?S(M.slice(4).toLowerCase()):M})}function E(T){return G(T,function(M){return $.test(M)?"xn--"+A(M):M})}if(s={version:"1.4.1",ucs2:{decode:v,encode:I},decode:S,encode:A,toASCII:E,toUnicode:x},n&&i)if(e.exports==n)i.exports=s;else for(re in s)s.hasOwnProperty(re)&&(n[re]=s[re]);else r.punycode=s})(He)})(w1,w1.exports);var Z1e=w1.exports,om=TypeError,mO=typeof Map=="function"&&Map.prototype,fS=Object.getOwnPropertyDescriptor&&mO?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,E1=mO&&fS&&typeof fS.get=="function"?fS.get:null,tC=mO&&Map.prototype.forEach,bO=typeof Set=="function"&&Set.prototype,dS=Object.getOwnPropertyDescriptor&&bO?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,_1=bO&&dS&&typeof dS.get=="function"?dS.get:null,rC=bO&&Set.prototype.forEach,G1e=typeof WeakMap=="function"&&WeakMap.prototype,Jb=G1e?WeakMap.prototype.has:null,X1e=typeof WeakSet=="function"&&WeakSet.prototype,e0=X1e?WeakSet.prototype.has:null,Q1e=typeof WeakRef=="function"&&WeakRef.prototype,nC=Q1e?WeakRef.prototype.deref:null,Y1e=Boolean.prototype.valueOf,J1e=Object.prototype.toString,e4e=Function.prototype.toString,t4e=String.prototype.match,vO=String.prototype.slice,Hf=String.prototype.replace,r4e=String.prototype.toUpperCase,iC=String.prototype.toLowerCase,rW=RegExp.prototype.test,oC=Array.prototype.concat,sl=Array.prototype.join,n4e=Array.prototype.slice,sC=Math.floor,rk=typeof BigInt=="function"?BigInt.prototype.valueOf:null,hS=Object.getOwnPropertySymbols,nk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,wy=typeof Symbol=="function"&&typeof Symbol.iterator=="object",t0=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===wy||!0)?Symbol.toStringTag:null,nW=Object.prototype.propertyIsEnumerable,aC=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function uC(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||rW.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-sC(-e):sC(e);if(n!==e){var i=String(n),o=vO.call(t,i.length+1);return Hf.call(i,r,"$&_")+"."+Hf.call(Hf.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Hf.call(t,r,"$&_")}var ik=_d,lC=ik.custom,cC=sW(lC)?lC:null,iW={__proto__:null,double:'"',single:"'"},i4e={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},Q6=function e(t,r,n,i){var o=r||{};if(oc(o,"quoteStyle")&&!oc(iW,o.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(oc(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=oc(o,"customInspect")?o.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(oc(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(oc(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=o.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return uW(t,o);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return a?uC(t,l):l}if(typeof t=="bigint"){var c=String(t)+"n";return a?uC(t,c):c}var u=typeof o.depth>"u"?5:o.depth;if(typeof n>"u"&&(n=0),n>=u&&u>0&&typeof t=="object")return ok(t)?"[Array]":"[Object]";var h=_4e(o,n);if(typeof i>"u")i=[];else if(aW(i,t)>=0)return"[Circular]";function g(p,_,w){if(_&&(i=n4e.call(i),i.push(_)),w){var S={depth:o.depth};return oc(o,"quoteStyle")&&(S.quoteStyle=o.quoteStyle),e(p,S,n+1,i)}return e(p,o,n+1,i)}if(typeof t=="function"&&!fC(t)){var k=h4e(t),R=i3(t,g);return"[Function"+(k?": "+k:" (anonymous)")+"]"+(R.length>0?" { "+sl.call(R,", ")+" }":"")}if(sW(t)){var F=wy?Hf.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):nk.call(t);return typeof t=="object"&&!wy?tb(F):F}if(v4e(t)){for(var D="<"+iC.call(String(t.nodeName)),$=t.attributes||[],B=0;B<$.length;B++)D+=" "+$[B].name+"="+oW(o4e($[B].value),"double",o);return D+=">",t.childNodes&&t.childNodes.length&&(D+="..."),D+="</"+iC.call(String(t.nodeName))+">",D}if(ok(t)){if(t.length===0)return"[]";var U=i3(t,g);return h&&!E4e(U)?"["+sk(U,h)+"]":"[ "+sl.call(U,", ")+" ]"}if(a4e(t)){var q=i3(t,g);return!("cause"in Error.prototype)&&"cause"in t&&!nW.call(t,"cause")?"{ ["+String(t)+"] "+sl.call(oC.call("[cause]: "+g(t.cause),q),", ")+" }":q.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+sl.call(q,", ")+" }"}if(typeof t=="object"&&s){if(cC&&typeof t[cC]=="function"&&ik)return ik(t,{depth:u-n});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(p4e(t)){var ee=[];return tC&&tC.call(t,function(p,_){ee.push(g(_,t,!0)+" => "+g(p,t))}),dC("Map",E1.call(t),ee,h)}if(m4e(t)){var ae=[];return rC&&rC.call(t,function(p){ae.push(g(p,t))}),dC("Set",_1.call(t),ae,h)}if(g4e(t))return pS("WeakMap");if(b4e(t))return pS("WeakSet");if(y4e(t))return pS("WeakRef");if(l4e(t))return tb(g(Number(t)));if(f4e(t))return tb(g(rk.call(t)));if(c4e(t))return tb(Y1e.call(t));if(u4e(t))return tb(g(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(typeof globalThis<"u"&&t===globalThis||typeof He<"u"&&t===He)return"{ [object globalThis] }";if(!s4e(t)&&!fC(t)){var re=i3(t,g),K=aC?aC(t)===Object.prototype:t instanceof Object||t.constructor===Object,C=t instanceof Object?"":"null prototype",G=!K&&t0&&Object(t)===t&&t0 in t?vO.call(Od(t),8,-1):C?"Object":"",v=K||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",I=v+(G||C?"["+sl.call(oC.call([],G||[],C||[]),": ")+"] ":"");return re.length===0?I+"{}":h?I+"{"+sk(re,h)+"}":I+"{ "+sl.call(re,", ")+" }"}return String(t)};function oW(e,t,r){var n=r.quoteStyle||t,i=iW[n];return i+e+i}function o4e(e){return Hf.call(String(e),/"/g,"&quot;")}function dp(e){return!t0||!(typeof e=="object"&&(t0 in e||typeof e[t0]<"u"))}function ok(e){return Od(e)==="[object Array]"&&dp(e)}function s4e(e){return Od(e)==="[object Date]"&&dp(e)}function fC(e){return Od(e)==="[object RegExp]"&&dp(e)}function a4e(e){return Od(e)==="[object Error]"&&dp(e)}function u4e(e){return Od(e)==="[object String]"&&dp(e)}function l4e(e){return Od(e)==="[object Number]"&&dp(e)}function c4e(e){return Od(e)==="[object Boolean]"&&dp(e)}function sW(e){if(wy)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!nk)return!1;try{return nk.call(e),!0}catch{}return!1}function f4e(e){if(!e||typeof e!="object"||!rk)return!1;try{return rk.call(e),!0}catch{}return!1}var d4e=Object.prototype.hasOwnProperty||function(e){return e in this};function oc(e,t){return d4e.call(e,t)}function Od(e){return J1e.call(e)}function h4e(e){if(e.name)return e.name;var t=t4e.call(e4e.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function aW(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function p4e(e){if(!E1||!e||typeof e!="object")return!1;try{E1.call(e);try{_1.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function g4e(e){if(!Jb||!e||typeof e!="object")return!1;try{Jb.call(e,Jb);try{e0.call(e,e0)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function y4e(e){if(!nC||!e||typeof e!="object")return!1;try{return nC.call(e),!0}catch{}return!1}function m4e(e){if(!_1||!e||typeof e!="object")return!1;try{_1.call(e);try{E1.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function b4e(e){if(!e0||!e||typeof e!="object")return!1;try{e0.call(e,e0);try{Jb.call(e,Jb)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function v4e(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function uW(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return uW(vO.call(e,0,t.maxStringLength),t)+n}var i=i4e[t.quoteStyle||"single"];i.lastIndex=0;var o=Hf.call(Hf.call(e,i,"\\$1"),/[\x00-\x1f]/g,w4e);return oW(o,"single",t)}function w4e(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+r4e.call(t.toString(16))}function tb(e){return"Object("+e+")"}function pS(e){return e+" { ? }"}function dC(e,t,r,n){var i=n?sk(r,n):sl.call(r,", ");return e+" ("+t+") {"+i+"}"}function E4e(e){for(var t=0;t<e.length;t++)if(aW(e[t],`
`)>=0)return!1;return!0}function _4e(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=sl.call(Array(e.indent+1)," ");else return null;return{base:r,prev:sl.call(Array(t+1),r)}}function sk(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+sl.call(e,","+r)+`
`+t.prev}function i3(e,t){var r=ok(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=oc(e,i)?t(e[i],e):""}var o=typeof hS=="function"?hS(e):[],s;if(wy){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in e)oc(e,l)&&(r&&String(Number(l))===l&&l<e.length||wy&&s["$"+l]instanceof Symbol||(rW.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if(typeof hS=="function")for(var c=0;c<o.length;c++)nW.call(e,o[c])&&n.push("["+t(o[c])+"]: "+t(e[o[c]],e));return n}var S4e=Q6,k4e=om,Y6=function(e,t,r){for(var n=e,i;(i=n.next)!=null;n=i)if(i.key===t)return n.next=i.next,r||(i.next=e.next,e.next=i),i},x4e=function(e,t){if(e){var r=Y6(e,t);return r&&r.value}},A4e=function(e,t,r){var n=Y6(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},O4e=function(e,t){return e?!!Y6(e,t):!1},P4e=function(e,t){if(e)return Y6(e,t,!0)},T4e=function(){var e,t={assert:function(r){if(!t.has(r))throw new k4e("Side channel does not contain "+S4e(r))},delete:function(r){var n=e&&e.next,i=P4e(e,r);return i&&n&&n===i&&(e=void 0),!!i},get:function(r){return x4e(e,r)},has:function(r){return O4e(e,r)},set:function(r,n){e||(e={next:void 0}),A4e(e,r,n)}};return t},lW=Object,I4e=Error,B4e=EvalError,N4e=RangeError,M4e=ReferenceError,R4e=SyntaxError,C4e=URIError,j4e=Math.abs,U4e=Math.floor,z4e=Math.max,L4e=Math.min,$4e=Math.pow,F4e=Math.round,D4e=Number.isNaN||function(e){return e!==e},H4e=D4e,K4e=function(e){return H4e(e)||e===0?e:e<0?-1:1},V4e=Object.getOwnPropertyDescriptor,l8=V4e;if(l8)try{l8([],"length")}catch{l8=null}var cW=l8,c8=Object.defineProperty||!1;if(c8)try{c8({},"a",{value:1})}catch{c8=!1}var W4e=c8,hC,pC;function q4e(){return pC||(pC=1,hC=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[t]=n;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(e,t);if(s.value!==n||s.enumerable!==!0)return!1}return!0}),hC}var gS,gC;function Z4e(){if(gC)return gS;gC=1;var e=typeof Symbol<"u"&&Symbol,t=q4e();return gS=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},gS}var yC,mC;function fW(){return mC||(mC=1,yC=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),yC}var yS,bC;function dW(){if(bC)return yS;bC=1;var e=lW;return yS=e.getPrototypeOf||null,yS}var mS,vC;function G4e(){if(vC)return mS;vC=1;var e="Function.prototype.bind called on incompatible ",t=Object.prototype.toString,r=Math.max,n="[object Function]",i=function(a,l){for(var c=[],u=0;u<a.length;u+=1)c[u]=a[u];for(var h=0;h<l.length;h+=1)c[h+a.length]=l[h];return c},o=function(a,l){for(var c=[],u=l,h=0;u<a.length;u+=1,h+=1)c[h]=a[u];return c},s=function(a,l){for(var c="",u=0;u<a.length;u+=1)c+=a[u],u+1<a.length&&(c+=l);return c};return mS=function(a){var l=this;if(typeof l!="function"||t.apply(l)!==n)throw new TypeError(e+l);for(var c=o(arguments,1),u,h=function(){if(this instanceof u){var D=l.apply(this,i(c,arguments));return Object(D)===D?D:this}return l.apply(a,i(c,arguments))},g=r(0,l.length-c.length),k=[],R=0;R<g;R++)k[R]="$"+R;if(u=Function("binder","return function ("+s(k,",")+"){ return binder.apply(this,arguments); }")(h),l.prototype){var F=function(){};F.prototype=l.prototype,u.prototype=new F,F.prototype=null}return u},mS}var bS,wC;function J6(){if(wC)return bS;wC=1;var e=G4e();return bS=Function.prototype.bind||e,bS}var EC,_C;function wO(){return _C||(_C=1,EC=Function.prototype.call),EC}var SC,kC;function hW(){return kC||(kC=1,SC=Function.prototype.apply),SC}var X4e=typeof Reflect<"u"&&Reflect&&Reflect.apply,Q4e=J6(),Y4e=hW(),J4e=wO(),e6e=X4e,t6e=e6e||Q4e.call(J4e,Y4e),r6e=J6(),n6e=om,i6e=wO(),o6e=t6e,pW=function(e){if(e.length<1||typeof e[0]!="function")throw new n6e("a function is required");return o6e(r6e,i6e,e)},vS,xC;function s6e(){if(xC)return vS;xC=1;var e=pW,t=cW,r;try{r=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return vS=n&&typeof n.get=="function"?e([n.get]):typeof o=="function"?function(s){return o(s==null?s:i(s))}:!1,vS}var wS,AC;function a6e(){if(AC)return wS;AC=1;var e=fW(),t=dW(),r=s6e();return wS=e?function(n){return e(n)}:t?function(n){if(!n||typeof n!="object"&&typeof n!="function")throw new TypeError("getProto: not an object");return t(n)}:r?function(n){return r(n)}:null,wS}var ES,OC;function u6e(){if(OC)return ES;OC=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=J6();return ES=r.call(e,t),ES}var Lr,l6e=lW,c6e=I4e,f6e=B4e,d6e=N4e,h6e=M4e,Ey=R4e,Gg=om,p6e=C4e,g6e=j4e,y6e=U4e,m6e=z4e,b6e=L4e,v6e=$4e,w6e=F4e,E6e=K4e,gW=Function,_S=function(e){try{return gW('"use strict"; return ('+e+").constructor;")()}catch{}},G0=cW,_6e=W4e,SS=function(){throw new Gg},S6e=G0?function(){try{return arguments.callee,SS}catch{try{return G0(arguments,"callee").get}catch{return SS}}}():SS,Kp=Z4e()(),Ni=a6e(),k6e=dW(),x6e=fW(),yW=hW(),cw=wO(),sg={},A6e=typeof Uint8Array>"u"||!Ni?Lr:Ni(Uint8Array),Ph={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Lr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Lr:ArrayBuffer,"%ArrayIteratorPrototype%":Kp&&Ni?Ni([][Symbol.iterator]()):Lr,"%AsyncFromSyncIteratorPrototype%":Lr,"%AsyncFunction%":sg,"%AsyncGenerator%":sg,"%AsyncGeneratorFunction%":sg,"%AsyncIteratorPrototype%":sg,"%Atomics%":typeof Atomics>"u"?Lr:Atomics,"%BigInt%":typeof BigInt>"u"?Lr:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Lr:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Lr:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Lr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":c6e,"%eval%":eval,"%EvalError%":f6e,"%Float16Array%":typeof Float16Array>"u"?Lr:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Lr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Lr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Lr:FinalizationRegistry,"%Function%":gW,"%GeneratorFunction%":sg,"%Int8Array%":typeof Int8Array>"u"?Lr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Lr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Lr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Kp&&Ni?Ni(Ni([][Symbol.iterator]())):Lr,"%JSON%":typeof JSON=="object"?JSON:Lr,"%Map%":typeof Map>"u"?Lr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Kp||!Ni?Lr:Ni(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":l6e,"%Object.getOwnPropertyDescriptor%":G0,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Lr:Promise,"%Proxy%":typeof Proxy>"u"?Lr:Proxy,"%RangeError%":d6e,"%ReferenceError%":h6e,"%Reflect%":typeof Reflect>"u"?Lr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Lr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Kp||!Ni?Lr:Ni(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Lr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Kp&&Ni?Ni(""[Symbol.iterator]()):Lr,"%Symbol%":Kp?Symbol:Lr,"%SyntaxError%":Ey,"%ThrowTypeError%":S6e,"%TypedArray%":A6e,"%TypeError%":Gg,"%Uint8Array%":typeof Uint8Array>"u"?Lr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Lr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Lr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Lr:Uint32Array,"%URIError%":p6e,"%WeakMap%":typeof WeakMap>"u"?Lr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Lr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Lr:WeakSet,"%Function.prototype.call%":cw,"%Function.prototype.apply%":yW,"%Object.defineProperty%":_6e,"%Object.getPrototypeOf%":k6e,"%Math.abs%":g6e,"%Math.floor%":y6e,"%Math.max%":m6e,"%Math.min%":b6e,"%Math.pow%":v6e,"%Math.round%":w6e,"%Math.sign%":E6e,"%Reflect.getPrototypeOf%":x6e};if(Ni)try{null.error}catch(e){var O6e=Ni(Ni(e));Ph["%Error.prototype%"]=O6e}var P6e=function e(t){var r;if(t==="%AsyncFunction%")r=_S("async function () {}");else if(t==="%GeneratorFunction%")r=_S("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=_S("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&Ni&&(r=Ni(i.prototype))}return Ph[t]=r,r},PC={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fw=J6(),S1=u6e(),T6e=fw.call(cw,Array.prototype.concat),I6e=fw.call(yW,Array.prototype.splice),TC=fw.call(cw,String.prototype.replace),k1=fw.call(cw,String.prototype.slice),B6e=fw.call(cw,RegExp.prototype.exec),N6e=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M6e=/\\(\\)?/g,R6e=function(e){var t=k1(e,0,1),r=k1(e,-1);if(t==="%"&&r!=="%")throw new Ey("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Ey("invalid intrinsic syntax, expected opening `%`");var n=[];return TC(e,N6e,function(i,o,s,a){n[n.length]=s?TC(a,M6e,"$1"):o||i}),n},C6e=function(e,t){var r=e,n;if(S1(PC,r)&&(n=PC[r],r="%"+n[0]+"%"),S1(Ph,r)){var i=Ph[r];if(i===sg&&(i=P6e(r)),typeof i>"u"&&!t)throw new Gg("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Ey("intrinsic "+e+" does not exist!")},EO=function(e,t){if(typeof e!="string"||e.length===0)throw new Gg("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new Gg('"allowMissing" argument must be a boolean');if(B6e(/^%?[^%]*%?$/,e)===null)throw new Ey("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=R6e(e),n=r.length>0?r[0]:"",i=C6e("%"+n+"%",t),o=i.name,s=i.value,a=!1,l=i.alias;l&&(n=l[0],I6e(r,T6e([0,1],l)));for(var c=1,u=!0;c<r.length;c+=1){var h=r[c],g=k1(h,0,1),k=k1(h,-1);if((g==='"'||g==="'"||g==="`"||k==='"'||k==="'"||k==="`")&&g!==k)throw new Ey("property names with quotes must have matching quotes");if((h==="constructor"||!u)&&(a=!0),n+="."+h,o="%"+n+"%",S1(Ph,o))s=Ph[o];else if(s!=null){if(!(h in s)){if(!t)throw new Gg("base intrinsic for "+e+" exists, but the property is not available.");return}if(G0&&c+1>=r.length){var R=G0(s,h);u=!!R,u&&"get"in R&&!("originalValue"in R.get)?s=R.get:s=s[h]}else u=S1(s,h),s=s[h];u&&!a&&(Ph[o]=s)}}return s},mW=EO,bW=pW,j6e=bW([mW("%String.prototype.indexOf%")]),vW=function(e,t){var r=mW(e,!!t);return typeof r=="function"&&j6e(e,".prototype.")>-1?bW([r]):r},U6e=EO,dw=vW,z6e=Q6,L6e=om,IC=U6e("%Map%",!0),$6e=dw("Map.prototype.get",!0),F6e=dw("Map.prototype.set",!0),D6e=dw("Map.prototype.has",!0),H6e=dw("Map.prototype.delete",!0),K6e=dw("Map.prototype.size",!0),wW=!!IC&&function(){var e,t={assert:function(r){if(!t.has(r))throw new L6e("Side channel does not contain "+z6e(r))},delete:function(r){if(e){var n=H6e(e,r);return K6e(e)===0&&(e=void 0),n}return!1},get:function(r){if(e)return $6e(e,r)},has:function(r){return e?D6e(e,r):!1},set:function(r,n){e||(e=new IC),F6e(e,r,n)}};return t},V6e=EO,eE=vW,W6e=Q6,o3=wW,q6e=om,Vp=V6e("%WeakMap%",!0),Z6e=eE("WeakMap.prototype.get",!0),G6e=eE("WeakMap.prototype.set",!0),X6e=eE("WeakMap.prototype.has",!0),Q6e=eE("WeakMap.prototype.delete",!0),Y6e=Vp?function(){var e,t,r={assert:function(n){if(!r.has(n))throw new q6e("Side channel does not contain "+W6e(n))},delete:function(n){if(Vp&&n&&(typeof n=="object"||typeof n=="function")){if(e)return Q6e(e,n)}else if(o3&&t)return t.delete(n);return!1},get:function(n){return Vp&&n&&(typeof n=="object"||typeof n=="function")&&e?Z6e(e,n):t&&t.get(n)},has:function(n){return Vp&&n&&(typeof n=="object"||typeof n=="function")&&e?X6e(e,n):!!t&&t.has(n)},set:function(n,i){Vp&&n&&(typeof n=="object"||typeof n=="function")?(e||(e=new Vp),G6e(e,n,i)):o3&&(t||(t=o3()),t.set(n,i))}};return r}:o3,J6e=om,eEe=Q6,tEe=T4e,rEe=wW,nEe=Y6e,iEe=nEe||rEe||tEe,oEe=function(){var e,t={assert:function(r){if(!t.has(r))throw new J6e("Side channel does not contain "+eEe(r))},delete:function(r){return!!e&&e.delete(r)},get:function(r){return e&&e.get(r)},has:function(r){return!!e&&e.has(r)},set:function(r,n){e||(e=iEe()),e.set(r,n)}};return t},sEe=String.prototype.replace,aEe=/%20/g,kS={RFC1738:"RFC1738",RFC3986:"RFC3986"},_O={default:kS.RFC3986,formatters:{RFC1738:function(e){return sEe.call(e,aEe,"+")},RFC3986:function(e){return String(e)}},RFC1738:kS.RFC1738,RFC3986:kS.RFC3986},uEe=_O,xS=Object.prototype.hasOwnProperty,oh=Array.isArray,Du=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),lEe=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(oh(r)){for(var n=[],i=0;i<r.length;++i)typeof r[i]<"u"&&n.push(r[i]);t.obj[t.prop]=n}}},EW=function(e,t){for(var r=t&&t.plainObjects?{__proto__:null}:{},n=0;n<e.length;++n)typeof e[n]<"u"&&(r[n]=e[n]);return r},cEe=function e(t,r,n){if(!r)return t;if(typeof r!="object"&&typeof r!="function"){if(oh(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!xS.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return oh(t)&&!oh(r)&&(i=EW(t,n)),oh(t)&&oh(r)?(r.forEach(function(o,s){if(xS.call(t,s)){var a=t[s];a&&typeof a=="object"&&o&&typeof o=="object"?t[s]=e(a,o,n):t.push(o)}else t[s]=o}),t):Object.keys(r).reduce(function(o,s){var a=r[s];return xS.call(o,s)?o[s]=e(o[s],a,n):o[s]=a,o},i)},fEe=function(e,t){return Object.keys(t).reduce(function(r,n){return r[n]=t[n],r},e)},dEe=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},AS=1024,hEe=function(e,t,r,n,i){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(g){return"%26%23"+parseInt(g.slice(2),16)+"%3B"});for(var s="",a=0;a<o.length;a+=AS){for(var l=o.length>=AS?o.slice(a,a+AS):o,c=[],u=0;u<l.length;++u){var h=l.charCodeAt(u);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||i===uEe.RFC1738&&(h===40||h===41)){c[c.length]=l.charAt(u);continue}if(h<128){c[c.length]=Du[h];continue}if(h<2048){c[c.length]=Du[192|h>>6]+Du[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=Du[224|h>>12]+Du[128|h>>6&63]+Du[128|h&63];continue}u+=1,h=65536+((h&1023)<<10|l.charCodeAt(u)&1023),c[c.length]=Du[240|h>>18]+Du[128|h>>12&63]+Du[128|h>>6&63]+Du[128|h&63]}s+=c.join("")}return s},pEe=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var l=s[a],c=o[l];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(t.push({obj:o,prop:l}),r.push(c))}return lEe(t),e},gEe=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},yEe=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},mEe=function(e,t){return[].concat(e,t)},bEe=function(e,t){if(oh(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},_W={arrayToObject:EW,assign:fEe,combine:mEe,compact:pEe,decode:dEe,encode:hEe,isBuffer:yEe,isRegExp:gEe,maybeMap:bEe,merge:cEe},SW=oEe,f8=_W,r0=_O,vEe=Object.prototype.hasOwnProperty,kW={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ol=Array.isArray,wEe=Array.prototype.push,xW=function(e,t){wEe.apply(e,ol(t)?t:[t])},EEe=Date.prototype.toISOString,BC=r0.default,bi={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:f8.encode,encodeValuesOnly:!1,filter:void 0,format:BC,formatter:r0.formatters[BC],indices:!1,serializeDate:function(e){return EEe.call(e)},skipNulls:!1,strictNullHandling:!1},_Ee=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},OS={},SEe=function e(t,r,n,i,o,s,a,l,c,u,h,g,k,R,F,D,$,B){for(var U=t,q=B,ee=0,ae=!1;(q=q.get(OS))!==void 0&&!ae;){var re=q.get(t);if(ee+=1,typeof re<"u"){if(re===ee)throw new RangeError("Cyclic object value");ae=!0}typeof q.get(OS)>"u"&&(ee=0)}if(typeof u=="function"?U=u(r,U):U instanceof Date?U=k(U):n==="comma"&&ol(U)&&(U=f8.maybeMap(U,function(T){return T instanceof Date?k(T):T})),U===null){if(s)return c&&!D?c(r,bi.encoder,$,"key",R):r;U=""}if(_Ee(U)||f8.isBuffer(U)){if(c){var K=D?r:c(r,bi.encoder,$,"key",R);return[F(K)+"="+F(c(U,bi.encoder,$,"value",R))]}return[F(r)+"="+F(String(U))]}var C=[];if(typeof U>"u")return C;var G;if(n==="comma"&&ol(U))D&&c&&(U=f8.maybeMap(U,c)),G=[{value:U.length>0?U.join(",")||null:void 0}];else if(ol(u))G=u;else{var v=Object.keys(U);G=h?v.sort(h):v}var I=l?String(r).replace(/\./g,"%2E"):String(r),p=i&&ol(U)&&U.length===1?I+"[]":I;if(o&&ol(U)&&U.length===0)return p+"[]";for(var _=0;_<G.length;++_){var w=G[_],S=typeof w=="object"&&w&&typeof w.value<"u"?w.value:U[w];if(!(a&&S===null)){var A=g&&l?String(w).replace(/\./g,"%2E"):String(w),x=ol(U)?typeof n=="function"?n(p,A):p:p+(g?"."+A:"["+A+"]");B.set(t,ee);var E=SW();E.set(OS,B),xW(C,e(S,x,n,i,o,s,a,l,n==="comma"&&D&&ol(U)?null:c,u,h,g,k,R,F,D,$,E))}}return C},kEe=function(e){if(!e)return bi;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||bi.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=r0.default;if(typeof e.format<"u"){if(!vEe.call(r0.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=r0.formatters[r],i=bi.filter;(typeof e.filter=="function"||ol(e.filter))&&(i=e.filter);var o;if(e.arrayFormat in kW?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=bi.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var s=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:bi.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:bi.addQueryPrefix,allowDots:s,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:bi.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:bi.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?bi.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:bi.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:bi.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:bi.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:bi.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:bi.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:bi.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:bi.strictNullHandling}},xEe=function(e,t){var r=e,n=kEe(t),i,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):ol(n.filter)&&(o=n.filter,i=o);var s=[];if(typeof r!="object"||r===null)return"";var a=kW[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=SW(),u=0;u<i.length;++u){var h=i[u],g=r[h];n.skipNulls&&g===null||xW(s,SEe(g,h,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var k=s.join(n.delimiter),R=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?R+="utf8=%26%2310003%3B&":R+="utf8=%E2%9C%93&"),k.length>0?R+k:""},Vh=_W,ak=Object.prototype.hasOwnProperty,NC=Array.isArray,Zn={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Vh.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},AEe=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},AW=function(e,t,r){if(e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&r>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(t.arrayLimit===1?"":"s")+" allowed in an array.");return e},OEe="utf8=%26%2310003%3B",PEe="utf8=%E2%9C%93",TEe=function(e,t){var r={__proto__:null},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;n=n.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,t.throwOnLimitExceeded?i+1:i);if(t.throwOnLimitExceeded&&o.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var s=-1,a,l=t.charset;if(t.charsetSentinel)for(a=0;a<o.length;++a)o[a].indexOf("utf8=")===0&&(o[a]===PEe?l="utf-8":o[a]===OEe&&(l="iso-8859-1"),s=a,a=o.length);for(a=0;a<o.length;++a)if(a!==s){var c=o[a],u=c.indexOf("]="),h=u===-1?c.indexOf("="):u+1,g,k;h===-1?(g=t.decoder(c,Zn.decoder,l,"key"),k=t.strictNullHandling?null:""):(g=t.decoder(c.slice(0,h),Zn.decoder,l,"key"),k=Vh.maybeMap(AW(c.slice(h+1),t,NC(r[g])?r[g].length:0),function(F){return t.decoder(F,Zn.decoder,l,"value")})),k&&t.interpretNumericEntities&&l==="iso-8859-1"&&(k=AEe(String(k))),c.indexOf("[]=")>-1&&(k=NC(k)?[k]:k);var R=ak.call(r,g);R&&t.duplicates==="combine"?r[g]=Vh.combine(r[g],k):(!R||t.duplicates==="last")&&(r[g]=k)}return r},IEe=function(e,t,r,n){var i=0;if(e.length>0&&e[e.length-1]==="[]"){var o=e.slice(0,-1).join("");i=Array.isArray(t)&&t[o]?t[o].length:0}for(var s=n?t:AW(t,r,i),a=e.length-1;a>=0;--a){var l,c=e[a];if(c==="[]"&&r.parseArrays)l=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:Vh.combine([],s);else{l=r.plainObjects?{__proto__:null}:{};var u=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,h=r.decodeDotInKeys?u.replace(/%2E/g,"."):u,g=parseInt(h,10);!r.parseArrays&&h===""?l={0:s}:!isNaN(g)&&c!==h&&String(g)===h&&g>=0&&r.parseArrays&&g<=r.arrayLimit?(l=[],l[g]=s):h!=="__proto__"&&(l[h]=s)}s=l}return s},BEe=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,a=r.depth>0&&o.exec(i),l=a?i.slice(0,a.index):i,c=[];if(l){if(!r.plainObjects&&ak.call(Object.prototype,l)&&!r.allowPrototypes)return;c.push(l)}for(var u=0;r.depth>0&&(a=s.exec(i))!==null&&u<r.depth;){if(u+=1,!r.plainObjects&&ak.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}if(a){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");c.push("["+i.slice(a.index)+"]")}return IEe(c,t,r,n)}},NEe=function(e){if(!e)return Zn;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t=typeof e.charset>"u"?Zn.charset:e.charset,r=typeof e.duplicates>"u"?Zn.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Zn.allowDots:!!e.allowDots;return{allowDots:n,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Zn.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Zn.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Zn.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Zn.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Zn.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Zn.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Zn.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Zn.decoder,delimiter:typeof e.delimiter=="string"||Vh.isRegExp(e.delimiter)?e.delimiter:Zn.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Zn.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Zn.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Zn.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Zn.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Zn.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Zn.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},MEe=function(e,t){var r=NEe(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof e=="string"?TEe(e,r):e,i=r.plainObjects?{__proto__:null}:{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],l=BEe(a,n[a],r,typeof e=="string");i=Vh.merge(i,l,r)}return r.allowSparse===!0?i:Vh.compact(i)},REe=xEe,CEe=MEe,jEe=_O,UEe={formats:jEe,parse:CEe,stringify:REe},zEe=Z1e;function Ba(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var LEe=/^([a-z0-9.+-]+:)/i,$Ee=/:[0-9]*$/,FEe=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,DEe=["<",">",'"',"`"," ","\r",`
`,"	"],HEe=["{","}","|","\\","^","`"].concat(DEe),uk=["'"].concat(HEe),MC=["%","/","?",";","#"].concat(uk),RC=["/","?","#"],KEe=255,CC=/^[+a-z0-9A-Z_-]{0,63}$/,VEe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,WEe={javascript:!0,"javascript:":!0},lk={javascript:!0,"javascript:":!0},Xg={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ck=UEe;function hw(e,t,r){if(e&&typeof e=="object"&&e instanceof Ba)return e;var n=new Ba;return n.parse(e,t,r),n}Ba.prototype.parse=function(e,t,r){if(typeof e!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",o=e.split(i),s=/\\/g;o[0]=o[0].replace(s,"/"),e=o.join(i);var a=e;if(a=a.trim(),!r&&e.split("#").length===1){var l=FEe.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],t?this.query=ck.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var c=LEe.exec(a);if(c){c=c[0];var u=c.toLowerCase();this.protocol=u,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(c&&lk[c])&&(a=a.substr(2),this.slashes=!0)}if(!lk[c]&&(h||c&&!Xg[c])){for(var g=-1,k=0;k<RC.length;k++){var R=a.indexOf(RC[k]);R!==-1&&(g===-1||R<g)&&(g=R)}var F,D;g===-1?D=a.lastIndexOf("@"):D=a.lastIndexOf("@",g),D!==-1&&(F=a.slice(0,D),a=a.slice(D+1),this.auth=decodeURIComponent(F)),g=-1;for(var k=0;k<MC.length;k++){var R=a.indexOf(MC[k]);R!==-1&&(g===-1||R<g)&&(g=R)}g===-1&&(g=a.length),this.host=a.slice(0,g),a=a.slice(g),this.parseHost(),this.hostname=this.hostname||"";var $=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!$)for(var B=this.hostname.split(/\./),k=0,U=B.length;k<U;k++){var q=B[k];if(q&&!q.match(CC)){for(var ee="",ae=0,re=q.length;ae<re;ae++)q.charCodeAt(ae)>127?ee+="x":ee+=q[ae];if(!ee.match(CC)){var K=B.slice(0,k),C=B.slice(k+1),G=q.match(VEe);G&&(K.push(G[1]),C.unshift(G[2])),C.length&&(a="/"+C.join(".")+a),this.hostname=K.join(".");break}}}this.hostname.length>KEe?this.hostname="":this.hostname=this.hostname.toLowerCase(),$||(this.hostname=zEe.toASCII(this.hostname));var v=this.port?":"+this.port:"",I=this.hostname||"";this.host=I+v,this.href+=this.host,$&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!WEe[u])for(var k=0,U=uk.length;k<U;k++){var p=uk[k];if(a.indexOf(p)!==-1){var _=encodeURIComponent(p);_===p&&(_=escape(p)),a=a.split(p).join(_)}}var w=a.indexOf("#");w!==-1&&(this.hash=a.substr(w),a=a.slice(0,w));var S=a.indexOf("?");if(S!==-1?(this.search=a.substr(S),this.query=a.substr(S+1),t&&(this.query=ck.parse(this.query)),a=a.slice(0,S)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Xg[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var v=this.pathname||"",A=this.search||"";this.path=v+A}return this.href=this.format(),this};function qEe(e){return typeof e=="string"&&(e=hw(e)),e instanceof Ba?e.format():Ba.prototype.format.call(e)}Ba.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(o=ck.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||o&&"?"+o||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||Xg[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),t+i+r+s+n};function ZEe(e,t){return hw(e,!1,!0).resolve(t)}Ba.prototype.resolve=function(e){return this.resolveObject(hw(e,!1,!0)).format()};function GEe(e,t){return e?hw(e,!1,!0).resolveObject(t):t}Ba.prototype.resolveObject=function(e){if(typeof e=="string"){var t=new Ba;t.parse(e,!1,!0),e=t}for(var r=new Ba,n=Object.keys(this),i=0;i<n.length;i++){var o=n[i];r[o]=this[o]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),a=0;a<s.length;a++){var l=s[a];l!=="protocol"&&(r[l]=e[l])}return Xg[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!Xg[e.protocol]){for(var c=Object.keys(e),u=0;u<c.length;u++){var h=c[u];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!lk[e.protocol]){for(var U=(e.pathname||"").split("/");U.length&&!(e.host=U.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),U[0]!==""&&U.unshift(""),U.length<2&&U.unshift(""),r.pathname=U.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",k=r.search||"";r.path=g+k}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var R=r.pathname&&r.pathname.charAt(0)==="/",F=e.host||e.pathname&&e.pathname.charAt(0)==="/",D=F||R||r.host&&e.pathname,$=D,B=r.pathname&&r.pathname.split("/")||[],U=e.pathname&&e.pathname.split("/")||[],q=r.protocol&&!Xg[r.protocol];if(q&&(r.hostname="",r.port=null,r.host&&(B[0]===""?B[0]=r.host:B.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(U[0]===""?U[0]=e.host:U.unshift(e.host)),e.host=null),D=D&&(U[0]===""||B[0]==="")),F)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,B=U;else if(U.length)B||(B=[]),B.pop(),B=B.concat(U),r.search=e.search,r.query=e.query;else if(e.search!=null){if(q){r.host=B.shift(),r.hostname=r.host;var ee=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;ee&&(r.auth=ee.shift(),r.hostname=ee.shift(),r.host=r.hostname)}return r.search=e.search,r.query=e.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!B.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var ae=B.slice(-1)[0],re=(r.host||e.host||B.length>1)&&(ae==="."||ae==="..")||ae==="",K=0,C=B.length;C>=0;C--)ae=B[C],ae==="."?B.splice(C,1):ae===".."?(B.splice(C,1),K++):K&&(B.splice(C,1),K--);if(!D&&!$)for(;K--;K)B.unshift("..");D&&B[0]!==""&&(!B[0]||B[0].charAt(0)!=="/")&&B.unshift(""),re&&B.join("/").substr(-1)!=="/"&&B.push("");var G=B[0]===""||B[0]&&B[0].charAt(0)==="/";if(q){r.hostname=G?"":B.length?B.shift():"",r.host=r.hostname;var ee=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;ee&&(r.auth=ee.shift(),r.hostname=ee.shift(),r.host=r.hostname)}return D=D||r.host&&B.length,D&&!G&&B.unshift(""),B.length>0?r.pathname=B.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Ba.prototype.parseHost=function(){var e=this.host,t=$Ee.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};im.parse=hw;im.resolve=ZEe;im.resolveObject=GEe;im.format=qEe;im.Url=Ba;var XEe=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),QEe=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),YEe=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&XEe(t,e,r);return QEe(t,e),t},JEe=He&&He.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(X6,"__esModule",{value:!0});X6.BaseRpc=void 0;const jC=YEe(Nl),s3=JEe(im),UC=Os,zC=e=>e.substr(0,2)==="0x"?e:"0x"+e;let LC=0;class e5e{constructor({baseUrl:t,memshrewUrl:r,headers:n,blockTag:i}){this.baseUrl=t||"http://localhost:8080",this.memshrewUrl=r||t,this.blockTag=i||"latest",this.headers=n||{}}async _preview({method:t,input:r}){const n=await(await fetch(s3.default.format({...s3.default.parse(this.memshrewUrl||this.baseUrl),pathname:"/"}),{})).json();if(n.error){const s=new Error(n.error.message);throw s.code=n.error.code,s}if(n.length===0)throw Error("no mempool block built by memshrew");const i=n.result[0],o=await(await fetch(s3.default.format({...s3.default.parse(this.baseUrl),pathname:"/"}),{method:"POST",body:JSON.stringify({id:LC++,jsonrpc:"2.0",method:"metashrew_preview",params:[i,t,r,"latest"]}),headers:{"Content-Type":"application/json",Accept:"application/json"}})).json();return zC(o.result)}async _call({method:t,input:r},n="latest"){if(n==="pending")return await this._preview({method:t,input:r});const i=await(await fetch(this.baseUrl,{method:"POST",body:JSON.stringify({id:LC++,jsonrpc:"2.0",method:"metashrew_view",params:[t,r,n||this.blockTag]}),headers:Object.assign({},{"Content-Type":"application/json",Accept:"application/json"},this.headers)})).json();return zC(i.result)}async runesbyaddress({address:t},r="latest"){const n=jC.encodeWalletInput(t),i=await this._call({method:"runesbyaddress",input:n},r);return jC.decodeWalletOutput(i)}async runesbyheight({height:t},r="latest"){const n=(0,UC.encodeBlockHeightInput)(t),i=await this._call({method:"runesbyheight",input:n},r);return(0,UC.decodeRunesResponse)(i)}}X6.BaseRpc=e5e;var gs={},kn={},Ai={},SO={},ro={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isNone=e.isSome=e.None=e.Some=e.OptionType=void 0,e.OptionType={Some:Symbol(":some"),None:Symbol(":none")};class t{constructor(a){this.val=a}get type(){return e.OptionType.Some}isSome(){return!0}isNone(){return!1}match(a){return a.some(this.val)}map(a){return n(a(this.val))}inspect(a){return a(this.val),this}andThen(a){return a(this.val)}or(a){return this}orElse(a){return this}and(a){return a}unwrapOr(a){return this.val}unwrap(){return this.val}}class r{get type(){return e.OptionType.None}isSome(){return!1}isNone(){return!0}match({none:a}){return typeof a=="function"?a():a}map(a){return new r}inspect(a){return this}andThen(a){return new r}or(a){return a}orElse(a){return a()}and(a){return new r}unwrapOr(a){return a}unwrap(){throw new ReferenceError("Trying to unwrap None.")}}function n(s){return new t(s)}e.Some=n,e.None=new r;function i(s){return s.isSome()}e.isSome=i;function o(s){return s.isNone()}e.isNone=o})(ro);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.u8=e.U8_MAX_BIGINT=void 0;const t=ro;e.U8_MAX_BIGINT=0xffn;function r(n){return(typeof n=="bigint"?n:BigInt(n))&e.U8_MAX_BIGINT}e.u8=r,function(n){n.MAX=n(e.U8_MAX_BIGINT);function i(s,a){const l=s+a;return l>n.MAX?t.None:(0,t.Some)(n(l))}n.checkedAdd=i;function o(s,a){const l=s-a;return l<0n?t.None:(0,t.Some)(n(l))}n.checkedSub=o}(r||(e.u8=r={}))})(SO);var kO={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.u32=e.U32_MAX_BIGINT=void 0;const t=ro;e.U32_MAX_BIGINT=0xffffffffn;function r(n){return(typeof n=="bigint"?n:BigInt(n))&e.U32_MAX_BIGINT}e.u32=r,function(n){n.MAX=n(e.U32_MAX_BIGINT);function i(s,a){const l=s+a;return l>n.MAX?t.None:(0,t.Some)(n(l))}n.checkedAdd=i;function o(s,a){const l=s-a;return l<0n?t.None:(0,t.Some)(n(l))}n.checkedSub=o}(r||(e.u32=r={}))})(kO);var xO={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.u64=e.U64_MAX_BIGINT=void 0;const t=ro;e.U64_MAX_BIGINT=0xffffffffffffffffn;function r(n){return(typeof n=="bigint"?n:BigInt(n))&e.U64_MAX_BIGINT}e.u64=r,function(n){n.MAX=n(e.U64_MAX_BIGINT);function i(s,a){const l=s+a;return l>n.MAX?t.None:(0,t.Some)(n(l))}n.checkedAdd=i;function o(s,a){const l=s-a;return l<0n?t.None:(0,t.Some)(n(l))}n.checkedSub=o}(r||(e.u64=r={}))})(xO);var n0={},pw={};Object.defineProperty(pw,"__esModule",{value:!0});pw.SeekBuffer=void 0;class t5e{constructor(t){this.buffer=t,this.seekIndex=0}readUInt8(){if(!this.isFinished())return this.buffer.readUInt8(this.seekIndex++)}isFinished(){return this.seekIndex>=this.buffer.length}}pw.SeekBuffer=t5e;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAllU128=e.u128=e.U128_MAX_BIGINT=void 0;const t=ro,r=pw,n=xO,i=kO,o=SO;e.U128_MAX_BIGINT=0xffffffffffffffffffffffffffffffffn;function s(l){return(typeof l=="bigint"?l:BigInt(l))&e.U128_MAX_BIGINT}e.u128=s,function(l){l.MAX=l(e.U128_MAX_BIGINT);function c(re,K){const C=re+K;return C>l.MAX?t.None:(0,t.Some)(l(C))}l.checkedAdd=c;function u(re,K){const C=l.checkedAdd(re,K);if(C.isNone())throw new Error("checked add overflow");return C.unwrap()}l.checkedAddThrow=u;function h(re,K){const C=re-K;return C<0n?t.None:(0,t.Some)(l(C))}l.checkedSub=h;function g(re,K){const C=l.checkedSub(re,K);if(C.isNone())throw new Error("checked sub overflow");return C.unwrap()}l.checkedSubThrow=g;function k(re,K){const C=re*K;return C>l.MAX?t.None:(0,t.Some)(l(C))}l.checkedMultiply=k;function R(re,K){const C=re+K;return C>l.MAX?l.MAX:l(C)}l.saturatingAdd=R;function F(re,K){const C=re*K;return C>l.MAX?l.MAX:l(C)}l.saturatingMultiply=F;function D(re,K){return l(re<K?0:re-K)}l.saturatingSub=D;function $(re){try{return(0,t.Some)(B(re))}catch{return t.None}}l.decodeVarInt=$;function B(re){let K=l(0);for(let C=0;C<=18;C++){const G=re.readUInt8();if(G===void 0)throw new Error("Unterminated");const v=l(G)&127n;if(C===18&&(v&124n)!==0n)throw new Error("Overflow");if(K=l(K|v<<l(7*C)),!(G&128))return K}throw new Error("Overlong")}l.tryDecodeVarInt=B;function U(re){const K=[];for(;re>>7n>0n;)K.push(Number(re&0xffn)|128),re=l(re>>7n);return K.push(Number(re&0xffn)),Fe.from(K)}l.encodeVarInt=U;function q(re){return re>n.u64.MAX?t.None:(0,t.Some)((0,n.u64)(re))}l.tryIntoU64=q;function ee(re){return re>i.u32.MAX?t.None:(0,t.Some)((0,i.u32)(re))}l.tryIntoU32=ee;function ae(re){return re>o.u8.MAX?t.None:(0,t.Some)((0,o.u8)(re))}l.tryIntoU8=ae}(s||(e.u128=s={}));function*a(l){const c=new r.SeekBuffer(l);for(;!c.isFinished();){const u=s.tryDecodeVarInt(c);if(u===void 0)return;yield u}}e.getAllU128=a})(n0);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.u128=e.u64=e.u32=e.u8=void 0;var t=SO;Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return t.u8}});var r=kO;Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return r.u32}});var n=xO;Object.defineProperty(e,"u64",{enumerable:!0,get:function(){return n.u64}});var i=n0;Object.defineProperty(e,"u128",{enumerable:!0,get:function(){return i.u128}})})(Ai);var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.script=Nc.opcodes=void 0;var i0;(function(e){function t(i){return i<Sa.OP_PUSHDATA1?1:i<=255?2:i<=65535?3:5}e.encodingLength=t;function r(i,o,s){const a=t(o);return a===1?i.writeUInt8(o,s):a===2?(i.writeUInt8(Sa.OP_PUSHDATA1,s),i.writeUInt8(o,s+1)):a===3?(i.writeUInt8(Sa.OP_PUSHDATA2,s),i.writeUInt16LE(o,s+1)):(i.writeUInt8(Sa.OP_PUSHDATA4,s),i.writeUInt32LE(o,s+1)),a}e.encode=r;function n(i,o){const s=i.readUInt8(o);let a,l;if(s<Sa.OP_PUSHDATA1)a=s,l=1;else if(s===Sa.OP_PUSHDATA1){if(o+2>i.length)return null;a=i.readUInt8(o+1),l=2}else if(s===Sa.OP_PUSHDATA2){if(o+3>i.length)return null;a=i.readUInt16LE(o+1),l=3}else{if(o+5>i.length)return null;if(s!==Sa.OP_PUSHDATA4)throw new Error("Unexpected opcode");a=i.readUInt32LE(o+1),l=5}return{opcode:s,number:a,size:l}}e.decode=n})(i0||(i0={}));const Sa={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};Nc.opcodes=Sa;Sa.OP_RESERVED;function $C(e){return Fe.isBuffer(e)}var FC;(function(e){function t(n){const i=n.reduce((a,l)=>$C(l)?a+i0.encodingLength(l.length)+l.length:a+1,0),o=Fe.allocUnsafe(i);let s=0;if(n.forEach(a=>{$C(a)?(s+=i0.encode(o,a.length,s),a.copy(o,s),s+=a.length):(o.writeUInt8(a,s),s+=1)}),s!==o.length)throw new Error("Could not decode chunks");return o}e.compile=t;function*r(n){let i=0;for(;i<n.length;){const o=n[i];if(o>=Sa.OP_0&&o<=Sa.OP_PUSHDATA4){const s=i0.decode(n,i);if(s===null||(i+=s.size,i+s.number>n.length))return!1;const a=n.slice(i,i+s.number);i+=s.number,yield a}else yield o,i+=1}return!0}e.decompile=r})(FC||(Nc.script=FC={}));Object.defineProperty(kn,"__esModule",{value:!0});kn.TAPROOT_SCRIPT_PUBKEY_TYPE=kn.COMMIT_CONFIRMATIONS=kn.TAPROOT_ANNEX_PREFIX=kn.MAGIC_NUMBER=kn.OP_RETURN=kn.MAX_SCRIPT_ELEMENT_SIZE=kn.SUBSIDY_HALVING_INTERVAL=kn.RESERVED=kn.MAX_DIVISIBILITY=void 0;const OW=Ai,PW=Nc;kn.MAX_DIVISIBILITY=(0,OW.u8)(38);kn.RESERVED=(0,OW.u128)(6402364363415443603228541259936211926n);kn.SUBSIDY_HALVING_INTERVAL=21e4;kn.MAX_SCRIPT_ELEMENT_SIZE=520;kn.OP_RETURN=PW.opcodes.OP_RETURN;kn.MAGIC_NUMBER=PW.opcodes.OP_13;kn.TAPROOT_ANNEX_PREFIX=80;kn.COMMIT_CONFIRMATIONS=6;kn.TAPROOT_SCRIPT_PUBKEY_TYPE="witness_v1_taproot";var sm={};Object.defineProperty(sm,"__esModule",{value:!0});var TW=sm.ProtoruneRuneId=void 0;const Hu=ro,Ku=Ai;class o0{constructor(t,r){this.block=t,this.tx=r}static new(t,r){const n=new o0(t,r);return n.block===(0,Ku.u128)(0)&&n.tx>(0,Ku.u128)(0)?Hu.None:(0,Hu.Some)(n)}static sort(t){return[...t].sort((r,n)=>Number(r.block-n.block||r.tx-n.tx))}delta(t){const r=Ku.u128.checkedSub(t.block,this.block);if(r.isNone())return Hu.None;const n=r.unwrap();let i;if(n===0n){const o=Ku.u128.checkedSub(t.tx,this.tx);if(o.isNone())return Hu.None;i=o.unwrap()}else i=t.tx;return(0,Hu.Some)([(0,Ku.u128)(n),(0,Ku.u128)(i)])}next(t,r){const n=(0,Hu.Some)(t),i=(0,Hu.Some)(r);if(n.isNone()||i.isNone())return Hu.None;const o=n.unwrap(),s=i.unwrap(),a=Ku.u128.checkedAdd(this.block,o);if(a.isNone())return Hu.None;let l;if(o===0n){const c=Ku.u128.checkedAdd(this.tx,s);if(c.isNone())return Hu.None;l=c.unwrap()}else l=s;return o0.new(a.unwrap(),l)}toString(){return`${this.block}:${this.tx}`}static fromString(t){const r=t.split(":");if(r.length!==2)throw new Error(`invalid rune ID: ${t}`);const[n,i]=r;if(!/^\d+$/.test(n)||!/^\d+$/.test(i))throw new Error(`invalid rune ID: ${t}`);return new o0((0,Ku.u128)(BigInt(n)),(0,Ku.u128)(BigInt(i)))}}TW=sm.ProtoruneRuneId=o0;var am={};Object.defineProperty(am,"__esModule",{value:!0});am.Etching=void 0;const DC=ro,rb=Ai;class r5e{constructor(t,r,n,i,o,s,a){this.divisibility=t,this.rune=r,this.spacers=n,this.terms=o,this.premine=s,this.turbo=a,this.symbol=i.andThen(l=>{const c=l.codePointAt(0);return c!==void 0?(0,DC.Some)(String.fromCodePoint(c)):DC.None})}get supply(){const t=this.premine.unwrapOr((0,rb.u128)(0)),r=this.terms.andThen(i=>i.cap).unwrapOr((0,rb.u128)(0)),n=this.terms.andThen(i=>i.amount).unwrapOr((0,rb.u128)(0));return rb.u128.checkedMultiply(r,n).andThen(i=>rb.u128.checkedAdd(t,i))}}am.Etching=r5e;var hp={};Object.defineProperty(hp,"__esModule",{value:!0});hp.Tag=void 0;const a3=ro,Wp=Ai;var x1;(function(e){e[e.BODY=0]="BODY",e[e.FLAGS=2]="FLAGS",e[e.RUNE=4]="RUNE",e[e.PREMINE=6]="PREMINE",e[e.CAP=8]="CAP",e[e.AMOUNT=10]="AMOUNT",e[e.HEIGHT_START=12]="HEIGHT_START",e[e.HEIGHT_END=14]="HEIGHT_END",e[e.OFFSET_START=16]="OFFSET_START",e[e.OFFSET_END=18]="OFFSET_END",e[e.MINT=20]="MINT",e[e.POINTER=22]="POINTER",e[e.CENOTAPH=126]="CENOTAPH",e[e.DIVISIBILITY=1]="DIVISIBILITY",e[e.SPACERS=3]="SPACERS",e[e.SYMBOL=5]="SYMBOL",e[e.NOP=127]="NOP"})(x1||(hp.Tag=x1={}));(function(e){function t(i,o,s,a){const l=o.get((0,Wp.u128)(i));if(l===void 0)return a3.None;const c=[];for(const h of[...Array(s).keys()]){if(l[h]===void 0)return a3.None;c[h]=l[h]}const u=a(c);return u.isNone()?a3.None:(l.splice(0,s),l.length===0&&o.delete((0,Wp.u128)(i)),(0,a3.Some)(u.unwrap()))}e.take=t;function r(i,o){return Fe.concat(o.map(s=>[Wp.u128.encodeVarInt((0,Wp.u128)(i)),Wp.u128.encodeVarInt(s)]).flat())}e.encode=r;function n(i,o){return o.map(s=>e.encode(i,[(0,Wp.u128)(s)])).unwrapOr(Fe.alloc(0))}e.encodeOptionInt=n})(x1||(hp.Tag=x1={}));var um={};Object.defineProperty(um,"__esModule",{value:!0});um.Tag=void 0;const qp=Ai,u3=ro;var A1;(function(e){e[e.BODY=0]="BODY",e[e.PROTOCOL=16383]="PROTOCOL",e[e.MESSAGE=81]="MESSAGE",e[e.BURN=83]="BURN",e[e.SPLIT=85]="SPLIT",e[e.POINTER=91]="POINTER",e[e.REFUND=93]="REFUND",e[e.FROM=95]="FROM",e[e.CENOTAPH=126]="CENOTAPH",e[e.NOP=127]="NOP"})(A1||(um.Tag=A1={}));(function(e){function t(i,o,s,a){const l=o.get((0,qp.u128)(i));if(l===void 0)return u3.None;const c=[];for(const h of[...Array(s).keys()]){if(l[h]===void 0)return u3.None;c[h]=l[h]}const u=a(c);return u.isNone()?u3.None:(l.splice(0,s),l.length===0&&o.delete((0,qp.u128)(i)),(0,u3.Some)(u.unwrap()))}e.take=t;function r(i,o){return Fe.concat(o.map(s=>[qp.u128.encodeVarInt((0,qp.u128)(i)),qp.u128.encodeVarInt(s)]).flat())}e.encode=r;function n(i,o){return o.map(s=>e.encode(i,[(0,qp.u128)(s)])).unwrapOr(Fe.alloc(0))}e.encodeOptionInt=n})(A1||(um.Tag=A1={}));var lm={};Object.defineProperty(lm,"__esModule",{value:!0});lm.Flag=void 0;const PS=Ai;var O1;(function(e){e[e.ETCHING=0]="ETCHING",e[e.TERMS=1]="TERMS",e[e.TURBO=2]="TURBO",e[e.CENOTAPH=127]="CENOTAPH"})(O1||(lm.Flag=O1={}));(function(e){function t(i){return(0,PS.u128)(1n<<BigInt(i))}e.mask=t;function r(i,o){const s=e.mask(o),a=(i&s)!==0n;return{set:a,flags:a?(0,PS.u128)(i-s):i}}e.take=r;function n(i,o){return(0,PS.u128)(i|e.mask(o))}e.set=n})(O1||(lm.Flag=O1={}));var cm={},fm={},pp={};Object.defineProperty(pp,"__esModule",{value:!0});pp.Network=void 0;const l3=kn;var P1;(function(e){e[e.MAINNET=0]="MAINNET",e[e.SIGNET=1]="SIGNET",e[e.TESTNET=2]="TESTNET",e[e.REGTEST=3]="REGTEST"})(P1||(pp.Network=P1={}));(function(e){function t(r){switch(r){case e.MAINNET:return l3.SUBSIDY_HALVING_INTERVAL*4;case e.REGTEST:return l3.SUBSIDY_HALVING_INTERVAL*0;case e.SIGNET:return l3.SUBSIDY_HALVING_INTERVAL*0;case e.TESTNET:return l3.SUBSIDY_HALVING_INTERVAL*12}}e.getFirstRuneHeight=t})(P1||(pp.Network=P1={}));Object.defineProperty(fm,"__esModule",{value:!0});fm.Rune=void 0;const n5e=pp,c3=kn,Ht=Ai;class ou{constructor(t){this.value=t}static getMinimumAtHeight(t,r){let n=Ht.u128.saturatingAdd(r,(0,Ht.u128)(1));const i=(0,Ht.u128)(c3.SUBSIDY_HALVING_INTERVAL/12);let o=(0,Ht.u128)(n5e.Network.getFirstRuneHeight(t)),s=Ht.u128.saturatingAdd(o,(0,Ht.u128)(c3.SUBSIDY_HALVING_INTERVAL));if(n<o)return new ou(ou.STEPS[12]);if(n>=s)return new ou((0,Ht.u128)(0));let a=Ht.u128.saturatingSub(n,o),l=Ht.u128.saturatingSub((0,Ht.u128)(12n),(0,Ht.u128)(a/i)),c=Number(l&(0,Ht.u128)(Ht.u32.MAX)),u=ou.STEPS[c],h=ou.STEPS[c-1],g=(0,Ht.u128)(a%i);return new ou((0,Ht.u128)(u-(u-h)*g/i))}get reserved(){return this.value>=c3.RESERVED}get commitment(){const t=Fe.alloc(16);t.writeBigUInt64LE(0xffffffffffffffffn&this.value,0),t.writeBigUInt64LE(this.value>>64n,8);let r=t.length;for(;r>0&&t.at(r-1)===0;)r--;return t.subarray(0,r)}static getReserved(t,r){return new ou(Ht.u128.checkedAdd(c3.RESERVED,(0,Ht.u128)(t<<32n|r)).unwrap())}toString(){let t=this.value;if(t===Ht.u128.MAX)return"BCGDENLQRQWDSLRUGSNLBTMFIJAV";t=(0,Ht.u128)(t+1n);let r="";for(;t>0;)r="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Number((t-1n)%26n)]+r,t=(0,Ht.u128)((t-1n)/26n);return r}static fromString(t){let r=(0,Ht.u128)(0);for(const n of[...Array(t.length).keys()]){const i=t[n];if(n>0&&(r=(0,Ht.u128)(r+1n)),r=Ht.u128.checkedMultiply(r,(0,Ht.u128)(26)).unwrap(),"A"<=i&&i<="Z")r=Ht.u128.checkedAdd(r,(0,Ht.u128)(i.charCodeAt(0)-65)).unwrap();else throw new Error(`invalid character in rune name: ${i}`)}return new ou(r)}}fm.Rune=ou;ou.STEPS=[(0,Ht.u128)(0n),(0,Ht.u128)(26n),(0,Ht.u128)(702n),(0,Ht.u128)(18278n),(0,Ht.u128)(475254n),(0,Ht.u128)(12356630n),(0,Ht.u128)(321272406n),(0,Ht.u128)(8353082582n),(0,Ht.u128)(217180147158n),(0,Ht.u128)(5646683826134n),(0,Ht.u128)(146813779479510n),(0,Ht.u128)(3817158266467286n),(0,Ht.u128)(99246114928149462n),(0,Ht.u128)(2580398988131886038n),(0,Ht.u128)(67090373691429037014n),(0,Ht.u128)(1744349715977154962390n),(0,Ht.u128)(45353092615406029022166n),(0,Ht.u128)(1179180408000556754576342n),(0,Ht.u128)(30658690608014475618984918n),(0,Ht.u128)(797125955808376366093607894n),(0,Ht.u128)(20725274851017785518433805270n),(0,Ht.u128)(538857146126462423479278937046n),(0,Ht.u128)(14010285799288023010461252363222n),(0,Ht.u128)(364267430781488598271992561443798n),(0,Ht.u128)(9470953200318703555071806597538774n),(0,Ht.u128)(246244783208286292431866971536008150n),(0,Ht.u128)(6402364363415443603228541259936211926n),(0,Ht.u128)(166461473448801533683942072758341510102n)];Object.defineProperty(cm,"__esModule",{value:!0});cm.SpacedRune=void 0;const i5e=fm;class AO{constructor(t,r){this.rune=t,this.spacers=r}static fromString(t){let r="",n=0;for(const i of t)if("A"<=i&&i<="Z")r+=i;else if(i==="."||i===""){if(r.length===0)throw new Error("leading spacer");const o=1<<r.length-1;if(n&o)throw new Error("double spacer");n|=o}else throw new Error("invalid character");if(n>=1<<r.length-1)throw new Error("trailing spacer");return new AO(i5e.Rune.fromString(r),n)}toString(){const t=this.rune.toString();let r=0,n="";for(const i of t)n+=i,r<t.length-1&&this.spacers&1<<r&&(n+=""),r++;return n}}cm.SpacedRune=AO;Object.defineProperty(gs,"__esModule",{value:!0});gs.RunestoneProtostoneUpgrade=gs.MAX_U128_BYTES_COMPAT_W_RUNES=gs.MAX_LEB128_BYTES_IN_U128=gs.MAX_SPACERS=void 0;gs.isValidPayload=l5e;gs.encodeOptionInt=js;gs.encodeRunestoneProtostone=f5e;const Rg=kn,fk=sm,o5e=am,yo=hp,s5e=um,bn=Ai,Wr=ro,Zp=lm,a5e=Nc,u5e=cm,TS=nn;gs.MAX_SPACERS=134217727;function l5e(e){return Fe.isBuffer(e)}function js(e,t,r){r.isSome()&&(e.push(t),e.push(r.unwrap()))}gs.MAX_LEB128_BYTES_IN_U128=18;gs.MAX_U128_BYTES_COMPAT_W_RUNES=15;class IW{constructor(t,r,n,i,o){this.mint=t,this.pointer=r,this.edicts=n,this.etching=i,this.protostones=o}encipher(){const t=[];if(this.etching.isSome()){const i=this.etching.unwrap();let o=(0,bn.u128)(0);if(o=Zp.Flag.set(o,Zp.Flag.ETCHING),i.terms.isSome()&&(o=Zp.Flag.set(o,Zp.Flag.TERMS)),i.turbo&&(o=Zp.Flag.set(o,Zp.Flag.TURBO)),t.push(yo.Tag.FLAGS),t.push(o),js(t,yo.Tag.RUNE,i.rune.map(s=>s.value)),js(t,yo.Tag.DIVISIBILITY,i.divisibility.map(bn.u128)),js(t,yo.Tag.SYMBOL,i.spacers.map(bn.u128)),js(t,yo.Tag.SYMBOL,i.symbol.map(s=>(0,bn.u128)(s.codePointAt(0)))),js(t,yo.Tag.PREMINE,i.premine),i.terms.isSome()){const s=i.terms.unwrap();js(t,yo.Tag.AMOUNT,s.amount),js(t,yo.Tag.CAP,s.cap),js(t,yo.Tag.HEIGHT_START,s.height[0]),js(t,yo.Tag.HEIGHT_END,s.height[1]),js(t,yo.Tag.OFFSET_START,s.offset[0]),js(t,yo.Tag.OFFSET_END,s.offset[1])}}if(this.mint.isSome()){const i=this.mint.unwrap();t.push(yo.Tag.MINT),t.push((0,bn.u128)(i.block)),t.push(yo.Tag.MINT),t.push((0,bn.u128)(i.tx))}if(js(t,yo.Tag.POINTER,this.pointer.map(bn.u128)),this.protostones.length){let i=[];this.protostones.forEach(o=>{o.encipher_payloads().forEach(s=>i.push(s))}),(0,TS.unpack)((0,TS.encipher)(i)).forEach(o=>{t.push((0,bn.u128)(s5e.Tag.PROTOCOL)),t.push((0,bn.u128)(o))})}if(this.edicts.length){t.push((0,bn.u128)(yo.Tag.BODY));const i=[...this.edicts].sort((s,a)=>Number(s.id.block-a.id.block||s.id.tx-a.id.tx));let o=new fk.ProtoruneRuneId((0,bn.u128)(0),(0,bn.u128)(0));for(const s of i){const[a,l]=o.delta(s.id).unwrap();t.push(a),t.push(l),t.push(s.amount),t.push((0,bn.u128)(s.output)),o=s.id}}const r=[];r.push(Rg.OP_RETURN),r.push(Rg.MAGIC_NUMBER);const n=(0,TS.encipher)(t);for(let i=0;i<n.length;i+=Rg.MAX_SCRIPT_ELEMENT_SIZE)r.push(n.subarray(i,i+Rg.MAX_SCRIPT_ELEMENT_SIZE));return a5e.script.compile(r)}}gs.RunestoneProtostoneUpgrade=IW;const c5e=e=>{const t=BigInt(e);if(t<0n||t>bn.u8.MAX)throw Error("u8 overflow");return(0,bn.u8)(t)},HC=e=>{const t=BigInt(e);if(t<0n||t>bn.u32.MAX)throw Error("u32 overflow");return(0,bn.u32)(t)},f3=e=>{const t=BigInt(e);if(t<0n||t>bn.u64.MAX)throw Error("u64 overflow");return(0,bn.u64)(t)},d3=e=>{const t=BigInt(e);if(t<0n||t>bn.u128.MAX)throw Error("u128 overflow");return(0,bn.u128)(t)};function f5e(e){const t=e.mint?(0,Wr.Some)(new fk.ProtoruneRuneId((0,bn.u128)(e.mint.block),(0,bn.u128)(e.mint.tx))):Wr.None,r=e.pointer!==void 0?(0,Wr.Some)(e.pointer).map(HC):Wr.None,n=(e.edicts??[]).map(a=>({id:new fk.ProtoruneRuneId((0,bn.u128)(a.id.block),(0,bn.u128)(a.id.tx)),amount:d3(a.amount),output:a.output})),i=e.protostones??[];let o=Wr.None,s;if(e.etching){const a=e.etching,l=a.runeName?u5e.SpacedRune.fromString(a.runeName):void 0,c=(l==null?void 0:l.rune)!==void 0?(0,Wr.Some)(l.rune):Wr.None;if(a.symbol&&!(a.symbol.length===1||a.symbol.length===2&&a.symbol.codePointAt(0)>=65536))throw Error("Symbol must be one code point");const u=a.divisibility!==void 0?(0,Wr.Some)(a.divisibility).map(c5e):Wr.None,h=a.premine!==void 0?(0,Wr.Some)(a.premine).map(d3):Wr.None,g=(l==null?void 0:l.spacers)!==void 0&&l.spacers!==0?(0,Wr.Some)(HC(l.spacers)):Wr.None,k=a.symbol?(0,Wr.Some)(a.symbol):Wr.None;if(u.isSome()&&u.unwrap()>Rg.MAX_DIVISIBILITY)throw Error(`Divisibility is greater than protocol max ${Rg.MAX_DIVISIBILITY}`);let R=Wr.None;if(a.terms){const D=a.terms,$=D.amount!==void 0?(0,Wr.Some)(D.amount).map(d3):Wr.None,B=D.cap!==void 0?(0,Wr.Some)(D.cap).map(d3):Wr.None,U=D.height?[D.height.start!==void 0?(0,Wr.Some)(D.height.start).map(f3):Wr.None,D.height.end!==void 0?(0,Wr.Some)(D.height.end).map(f3):Wr.None]:[Wr.None,Wr.None],q=D.offset?[D.offset.start!==void 0?(0,Wr.Some)(D.offset.start).map(f3):Wr.None,D.offset.end!==void 0?(0,Wr.Some)(D.offset.end).map(f3):Wr.None]:[Wr.None,Wr.None];if($.isSome()&&B.isSome()&&$.unwrap()*B.unwrap()>bn.u128.MAX)throw Error("Terms overflow with amount times cap");R=(0,Wr.Some)({amount:$,cap:B,height:U,offset:q})}const F=a.turbo??!1;o=(0,Wr.Some)(new o5e.Etching(u,c,g,k,R,h,F)),s=c.isSome()?c.unwrap().commitment:void 0}return{encodedRunestone:new IW(t,r,n,o,i).encipher(),etchingCommitment:s}}var gw={};Object.defineProperty(gw,"__esModule",{value:!0});gw.ProtoStone=void 0;const qn=Ai,Gp=um,IS=ro,d5e=sm,h5e=nn;class s0{constructor({burn:t,message:r,protocolTag:n,edicts:i}){this.protocolTag=(0,qn.u128)(n),this.edicts=i,t&&(this.burn={pointer:(0,IS.Some)((0,qn.u32)(t.pointer)),from:t.from}),r&&(this.message={calldata:r.calldata,pointer:(0,IS.Some)((0,qn.u32)(r.pointer)),refundPointer:(0,IS.Some)((0,qn.u32)(r.refundPointer))})}encipher_payloads(){let t=[];if(this.burn?(t.push((0,qn.u128)(Gp.Tag.POINTER)),t.push(this.burn.pointer.map(qn.u128).unwrap()),this.burn.from&&(t.push((0,qn.u128)(Gp.Tag.FROM)),t.push(this.burn.from.map(qn.u128)[0]))):this.message&&(this.message.pointer.isSome()&&(t.push((0,qn.u128)(Gp.Tag.POINTER)),t.push((0,qn.u128)(this.message.pointer.map(qn.u128).unwrap()))),this.message.refundPointer.isSome()&&(t.push((0,qn.u128)(Gp.Tag.REFUND)),t.push((0,qn.u128)(this.message.refundPointer.map(qn.u128).unwrap()))),this.message.calldata.length&&(0,h5e.unpack)(this.message.calldata).forEach(n=>{t.push((0,qn.u128)(Gp.Tag.MESSAGE)),t.push((0,qn.u128)(n))})),this.edicts&&this.edicts.length){t.push((0,qn.u128)(Gp.Tag.BODY));const n=[...this.edicts].sort((o,s)=>Number(o.id.block-s.id.block||o.id.tx-s.id.tx));let i=new d5e.ProtoruneRuneId((0,qn.u128)(0),(0,qn.u128)(0));for(const o of n){const[s,a]=i.delta(o.id).unwrap();t.push(s),t.push(a),t.push(o.amount),t.push((0,qn.u128)(o.output)),i=o.id}}const r=t.length;return t.unshift((0,qn.u128)(r)),t.unshift((0,qn.u128)(this.protocolTag)),t}static burn({protocolTag:t,edicts:r,...n}){return new s0({burn:n,protocolTag:t,edicts:r})}static message({protocolTag:t,edicts:r,...n}){return new s0({message:n,protocolTag:t,edicts:r})}static edicts({protocolTag:t,edicts:r}){return new s0({edicts:r,protocolTag:t})}}gw.ProtoStone=s0;var p5e=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g5e=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BW=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&p5e(t,e,r);return g5e(t,e),t};Object.defineProperty(cO,"__esModule",{value:!0});var NW=cO.AlkanesRpc=void 0;const Vu=BW(Nl),Rs=BW(Vn),Xp=Os,y5e=X6,KC=fp,m5e=gs,h3=Ai,b5e=sm,v5e=gw,w5e=nn;let E5e=class extends y5e.BaseRpc{async getbytecode({block:e,tx:t},r="latest"){return await this._call({method:"getbytecode",input:Rs.encodeGetBytecodeRequest({block:e,tx:t})},r)}async getblock(e,t="latest"){return Rs.decodeBlockResponse(await this._call({method:"getblock",input:Rs.encodeBlockRequest({height:e})},t))}async protorunesbyaddress({address:e,protocolTag:t},r="latest"){const n=Vu.encodeProtorunesWalletInput(e,t),i=await this._call({method:"protorunesbyaddress",input:n},r);return console.log(i),Vu.decodeWalletOutput(i)}async transactionbyid({txid:e},t="latest"){const r=Vu.encodeTransactionId(e),n=await this._call({method:"transactionbyid",input:r},t);return Vu.decodeTransactionResult(n)}async spendablesbyaddress({address:e,protocolTag:t},r="latest"){const n=Vu.encodeProtorunesWalletInput(e,t),i=await this._call({method:"spendablesbyaddress",input:n},r);return Vu.decodeWalletOutput(i)}async runesbyaddress({address:e},t="latest"){const r=Vu.encodeWalletInput(e),n=await this._call({method:"runesbyaddress",input:r},t);return Vu.decodeWalletOutput(n)}async runesbyheight({height:e},t="latest"){const r=(0,Xp.encodeBlockHeightInput)(e),n=await this._call({method:"runesbyheight",input:r},t);return(0,Xp.decodeRunesResponse)(n)}async protorunesbyheight({height:e,protocolTag:t},r="latest"){const n=(0,Xp.encodeProtorunesByHeightInput)(e,t),i=await this._call({method:"protorunesbyheight",input:n},r);return(0,Xp.decodeRunesResponse)(i)}async protorunesbyoutpoint({txid:e,vout:t,protocolTag:r},n="latest"){const i="0x"+Fe.from(new KC.protorune.OutpointWithProtocol({protocol:(0,w5e.toUint128)(r),txid:Fe.from(e,"hex"),vout:t}).serializeBinary()).toString("hex");return Rs.decodeOutpointResponse(await this._call({method:"protorunesbyoutpoint",input:i},n))}async runesbyoutpoint({txid:e,vout:t},r="latest"){const n="0x"+Fe.from(new KC.protorune.Outpoint({txid:Fe.from(e,"hex"),vout:t}).serializeBinary()).toString("hex");return Rs.decodeOutpointResponse(await this._call({method:"protorunesbyoutpoint",input:n},r))}async alkanesidtooutpoint({block:e,tx:t},r="latest"){const n=(0,Xp.encodeAlkanesIdToOutpointInput)(e,t),i=await this._call({method:"alkanes_id_to_outpoint",input:n},r);return(0,Xp.decodeAlkanesIdToOutpointResponse)(i)}async traceblock({block:e},t="latest"){const r=Rs.encodeTraceBlockRequest({block:e}),n=await this._call({method:"traceblock",input:r},t);return Rs.decodeTraceBlockResponse(n)}async trace({txid:e,vout:t},r="latest"){const n=Rs.encodeTraceRequest({txid:e,vout:t}),i=await this._call({method:"trace",input:n},r);return Rs.decodeTraceResponse(i)}async simulate({alkanes:e,transaction:t,height:r,block:n,txindex:i,target:o,inputs:s,vout:a,pointer:l,refundPointer:c},u="latest"){const h=Rs.encodeSimulateRequest({alkanes:e,transaction:t,height:r,txindex:i,target:o,block:n,inputs:s,vout:a,pointer:l,refundPointer:c}),g=await this._call({method:"simulate",input:h},u);return Rs.decodeSimulateResponse(g)}async meta({alkanes:e,transaction:t,height:r,block:n,txindex:i,target:o,inputs:s,vout:a,pointer:l,refundPointer:c},u="latest"){const h=Rs.encodeSimulateRequest({alkanes:e,transaction:t,height:r,txindex:i,target:o,block:n,inputs:s,vout:a,pointer:l,refundPointer:c}),g=await this._call({method:"meta",input:h},u);return Rs.decodeMetaResponse(g)}async runtime({protocolTag:e},t="latest"){const r=Vu.encodeRuntimeInput(e),n=await this._call({method:"protorunesbyaddress",input:r},t);return Vu.decodeRuntimeOutput(n)}async pack({runes:e,cellpack:t,pointer:r,refundPointer:n,edicts:i}){const o=new v5e.ProtoStone({message:{calldata:t,pointer:r,refundPointer:n},protocolTag:BigInt(1),edicts:i});return(0,m5e.encodeRunestoneProtostone)({edicts:e.map(s=>({id:new b5e.ProtoruneRuneId((0,h3.u128)(s.id.block),(0,h3.u128)(s.id.tx)),output:(0,h3.u32)(2),amount:(0,h3.u128)(s.value)})),pointer:3,protostones:[o]}).encodedRunestone}};NW=cO.AlkanesRpc=E5e;class _5e{constructor(){vt(this,"override"),this.override=null}set(t){this.override=t}exists(){return this.override!==null}get(){return this.override}}const VC=new _5e,S5e=e=>e.substr(0,2)==="0x"?e.substr(2):e;let k5e=0;function dk(e){switch(typeof e){case"bigint":return"0x"+e.toString(16);case"object":return e===null?null:Fe.isBuffer(e)?"0x"+e.toString("hex"):Array.isArray(e)?e.map(t=>dk(t)):Object.fromEntries(Object.entries(e).map(([t,r])=>[t,dk(r)]));default:return e}}function hk(e){switch(typeof e){case"string":return e!=="0x"&&!isNaN(e)?BigInt(e):e.substr(0,2)==="0x"||/^[0-9a-f]+$/.test(e)?Fe.from(S5e(e),"hex"):e;case"object":return e===null?null:Array.isArray(e)?e.map(t=>hk(t)):Object.fromEntries(Object.entries(e).map(([t,r])=>[t,hk(r)]));default:return e}}const BS=["99","100","101","102","103","104","1000"],Qp=["name","symbol","totalSupply","cap","minted","mintAmount","data"];class WC{constructor(t){vt(this,"alkanesUrl"),this.alkanesUrl=t}async _metashrewCall(t,r=[]){const n=new NW({baseUrl:VC.get()});return dk(await n[t.split("_")[1]](hk(r[0]||{})))}async _call(t,r=[]){if(VC.get()!==null&&t.match("alkanes_"))return await this._metashrewCall(t,r);const n={jsonrpc:"2.0",method:t,params:r,id:k5e++},i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),cache:"no-cache"};try{const o=await(await fetch(this.alkanesUrl,i)).json();if(o.error)throw new Error(o.error.message);return o.result}catch(o){throw o instanceof Error&&o.name==="AbortError"?(console.error("Request Timeout:",o),new Error("Request timed out")):(console.error("Request Error:",o),o)}}async metashrewHeight(){return await this._call("metashrew_height",[])}async getAlkanesByHeight({height:t,protocolTag:r="1"}){return await this._call("alkanes_protorunesbyheight",[{height:t,protocolTag:r}])}async getAlkanesByAddress({address:t,protocolTag:r="1"}){try{return(await this._call("alkanes_protorunesbyaddress",[{address:t,protocolTag:r}])).outpoints.filter(n=>n.runes.length>0).map(n=>({...n,outpoint:{vout:n.outpoint.vout,txid:Fe.from(n.outpoint.txid,"hex").reverse().toString("hex")},runes:n.runes.map(i=>({...i,balance:parseInt(i.balance,16).toString(),rune:{...i.rune,id:{block:parseInt(i.rune.id.block,16).toString(),tx:parseInt(i.rune.id.tx,16).toString()}}}))}))}catch(n){throw console.error("Error in getAlkanesByAddress:",n),n}}async trace(t){return t.txid=Fe.from(t.txid,"hex").reverse().toString("hex"),await await this._call("alkanes_trace",[t])}parsePoolInfo(t){function r(i){if(i.startsWith("0x")&&(i=i.slice(2)),i.length%32!==0)throw new Error("Invalid hex length. Expected multiples of 128-bit (32 hex chars).");const o=s=>{var a,l;const c=(l=(a=s.match(/.{2}/g))==null?void 0:a.reverse())==null?void 0:l.join("");if(!c)throw new Error("Failed to process hex segment.");return BigInt("0x"+c)};return(i.match(/.{32}/g)||[]).map(o).map(s=>s.toString())}const n=r(t);return{tokenA:{block:n[0],tx:n[1]},tokenB:{block:n[2],tx:n[3]},reserveA:n[4],reserveB:n[5]}}async simulate(t,r){var n;const i=await this._call("alkanes_simulate",[{alkanes:[],transaction:"0x",block:"0x",height:"20000",txindex:0,inputs:[],pointer:0,refundPointer:0,vout:0,...t}]);if(r){const o=Number((n=t.inputs)==null?void 0:n[0]);i.parsed=r(i,o)}else i.parsed=this.parseSimulateReturn(i.execution.data);return i}async simulatePoolInfo(t){const r=await this._call("alkanes_simulate",[t]),n=this.parsePoolInfo(r.execution.data);return r.parsed=n,r}async getAlkanesByOutpoint({txid:t,vout:r,protocolTag:n="1",height:i="latest"}){return(await this._call("alkanes_protorunesbyoutpoint",[{txid:Fe.from(t,"hex").reverse().toString("hex"),vout:r,protocolTag:n},i])).map(o=>({...o,token:{...o.token,id:{block:parseInt(o.token.id.block,16).toString(),tx:parseInt(o.token.id.tx,16).toString()}},value:parseInt(o.value,16).toString()}))}async getAlkaneById({block:t,tx:r}){var n,i;const o={id:{block:t,tx:r},data:"",name:"",mintActive:!1,percentageMinted:0,symbol:"",totalSupply:0,cap:0,minted:0,mintAmount:0};for(let s=0;s<BS.length;s++)try{const a=await this.simulate({target:{block:t,tx:r},alkanes:[],transaction:"0x",block:"0x",height:"20000",txindex:0,inputs:[BS[s]],pointer:0,refundPointer:0,vout:0});a.status===0&&(o[Qp[s]]=Number(((n=a.parsed)==null?void 0:n.le)||0),(Qp[s]==="name"||Qp[s]==="symbol"||Qp[s]==="data")&&(o[Qp[s]]=((i=a.parsed)==null?void 0:i.string)||""),o.mintActive=Number(o.minted)<Number(o.cap),o.percentageMinted=Math.floor(o.minted/o.cap*100))}catch(a){console.log(a)}return o}async getAlkanes({limit:t,offset:r=0}){if(t>1e3)throw new Error("Max limit reached. Request fewer than 1000 alkanes per call");const n=Array.from({length:t},(s,a)=>a+r),i=async s=>{const a={id:{block:"2",tx:s.toString()}};let l=!1;const c=BS.filter(u=>u!==void 0);try{if((await Promise.all(c.map(async(u,h)=>{if(!u)return null;try{const g=await this.simulate({target:{block:"2",tx:s.toString()},alkanes:[],transaction:"0x",block:"0x",height:"20000",txindex:0,inputs:[u],pointer:0,refundPointer:0,vout:0});if((g==null?void 0:g.status)===0)return{opcode:u,result:g,opcodeIndex:h,opcodeHRV:Qp[h]}}catch{return null}}))).filter(u=>u!=null&&u.opcodeHRV!==void 0).forEach(({result:u,opcodeHRV:h})=>{var g,k;h&&(["name","symbol","data"].includes(h)?a[h]=((g=u.parsed)==null?void 0:g.string)||"":a[h]=Number(((k=u.parsed)==null?void 0:k.le)||0),l=!0)}),l)return a.mintActive=Number(a.minted||0)<Number(a.cap||0),a.percentageMinted=Math.floor((a.minted||0)/(a.cap||1)*100),a}catch(u){return console.log(`Error processing alkane at index ${s}:`,u),null}return null},o=[];for await(const s of H8e(10,n,i))s!==null&&o.push(s);return o}async meta(t){return await this._call("alkanes_meta",[{alkanes:[],transaction:"0x",block:"0x",height:"0x",txindex:0,inputs:[],pointer:0,refundPointer:0,vout:0,...t}])}parseSimulateReturn(t){if(t==="0x")return;const r=o=>o.startsWith("0x")?o.slice(2):o,n=o=>"0x"+r(o);let i;try{if(i=Fe.from(r(t),"hex").toString("utf8"),/[\uFFFD]/.test(i))throw new Error("Invalid UTF-8 string")}catch{i=n(t)}return{string:i,bytes:n(t),le:BigInt(n(Fe.from(Array.from(Fe.from(r(t),"hex")).reverse()).toString("hex"))).toString(),be:BigInt(n(t)).toString()}}}function x5e({block:e,tx:t}){return`${e}:${t}`}class A5e{constructor(t,r){vt(this,"apiUrl",""),vt(this,"apiKey",""),vt(this,"networks"),vt(this,"alkanesRpc"),vt(this,"network"),this.networks={mainnet:{apiUrl:Mg("mainnet"),apiKey:(r==null?void 0:r.apiKey)||Wg},signet:{apiUrl:Mg("signet"),apiKey:(r==null?void 0:r.apiKey)||Wg},oylnet:{apiUrl:Mg("oylnet"),apiKey:(r==null?void 0:r.apiKey)||"regtest"},...r==null?void 0:r.networks},this.setNetwork(t),this.alkanesRpc=new WC(`${this.apiUrl}/${this.apiKey}`),this.network=t}getName(){return Uce}setNetwork(t){if(this.networks[t])this.apiUrl=this.networks[t].apiUrl,this.apiKey=this.networks[t].apiKey;else{const r=t===mt.TESTNET||t===mt.TESTNET4||t===mt.SIGNET||t===mt.FRACTAL_TESTNET?mt.SIGNET:mt.MAINNET;this.networks[r]?(this.apiUrl=this.networks[r].apiUrl,this.apiKey=this.networks[r].apiKey):(this.apiUrl=Mg(t),this.apiKey=Wg)}this.alkanesRpc=new WC(`${this.apiUrl}/${this.apiKey}`),this.network=t}async call(t,r){console.log("SandshrewDataSource.call",t,r),console.log("SandshrewDataSource.apiUrl",this.apiUrl),console.log("SandshrewDataSource.apiKey",this.apiKey);try{const n=`${this.apiUrl}/${this.apiKey}`;return(await cn.post(n,{jsonrpc:"2.0",id:t,method:t,params:r},{headers:{"Content-Type":"application/json"}})).data}catch(n){throw console.error("SandshrewDataSource.callRPC error:",n),n}}async multicall(t){return(await this.call("sandshrew_multicall",t)).result}async getAlkanesByAddress(t){return await this.alkanesRpc.getAlkanesByAddress({address:t})}async getAddressBtcBalance(t){const r=(await this.call("esplora_address",[t])).result;return(BigInt(r.chain_stats.funded_txo_sum)-BigInt(r.chain_stats.spent_txo_sum)).toString()}async getAddressUtxos(t){const r=await this.call("esplora_address::utxo",[t]),n=Ca(t,Vr(this.network));return r.result.map(i=>({...i,scriptPk:Fe.from(n).toString("hex")}))}async getOutputValueByVOutIndex(t,r){var n;return((n=(await this.call("esplora_tx",[t])).result.vout[r])==null?void 0:n.value)??null}async getAddressAlkanesBalances(t){const r=await this.getAlkanesByAddress(t),n={};for(const i of r)for(const o of i.runes){const s=x5e(o.rune.id);n[s]?n[s].balance+=BigInt(o.balance):n[s]={id:s,balance:BigInt(o.balance),name:o.rune.name,symbol:o.rune.symbol}}return Object.values(n)}async getTransaction(t){return(await this.call("esplora_tx",[t])).result}async getRuneById(t){return(await this.call("ord_rune",[t])).result}async getRuneByName(t){return(await this.call("ord_rune",[t])).result}async broadcastTransaction(t){return await this.call("broadcast_tx",[t])}async getOrdAddress(t){return(await this.call("ord_address",[t])).result}async getTxInfo(t){return(await this.call("esplora_tx",[t])).result}async batchOrdOutput({outpoints:t,rune_name:r}){const n=[];for(let i=0;i<t.length;i+=1e3){const o=t.slice(i,i+1e3),s=o.map(c=>["ord_output",[c]]),{result:a}=await this.call("sandshrew_multicall",s);for(let c=0;c<a.length;c++)a[c].result.output=o[c];const l=a.filter(c=>Object.keys(c.result.runes).includes(r));n.push(...l)}return n}async batchOrdInscriptionInfo(t){const r=[];for(let n=0;n<t.length;n+=1e3){const i=t.slice(n,n+1e3).map(s=>["ord_inscription",[s]]),{result:o}=await this.call("sandshrew_multicall",i);for(let s=0;s<o.length;s++)r.push(o[s].result)}return r}async getAddressRunesBalances(t){try{const r=(await this.getOrdAddress(t)).runes_balances;if(!r)throw new Error("No runes data found");return r.map(n=>({name:n[0],balance:n[1],symbol:n[2]}))}catch(r){throw console.error("Error fetching ord address:",r),r}}async getInscriptionInfo(t){const r=(await this.call("ord_inscription",[t])).result;return{data:{inscription_id:r.id||t,inscription_number:r.number||0,created_at:r.timestamp||0,content_type:r.effective_content_type||"",content_body_preview:"",content_length:r.content_length||0,collection_symbol:null},last_updated:{block_hash:"",block_height:r.height||0}}}async getRecommendedFees(){const t=(await this.call("esplora_fee-estimates",[])).result,r=t[1]||0,n=Math.min(...Object.values(t));return{fastFee:Math.round(r),minFee:Math.round(n)}}async getBalances(t){if(Array.isArray(t)){const r=t.map(n=>["sandshrew_balances",[{address:n}]]);return(await this.multicall(r)).map(n=>n.result)}return[(await this.call("sandshrew_balances",[{address:t}])).result]}async getRuneOutpoints({address:t,runeId:r}){const n=await this.getOrdAddress(t),{entry:i}=await this.getRuneById(r),o=i.spaced_rune,s=await this.batchOrdOutput({outpoints:n.outputs,rune_name:o});return await this.mapRuneBalances({ordOutputs:s})}async mapRuneBalances({ordOutputs:t}){var r;const n=[];for(let i=0;i<t.length;i++){const o=t[i],{result:s}=o;if(!((r=s.output)!=null&&r.split(":")))throw new Error("No output found");const{output:a,address:l,runes:c}=s,u={output:a,wallet_addr:l,script:"",balances:[],decimals:[],rune_ids:[],value:s.value};if(u.script=Fe.from(zV(l,wn)).toString("hex"),typeof c=="object"&&!Array.isArray(c))for(const h in c)u.balances.push(c[h].amount),u.decimals.push(c[h].divisibility),u.rune_ids.push((await this.getRuneByName(h)).id);n.push(u)}return n}}const ts="Method not available on any data source",MW=class ag{constructor(t){vt(this,"dataSources",new Map),vt(this,"network"),vt(this,"customNetworks",new Map);var r,n,i,o,s,a,l,c,u,h,g,k,R,F,D,$,B,U;const q=(t==null?void 0:t.network)||mt.MAINNET;this.network=q,this.customNetworks=new Map(Object.entries((t==null?void 0:t.customNetworks)||{})),this.dataSources.set("mempool",new $8e(q,{networks:{mainnet:{apiUrl:((n=(r=t==null?void 0:t.dataSources)==null?void 0:r.mempool)==null?void 0:n.url)||bo(mt.MAINNET)},testnet:{apiUrl:bo(mt.TESTNET)},testnet4:{apiUrl:bo(mt.TESTNET4)},signet:{apiUrl:bo(mt.SIGNET)},"fractal-mainnet":{apiUrl:bo(mt.FRACTAL_MAINNET)},"fractal-testnet":{apiUrl:bo(mt.FRACTAL_TESTNET)},...(o=(i=t==null?void 0:t.dataSources)==null?void 0:i.mempool)==null?void 0:o.networks}})),this.dataSources.set("sandshrew",new A5e(q,{apiKey:(a=(s=t==null?void 0:t.dataSources)==null?void 0:s.sandshrew)==null?void 0:a.apiKey,networks:{mainnet:{apiKey:((c=(l=t==null?void 0:t.dataSources)==null?void 0:l.sandshrew)==null?void 0:c.apiKey)||Wg,apiUrl:Mg(mt.MAINNET)},testnet:{apiKey:((h=(u=t==null?void 0:t.dataSources)==null?void 0:u.sandshrew)==null?void 0:h.apiKey)||Wg,apiUrl:Mg(mt.TESTNET)},...(k=(g=t==null?void 0:t.dataSources)==null?void 0:g.sandshrew)==null?void 0:k.networks}})),this.dataSources.set("maestro",new L8e(q,{networks:{mainnet:{apiKey:((F=(R=t==null?void 0:t.dataSources)==null?void 0:R.maestro)==null?void 0:F.apiKey)||w3e,apiUrl:g1(mt.MAINNET)},testnet4:{apiKey:(($=(D=t==null?void 0:t.dataSources)==null?void 0:D.maestro)==null?void 0:$.testnetApiKey)||yV,apiUrl:g1(mt.TESTNET4)},...(U=(B=t==null?void 0:t.dataSources)==null?void 0:B.maestro)==null?void 0:U.networks}}))}static init(t){ag.instance||(ag.instance=new ag(t))}static getInstance(){if(!ag.instance)throw new Error("DataSourceManager has not been initialized");return ag.instance}updateNetwork(t){var r,n;this.network=t;const i=(r=this.customNetworks.get(t))==null?void 0:r.baseNetwork;for(const o of this.dataSources.values())(n=o.setNetwork)==null||n.call(o,t,i)}registerDataSource(t,r){var n,i,o;this.dataSources.set(t,r),(o=(n=this.dataSources.get(t))==null?void 0:n.setNetwork)==null||o.call(n,this.network,(i=this.customNetworks.get(this.network))==null?void 0:i.baseNetwork)}getSource(t){return this.dataSources.get(t)}async getAddressAlkanesBalances(t){const r=this.findAvailableSource("getAddressAlkanesBalances");if(!r||!r.getAddressAlkanesBalances)throw new Error(ts);return await r.getAddressAlkanesBalances(t)}async getAlkanesByAddress(t){const r=this.findAvailableSource("getAlkanesByAddress");if(!r||!r.getAlkanesByAddress)throw new Error(ts);return await r.getAlkanesByAddress(t)}async getAddressBtcBalance(t){const r=this.findAvailableSource("getAddressBtcBalance");if(!r||!r.getAddressBtcBalance)throw new Error(ts);const n=await this.withFallback("sandshrew",async i=>{var o;return await((o=i.getAddressBtcBalance)==null?void 0:o.call(i,t))});if(n===void 0)throw new Error("Unable to get balance from any data source");return n}async getAddressBrc20Balances(t){const r=this.findAvailableSource("getAddressBrc20Balances");if(!r||!r.getAddressBrc20Balances)throw new Error(ts);const n=await r.getAddressBrc20Balances(t);return z8e(n)}async getAddressInscriptions(t,r,n){const i=this.findAvailableSource("getAddressInscriptions");if(!i||!i.getAddressInscriptions)throw new Error(ts);if(!i.getInscriptionInfo)throw new Error(ts);const o=mt.MAINNET,s=await i.getAddressInscriptions(t,r,n),a=i.getName();return a===eF&&s.data?(await Promise.all(s.data.map(async l=>{try{if(!i.getInscriptionInfo)throw new Error(ts);const c=await i.getInscriptionInfo(l.inscription_id);return{...l,...c.data}}catch(c){return console.error(`Failed to fetch details for inscription ${l.inscription_id}:`,c),l}}))).map(l=>qg(l,a,o)):s.inscriptions?s.inscriptions.map(l=>qg(l,a,o)):Array.isArray(s)?s.map(l=>qg(l,a,o)):(console.warn("Unable to normalize inscriptions from data source",a),[])}async getInscriptionInfo(t){const r=this.findAvailableSource("getInscriptionInfo");if(!r||!r.getInscriptionInfo)throw new Error(ts);return await r.getInscriptionInfo(t)}async getRecommendedFees(){const t=this.findAvailableSource("getRecommendedFees");if(!t||!t.getRecommendedFees)throw new Error(ts);console.log("getting recommended fees");const r=await this.withFallback("sandshrew",async n=>{var i;return await((i=n.getRecommendedFees)==null?void 0:i.call(n))});if(r===void 0)throw new Error("Unable to get recommended fees from any data source");return{fastFee:r.fastFee,minFee:r.minFee}}async getAddressUtxos(t){const r=this.findAvailableSource("getAddressUtxos");if(!r||!r.getAddressUtxos)throw new Error(ts);const n=await this.withFallback("sandshrew",async i=>{var o;return await((o=i.getAddressUtxos)==null?void 0:o.call(i,t))});if(n===void 0)throw new Error("Unable to get utxos from any data source");return n}async getOutputValueByVOutIndex(t,r){const n=this.findAvailableSource("getOutputValueByVOutIndex");if(!n||!n.getOutputValueByVOutIndex)throw new Error(ts);const i=await this.withFallback("sandshrew",async o=>{var s;return await((s=o.getOutputValueByVOutIndex)==null?void 0:s.call(o,t,r))});if(i===void 0)throw new Error("Unable to get output value from any data source");return i}async waitForTransaction(t){const r=this.findAvailableSource("waitForTransaction");if(!r||!r.waitForTransaction)throw new Error(ts);return!!await r.waitForTransaction(t)}async getAddressRunesBalances(t){const r=this.findAvailableSource("getAddressRunesBalances");if(!r||!r.getAddressRunesBalances)throw new Error(ts);return await r.getAddressRunesBalances(t)}async broadcastTransaction(t){const r=this.findAvailableSource("broadcastTransaction");if(!r||!r.broadcastTransaction)throw new Error(ts);return await r.broadcastTransaction(t)}async withFallback(t,r){const n=[t,...Array.from(this.dataSources.keys()).filter(i=>i!==t)];for(const i of n)try{const o=this.getSource(i);if(!o)continue;return await r(o)}catch(o){console.warn(`Fallback: ${i} failed`,o)}throw new Error("All data sources failed")}findAvailableSource(t){const r=this.customNetworks.get(this.network);if(r){const n=this.getSource(r.preferredDataSource);if(n&&typeof n[t]=="function")return n}for(const n of this.dataSources.values())if(typeof n[t]=="function")return n}async getFormattedUTXOs(t){const r=this.getSource("sandshrew");if(!r||!r.getBalances)throw new Error("Sandshrew data source with getBalances method is required");const n=await r.getBalances(t),i=[],o=Array.isArray(t)?[...new Set(t)]:[t];for(let s=0;s<n.length;s++){const a=n[s],l=o[s],c=a.metashrewHeight,u=Fe.from(U8e(l,this.network)).toString("hex");for(const h of a.spendable){const[g,k]=h.outpoint.split(":");i.push({txHash:g,txOutputIndex:parseInt(k),btcValue:h.value,scriptPubKey:u,address:l,hasRunes:!1,runes:[],hasAlkanes:!1,alkanes:[],hasInscriptions:!1,inscriptions:[],confirmations:h.height?c-h.height:void 0})}for(const h of a.assets){const[g,k]=h.outpoint.split(":"),R=(h.inscriptions||[]).map($=>({inscriptionId:$})),F=[];if(h.ord_runes)for(const[$,B]of Object.entries(h.ord_runes))F.push({runeId:$,amount:B.amount});const D=[];if(h.runes)for(const $ of h.runes)D.push({id:parseInt($.rune.id.block,16)+":"+parseInt($.rune.id.tx,16),amount:parseInt($.balance,16),name:$.rune.name,symbol:$.rune.symbol});i.push({txHash:g,txOutputIndex:parseInt(k),btcValue:h.value,scriptPubKey:u,address:l,hasRunes:F.length>0,runes:F,hasAlkanes:D.length>0,alkanes:D,hasInscriptions:R.length>0,inscriptions:R,confirmations:h.height?c-h.height:void 0})}}return i.sort((s,a)=>s.btcValue-a.btcValue),i}};vt(MW,"instance");let Th=MW;const O5e=e=>/^(?:[A-Za-z0-9+/]{4})*?(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),P5e=e=>/^[a-fA-F0-9]+$/.test(e),Kd=e=>{const t=[];let r=e;do{let n=r&BigInt(127);r>>=BigInt(7),r!==BigInt(0)&&(n|=BigInt(128)),t.push(Number(n))}while(r!==BigInt(0));return{varint:Fe.from(t)}};function Wh(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>r!==void 0))}const T5e=e=>{let t=0n;const r=[];for(const n of e)n.inscriptions.length<=0&&n.runes.length<=0&&n.alkanes.length<=0&&n.btcValue!==546&&n.btcValue!==330&&(r.push(n),t+=BigInt(n.btcValue));return{utxos:r,totalAmount:t}};var fc={},RW={},OO={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=void 0,e.assertNumber=t;function t(I){if(!Number.isSafeInteger(I))throw new Error(`Wrong integer: ${I}`)}function r(I){return I instanceof Uint8Array||I!=null&&typeof I=="object"&&I.constructor.name==="Uint8Array"}function n(...I){const p=A=>A,_=(A,x)=>E=>A(x(E)),w=I.map(A=>A.encode).reduceRight(_,p),S=I.map(A=>A.decode).reduce(_,p);return{encode:w,decode:S}}function i(I){return{encode:p=>{if(!Array.isArray(p)||p.length&&typeof p[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return p.map(_=>{if(_<0||_>=I.length)throw new Error(`Digit index outside alphabet: ${_} (alphabet: ${I.length})`);return I[_]})},decode:p=>{if(!Array.isArray(p)||p.length&&typeof p[0]!="string")throw new Error("alphabet.decode input should be array of strings");return p.map(_=>{if(typeof _!="string")throw new Error(`alphabet.decode: not string element=${_}`);const w=I.indexOf(_);if(w===-1)throw new Error(`Unknown letter: "${_}". Allowed: ${I}`);return w})}}}function o(I=""){if(typeof I!="string")throw new Error("join separator should be string");return{encode:p=>{if(!Array.isArray(p)||p.length&&typeof p[0]!="string")throw new Error("join.encode input should be array of strings");for(let _ of p)if(typeof _!="string")throw new Error(`join.encode: non-string input=${_}`);return p.join(I)},decode:p=>{if(typeof p!="string")throw new Error("join.decode input should be string");return p.split(I)}}}function s(I,p="="){if(typeof p!="string")throw new Error("padding chr should be string");return{encode(_){if(!Array.isArray(_)||_.length&&typeof _[0]!="string")throw new Error("padding.encode input should be array of strings");for(let w of _)if(typeof w!="string")throw new Error(`padding.encode: non-string input=${w}`);for(;_.length*I%8;)_.push(p);return _},decode(_){if(!Array.isArray(_)||_.length&&typeof _[0]!="string")throw new Error("padding.encode input should be array of strings");for(let S of _)if(typeof S!="string")throw new Error(`padding.decode: non-string input=${S}`);let w=_.length;if(w*I%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;w>0&&_[w-1]===p;w--)if(!((w-1)*I%8))throw new Error("Invalid padding: string has too much padding");return _.slice(0,w)}}}function a(I){if(typeof I!="function")throw new Error("normalize fn should be function");return{encode:p=>p,decode:p=>I(p)}}function l(I,p,_){if(p<2)throw new Error(`convertRadix: wrong from=${p}, base cannot be less than 2`);if(_<2)throw new Error(`convertRadix: wrong to=${_}, base cannot be less than 2`);if(!Array.isArray(I))throw new Error("convertRadix: data should be array");if(!I.length)return[];let w=0;const S=[],A=Array.from(I);for(A.forEach(x=>{if(x<0||x>=p)throw new Error(`Wrong integer: ${x}`)});;){let x=0,E=!0;for(let T=w;T<A.length;T++){const M=A[T],Q=p*x+M;if(!Number.isSafeInteger(Q)||p*x/p!==x||Q-M!==p*x)throw new Error("convertRadix: carry overflow");x=Q%_;const he=Math.floor(Q/_);if(A[T]=he,!Number.isSafeInteger(he)||he*_+x!==Q)throw new Error("convertRadix: carry overflow");if(E)he?E=!1:w=T;else continue}if(S.push(x),E)break}for(let x=0;x<I.length-1&&I[x]===0;x++)S.push(0);return S.reverse()}const c=(I,p)=>p?c(p,I%p):I,u=(I,p)=>I+(p-c(I,p));function h(I,p,_,w){if(!Array.isArray(I))throw new Error("convertRadix2: data should be array");if(p<=0||p>32)throw new Error(`convertRadix2: wrong from=${p}`);if(_<=0||_>32)throw new Error(`convertRadix2: wrong to=${_}`);if(u(p,_)>32)throw new Error(`convertRadix2: carry overflow from=${p} to=${_} carryBits=${u(p,_)}`);let S=0,A=0;const x=2**_-1,E=[];for(const T of I){if(T>=2**p)throw new Error(`convertRadix2: invalid data word=${T} from=${p}`);if(S=S<<p|T,A+p>32)throw new Error(`convertRadix2: carry overflow pos=${A} from=${p}`);for(A+=p;A>=_;A-=_)E.push((S>>A-_&x)>>>0);S&=2**A-1}if(S=S<<_-A&x,!w&&A>=p)throw new Error("Excess padding");if(!w&&S)throw new Error(`Non-zero padding: ${S}`);return w&&A>0&&E.push(S>>>0),E}function g(I){return{encode:p=>{if(!r(p))throw new Error("radix.encode input should be Uint8Array");return l(Array.from(p),2**8,I)},decode:p=>{if(!Array.isArray(p)||p.length&&typeof p[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(l(p,I,2**8))}}}function k(I,p=!1){if(I<=0||I>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,I)>32||u(I,8)>32)throw new Error("radix2: carry overflow");return{encode:_=>{if(!r(_))throw new Error("radix2.encode input should be Uint8Array");return h(Array.from(_),8,I,!p)},decode:_=>{if(!Array.isArray(_)||_.length&&typeof _[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(h(_,I,8,p))}}}function R(I){if(typeof I!="function")throw new Error("unsafeWrapper fn should be function");return function(...p){try{return I.apply(null,p)}catch{}}}function F(I,p){if(typeof p!="function")throw new Error("checksum fn should be function");return{encode(_){if(!r(_))throw new Error("checksum.encode: input should be Uint8Array");const w=p(_).slice(0,I),S=new Uint8Array(_.length+I);return S.set(_),S.set(w,_.length),S},decode(_){if(!r(_))throw new Error("checksum.decode: input should be Uint8Array");const w=_.slice(0,-I),S=p(w).slice(0,I),A=_.slice(-I);for(let x=0;x<I;x++)if(S[x]!==A[x])throw new Error("Invalid checksum");return w}}}e.utils={alphabet:i,chain:n,checksum:F,convertRadix:l,convertRadix2:h,radix:g,radix2:k,join:o,padding:s},e.base16=n(k(4),i("0123456789ABCDEF"),o("")),e.base32=n(k(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),o("")),e.base32nopad=n(k(5),i("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),o("")),e.base32hex=n(k(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),o("")),e.base32hexnopad=n(k(5),i("0123456789ABCDEFGHIJKLMNOPQRSTUV"),o("")),e.base32crockford=n(k(5),i("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),o(""),a(I=>I.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),e.base64=n(k(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),o("")),e.base64nopad=n(k(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),o("")),e.base64url=n(k(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),o("")),e.base64urlnopad=n(k(6),i("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),o(""));const D=I=>n(g(58),i(I),o(""));e.base58=D("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=D("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=D("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const $=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(I){let p="";for(let _=0;_<I.length;_+=8){const w=I.subarray(_,_+8);p+=e.base58.encode(w).padStart($[w.length],"1")}return p},decode(I){let p=[];for(let _=0;_<I.length;_+=11){const w=I.slice(_,_+11),S=$.indexOf(w.length),A=e.base58.decode(w);for(let x=0;x<A.length-S;x++)if(A[x]!==0)throw new Error("base58xmr: wrong padding");p=p.concat(Array.from(A.slice(A.length-S)))}return Uint8Array.from(p)}};const B=I=>n(F(4,p=>I(I(p))),e.base58);e.createBase58check=B,e.base58check=e.createBase58check;const U=n(i("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),o("")),q=[996825010,642813549,513874426,1027748829,705979059];function ee(I){const p=I>>25;let _=(I&33554431)<<5;for(let w=0;w<q.length;w++)(p>>w&1)===1&&(_^=q[w]);return _}function ae(I,p,_=1){const w=I.length;let S=1;for(let A=0;A<w;A++){const x=I.charCodeAt(A);if(x<33||x>126)throw new Error(`Invalid prefix (${I})`);S=ee(S)^x>>5}S=ee(S);for(let A=0;A<w;A++)S=ee(S)^I.charCodeAt(A)&31;for(let A of p)S=ee(S)^A;for(let A=0;A<6;A++)S=ee(S);return S^=_,U.encode(h([S%2**30],30,5,!1))}function re(I){const p=I==="bech32"?1:734539939,_=k(5),w=_.decode,S=_.encode,A=R(w);function x(he,ue,W=90){if(typeof he!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof he}`);if(ue instanceof Uint8Array&&(ue=Array.from(ue)),!Array.isArray(ue)||ue.length&&typeof ue[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof ue}`);if(he.length===0)throw new TypeError(`Invalid prefix length ${he.length}`);const se=he.length+7+ue.length;if(W!==!1&&se>W)throw new TypeError(`Length ${se} exceeds limit ${W}`);const Z=he.toLowerCase(),ie=ae(Z,ue,p);return`${Z}1${U.encode(ue)}${ie}`}function E(he,ue=90){if(typeof he!="string")throw new Error(`bech32.decode input should be string, not ${typeof he}`);if(he.length<8||ue!==!1&&he.length>ue)throw new TypeError(`Wrong string length: ${he.length} (${he}). Expected (8..${ue})`);const W=he.toLowerCase();if(he!==W&&he!==he.toUpperCase())throw new Error("String must be lowercase or uppercase");const se=W.lastIndexOf("1");if(se===0||se===-1)throw new Error('Letter "1" must be present between prefix and data only');const Z=W.slice(0,se),ie=W.slice(se+1);if(ie.length<6)throw new Error("Data must be at least 6 characters long");const pe=U.decode(ie).slice(0,-6),Ee=ae(Z,pe,p);if(!ie.endsWith(Ee))throw new Error(`Invalid checksum in ${he}: expected "${Ee}"`);return{prefix:Z,words:pe}}const T=R(E);function M(he){const{prefix:ue,words:W}=E(he,!1);return{prefix:ue,words:W,bytes:w(W)}}function Q(he,ue){return x(he,S(ue))}return{encode:x,decode:E,encodeFromBytes:Q,decodeToBytes:M,decodeUnsafe:T,fromWords:w,fromWordsUnsafe:A,toWords:S}}e.bech32=re("bech32"),e.bech32m=re("bech32m"),e.utf8={encode:I=>new TextDecoder().decode(I),decode:I=>new TextEncoder().encode(I)},e.hex=n(k(4),i("0123456789abcdef"),o(""),a(I=>{if(typeof I!="string"||I.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof I} with length ${I.length}`);return I.toLowerCase()}));const K={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},C="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",G=(I,p)=>{if(typeof I!="string"||!K.hasOwnProperty(I))throw new TypeError(C);if(!r(p))throw new TypeError("bytesToString() expects Uint8Array");return K[I].encode(p)};e.bytesToString=G,e.str=e.bytesToString;const v=(I,p)=>{if(!K.hasOwnProperty(I))throw new TypeError(C);if(typeof p!="string")throw new TypeError("stringToBytes() expects string");return K[I].decode(p)};e.stringToBytes=v,e.bytes=e.stringToBytes})(OO);var PO={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.constant=e.magicBytes=e.magic=e.optional=e.flagged=e.flag=e.lazy=e.apply=e.hex=e.cstring=e.string=e.prefix=e.bytes=e.bool=e.F64LE=e.F64BE=e.F32LE=e.F32BE=e.I8=e.U8=e.I16BE=e.I16LE=e.U16BE=e.U16LE=e.I32BE=e.I32LE=e.U32BE=e.U32LE=e.int=e.I64BE=e.I64LE=e.U64BE=e.U64LE=e.I128BE=e.I128LE=e.U128BE=e.U128LE=e.I256BE=e.I256LE=e.U256BE=e.U256LE=e.bigint=e.bits=e.coders=e.isCoder=e.wrap=e.validate=e.utils=e.NULL=e.EMPTY=void 0,e._TEST=e.pointer=e.padRight=e.padLeft=e.ZeroPad=e.bitset=e.mappedTag=e.tag=e.map=e.array=e.tuple=e.struct=void 0;const t=OO;e.EMPTY=new Uint8Array,e.NULL=new Uint8Array([0]);function r(d,b){if(d.length!==b.length)return!1;for(let H=0;H<d.length;H++)if(d[H]!==b[H])return!1;return!0}function n(d){return d instanceof Uint8Array||d!=null&&typeof d=="object"&&d.constructor.name==="Uint8Array"}function i(...d){let b=0;for(let te=0;te<d.length;te++){const ce=d[te];if(!n(ce))throw new Error("Uint8Array expected");b+=ce.length}const H=new Uint8Array(b);for(let te=0,ce=0;te<d.length;te++){const z=d[te];H.set(z,ce),ce+=z.length}return H}const o=d=>new DataView(d.buffer,d.byteOffset,d.byteLength);function s(d){return Object.prototype.toString.call(d)==="[object Object]"}function a(d){return Number.isSafeInteger(d)}e.utils={equalBytes:r,isBytes:n,isCoder:U,checkBounds:R,concatBytes:i,createView:o,isPlainObject:s};const l=d=>{if(d!==null&&typeof d!="string"&&!U(d)&&!n(d)&&!a(d))throw new Error(`lengthCoder: expected null | number | Uint8Array | CoderType, got ${d} (${typeof d})`);return{encodeStream(b,H){if(d===null)return;if(U(d))return d.encodeStream(b,H);let te;if(typeof d=="number"?te=d:typeof d=="string"&&(te=u.resolve(b.stack,d)),typeof te=="bigint"&&(te=Number(te)),te===void 0||te!==H)throw b.err(`Wrong length: ${te} len=${d} exp=${H} (${typeof H})`)},decodeStream(b){let H;if(U(d)?H=Number(d.decodeStream(b)):typeof d=="number"?H=d:typeof d=="string"&&(H=u.resolve(b.stack,d)),typeof H=="bigint"&&(H=Number(H)),typeof H!="number")throw b.err(`Wrong length: ${H}`);return H}}},c={BITS:32,FULL_MASK:-1>>>0,len:d=>Math.ceil(d/32),create:d=>new Uint32Array(c.len(d)),clean:d=>d.fill(0),debug:d=>Array.from(d).map(b=>(b>>>0).toString(2).padStart(32,"0")),checkLen:(d,b)=>{if(c.len(b)!==d.length)throw new Error(`wrong length=${d.length}. Expected: ${c.len(b)}`)},chunkLen:(d,b,H)=>{if(b<0)throw new Error(`wrong pos=${b}`);if(b+H>d)throw new Error(`wrong range=${b}/${H} of ${d}`)},set:(d,b,H,te=!0)=>!te&&d[b]&H?!1:(d[b]|=H,!0),pos:(d,b)=>({chunk:Math.floor((d+b)/32),mask:1<<32-(d+b)%32-1}),indices:(d,b,H=!1)=>{c.checkLen(d,b);const{FULL_MASK:te,BITS:ce}=c,z=ce-b%ce,X=z?te>>>z<<z:te,oe=[];for(let N=0;N<d.length;N++){let L=d[N];if(H&&(L=~L),N===d.length-1&&(L&=X),L!==0)for(let J=0;J<ce;J++){const ge=1<<ce-J-1;L&ge&&oe.push(N*ce+J)}}return oe},range:d=>{const b=[];let H;for(const te of d)H===void 0||te!==H.pos+H.length?b.push(H={pos:te,length:1}):H.length+=1;return b},rangeDebug:(d,b,H=!1)=>`[${c.range(c.indices(d,b,H)).map(te=>`(${te.pos}/${te.length})`).join(", ")}]`,setRange:(d,b,H,te,ce=!0)=>{c.chunkLen(b,H,te);const{FULL_MASK:z,BITS:X}=c,oe=H%X?Math.floor(H/X):void 0,N=H+te,L=N%X?Math.floor(N/X):void 0;if(oe!==void 0&&oe===L)return c.set(d,oe,z>>>X-te<<X-te-H,ce);if(oe!==void 0&&!c.set(d,oe,z>>>H%X,ce))return!1;const J=oe!==void 0?oe+1:H/X,ge=L!==void 0?L:N/X;for(let le=J;le<ge;le++)if(!c.set(d,le,z,ce))return!1;return!(L!==void 0&&oe!==L&&!c.set(d,L,z<<X-N%X,ce))}},u={pushObj:(d,b,H)=>{const te={obj:b};d.push(te),H((ce,z)=>{te.field=ce,z(),te.field=void 0}),d.pop()},path:d=>{const b=[];for(const H of d)H.field!==void 0&&b.push(H.field);return b.join("/")},err(d,b,H){const te=new Error(`${d}(${u.path(b)}): ${typeof H=="string"?H:H.message}`);return H instanceof Error&&H.stack&&(te.stack=H.stack),te},resolve:(d,b)=>{const H=b.split("/"),te=d.map(X=>X.obj);let ce=0;for(;ce<H.length&&H[ce]==="..";ce++)te.pop();let z=te.pop();for(;ce<H.length;ce++){if(!z||z[H[ce]]===void 0)return;z=z[H[ce]]}return z}};class h{constructor(b,H={},te=[],ce=void 0,z=0){this.data=b,this.opts=H,this.stack=te,this.parent=ce,this.parentOffset=z,this.pos=0,this.bitBuf=0,this.bitPos=0,this.view=o(b)}_enablePointers(){if(this.parent)return this.parent._enablePointers();this.bs||(this.bs=c.create(this.data.length),c.setRange(this.bs,this.data.length,0,this.pos,this.opts.allowMultipleReads))}markBytesBS(b,H){return this.parent?this.parent.markBytesBS(this.parentOffset+b,H):!H||!this.bs?!0:c.setRange(this.bs,this.data.length,b,H,!1)}markBytes(b){const H=this.pos;this.pos+=b;const te=this.markBytesBS(H,b);if(!this.opts.allowMultipleReads&&!te)throw this.err(`multiple read pos=${this.pos} len=${b}`);return te}pushObj(b,H){return u.pushObj(this.stack,b,H)}readView(b,H){if(!Number.isFinite(b))throw this.err(`readView: wrong length=${b}`);if(this.pos+b>this.data.length)throw this.err("readView: Unexpected end of buffer");const te=H(this.view,this.pos);return this.markBytes(b),te}absBytes(b){if(b>this.data.length)throw new Error("Unexpected end of buffer");return this.data.subarray(b)}finish(){if(!this.opts.allowUnreadBytes){if(this.bitPos)throw this.err(`${this.bitPos} bits left after unpack: ${t.hex.encode(this.data.slice(this.pos))}`);if(this.bs&&!this.parent){const b=c.indices(this.bs,this.data.length,!0);if(b.length){const H=c.range(b).map(({pos:te,length:ce})=>`(${te}/${ce})[${t.hex.encode(this.data.subarray(te,te+ce))}]`).join(", ");throw this.err(`unread byte ranges: ${H} (total=${this.data.length})`)}else return}if(!this.isEnd())throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${t.hex.encode(this.data.slice(this.pos))}`)}}err(b){return u.err("Reader",this.stack,b)}offsetReader(b){if(b>this.data.length)throw this.err("offsetReader: Unexpected end of buffer");return new h(this.absBytes(b),this.opts,this.stack,this,b)}bytes(b,H=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(b))throw this.err(`readBytes: wrong length=${b}`);if(this.pos+b>this.data.length)throw this.err("readBytes: Unexpected end of buffer");const te=this.data.subarray(this.pos,this.pos+b);return H||this.markBytes(b),te}byte(b=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");if(this.pos+1>this.data.length)throw this.err("readBytes: Unexpected end of buffer");const H=this.data[this.pos];return b||this.markBytes(1),H}get leftBytes(){return this.data.length-this.pos}get totalBytes(){return this.data.length}isEnd(){return this.pos>=this.data.length&&!this.bitPos}bits(b){if(b>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let H=0;for(;b;){this.bitPos||(this.bitBuf=this.byte(),this.bitPos=8);const te=Math.min(b,this.bitPos);this.bitPos-=te,H=H<<te|this.bitBuf>>this.bitPos&2**te-1,this.bitBuf&=2**this.bitPos-1,b-=te}return H>>>0}find(b,H=this.pos){if(!n(b))throw this.err(`find: needle is not bytes! ${b}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!b.length)throw this.err("find: needle is empty");for(let te=H;(te=this.data.indexOf(b[0],te))!==-1;te++){if(te===-1||this.data.length-te<b.length)return;if(r(b,this.data.subarray(te,te+b.length)))return te}}}class g{constructor(b=[]){this.stack=b,this.pos=0,this.buffers=[],this.ptrs=[],this.bitBuf=0,this.bitPos=0,this.viewBuf=new Uint8Array(8),this.finished=!1,this.view=o(this.viewBuf)}pushObj(b,H){return u.pushObj(this.stack,b,H)}writeView(b,H){if(this.finished)throw this.err("buffer: finished");if(!a(b)||b>8)throw new Error(`wrong writeView length=${b}`);H(this.view),this.bytes(this.viewBuf.slice(0,b)),this.viewBuf.fill(0)}err(b){if(this.finished)throw this.err("buffer: finished");return u.err("Reader",this.stack,b)}bytes(b){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(b),this.pos+=b.length}byte(b){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([b])),this.pos++}finish(b=!0){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");const H=this.buffers.concat(this.ptrs.map(z=>z.buffer)),te=H.map(z=>z.length).reduce((z,X)=>z+X,0),ce=new Uint8Array(te);for(let z=0,X=0;z<H.length;z++){const oe=H[z];ce.set(oe,X),X+=oe.length}for(let z=this.pos,X=0;X<this.ptrs.length;X++){const oe=this.ptrs[X];ce.set(oe.ptr.encode(z),oe.pos),z+=oe.buffer.length}if(b){this.buffers=[];for(const z of this.ptrs)z.buffer.fill(0);this.ptrs=[],this.finished=!0,this.bitBuf=0}return ce}bits(b,H){if(H>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(b>=2**H)throw this.err(`writeBits: value (${b}) >= 2**bits (${H})`);for(;H;){const te=Math.min(H,8-this.bitPos);this.bitBuf=this.bitBuf<<te|b>>H-te,this.bitPos+=te,H-=te,b&=2**H-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}}const k=d=>Uint8Array.from(d).reverse();function R(d,b,H){if(H){const te=2n**(b-1n);if(d<-te||d>=te)throw new Error(`value out of signed bounds. Expected ${-te} <= ${d} < ${te}`)}else if(0n>d||d>=2n**b)throw new Error(`value out of unsigned bounds. Expected 0 <= ${d} < ${2n**b}`)}function F(d){return{encodeStream:d.encodeStream,decodeStream:d.decodeStream,size:d.size,encode:b=>{const H=new g;return d.encodeStream(H,b),H.finish()},decode:(b,H={})=>{const te=new h(b,H),ce=d.decodeStream(te);return te.finish(),ce}}}function D(d,b){if(!U(d))throw new Error(`validate: invalid inner value ${d}`);if(typeof b!="function")throw new Error("validate: fn should be function");return F({size:d.size,encodeStream:(H,te)=>{let ce;try{ce=b(te)}catch(z){throw H.err(z)}d.encodeStream(H,ce)},decodeStream:H=>{const te=d.decodeStream(H);try{return b(te)}catch(ce){throw H.err(ce)}}})}e.validate=D;const $=d=>{const b=F(d);return d.validate?D(b,d.validate):b};e.wrap=$;const B=d=>s(d)&&typeof d.decode=="function"&&typeof d.encode=="function";function U(d){return s(d)&&B(d)&&typeof d.encodeStream=="function"&&typeof d.decodeStream=="function"&&(d.size===void 0||a(d.size))}e.isCoder=U;function q(){return{encode:d=>{if(!Array.isArray(d))throw new Error("array expected");const b={};for(const H of d){if(!Array.isArray(H)||H.length!==2)throw new Error("array of two elements expected");const te=H[0],ce=H[1];if(b[te]!==void 0)throw new Error(`key(${te}) appears twice in struct`);b[te]=ce}return b},decode:d=>{if(!s(d))throw new Error(`expected plain object, got ${d}`);return Object.entries(d)}}}const ee={encode:d=>{if(typeof d!="bigint")throw new Error(`expected bigint, got ${typeof d}`);if(d>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`element bigger than MAX_SAFE_INTEGER=${d}`);return Number(d)},decode:d=>{if(!a(d))throw new Error("element is not a safe integer");return BigInt(d)}};function ae(d){if(!s(d))throw new Error("plain object expected");return{encode:b=>{if(!a(b)||!(b in d))throw new Error(`wrong value ${b}`);return d[b]},decode:b=>{if(typeof b!="string")throw new Error(`wrong value ${typeof b}`);return d[b]}}}function re(d,b=!1){if(!a(d))throw new Error(`decimal/precision: wrong value ${d}`);if(typeof b!="boolean")throw new Error(`decimal/round: expected boolean, got ${typeof b}`);const H=10n**BigInt(d);return{encode:te=>{if(typeof te!="bigint")throw new Error(`expected bigint, got ${typeof te}`);let ce=(te<0n?-te:te).toString(10),z=ce.length-d;z<0&&(ce=ce.padStart(ce.length-z,"0"),z=0);let X=ce.length-1;for(;X>=z&&ce[X]==="0";X--);let oe=ce.slice(0,z),N=ce.slice(z,X+1);return oe||(oe="0"),te<0n&&(oe="-"+oe),N?`${oe}.${N}`:oe},decode:te=>{if(typeof te!="string")throw new Error(`expected string, got ${typeof te}`);if(te==="-0")throw new Error("negative zero is not allowed");let ce=!1;if(te.startsWith("-")&&(ce=!0,te=te.slice(1)),!/^(0|[1-9]\d*)(\.\d+)?$/.test(te))throw new Error(`wrong string value=${te}`);let z=te.indexOf(".");z=z===-1?te.length:z;const X=te.slice(0,z),oe=te.slice(z+1).replace(/0+$/,""),N=BigInt(X)*H;if(!b&&oe.length>d)throw new Error(`fractional part cannot be represented with this precision (num=${te}, prec=${d})`);const L=Math.min(oe.length,d),J=BigInt(oe.slice(0,L))*10n**BigInt(d-L),ge=N+J;return ce?-ge:ge}}}function K(d){if(!Array.isArray(d))throw new Error(`expected array, got ${typeof d}`);for(const b of d)if(!B(b))throw new Error(`wrong base coder ${b}`);return{encode:b=>{for(const H of d){const te=H.encode(b);if(te!==void 0)return te}throw new Error(`match/encode: cannot find match in ${b}`)},decode:b=>{for(const H of d){const te=H.decode(b);if(te!==void 0)return te}throw new Error(`match/decode: cannot find match in ${b}`)}}}const C=d=>{if(!B(d))throw new Error("BaseCoder expected");return{encode:d.decode,decode:d.encode}};e.coders={dict:q,numberBigint:ee,tsEnum:ae,decimal:re,match:K,reverse:C};const G=d=>{if(!a(d))throw new Error(`bits: wrong length ${d} (${typeof d})`);return(0,e.wrap)({encodeStream:(b,H)=>b.bits(H,d),decodeStream:b=>b.bits(d),validate:b=>{if(!a(b))throw new Error(`bits: wrong value ${b}`);return b}})};e.bits=G;const v=(d,b=!1,H=!1,te=!0)=>{if(!a(d))throw new Error(`bigint/size: wrong value ${d}`);if(typeof b!="boolean")throw new Error(`bigint/le: expected boolean, got ${typeof b}`);if(typeof H!="boolean")throw new Error(`bigint/signed: expected boolean, got ${typeof H}`);if(typeof te!="boolean")throw new Error(`bigint/sized: expected boolean, got ${typeof te}`);const ce=BigInt(d),z=2n**(8n*ce-1n);return(0,e.wrap)({size:te?d:void 0,encodeStream:(X,oe)=>{H&&oe<0&&(oe=oe|z);const N=[];for(let J=0;J<d;J++)N.push(Number(oe&255n)),oe>>=8n;let L=new Uint8Array(N).reverse();if(!te){let J=0;for(J=0;J<L.length&&L[J]===0;J++);L=L.subarray(J)}X.bytes(b?L.reverse():L)},decodeStream:X=>{const oe=X.bytes(te?d:Math.min(d,X.leftBytes)),N=b?oe:k(oe);let L=0n;for(let J=0;J<N.length;J++)L|=BigInt(N[J])<<8n*BigInt(J);return H&&L&z&&(L=(L^z)-z),L},validate:X=>{if(typeof X!="bigint")throw new Error(`bigint: invalid value: ${X}`);return R(X,8n*ce,!!H),X}})};e.bigint=v,e.U256LE=(0,e.bigint)(32,!0),e.U256BE=(0,e.bigint)(32,!1),e.I256LE=(0,e.bigint)(32,!0,!0),e.I256BE=(0,e.bigint)(32,!1,!0),e.U128LE=(0,e.bigint)(16,!0),e.U128BE=(0,e.bigint)(16,!1),e.I128LE=(0,e.bigint)(16,!0,!0),e.I128BE=(0,e.bigint)(16,!1,!0),e.U64LE=(0,e.bigint)(8,!0),e.U64BE=(0,e.bigint)(8,!1),e.I64LE=(0,e.bigint)(8,!0,!0),e.I64BE=(0,e.bigint)(8,!1,!0);const I=(d,b=!1,H=!1,te=!0)=>{if(!a(d))throw new Error(`int/size: wrong value ${d}`);if(typeof b!="boolean")throw new Error(`int/le: expected boolean, got ${typeof b}`);if(typeof H!="boolean")throw new Error(`int/signed: expected boolean, got ${typeof H}`);if(typeof te!="boolean")throw new Error(`int/sized: expected boolean, got ${typeof te}`);if(d>6)throw new Error("int supports size up to 6 bytes (48 bits): use bigints instead");return M((0,e.bigint)(d,b,H,te),e.coders.numberBigint)};e.int=I;const p=(d,b)=>(0,e.wrap)({size:d,encodeStream:(H,te)=>H.writeView(d,ce=>b.write(ce,te)),decodeStream:H=>H.readView(d,b.read),validate:H=>{if(typeof H!="number")throw new Error(`viewCoder: expected number, got ${typeof H}`);return b.validate&&b.validate(H),H}}),_=(d,b,H)=>{const te=d*8,ce=2**(te-1),z=N=>{if(!a(N))throw new Error(`sintView: value is not safe integer: ${N}`);if(N<-ce||N>=ce)throw new Error(`sintView: value out of bounds. Expected ${-ce} <= ${N} < ${ce}`)},X=2**te,oe=N=>{if(!a(N))throw new Error(`uintView: value is not safe integer: ${N}`);if(0>N||N>=X)throw new Error(`uintView: value out of bounds. Expected 0 <= ${N} < ${X}`)};return p(d,{write:H.write,read:H.read,validate:b?z:oe})};e.U32LE=_(4,!1,{read:(d,b)=>d.getUint32(b,!0),write:(d,b)=>d.setUint32(0,b,!0)}),e.U32BE=_(4,!1,{read:(d,b)=>d.getUint32(b,!1),write:(d,b)=>d.setUint32(0,b,!1)}),e.I32LE=_(4,!0,{read:(d,b)=>d.getInt32(b,!0),write:(d,b)=>d.setInt32(0,b,!0)}),e.I32BE=_(4,!0,{read:(d,b)=>d.getInt32(b,!1),write:(d,b)=>d.setInt32(0,b,!1)}),e.U16LE=_(2,!1,{read:(d,b)=>d.getUint16(b,!0),write:(d,b)=>d.setUint16(0,b,!0)}),e.U16BE=_(2,!1,{read:(d,b)=>d.getUint16(b,!1),write:(d,b)=>d.setUint16(0,b,!1)}),e.I16LE=_(2,!0,{read:(d,b)=>d.getInt16(b,!0),write:(d,b)=>d.setInt16(0,b,!0)}),e.I16BE=_(2,!0,{read:(d,b)=>d.getInt16(b,!1),write:(d,b)=>d.setInt16(0,b,!1)}),e.U8=_(1,!1,{read:(d,b)=>d.getUint8(b),write:(d,b)=>d.setUint8(0,b)}),e.I8=_(1,!0,{read:(d,b)=>d.getInt8(b),write:(d,b)=>d.setInt8(0,b)});const w=d=>p(4,{read:(b,H)=>b.getFloat32(H,d),write:(b,H)=>b.setFloat32(0,H,d),validate:b=>{if(Math.fround(b)!==b&&!Number.isNaN(b))throw new Error(`f32: wrong value=${b}`)}}),S=d=>p(8,{read:(b,H)=>b.getFloat64(H,d),write:(b,H)=>b.setFloat64(0,H,d)});e.F32BE=w(!1),e.F32LE=w(!0),e.F64BE=S(!1),e.F64LE=S(!0),e.bool=(0,e.wrap)({size:1,encodeStream:(d,b)=>d.byte(b?1:0),decodeStream:d=>{const b=d.byte();if(b!==0&&b!==1)throw d.err(`bool: invalid value ${b}`);return b===1},validate:d=>{if(typeof d!="boolean")throw new Error(`bool: invalid value ${d}`);return d}});const A=(d,b=!1)=>{if(typeof b!="boolean")throw new Error(`bytes/le: expected boolean, got ${typeof b}`);const H=l(d),te=n(d);return(0,e.wrap)({size:typeof d=="number"?d:void 0,encodeStream:(ce,z)=>{te||H.encodeStream(ce,z.length),ce.bytes(b?k(z):z),te&&ce.bytes(d)},decodeStream:ce=>{let z;if(te){const X=ce.find(d);if(!X)throw ce.err("bytes: cannot find terminator");z=ce.bytes(X-ce.pos),ce.bytes(d.length)}else z=ce.bytes(d===null?ce.leftBytes:H.decodeStream(ce));return b?k(z):z},validate:ce=>{if(!n(ce))throw new Error(`bytes: invalid value ${ce}`);return ce}})};e.bytes=A;function x(d,b){if(!U(b))throw new Error(`prefix: invalid inner value ${b}`);return M((0,e.bytes)(d),C(b))}e.prefix=x;const E=(d,b=!1)=>D(M((0,e.bytes)(d,b),t.utf8),H=>{if(typeof H!="string")throw new Error(`expected string, got ${typeof H}`);return H});e.string=E,e.cstring=(0,e.string)(e.NULL);const T=(d,b={isLE:!1,with0x:!1})=>{let H=M((0,e.bytes)(d,b.isLE),t.hex);if(typeof b.with0x!="boolean")throw new Error(`hex/with0x: expected boolean, got ${typeof b.with0x}`);return b.with0x&&(H=M(H,{encode:te=>`0x${te}`,decode:te=>{if(!te.startsWith("0x"))throw new Error("hex(with0x=true).encode input should start with 0x");return te.slice(2)}})),H};e.hex=T;function M(d,b){if(!U(d))throw new Error(`apply: invalid inner value ${d}`);if(!B(b))throw new Error(`apply: invalid base value ${d}`);return(0,e.wrap)({size:d.size,encodeStream:(H,te)=>{let ce;try{ce=b.decode(te)}catch(z){throw H.err(""+z)}return d.encodeStream(H,ce)},decodeStream:H=>{const te=d.decodeStream(H);try{return b.encode(te)}catch(ce){throw H.err(""+ce)}}})}e.apply=M;function Q(d){if(typeof d!="function")throw new Error(`lazy: expected function, got ${typeof d}`);return(0,e.wrap)({encodeStream:(b,H)=>d().encodeStream(b,H),decodeStream:b=>d().decodeStream(b)})}e.lazy=Q;const he=(d,b=!1)=>{if(!n(d))throw new Error(`flag/flagValue: expected Uint8Array, got ${typeof d}`);if(typeof b!="boolean")throw new Error(`flag/xor: expected boolean, got ${typeof b}`);return(0,e.wrap)({size:d.length,encodeStream:(H,te)=>{!!te!==b&&H.bytes(d)},decodeStream:H=>{let te=H.leftBytes>=d.length;return te&&(te=r(H.bytes(d.length,!0),d),te&&H.bytes(d.length)),te!==b},validate:H=>{if(H!==void 0&&typeof H!="boolean")throw new Error(`flag: expected boolean value or undefined, got ${typeof H}`);return H}})};e.flag=he;function ue(d,b,H){if(!U(b))throw new Error(`flagged: invalid inner value ${b}`);if(typeof d!="string"&&!U(b))throw new Error(`flagged: wrong path=${d}`);return(0,e.wrap)({encodeStream:(te,ce)=>{typeof d=="string"?u.resolve(te.stack,d)?b.encodeStream(te,ce):H&&b.encodeStream(te,H):(d.encodeStream(te,!!ce),ce?b.encodeStream(te,ce):H&&b.encodeStream(te,H))},decodeStream:te=>{let ce=!1;if(typeof d=="string"?ce=!!u.resolve(te.stack,d):ce=d.decodeStream(te),ce)return b.decodeStream(te);H&&b.decodeStream(te)}})}e.flagged=ue;function W(d,b,H){if(!U(d)||!U(b))throw new Error(`optional: invalid flag or inner value flag=${d} inner=${b}`);return(0,e.wrap)({size:H!==void 0&&d.size&&b.size?d.size+b.size:void 0,encodeStream:(te,ce)=>{d.encodeStream(te,!!ce),ce?b.encodeStream(te,ce):H!==void 0&&b.encodeStream(te,H)},decodeStream:te=>{if(d.decodeStream(te))return b.decodeStream(te);H!==void 0&&b.decodeStream(te)}})}e.optional=W;function se(d,b,H=!0){if(!U(d))throw new Error(`magic: invalid inner value ${d}`);if(typeof H!="boolean")throw new Error(`magic: expected boolean, got ${typeof H}`);return(0,e.wrap)({size:d.size,encodeStream:(te,ce)=>d.encodeStream(te,b),decodeStream:te=>{const ce=d.decodeStream(te);if(H&&typeof ce!="object"&&ce!==b||n(b)&&!r(b,ce))throw te.err(`magic: invalid value: ${ce} !== ${b}`)},validate:te=>{if(te!==void 0)throw new Error(`magic: wrong value=${typeof te}`);return te}})}e.magic=se;const Z=d=>{const b=typeof d=="string"?t.utf8.decode(d):d;return se((0,e.bytes)(b.length),b)};e.magicBytes=Z;function ie(d){return(0,e.wrap)({encodeStream:(b,H)=>{if(H!==d)throw new Error(`constant: invalid value ${H} (exp: ${d})`)},decodeStream:b=>d})}e.constant=ie;function pe(d){let b=0;for(const H of d){if(H.size===void 0)return;if(!a(H.size))throw new Error(`sizeof: wrong element size=${b}`);b+=H.size}return b}function Ee(d){if(!s(d))throw new Error(`struct: expected plain object, got ${d}`);for(const b in d)if(!U(d[b]))throw new Error(`struct: field ${b} is not CoderType`);return(0,e.wrap)({size:pe(Object.values(d)),encodeStream:(b,H)=>{b.pushObj(H,te=>{for(const ce in d)te(ce,()=>d[ce].encodeStream(b,H[ce]))})},decodeStream:b=>{const H={};return b.pushObj(H,te=>{for(const ce in d)te(ce,()=>H[ce]=d[ce].decodeStream(b))}),H},validate:b=>{if(typeof b!="object"||b===null)throw new Error(`struct: invalid value ${b}`);return b}})}e.struct=Ee;function Oe(d){if(!Array.isArray(d))throw new Error(`Packed.Tuple: got ${typeof d} instead of array`);for(let b=0;b<d.length;b++)if(!U(d[b]))throw new Error(`tuple: field ${b} is not CoderType`);return(0,e.wrap)({size:pe(d),encodeStream:(b,H)=>{if(!Array.isArray(H))throw b.err(`tuple: invalid value ${H}`);b.pushObj(H,te=>{for(let ce=0;ce<d.length;ce++)te(`${ce}`,()=>d[ce].encodeStream(b,H[ce]))})},decodeStream:b=>{const H=[];return b.pushObj(H,te=>{for(let ce=0;ce<d.length;ce++)te(`${ce}`,()=>H.push(d[ce].decodeStream(b)))}),H},validate:b=>{if(!Array.isArray(b))throw new Error(`tuple: invalid value ${b}`);if(b.length!==d.length)throw new Error(`tuple: wrong length=${b.length}, expected ${d.length}`);return b}})}e.tuple=Oe;function Re(d,b){if(!U(b))throw new Error(`array: invalid inner value ${b}`);const H=l(typeof d=="string"?`../${d}`:d);return(0,e.wrap)({size:typeof d=="number"&&b.size?d*b.size:void 0,encodeStream:(te,ce)=>{const z=te;z.pushObj(ce,X=>{n(d)||H.encodeStream(te,ce.length);for(let oe=0;oe<ce.length;oe++)X(`${oe}`,()=>{const N=ce[oe],L=te.pos;if(b.encodeStream(te,N),n(d)){if(d.length>z.pos-L)return;const J=z.finish(!1).subarray(L,z.pos);if(r(J.subarray(0,d.length),d))throw z.err(`array: inner element encoding same as separator. elm=${N} data=${J}`)}})}),n(d)&&te.bytes(d)},decodeStream:te=>{const ce=[];return te.pushObj(ce,z=>{if(d===null)for(let X=0;!te.isEnd()&&(z(`${X}`,()=>ce.push(b.decodeStream(te))),!(b.size&&te.leftBytes<b.size));X++);else if(n(d))for(let X=0;;X++){if(r(te.bytes(d.length,!0),d)){te.bytes(d.length);break}z(`${X}`,()=>ce.push(b.decodeStream(te)))}else{let X;z("arrayLen",()=>X=H.decodeStream(te));for(let oe=0;oe<X;oe++)z(`${oe}`,()=>ce.push(b.decodeStream(te)))}}),ce},validate:te=>{if(!Array.isArray(te))throw new Error(`array: invalid value ${te}`);return te}})}e.array=Re;function Ce(d,b){if(!U(d))throw new Error(`map: invalid inner value ${d}`);if(!s(b))throw new Error("map: variants should be plain object");const H=new Map;for(const te in b)H.set(b[te],te);return(0,e.wrap)({size:d.size,encodeStream:(te,ce)=>d.encodeStream(te,b[ce]),decodeStream:te=>{const ce=d.decodeStream(te),z=H.get(ce);if(z===void 0)throw te.err(`Enum: unknown value: ${ce} ${Array.from(H.keys())}`);return z},validate:te=>{if(typeof te!="string")throw new Error(`map: invalid value ${te}`);if(!(te in b))throw new Error(`Map: unknown variant: ${te}`);return te}})}e.map=Ce;function P(d,b){if(!U(d))throw new Error(`tag: invalid tag value ${d}`);if(!s(b))throw new Error("tag: variants should be plain object");for(const H in b)if(!U(b[H]))throw new Error(`tag: variant ${H} is not CoderType`);return(0,e.wrap)({size:d.size,encodeStream:(H,te)=>{const{TAG:ce,data:z}=te,X=b[ce];d.encodeStream(H,ce),X.encodeStream(H,z)},decodeStream:H=>{const te=d.decodeStream(H),ce=b[te];if(!ce)throw H.err(`Tag: invalid tag ${te}`);return{TAG:te,data:ce.decodeStream(H)}},validate:H=>{const{TAG:te}=H;if(!b[te])throw new Error(`Tag: invalid tag ${te.toString()}`);return H}})}e.tag=P;function Y(d,b){if(!U(d))throw new Error(`mappedTag: invalid tag value ${P}`);if(!s(b))throw new Error("mappedTag: variants should be plain object");const H={},te={};for(const ce in b){const z=b[ce];H[ce]=z[0],te[ce]=z[1]}return P(Ce(d,H),te)}e.mappedTag=Y;function be(d,b=!1){if(typeof b!="boolean")throw new Error(`bitset/pad: expected boolean, got ${typeof b}`);if(!Array.isArray(d))throw new Error("bitset/names: expected array");for(const H of d)if(typeof H!="string")throw new Error("bitset/names: expected array of strings");return(0,e.wrap)({encodeStream:(H,te)=>{for(let ce=0;ce<d.length;ce++)H.bits(+te[d[ce]],1);b&&d.length%8&&H.bits(0,8-d.length%8)},decodeStream:H=>{const te={};for(let ce=0;ce<d.length;ce++)te[d[ce]]=!!H.bits(1);return b&&d.length%8&&H.bits(8-d.length%8),te},validate:H=>{if(!s(H))throw new Error(`bitset: invalid value ${H}`);for(const te of Object.values(H))if(typeof te!="boolean")throw new Error("expected boolean");return H}})}e.bitset=be;const Ue=d=>0;e.ZeroPad=Ue;function Ke(d,b){return b%d===0?0:d-b%d}function rt(d,b,H){if(!a(d)||d<=0)throw new Error(`padLeft: wrong blockSize=${d}`);if(!U(b))throw new Error(`padLeft: invalid inner value ${b}`);if(H!==void 0&&typeof H!="function")throw new Error(`padLeft: wrong padFn=${typeof H}`);const te=H||e.ZeroPad;if(!b.size)throw new Error("padLeft cannot have dynamic size");return(0,e.wrap)({size:b.size+Ke(d,b.size),encodeStream:(ce,z)=>{const X=Ke(d,b.size);for(let oe=0;oe<X;oe++)ce.byte(te(oe));b.encodeStream(ce,z)},decodeStream:ce=>(ce.bytes(Ke(d,b.size)),b.decodeStream(ce))})}e.padLeft=rt;function We(d,b,H){if(!U(b))throw new Error(`padRight: invalid inner value ${b}`);if(!a(d)||d<=0)throw new Error(`padLeft: wrong blockSize=${d}`);if(H!==void 0&&typeof H!="function")throw new Error(`padRight: wrong padFn=${typeof H}`);const te=H||e.ZeroPad;return(0,e.wrap)({size:b.size?b.size+Ke(d,b.size):void 0,encodeStream:(ce,z)=>{const X=ce,oe=X.pos;b.encodeStream(ce,z);const N=Ke(d,X.pos-oe);for(let L=0;L<N;L++)ce.byte(te(L))},decodeStream:ce=>{const z=ce.pos,X=b.decodeStream(ce);return ce.bytes(Ke(d,ce.pos-z)),X}})}e.padRight=We;function Qe(d,b,H=!1){if(!U(d))throw new Error(`pointer: invalid ptr value ${d}`);if(!U(b))throw new Error(`pointer: invalid inner value ${b}`);if(typeof H!="boolean")throw new Error(`pointer/sized: expected boolean, got ${typeof H}`);if(!d.size)throw new Error("unsized pointer");return(0,e.wrap)({size:H?d.size:void 0,encodeStream:(te,ce)=>{const z=te,X=z.pos;d.encodeStream(te,0),z.ptrs.push({pos:X,ptr:d,buffer:b.encode(ce)})},decodeStream:te=>{const ce=d.decodeStream(te);return te._enablePointers(),b.decodeStream(te.offsetReader(ce))}})}e.pointer=Qe,e._TEST={_bitset:c,_Reader:h,_Writer:g,Path:u}})(PO);var TO={},Sl={},us={};Object.defineProperty(us,"__esModule",{value:!0});us.ripemd160=us.RIPEMD160=us.md5=us.MD5=us.sha1=us.SHA1=void 0;const Ih=Eo,Xi=Zr,ug=Uint32Array.from([1732584193,4023233417,2562383102,271733878,3285377520]),lf=new Uint32Array(80);class CW extends Ih.HashMD{constructor(){super(64,20,8,!1),this.A=ug[0]|0,this.B=ug[1]|0,this.C=ug[2]|0,this.D=ug[3]|0,this.E=ug[4]|0}get(){const{A:t,B:r,C:n,D:i,E:o}=this;return[t,r,n,i,o]}set(t,r,n,i,o){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0}process(t,r){for(let l=0;l<16;l++,r+=4)lf[l]=t.getUint32(r,!1);for(let l=16;l<80;l++)lf[l]=(0,Xi.rotl)(lf[l-3]^lf[l-8]^lf[l-14]^lf[l-16],1);let{A:n,B:i,C:o,D:s,E:a}=this;for(let l=0;l<80;l++){let c,u;l<20?(c=(0,Ih.Chi)(i,o,s),u=1518500249):l<40?(c=i^o^s,u=1859775393):l<60?(c=(0,Ih.Maj)(i,o,s),u=2400959708):(c=i^o^s,u=3395469782);const h=(0,Xi.rotl)(n,5)+c+a+u+lf[l]|0;a=s,s=o,o=(0,Xi.rotl)(i,30),i=n,n=h}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,this.set(n,i,o,s,a)}roundClean(){(0,Xi.clean)(lf)}destroy(){this.set(0,0,0,0,0),(0,Xi.clean)(this.buffer)}}us.SHA1=CW;us.sha1=(0,Xi.createHasher)(()=>new CW);const I5e=Math.pow(2,32),B5e=Array.from({length:64},(e,t)=>Math.floor(I5e*Math.abs(Math.sin(t+1)))),p3=ug.slice(0,4),NS=new Uint32Array(16);class jW extends Ih.HashMD{constructor(){super(64,16,8,!0),this.A=p3[0]|0,this.B=p3[1]|0,this.C=p3[2]|0,this.D=p3[3]|0}get(){const{A:t,B:r,C:n,D:i}=this;return[t,r,n,i]}set(t,r,n,i){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0}process(t,r){for(let a=0;a<16;a++,r+=4)NS[a]=t.getUint32(r,!0);let{A:n,B:i,C:o,D:s}=this;for(let a=0;a<64;a++){let l,c,u;a<16?(l=(0,Ih.Chi)(i,o,s),c=a,u=[7,12,17,22]):a<32?(l=(0,Ih.Chi)(s,i,o),c=(5*a+1)%16,u=[5,9,14,20]):a<48?(l=i^o^s,c=(3*a+5)%16,u=[4,11,16,23]):(l=o^(i|~s),c=7*a%16,u=[6,10,15,21]),l=l+n+B5e[a]+NS[c],n=s,s=o,o=i,i=i+(0,Xi.rotl)(l,u[a%4])}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,this.set(n,i,o,s)}roundClean(){(0,Xi.clean)(NS)}destroy(){this.set(0,0,0,0),(0,Xi.clean)(this.buffer)}}us.MD5=jW;us.md5=(0,Xi.createHasher)(()=>new jW);const N5e=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),UW=Uint8Array.from(new Array(16).fill(0).map((e,t)=>t)),M5e=UW.map(e=>(9*e+5)%16),zW=(()=>{const e=[[UW],[M5e]];for(let t=0;t<4;t++)for(let r of e)r.push(r[t].map(n=>N5e[n]));return e})(),LW=zW[0],$W=zW[1],FW=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>Uint8Array.from(e)),R5e=LW.map((e,t)=>e.map(r=>FW[t][r])),C5e=$W.map((e,t)=>e.map(r=>FW[t][r])),j5e=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),U5e=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function qC(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}const g3=new Uint32Array(16);let DW=class extends Ih.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=e|0,this.h1=t|0,this.h2=r|0,this.h3=n|0,this.h4=i|0}process(e,t){for(let g=0;g<16;g++,t+=4)g3[g]=e.getUint32(t,!0);let r=this.h0|0,n=r,i=this.h1|0,o=i,s=this.h2|0,a=s,l=this.h3|0,c=l,u=this.h4|0,h=u;for(let g=0;g<5;g++){const k=4-g,R=j5e[g],F=U5e[g],D=LW[g],$=$W[g],B=R5e[g],U=C5e[g];for(let q=0;q<16;q++){const ee=(0,Xi.rotl)(r+qC(g,i,s,l)+g3[D[q]]+R,B[q])+u|0;r=u,u=l,l=(0,Xi.rotl)(s,10)|0,s=i,i=ee}for(let q=0;q<16;q++){const ee=(0,Xi.rotl)(n+qC(k,o,a,c)+g3[$[q]]+F,U[q])+h|0;n=h,h=c,c=(0,Xi.rotl)(a,10)|0,a=o,o=ee}}this.set(this.h1+s+c|0,this.h2+l+h|0,this.h3+u+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){(0,Xi.clean)(g3)}destroy(){this.destroyed=!0,(0,Xi.clean)(this.buffer),this.set(0,0,0,0,0)}};us.RIPEMD160=DW;us.ripemd160=(0,Xi.createHasher)(()=>new DW);var gp={},dm={};(function(e){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(e,"__esModule",{value:!0}),e.bytes=e.stringToBytes=e.str=e.bytesToString=e.hex=e.utf8=e.bech32m=e.bech32=e.base58check=e.createBase58check=e.base58xmr=e.base58xrp=e.base58flickr=e.base58=e.base64urlnopad=e.base64url=e.base64nopad=e.base64=e.base32crockford=e.base32hexnopad=e.base32hex=e.base32nopad=e.base32=e.base16=e.utils=void 0;function t(ue){return ue instanceof Uint8Array||ArrayBuffer.isView(ue)&&ue.constructor.name==="Uint8Array"}function r(ue,...W){if(!t(ue))throw new Error("Uint8Array expected");if(W.length>0&&!W.includes(ue.length))throw new Error("Uint8Array expected of length "+W+", got length="+ue.length)}function n(ue,W){return Array.isArray(W)?W.length===0?!0:ue?W.every(se=>typeof se=="string"):W.every(se=>Number.isSafeInteger(se)):!1}function i(ue){if(typeof ue!="function")throw new Error("function expected");return!0}function o(ue,W){if(typeof W!="string")throw new Error(`${ue}: string expected`);return!0}function s(ue){if(!Number.isSafeInteger(ue))throw new Error(`invalid integer: ${ue}`)}function a(ue){if(!Array.isArray(ue))throw new Error("array expected")}function l(ue,W){if(!n(!0,W))throw new Error(`${ue}: array of strings expected`)}function c(ue,W){if(!n(!1,W))throw new Error(`${ue}: array of numbers expected`)}function u(...ue){const W=pe=>pe,se=(pe,Ee)=>Oe=>pe(Ee(Oe)),Z=ue.map(pe=>pe.encode).reduceRight(se,W),ie=ue.map(pe=>pe.decode).reduce(se,W);return{encode:Z,decode:ie}}function h(ue){const W=typeof ue=="string"?ue.split(""):ue,se=W.length;l("alphabet",W);const Z=new Map(W.map((ie,pe)=>[ie,pe]));return{encode:ie=>(a(ie),ie.map(pe=>{if(!Number.isSafeInteger(pe)||pe<0||pe>=se)throw new Error(`alphabet.encode: digit index outside alphabet "${pe}". Allowed: ${ue}`);return W[pe]})),decode:ie=>(a(ie),ie.map(pe=>{o("alphabet.decode",pe);const Ee=Z.get(pe);if(Ee===void 0)throw new Error(`Unknown letter: "${pe}". Allowed: ${ue}`);return Ee}))}}function g(ue=""){return o("join",ue),{encode:W=>(l("join.decode",W),W.join(ue)),decode:W=>(o("join.decode",W),W.split(ue))}}function k(ue,W="="){return s(ue),o("padding",W),{encode(se){for(l("padding.encode",se);se.length*ue%8;)se.push(W);return se},decode(se){l("padding.decode",se);let Z=se.length;if(Z*ue%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;Z>0&&se[Z-1]===W;Z--)if((Z-1)*ue%8===0)throw new Error("padding: invalid, string has too much padding");return se.slice(0,Z)}}}function R(ue){return i(ue),{encode:W=>W,decode:W=>ue(W)}}function F(ue,W,se){if(W<2)throw new Error(`convertRadix: invalid from=${W}, base cannot be less than 2`);if(se<2)throw new Error(`convertRadix: invalid to=${se}, base cannot be less than 2`);if(a(ue),!ue.length)return[];let Z=0;const ie=[],pe=Array.from(ue,Oe=>{if(s(Oe),Oe<0||Oe>=W)throw new Error(`invalid integer: ${Oe}`);return Oe}),Ee=pe.length;for(;;){let Oe=0,Re=!0;for(let Ce=Z;Ce<Ee;Ce++){const P=pe[Ce],Y=W*Oe,be=Y+P;if(!Number.isSafeInteger(be)||Y/W!==Oe||be-P!==Y)throw new Error("convertRadix: carry overflow");const Ue=be/se;Oe=be%se;const Ke=Math.floor(Ue);if(pe[Ce]=Ke,!Number.isSafeInteger(Ke)||Ke*se+Oe!==be)throw new Error("convertRadix: carry overflow");if(Re)Ke?Re=!1:Z=Ce;else continue}if(ie.push(Oe),Re)break}for(let Oe=0;Oe<ue.length-1&&ue[Oe]===0;Oe++)ie.push(0);return ie.reverse()}const D=(ue,W)=>W===0?ue:D(W,ue%W),$=(ue,W)=>ue+(W-D(ue,W)),B=(()=>{let ue=[];for(let W=0;W<40;W++)ue.push(2**W);return ue})();function U(ue,W,se,Z){if(a(ue),W<=0||W>32)throw new Error(`convertRadix2: wrong from=${W}`);if(se<=0||se>32)throw new Error(`convertRadix2: wrong to=${se}`);if($(W,se)>32)throw new Error(`convertRadix2: carry overflow from=${W} to=${se} carryBits=${$(W,se)}`);let ie=0,pe=0;const Ee=B[W],Oe=B[se]-1,Re=[];for(const Ce of ue){if(s(Ce),Ce>=Ee)throw new Error(`convertRadix2: invalid data word=${Ce} from=${W}`);if(ie=ie<<W|Ce,pe+W>32)throw new Error(`convertRadix2: carry overflow pos=${pe} from=${W}`);for(pe+=W;pe>=se;pe-=se)Re.push((ie>>pe-se&Oe)>>>0);const P=B[pe];if(P===void 0)throw new Error("invalid carry");ie&=P-1}if(ie=ie<<se-pe&Oe,!Z&&pe>=W)throw new Error("Excess padding");if(!Z&&ie>0)throw new Error(`Non-zero padding: ${ie}`);return Z&&pe>0&&Re.push(ie>>>0),Re}function q(ue){s(ue);const W=2**8;return{encode:se=>{if(!t(se))throw new Error("radix.encode input should be Uint8Array");return F(Array.from(se),W,ue)},decode:se=>(c("radix.decode",se),Uint8Array.from(F(se,ue,W)))}}function ee(ue,W=!1){if(s(ue),ue<=0||ue>32)throw new Error("radix2: bits should be in (0..32]");if($(8,ue)>32||$(ue,8)>32)throw new Error("radix2: carry overflow");return{encode:se=>{if(!t(se))throw new Error("radix2.encode input should be Uint8Array");return U(Array.from(se),8,ue,!W)},decode:se=>(c("radix2.decode",se),Uint8Array.from(U(se,ue,8,W)))}}function ae(ue){return i(ue),function(...W){try{return ue.apply(null,W)}catch{}}}function re(ue,W){return s(ue),i(W),{encode(se){if(!t(se))throw new Error("checksum.encode: input should be Uint8Array");const Z=W(se).slice(0,ue),ie=new Uint8Array(se.length+ue);return ie.set(se),ie.set(Z,se.length),ie},decode(se){if(!t(se))throw new Error("checksum.decode: input should be Uint8Array");const Z=se.slice(0,-ue),ie=se.slice(-ue),pe=W(Z).slice(0,ue);for(let Ee=0;Ee<ue;Ee++)if(pe[Ee]!==ie[Ee])throw new Error("Invalid checksum");return Z}}}e.utils={alphabet:h,chain:u,checksum:re,convertRadix:F,convertRadix2:U,radix:q,radix2:ee,join:g,padding:k},e.base16=u(ee(4),h("0123456789ABCDEF"),g("")),e.base32=u(ee(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),k(5),g("")),e.base32nopad=u(ee(5),h("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),g("")),e.base32hex=u(ee(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),k(5),g("")),e.base32hexnopad=u(ee(5),h("0123456789ABCDEFGHIJKLMNOPQRSTUV"),g("")),e.base32crockford=u(ee(5),h("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),g(""),R(ue=>ue.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const K=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",C=(ue,W)=>{o("base64",ue);const se=W?/^[A-Za-z0-9=_-]+$/:/^[A-Za-z0-9=+/]+$/,Z=W?"base64url":"base64";if(ue.length>0&&!se.test(ue))throw new Error("invalid base64");return Uint8Array.fromBase64(ue,{alphabet:Z,lastChunkHandling:"strict"})};e.base64=K?{encode(ue){return r(ue),ue.toBase64()},decode(ue){return C(ue,!1)}}:u(ee(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),k(6),g("")),e.base64nopad=u(ee(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),g("")),e.base64url=K?{encode(ue){return r(ue),ue.toBase64({alphabet:"base64url"})},decode(ue){return C(ue,!0)}}:u(ee(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),k(6),g("")),e.base64urlnopad=u(ee(6),h("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),g(""));const G=ue=>u(q(58),h(ue),g(""));e.base58=G("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),e.base58flickr=G("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),e.base58xrp=G("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const v=[0,2,3,5,6,7,9,10,11];e.base58xmr={encode(ue){let W="";for(let se=0;se<ue.length;se+=8){const Z=ue.subarray(se,se+8);W+=e.base58.encode(Z).padStart(v[Z.length],"1")}return W},decode(ue){let W=[];for(let se=0;se<ue.length;se+=11){const Z=ue.slice(se,se+11),ie=v.indexOf(Z.length),pe=e.base58.decode(Z);for(let Ee=0;Ee<pe.length-ie;Ee++)if(pe[Ee]!==0)throw new Error("base58xmr: wrong padding");W=W.concat(Array.from(pe.slice(pe.length-ie)))}return Uint8Array.from(W)}};const I=ue=>u(re(4,W=>ue(ue(W))),e.base58);e.createBase58check=I,e.base58check=e.createBase58check;const p=u(h("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),g("")),_=[996825010,642813549,513874426,1027748829,705979059];function w(ue){const W=ue>>25;let se=(ue&33554431)<<5;for(let Z=0;Z<_.length;Z++)(W>>Z&1)===1&&(se^=_[Z]);return se}function S(ue,W,se=1){const Z=ue.length;let ie=1;for(let pe=0;pe<Z;pe++){const Ee=ue.charCodeAt(pe);if(Ee<33||Ee>126)throw new Error(`Invalid prefix (${ue})`);ie=w(ie)^Ee>>5}ie=w(ie);for(let pe=0;pe<Z;pe++)ie=w(ie)^ue.charCodeAt(pe)&31;for(let pe of W)ie=w(ie)^pe;for(let pe=0;pe<6;pe++)ie=w(ie);return ie^=se,p.encode(U([ie%B[30]],30,5,!1))}function A(ue){const W=ue==="bech32"?1:734539939,se=ee(5),Z=se.decode,ie=se.encode,pe=ae(Z);function Ee(Y,be,Ue=90){o("bech32.encode prefix",Y),t(be)&&(be=Array.from(be)),c("bech32.encode",be);const Ke=Y.length;if(Ke===0)throw new TypeError(`Invalid prefix length ${Ke}`);const rt=Ke+7+be.length;if(Ue!==!1&&rt>Ue)throw new TypeError(`Length ${rt} exceeds limit ${Ue}`);const We=Y.toLowerCase(),Qe=S(We,be,W);return`${We}1${p.encode(be)}${Qe}`}function Oe(Y,be=90){o("bech32.decode input",Y);const Ue=Y.length;if(Ue<8||be!==!1&&Ue>be)throw new TypeError(`invalid string length: ${Ue} (${Y}). Expected (8..${be})`);const Ke=Y.toLowerCase();if(Y!==Ke&&Y!==Y.toUpperCase())throw new Error("String must be lowercase or uppercase");const rt=Ke.lastIndexOf("1");if(rt===0||rt===-1)throw new Error('Letter "1" must be present between prefix and data only');const We=Ke.slice(0,rt),Qe=Ke.slice(rt+1);if(Qe.length<6)throw new Error("Data must be at least 6 characters long");const d=p.decode(Qe).slice(0,-6),b=S(We,d,W);if(!Qe.endsWith(b))throw new Error(`Invalid checksum in ${Y}: expected "${b}"`);return{prefix:We,words:d}}const Re=ae(Oe);function Ce(Y){const{prefix:be,words:Ue}=Oe(Y,!1);return{prefix:be,words:Ue,bytes:Z(Ue)}}function P(Y,be){return Ee(Y,ie(be))}return{encode:Ee,decode:Oe,encodeFromBytes:P,decodeToBytes:Ce,decodeUnsafe:Re,fromWords:Z,fromWordsUnsafe:pe,toWords:ie}}e.bech32=A("bech32"),e.bech32m=A("bech32m"),e.utf8={encode:ue=>new TextDecoder().decode(ue),decode:ue=>new TextEncoder().encode(ue)};const x=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",E={encode(ue){return r(ue),ue.toHex()},decode(ue){return o("hex",ue),Uint8Array.fromHex(ue)}};e.hex=x?E:u(ee(4),h("0123456789abcdef"),g(""),R(ue=>{if(typeof ue!="string"||ue.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof ue} with length ${ue.length}`);return ue.toLowerCase()}));const T={utf8:e.utf8,hex:e.hex,base16:e.base16,base32:e.base32,base64:e.base64,base64url:e.base64url,base58:e.base58,base58xmr:e.base58xmr},M="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",Q=(ue,W)=>{if(typeof ue!="string"||!T.hasOwnProperty(ue))throw new TypeError(M);if(!t(W))throw new TypeError("bytesToString() expects Uint8Array");return T[ue].encode(W)};e.bytesToString=Q,e.str=e.bytesToString;const he=(ue,W)=>{if(!T.hasOwnProperty(ue))throw new TypeError(M);if(typeof W!="string")throw new TypeError("stringToBytes() expects string");return T[ue].decode(W)};e.stringToBytes=he,e.bytes=e.stringToBytes})(dm);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._TEST=e.ZeroPad=e.magicBytes=e.flag=e.cstring=e.string=e.hex=e.bytes=e.bool=e.F64LE=e.F64BE=e.F32LE=e.F32BE=e.I8=e.U8=e.I16BE=e.I16LE=e.U16BE=e.U16LE=e.I32BE=e.I32LE=e.U32BE=e.U32LE=e.int=e.I64BE=e.I64LE=e.U64BE=e.U64LE=e.I128BE=e.I128LE=e.U128BE=e.U128LE=e.I256BE=e.I256LE=e.U256BE=e.U256LE=e.bigint=e.bits=e.coders=e.wrap=e.utils=e.NULL=e.EMPTY=void 0,e.validate=D,e.isCoder=U,e.prefix=x,e.apply=M,e.lazy=Q,e.flagged=ue,e.optional=W,e.magic=se,e.constant=ie,e.struct=Ee,e.tuple=Oe,e.array=Re,e.map=Ce,e.tag=P,e.mappedTag=Y,e.bitset=be,e.padLeft=rt,e.padRight=We,e.pointer=Qe;const t=dm;e.EMPTY=new Uint8Array,e.NULL=new Uint8Array([0]);function r(d,b){if(d.length!==b.length)return!1;for(let H=0;H<d.length;H++)if(d[H]!==b[H])return!1;return!0}function n(d){return d instanceof Uint8Array||ArrayBuffer.isView(d)&&d.constructor.name==="Uint8Array"}function i(...d){let b=0;for(let te=0;te<d.length;te++){const ce=d[te];if(!n(ce))throw new Error("Uint8Array expected");b+=ce.length}const H=new Uint8Array(b);for(let te=0,ce=0;te<d.length;te++){const z=d[te];H.set(z,ce),ce+=z.length}return H}const o=d=>new DataView(d.buffer,d.byteOffset,d.byteLength);function s(d){return Object.prototype.toString.call(d)==="[object Object]"}function a(d){return Number.isSafeInteger(d)}e.utils={equalBytes:r,isBytes:n,isCoder:U,checkBounds:R,concatBytes:i,createView:o,isPlainObject:s};const l=d=>{if(d!==null&&typeof d!="string"&&!U(d)&&!n(d)&&!a(d))throw new Error(`lengthCoder: expected null | number | Uint8Array | CoderType, got ${d} (${typeof d})`);return{encodeStream(b,H){if(d===null)return;if(U(d))return d.encodeStream(b,H);let te;if(typeof d=="number"?te=d:typeof d=="string"&&(te=u.resolve(b.stack,d)),typeof te=="bigint"&&(te=Number(te)),te===void 0||te!==H)throw b.err(`Wrong length: ${te} len=${d} exp=${H} (${typeof H})`)},decodeStream(b){let H;if(U(d)?H=Number(d.decodeStream(b)):typeof d=="number"?H=d:typeof d=="string"&&(H=u.resolve(b.stack,d)),typeof H=="bigint"&&(H=Number(H)),typeof H!="number")throw b.err(`Wrong length: ${H}`);return H}}},c={BITS:32,FULL_MASK:-1>>>0,len:d=>Math.ceil(d/32),create:d=>new Uint32Array(c.len(d)),clean:d=>d.fill(0),debug:d=>Array.from(d).map(b=>(b>>>0).toString(2).padStart(32,"0")),checkLen:(d,b)=>{if(c.len(b)!==d.length)throw new Error(`wrong length=${d.length}. Expected: ${c.len(b)}`)},chunkLen:(d,b,H)=>{if(b<0)throw new Error(`wrong pos=${b}`);if(b+H>d)throw new Error(`wrong range=${b}/${H} of ${d}`)},set:(d,b,H,te=!0)=>!te&&d[b]&H?!1:(d[b]|=H,!0),pos:(d,b)=>({chunk:Math.floor((d+b)/32),mask:1<<32-(d+b)%32-1}),indices:(d,b,H=!1)=>{c.checkLen(d,b);const{FULL_MASK:te,BITS:ce}=c,z=ce-b%ce,X=z?te>>>z<<z:te,oe=[];for(let N=0;N<d.length;N++){let L=d[N];if(H&&(L=~L),N===d.length-1&&(L&=X),L!==0)for(let J=0;J<ce;J++){const ge=1<<ce-J-1;L&ge&&oe.push(N*ce+J)}}return oe},range:d=>{const b=[];let H;for(const te of d)H===void 0||te!==H.pos+H.length?b.push(H={pos:te,length:1}):H.length+=1;return b},rangeDebug:(d,b,H=!1)=>`[${c.range(c.indices(d,b,H)).map(te=>`(${te.pos}/${te.length})`).join(", ")}]`,setRange:(d,b,H,te,ce=!0)=>{c.chunkLen(b,H,te);const{FULL_MASK:z,BITS:X}=c,oe=H%X?Math.floor(H/X):void 0,N=H+te,L=N%X?Math.floor(N/X):void 0;if(oe!==void 0&&oe===L)return c.set(d,oe,z>>>X-te<<X-te-H,ce);if(oe!==void 0&&!c.set(d,oe,z>>>H%X,ce))return!1;const J=oe!==void 0?oe+1:H/X,ge=L!==void 0?L:N/X;for(let le=J;le<ge;le++)if(!c.set(d,le,z,ce))return!1;return!(L!==void 0&&oe!==L&&!c.set(d,L,z<<X-N%X,ce))}},u={pushObj:(d,b,H)=>{const te={obj:b};d.push(te),H((ce,z)=>{te.field=ce,z(),te.field=void 0}),d.pop()},path:d=>{const b=[];for(const H of d)H.field!==void 0&&b.push(H.field);return b.join("/")},err:(d,b,H)=>{const te=new Error(`${d}(${u.path(b)}): ${typeof H=="string"?H:H.message}`);return H instanceof Error&&H.stack&&(te.stack=H.stack),te},resolve:(d,b)=>{const H=b.split("/"),te=d.map(X=>X.obj);let ce=0;for(;ce<H.length&&H[ce]==="..";ce++)te.pop();let z=te.pop();for(;ce<H.length;ce++){if(!z||z[H[ce]]===void 0)return;z=z[H[ce]]}return z}};class h{constructor(b,H={},te=[],ce=void 0,z=0){this.pos=0,this.bitBuf=0,this.bitPos=0,this.data=b,this.opts=H,this.stack=te,this.parent=ce,this.parentOffset=z,this.view=o(b)}_enablePointers(){if(this.parent)return this.parent._enablePointers();this.bs||(this.bs=c.create(this.data.length),c.setRange(this.bs,this.data.length,0,this.pos,this.opts.allowMultipleReads))}markBytesBS(b,H){return this.parent?this.parent.markBytesBS(this.parentOffset+b,H):!H||!this.bs?!0:c.setRange(this.bs,this.data.length,b,H,!1)}markBytes(b){const H=this.pos;this.pos+=b;const te=this.markBytesBS(H,b);if(!this.opts.allowMultipleReads&&!te)throw this.err(`multiple read pos=${this.pos} len=${b}`);return te}pushObj(b,H){return u.pushObj(this.stack,b,H)}readView(b,H){if(!Number.isFinite(b))throw this.err(`readView: wrong length=${b}`);if(this.pos+b>this.data.length)throw this.err("readView: Unexpected end of buffer");const te=H(this.view,this.pos);return this.markBytes(b),te}absBytes(b){if(b>this.data.length)throw new Error("Unexpected end of buffer");return this.data.subarray(b)}finish(){if(!this.opts.allowUnreadBytes){if(this.bitPos)throw this.err(`${this.bitPos} bits left after unpack: ${t.hex.encode(this.data.slice(this.pos))}`);if(this.bs&&!this.parent){const b=c.indices(this.bs,this.data.length,!0);if(b.length){const H=c.range(b).map(({pos:te,length:ce})=>`(${te}/${ce})[${t.hex.encode(this.data.subarray(te,te+ce))}]`).join(", ");throw this.err(`unread byte ranges: ${H} (total=${this.data.length})`)}else return}if(!this.isEnd())throw this.err(`${this.leftBytes} bytes ${this.bitPos} bits left after unpack: ${t.hex.encode(this.data.slice(this.pos))}`)}}err(b){return u.err("Reader",this.stack,b)}offsetReader(b){if(b>this.data.length)throw this.err("offsetReader: Unexpected end of buffer");return new h(this.absBytes(b),this.opts,this.stack,this,b)}bytes(b,H=!1){if(this.bitPos)throw this.err("readBytes: bitPos not empty");if(!Number.isFinite(b))throw this.err(`readBytes: wrong length=${b}`);if(this.pos+b>this.data.length)throw this.err("readBytes: Unexpected end of buffer");const te=this.data.subarray(this.pos,this.pos+b);return H||this.markBytes(b),te}byte(b=!1){if(this.bitPos)throw this.err("readByte: bitPos not empty");if(this.pos+1>this.data.length)throw this.err("readBytes: Unexpected end of buffer");const H=this.data[this.pos];return b||this.markBytes(1),H}get leftBytes(){return this.data.length-this.pos}get totalBytes(){return this.data.length}isEnd(){return this.pos>=this.data.length&&!this.bitPos}bits(b){if(b>32)throw this.err("BitReader: cannot read more than 32 bits in single call");let H=0;for(;b;){this.bitPos||(this.bitBuf=this.byte(),this.bitPos=8);const te=Math.min(b,this.bitPos);this.bitPos-=te,H=H<<te|this.bitBuf>>this.bitPos&2**te-1,this.bitBuf&=2**this.bitPos-1,b-=te}return H>>>0}find(b,H=this.pos){if(!n(b))throw this.err(`find: needle is not bytes! ${b}`);if(this.bitPos)throw this.err("findByte: bitPos not empty");if(!b.length)throw this.err("find: needle is empty");for(let te=H;(te=this.data.indexOf(b[0],te))!==-1;te++){if(te===-1||this.data.length-te<b.length)return;if(r(b,this.data.subarray(te,te+b.length)))return te}}}class g{constructor(b=[]){this.pos=0,this.buffers=[],this.ptrs=[],this.bitBuf=0,this.bitPos=0,this.viewBuf=new Uint8Array(8),this.finished=!1,this.stack=b,this.view=o(this.viewBuf)}pushObj(b,H){return u.pushObj(this.stack,b,H)}writeView(b,H){if(this.finished)throw this.err("buffer: finished");if(!a(b)||b>8)throw new Error(`wrong writeView length=${b}`);H(this.view),this.bytes(this.viewBuf.slice(0,b)),this.viewBuf.fill(0)}err(b){if(this.finished)throw this.err("buffer: finished");return u.err("Reader",this.stack,b)}bytes(b){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeBytes: ends with non-empty bit buffer");this.buffers.push(b),this.pos+=b.length}byte(b){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("writeByte: ends with non-empty bit buffer");this.buffers.push(new Uint8Array([b])),this.pos++}finish(b=!0){if(this.finished)throw this.err("buffer: finished");if(this.bitPos)throw this.err("buffer: ends with non-empty bit buffer");const H=this.buffers.concat(this.ptrs.map(z=>z.buffer)),te=H.map(z=>z.length).reduce((z,X)=>z+X,0),ce=new Uint8Array(te);for(let z=0,X=0;z<H.length;z++){const oe=H[z];ce.set(oe,X),X+=oe.length}for(let z=this.pos,X=0;X<this.ptrs.length;X++){const oe=this.ptrs[X];ce.set(oe.ptr.encode(z),oe.pos),z+=oe.buffer.length}if(b){this.buffers=[];for(const z of this.ptrs)z.buffer.fill(0);this.ptrs=[],this.finished=!0,this.bitBuf=0}return ce}bits(b,H){if(H>32)throw this.err("writeBits: cannot write more than 32 bits in single call");if(b>=2**H)throw this.err(`writeBits: value (${b}) >= 2**bits (${H})`);for(;H;){const te=Math.min(H,8-this.bitPos);this.bitBuf=this.bitBuf<<te|b>>H-te,this.bitPos+=te,H-=te,b&=2**H-1,this.bitPos===8&&(this.bitPos=0,this.buffers.push(new Uint8Array([this.bitBuf])),this.pos++)}}}const k=d=>Uint8Array.from(d).reverse();function R(d,b,H){if(H){const te=2n**(b-1n);if(d<-te||d>=te)throw new Error(`value out of signed bounds. Expected ${-te} <= ${d} < ${te}`)}else if(0n>d||d>=2n**b)throw new Error(`value out of unsigned bounds. Expected 0 <= ${d} < ${2n**b}`)}function F(d){return{encodeStream:d.encodeStream,decodeStream:d.decodeStream,size:d.size,encode:b=>{const H=new g;return d.encodeStream(H,b),H.finish()},decode:(b,H={})=>{const te=new h(b,H),ce=d.decodeStream(te);return te.finish(),ce}}}function D(d,b){if(!U(d))throw new Error(`validate: invalid inner value ${d}`);if(typeof b!="function")throw new Error("validate: fn should be function");return F({size:d.size,encodeStream:(H,te)=>{let ce;try{ce=b(te)}catch(z){throw H.err(z)}d.encodeStream(H,ce)},decodeStream:H=>{const te=d.decodeStream(H);try{return b(te)}catch(ce){throw H.err(ce)}}})}const $=d=>{const b=F(d);return d.validate?D(b,d.validate):b};e.wrap=$;const B=d=>s(d)&&typeof d.decode=="function"&&typeof d.encode=="function";function U(d){return s(d)&&B(d)&&typeof d.encodeStream=="function"&&typeof d.decodeStream=="function"&&(d.size===void 0||a(d.size))}function q(){return{encode:d=>{if(!Array.isArray(d))throw new Error("array expected");const b={};for(const H of d){if(!Array.isArray(H)||H.length!==2)throw new Error("array of two elements expected");const te=H[0],ce=H[1];if(b[te]!==void 0)throw new Error(`key(${te}) appears twice in struct`);b[te]=ce}return b},decode:d=>{if(!s(d))throw new Error(`expected plain object, got ${d}`);return Object.entries(d)}}}const ee={encode:d=>{if(typeof d!="bigint")throw new Error(`expected bigint, got ${typeof d}`);if(d>BigInt(Number.MAX_SAFE_INTEGER))throw new Error(`element bigger than MAX_SAFE_INTEGER=${d}`);return Number(d)},decode:d=>{if(!a(d))throw new Error("element is not a safe integer");return BigInt(d)}};function ae(d){if(!s(d))throw new Error("plain object expected");return{encode:b=>{if(!a(b)||!(b in d))throw new Error(`wrong value ${b}`);return d[b]},decode:b=>{if(typeof b!="string")throw new Error(`wrong value ${typeof b}`);return d[b]}}}function re(d,b=!1){if(!a(d))throw new Error(`decimal/precision: wrong value ${d}`);if(typeof b!="boolean")throw new Error(`decimal/round: expected boolean, got ${typeof b}`);const H=10n**BigInt(d);return{encode:te=>{if(typeof te!="bigint")throw new Error(`expected bigint, got ${typeof te}`);let ce=(te<0n?-te:te).toString(10),z=ce.length-d;z<0&&(ce=ce.padStart(ce.length-z,"0"),z=0);let X=ce.length-1;for(;X>=z&&ce[X]==="0";X--);let oe=ce.slice(0,z),N=ce.slice(z,X+1);return oe||(oe="0"),te<0n&&(oe="-"+oe),N?`${oe}.${N}`:oe},decode:te=>{if(typeof te!="string")throw new Error(`expected string, got ${typeof te}`);if(te==="-0")throw new Error("negative zero is not allowed");let ce=!1;if(te.startsWith("-")&&(ce=!0,te=te.slice(1)),!/^(0|[1-9]\d*)(\.\d+)?$/.test(te))throw new Error(`wrong string value=${te}`);let z=te.indexOf(".");z=z===-1?te.length:z;const X=te.slice(0,z),oe=te.slice(z+1).replace(/0+$/,""),N=BigInt(X)*H;if(!b&&oe.length>d)throw new Error(`fractional part cannot be represented with this precision (num=${te}, prec=${d})`);const L=Math.min(oe.length,d),J=BigInt(oe.slice(0,L))*10n**BigInt(d-L),ge=N+J;return ce?-ge:ge}}}function K(d){if(!Array.isArray(d))throw new Error(`expected array, got ${typeof d}`);for(const b of d)if(!B(b))throw new Error(`wrong base coder ${b}`);return{encode:b=>{for(const H of d){const te=H.encode(b);if(te!==void 0)return te}throw new Error(`match/encode: cannot find match in ${b}`)},decode:b=>{for(const H of d){const te=H.decode(b);if(te!==void 0)return te}throw new Error(`match/decode: cannot find match in ${b}`)}}}const C=d=>{if(!B(d))throw new Error("BaseCoder expected");return{encode:d.decode,decode:d.encode}};e.coders={dict:q,numberBigint:ee,tsEnum:ae,decimal:re,match:K,reverse:C};const G=d=>{if(!a(d))throw new Error(`bits: wrong length ${d} (${typeof d})`);return(0,e.wrap)({encodeStream:(b,H)=>b.bits(H,d),decodeStream:b=>b.bits(d),validate:b=>{if(!a(b))throw new Error(`bits: wrong value ${b}`);return b}})};e.bits=G;const v=(d,b=!1,H=!1,te=!0)=>{if(!a(d))throw new Error(`bigint/size: wrong value ${d}`);if(typeof b!="boolean")throw new Error(`bigint/le: expected boolean, got ${typeof b}`);if(typeof H!="boolean")throw new Error(`bigint/signed: expected boolean, got ${typeof H}`);if(typeof te!="boolean")throw new Error(`bigint/sized: expected boolean, got ${typeof te}`);const ce=BigInt(d),z=2n**(8n*ce-1n);return(0,e.wrap)({size:te?d:void 0,encodeStream:(X,oe)=>{H&&oe<0&&(oe=oe|z);const N=[];for(let J=0;J<d;J++)N.push(Number(oe&255n)),oe>>=8n;let L=new Uint8Array(N).reverse();if(!te){let J=0;for(J=0;J<L.length&&L[J]===0;J++);L=L.subarray(J)}X.bytes(b?L.reverse():L)},decodeStream:X=>{const oe=X.bytes(te?d:Math.min(d,X.leftBytes)),N=b?oe:k(oe);let L=0n;for(let J=0;J<N.length;J++)L|=BigInt(N[J])<<8n*BigInt(J);return H&&L&z&&(L=(L^z)-z),L},validate:X=>{if(typeof X!="bigint")throw new Error(`bigint: invalid value: ${X}`);return R(X,8n*ce,!!H),X}})};e.bigint=v,e.U256LE=(0,e.bigint)(32,!0),e.U256BE=(0,e.bigint)(32,!1),e.I256LE=(0,e.bigint)(32,!0,!0),e.I256BE=(0,e.bigint)(32,!1,!0),e.U128LE=(0,e.bigint)(16,!0),e.U128BE=(0,e.bigint)(16,!1),e.I128LE=(0,e.bigint)(16,!0,!0),e.I128BE=(0,e.bigint)(16,!1,!0),e.U64LE=(0,e.bigint)(8,!0),e.U64BE=(0,e.bigint)(8,!1),e.I64LE=(0,e.bigint)(8,!0,!0),e.I64BE=(0,e.bigint)(8,!1,!0);const I=(d,b=!1,H=!1,te=!0)=>{if(!a(d))throw new Error(`int/size: wrong value ${d}`);if(typeof b!="boolean")throw new Error(`int/le: expected boolean, got ${typeof b}`);if(typeof H!="boolean")throw new Error(`int/signed: expected boolean, got ${typeof H}`);if(typeof te!="boolean")throw new Error(`int/sized: expected boolean, got ${typeof te}`);if(d>6)throw new Error("int supports size up to 6 bytes (48 bits): use bigints instead");return M((0,e.bigint)(d,b,H,te),e.coders.numberBigint)};e.int=I;const p=(d,b)=>(0,e.wrap)({size:d,encodeStream:(H,te)=>H.writeView(d,ce=>b.write(ce,te)),decodeStream:H=>H.readView(d,b.read),validate:H=>{if(typeof H!="number")throw new Error(`viewCoder: expected number, got ${typeof H}`);return b.validate&&b.validate(H),H}}),_=(d,b,H)=>{const te=d*8,ce=2**(te-1),z=N=>{if(!a(N))throw new Error(`sintView: value is not safe integer: ${N}`);if(N<-ce||N>=ce)throw new Error(`sintView: value out of bounds. Expected ${-ce} <= ${N} < ${ce}`)},X=2**te,oe=N=>{if(!a(N))throw new Error(`uintView: value is not safe integer: ${N}`);if(0>N||N>=X)throw new Error(`uintView: value out of bounds. Expected 0 <= ${N} < ${X}`)};return p(d,{write:H.write,read:H.read,validate:b?z:oe})};e.U32LE=_(4,!1,{read:(d,b)=>d.getUint32(b,!0),write:(d,b)=>d.setUint32(0,b,!0)}),e.U32BE=_(4,!1,{read:(d,b)=>d.getUint32(b,!1),write:(d,b)=>d.setUint32(0,b,!1)}),e.I32LE=_(4,!0,{read:(d,b)=>d.getInt32(b,!0),write:(d,b)=>d.setInt32(0,b,!0)}),e.I32BE=_(4,!0,{read:(d,b)=>d.getInt32(b,!1),write:(d,b)=>d.setInt32(0,b,!1)}),e.U16LE=_(2,!1,{read:(d,b)=>d.getUint16(b,!0),write:(d,b)=>d.setUint16(0,b,!0)}),e.U16BE=_(2,!1,{read:(d,b)=>d.getUint16(b,!1),write:(d,b)=>d.setUint16(0,b,!1)}),e.I16LE=_(2,!0,{read:(d,b)=>d.getInt16(b,!0),write:(d,b)=>d.setInt16(0,b,!0)}),e.I16BE=_(2,!0,{read:(d,b)=>d.getInt16(b,!1),write:(d,b)=>d.setInt16(0,b,!1)}),e.U8=_(1,!1,{read:(d,b)=>d.getUint8(b),write:(d,b)=>d.setUint8(0,b)}),e.I8=_(1,!0,{read:(d,b)=>d.getInt8(b),write:(d,b)=>d.setInt8(0,b)});const w=d=>p(4,{read:(b,H)=>b.getFloat32(H,d),write:(b,H)=>b.setFloat32(0,H,d),validate:b=>{if(Math.fround(b)!==b&&!Number.isNaN(b))throw new Error(`f32: wrong value=${b}`)}}),S=d=>p(8,{read:(b,H)=>b.getFloat64(H,d),write:(b,H)=>b.setFloat64(0,H,d)});e.F32BE=w(!1),e.F32LE=w(!0),e.F64BE=S(!1),e.F64LE=S(!0),e.bool=(0,e.wrap)({size:1,encodeStream:(d,b)=>d.byte(b?1:0),decodeStream:d=>{const b=d.byte();if(b!==0&&b!==1)throw d.err(`bool: invalid value ${b}`);return b===1},validate:d=>{if(typeof d!="boolean")throw new Error(`bool: invalid value ${d}`);return d}});const A=(d,b=!1)=>{if(typeof b!="boolean")throw new Error(`bytes/le: expected boolean, got ${typeof b}`);const H=l(d),te=n(d);return(0,e.wrap)({size:typeof d=="number"?d:void 0,encodeStream:(ce,z)=>{te||H.encodeStream(ce,z.length),ce.bytes(b?k(z):z),te&&ce.bytes(d)},decodeStream:ce=>{let z;if(te){const X=ce.find(d);if(!X)throw ce.err("bytes: cannot find terminator");z=ce.bytes(X-ce.pos),ce.bytes(d.length)}else z=ce.bytes(d===null?ce.leftBytes:H.decodeStream(ce));return b?k(z):z},validate:ce=>{if(!n(ce))throw new Error(`bytes: invalid value ${ce}`);return ce}})};e.bytes=A;function x(d,b){if(!U(b))throw new Error(`prefix: invalid inner value ${b}`);return M(A(d),C(b))}const E=(d,b=!1)=>D(M(A(d,b),t.utf8),H=>{if(typeof H!="string")throw new Error(`expected string, got ${typeof H}`);return H});e.string=E,e.cstring=(0,e.string)(e.NULL);const T=(d,b={isLE:!1,with0x:!1})=>{let H=M(A(d,b.isLE),t.hex);const te=b.with0x;if(typeof te!="boolean")throw new Error(`hex/with0x: expected boolean, got ${typeof te}`);return te&&(H=M(H,{encode:ce=>`0x${ce}`,decode:ce=>{if(!ce.startsWith("0x"))throw new Error("hex(with0x=true).encode input should start with 0x");return ce.slice(2)}})),H};e.hex=T;function M(d,b){if(!U(d))throw new Error(`apply: invalid inner value ${d}`);if(!B(b))throw new Error(`apply: invalid base value ${d}`);return(0,e.wrap)({size:d.size,encodeStream:(H,te)=>{let ce;try{ce=b.decode(te)}catch(z){throw H.err(""+z)}return d.encodeStream(H,ce)},decodeStream:H=>{const te=d.decodeStream(H);try{return b.encode(te)}catch(ce){throw H.err(""+ce)}}})}function Q(d){if(typeof d!="function")throw new Error(`lazy: expected function, got ${typeof d}`);return(0,e.wrap)({encodeStream:(b,H)=>d().encodeStream(b,H),decodeStream:b=>d().decodeStream(b)})}const he=(d,b=!1)=>{if(!n(d))throw new Error(`flag/flagValue: expected Uint8Array, got ${typeof d}`);if(typeof b!="boolean")throw new Error(`flag/xor: expected boolean, got ${typeof b}`);return(0,e.wrap)({size:d.length,encodeStream:(H,te)=>{!!te!==b&&H.bytes(d)},decodeStream:H=>{let te=H.leftBytes>=d.length;return te&&(te=r(H.bytes(d.length,!0),d),te&&H.bytes(d.length)),te!==b},validate:H=>{if(H!==void 0&&typeof H!="boolean")throw new Error(`flag: expected boolean value or undefined, got ${typeof H}`);return H}})};e.flag=he;function ue(d,b,H){if(!U(b))throw new Error(`flagged: invalid inner value ${b}`);if(typeof d!="string"&&!U(b))throw new Error(`flagged: wrong path=${d}`);return(0,e.wrap)({encodeStream:(te,ce)=>{typeof d=="string"?u.resolve(te.stack,d)?b.encodeStream(te,ce):H&&b.encodeStream(te,H):(d.encodeStream(te,!!ce),ce?b.encodeStream(te,ce):H&&b.encodeStream(te,H))},decodeStream:te=>{let ce=!1;if(typeof d=="string"?ce=!!u.resolve(te.stack,d):ce=d.decodeStream(te),ce)return b.decodeStream(te);H&&b.decodeStream(te)}})}function W(d,b,H){if(!U(d)||!U(b))throw new Error(`optional: invalid flag or inner value flag=${d} inner=${b}`);return(0,e.wrap)({size:H!==void 0&&d.size&&b.size?d.size+b.size:void 0,encodeStream:(te,ce)=>{d.encodeStream(te,!!ce),ce?b.encodeStream(te,ce):H!==void 0&&b.encodeStream(te,H)},decodeStream:te=>{if(d.decodeStream(te))return b.decodeStream(te);H!==void 0&&b.decodeStream(te)}})}function se(d,b,H=!0){if(!U(d))throw new Error(`magic: invalid inner value ${d}`);if(typeof H!="boolean")throw new Error(`magic: expected boolean, got ${typeof H}`);return(0,e.wrap)({size:d.size,encodeStream:(te,ce)=>d.encodeStream(te,b),decodeStream:te=>{const ce=d.decodeStream(te);if(H&&typeof ce!="object"&&ce!==b||n(b)&&!r(b,ce))throw te.err(`magic: invalid value: ${ce} !== ${b}`)},validate:te=>{if(te!==void 0)throw new Error(`magic: wrong value=${typeof te}`);return te}})}const Z=d=>{const b=typeof d=="string"?t.utf8.decode(d):d;return se(A(b.length),b)};e.magicBytes=Z;function ie(d){return(0,e.wrap)({encodeStream:(b,H)=>{if(H!==d)throw new Error(`constant: invalid value ${H} (exp: ${d})`)},decodeStream:b=>d})}function pe(d){let b=0;for(const H of d){if(H.size===void 0)return;if(!a(H.size))throw new Error(`sizeof: wrong element size=${b}`);b+=H.size}return b}function Ee(d){if(!s(d))throw new Error(`struct: expected plain object, got ${d}`);for(const b in d)if(!U(d[b]))throw new Error(`struct: field ${b} is not CoderType`);return(0,e.wrap)({size:pe(Object.values(d)),encodeStream:(b,H)=>{b.pushObj(H,te=>{for(const ce in d)te(ce,()=>d[ce].encodeStream(b,H[ce]))})},decodeStream:b=>{const H={};return b.pushObj(H,te=>{for(const ce in d)te(ce,()=>H[ce]=d[ce].decodeStream(b))}),H},validate:b=>{if(typeof b!="object"||b===null)throw new Error(`struct: invalid value ${b}`);return b}})}function Oe(d){if(!Array.isArray(d))throw new Error(`Packed.Tuple: got ${typeof d} instead of array`);for(let b=0;b<d.length;b++)if(!U(d[b]))throw new Error(`tuple: field ${b} is not CoderType`);return(0,e.wrap)({size:pe(d),encodeStream:(b,H)=>{if(!Array.isArray(H))throw b.err(`tuple: invalid value ${H}`);b.pushObj(H,te=>{for(let ce=0;ce<d.length;ce++)te(`${ce}`,()=>d[ce].encodeStream(b,H[ce]))})},decodeStream:b=>{const H=[];return b.pushObj(H,te=>{for(let ce=0;ce<d.length;ce++)te(`${ce}`,()=>H.push(d[ce].decodeStream(b)))}),H},validate:b=>{if(!Array.isArray(b))throw new Error(`tuple: invalid value ${b}`);if(b.length!==d.length)throw new Error(`tuple: wrong length=${b.length}, expected ${d.length}`);return b}})}function Re(d,b){if(!U(b))throw new Error(`array: invalid inner value ${b}`);const H=l(typeof d=="string"?`../${d}`:d);return(0,e.wrap)({size:typeof d=="number"&&b.size?d*b.size:void 0,encodeStream:(te,ce)=>{const z=te;z.pushObj(ce,X=>{n(d)||H.encodeStream(te,ce.length);for(let oe=0;oe<ce.length;oe++)X(`${oe}`,()=>{const N=ce[oe],L=te.pos;if(b.encodeStream(te,N),n(d)){if(d.length>z.pos-L)return;const J=z.finish(!1).subarray(L,z.pos);if(r(J.subarray(0,d.length),d))throw z.err(`array: inner element encoding same as separator. elm=${N} data=${J}`)}})}),n(d)&&te.bytes(d)},decodeStream:te=>{const ce=[];return te.pushObj(ce,z=>{if(d===null)for(let X=0;!te.isEnd()&&(z(`${X}`,()=>ce.push(b.decodeStream(te))),!(b.size&&te.leftBytes<b.size));X++);else if(n(d))for(let X=0;;X++){if(r(te.bytes(d.length,!0),d)){te.bytes(d.length);break}z(`${X}`,()=>ce.push(b.decodeStream(te)))}else{let X;z("arrayLen",()=>X=H.decodeStream(te));for(let oe=0;oe<X;oe++)z(`${oe}`,()=>ce.push(b.decodeStream(te)))}}),ce},validate:te=>{if(!Array.isArray(te))throw new Error(`array: invalid value ${te}`);return te}})}function Ce(d,b){if(!U(d))throw new Error(`map: invalid inner value ${d}`);if(!s(b))throw new Error("map: variants should be plain object");const H=new Map;for(const te in b)H.set(b[te],te);return(0,e.wrap)({size:d.size,encodeStream:(te,ce)=>d.encodeStream(te,b[ce]),decodeStream:te=>{const ce=d.decodeStream(te),z=H.get(ce);if(z===void 0)throw te.err(`Enum: unknown value: ${ce} ${Array.from(H.keys())}`);return z},validate:te=>{if(typeof te!="string")throw new Error(`map: invalid value ${te}`);if(!(te in b))throw new Error(`Map: unknown variant: ${te}`);return te}})}function P(d,b){if(!U(d))throw new Error(`tag: invalid tag value ${d}`);if(!s(b))throw new Error("tag: variants should be plain object");for(const H in b)if(!U(b[H]))throw new Error(`tag: variant ${H} is not CoderType`);return(0,e.wrap)({size:d.size,encodeStream:(H,te)=>{const{TAG:ce,data:z}=te,X=b[ce];d.encodeStream(H,ce),X.encodeStream(H,z)},decodeStream:H=>{const te=d.decodeStream(H),ce=b[te];if(!ce)throw H.err(`Tag: invalid tag ${te}`);return{TAG:te,data:ce.decodeStream(H)}},validate:H=>{const{TAG:te}=H;if(!b[te])throw new Error(`Tag: invalid tag ${te.toString()}`);return H}})}function Y(d,b){if(!U(d))throw new Error(`mappedTag: invalid tag value ${P}`);if(!s(b))throw new Error("mappedTag: variants should be plain object");const H={},te={};for(const ce in b){const z=b[ce];H[ce]=z[0],te[ce]=z[1]}return P(Ce(d,H),te)}function be(d,b=!1){if(typeof b!="boolean")throw new Error(`bitset/pad: expected boolean, got ${typeof b}`);if(!Array.isArray(d))throw new Error("bitset/names: expected array");for(const H of d)if(typeof H!="string")throw new Error("bitset/names: expected array of strings");return(0,e.wrap)({encodeStream:(H,te)=>{for(let ce=0;ce<d.length;ce++)H.bits(+te[d[ce]],1);b&&d.length%8&&H.bits(0,8-d.length%8)},decodeStream:H=>{const te={};for(let ce=0;ce<d.length;ce++)te[d[ce]]=!!H.bits(1);return b&&d.length%8&&H.bits(8-d.length%8),te},validate:H=>{if(!s(H))throw new Error(`bitset: invalid value ${H}`);for(const te of Object.values(H))if(typeof te!="boolean")throw new Error("expected boolean");return H}})}const Ue=d=>0;e.ZeroPad=Ue;function Ke(d,b){return b%d===0?0:d-b%d}function rt(d,b,H){if(!a(d)||d<=0)throw new Error(`padLeft: wrong blockSize=${d}`);if(!U(b))throw new Error(`padLeft: invalid inner value ${b}`);if(H!==void 0&&typeof H!="function")throw new Error(`padLeft: wrong padFn=${typeof H}`);const te=H||e.ZeroPad;if(!b.size)throw new Error("padLeft cannot have dynamic size");return(0,e.wrap)({size:b.size+Ke(d,b.size),encodeStream:(ce,z)=>{const X=Ke(d,b.size);for(let oe=0;oe<X;oe++)ce.byte(te(oe));b.encodeStream(ce,z)},decodeStream:ce=>(ce.bytes(Ke(d,b.size)),b.decodeStream(ce))})}function We(d,b,H){if(!U(b))throw new Error(`padRight: invalid inner value ${b}`);if(!a(d)||d<=0)throw new Error(`padLeft: wrong blockSize=${d}`);if(H!==void 0&&typeof H!="function")throw new Error(`padRight: wrong padFn=${typeof H}`);const te=H||e.ZeroPad;return(0,e.wrap)({size:b.size?b.size+Ke(d,b.size):void 0,encodeStream:(ce,z)=>{const X=ce,oe=X.pos;b.encodeStream(ce,z);const N=Ke(d,X.pos-oe);for(let L=0;L<N;L++)ce.byte(te(L))},decodeStream:ce=>{const z=ce.pos,X=b.decodeStream(ce);return ce.bytes(Ke(d,ce.pos-z)),X}})}function Qe(d,b,H=!1){if(!U(d))throw new Error(`pointer: invalid ptr value ${d}`);if(!U(b))throw new Error(`pointer: invalid inner value ${b}`);if(typeof H!="boolean")throw new Error(`pointer/sized: expected boolean, got ${typeof H}`);if(!d.size)throw new Error("unsized pointer");return(0,e.wrap)({size:H?d.size:void 0,encodeStream:(te,ce)=>{const z=te,X=z.pos;d.encodeStream(te,0),z.ptrs.push({pos:X,ptr:d,buffer:b.encode(ce)})},decodeStream:te=>{const ce=d.decodeStream(te);return te._enablePointers(),b.decodeStream(te.offsetReader(ce))}})}e._TEST={_bitset:c,_Reader:h,_Writer:g,Path:u}})(gp);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TEST_NETWORK=e.NETWORK=e.TAPROOT_UNSPENDABLE_KEY=e.PubT=e.tagSchnorr=e.signSchnorr=e.pubECDSA=e.pubSchnorr=e.randomPrivateKeyBytes=e.sha256x2=e.hash160=e.sha256=e.isBytes=e.equalBytes=e.concatBytes=void 0,e.signECDSA=k,e.validatePubkey=F,e.tapTweak=D,e.taprootTweakPrivKey=$,e.taprootTweakPubkey=B,e.compareBytes=U;const t=dA,r=us,n=an;Object.defineProperty(e,"sha256",{enumerable:!0,get:function(){return n.sha256}});const i=gp,o=t.secp256k1.ProjectivePoint,s=t.secp256k1.CURVE.n,a=i.utils.isBytes;e.isBytes=a;const l=i.utils.concatBytes;e.concatBytes=l;const c=i.utils.equalBytes;e.equalBytes=c;const u=q=>(0,r.ripemd160)((0,n.sha256)(q));e.hash160=u;const h=(...q)=>(0,n.sha256)((0,n.sha256)(l(...q)));e.sha256x2=h,e.randomPrivateKeyBytes=t.schnorr.utils.randomPrivateKey,e.pubSchnorr=t.schnorr.getPublicKey,e.pubECDSA=t.secp256k1.getPublicKey;const g=q=>q.r<s/2n;function k(q,ee,ae=!1){let re=t.secp256k1.sign(q,ee);if(ae&&!g(re)){const K=new Uint8Array(32);let C=0;for(;!g(re);)if(K.set(i.U32LE.encode(C++)),re=t.secp256k1.sign(q,ee,{extraEntropy:K}),C>4294967295)throw new Error("lowR counter overflow: report the error")}return re.toDERRawBytes()}e.signSchnorr=t.schnorr.sign,e.tagSchnorr=t.schnorr.utils.taggedHash;var R;(function(q){q[q.ecdsa=0]="ecdsa",q[q.schnorr=1]="schnorr"})(R||(e.PubT=R={}));function F(q,ee){const ae=q.length;if(ee===R.ecdsa){if(ae===32)throw new Error("Expected non-Schnorr key");return o.fromHex(q),q}else if(ee===R.schnorr){if(ae!==32)throw new Error("Expected 32-byte Schnorr key");return t.schnorr.utils.lift_x(t.schnorr.utils.bytesToNumberBE(q)),q}else throw new Error("Unknown key type")}function D(q,ee){const ae=t.schnorr.utils,re=ae.taggedHash("TapTweak",q,ee),K=ae.bytesToNumberBE(re);if(K>=s)throw new Error("tweak higher than curve order");return K}function $(q,ee=Uint8Array.of()){const ae=t.schnorr.utils,re=ae.bytesToNumberBE(q),K=o.fromPrivateKey(re),C=K.hasEvenY()?re:ae.mod(-re,s),G=ae.pointToBytes(K),v=D(G,ee);return ae.numberToBytesBE(ae.mod(C+v,s),32)}function B(q,ee){const ae=t.schnorr.utils,re=D(q,ee),K=ae.lift_x(ae.bytesToNumberBE(q)).add(o.fromPrivateKey(re)),C=K.hasEvenY()?0:1;return[ae.pointToBytes(K),C]}e.TAPROOT_UNSPENDABLE_KEY=(0,n.sha256)(o.BASE.toRawBytes(!1)),e.NETWORK={bech32:"bc",pubKeyHash:0,scriptHash:5,wif:128},e.TEST_NETWORK={bech32:"tb",pubKeyHash:111,scriptHash:196,wif:239};function U(q,ee){if(!a(q)||!a(ee))throw new Error(`cmp: wrong type a=${typeof q} b=${typeof ee}`);const ae=Math.min(q.length,ee.length);for(let re=0;re<ae;re++)if(q[re]!=ee[re])return Math.sign(q[re]-ee[re]);return Math.sign(q.length-ee.length)}})(Sl);var X0={},yw={},hm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RawOldTx=e.RawTx=e.RawOutput=e.RawInput=e.BTCArray=e.RawWitness=e.VarBytes=e.CompactSizeLen=e.CompactSize=e.Script=e.OP=e.MAX_SCRIPT_BYTE_LENGTH=void 0,e.ScriptNum=i,e.OpToNum=o;const t=gp,r=Sl;e.MAX_SCRIPT_BYTE_LENGTH=520;var n;(function(u){u[u.OP_0=0]="OP_0",u[u.PUSHDATA1=76]="PUSHDATA1",u[u.PUSHDATA2=77]="PUSHDATA2",u[u.PUSHDATA4=78]="PUSHDATA4",u[u["1NEGATE"]=79]="1NEGATE",u[u.RESERVED=80]="RESERVED",u[u.OP_1=81]="OP_1",u[u.OP_2=82]="OP_2",u[u.OP_3=83]="OP_3",u[u.OP_4=84]="OP_4",u[u.OP_5=85]="OP_5",u[u.OP_6=86]="OP_6",u[u.OP_7=87]="OP_7",u[u.OP_8=88]="OP_8",u[u.OP_9=89]="OP_9",u[u.OP_10=90]="OP_10",u[u.OP_11=91]="OP_11",u[u.OP_12=92]="OP_12",u[u.OP_13=93]="OP_13",u[u.OP_14=94]="OP_14",u[u.OP_15=95]="OP_15",u[u.OP_16=96]="OP_16",u[u.NOP=97]="NOP",u[u.VER=98]="VER",u[u.IF=99]="IF",u[u.NOTIF=100]="NOTIF",u[u.VERIF=101]="VERIF",u[u.VERNOTIF=102]="VERNOTIF",u[u.ELSE=103]="ELSE",u[u.ENDIF=104]="ENDIF",u[u.VERIFY=105]="VERIFY",u[u.RETURN=106]="RETURN",u[u.TOALTSTACK=107]="TOALTSTACK",u[u.FROMALTSTACK=108]="FROMALTSTACK",u[u["2DROP"]=109]="2DROP",u[u["2DUP"]=110]="2DUP",u[u["3DUP"]=111]="3DUP",u[u["2OVER"]=112]="2OVER",u[u["2ROT"]=113]="2ROT",u[u["2SWAP"]=114]="2SWAP",u[u.IFDUP=115]="IFDUP",u[u.DEPTH=116]="DEPTH",u[u.DROP=117]="DROP",u[u.DUP=118]="DUP",u[u.NIP=119]="NIP",u[u.OVER=120]="OVER",u[u.PICK=121]="PICK",u[u.ROLL=122]="ROLL",u[u.ROT=123]="ROT",u[u.SWAP=124]="SWAP",u[u.TUCK=125]="TUCK",u[u.CAT=126]="CAT",u[u.SUBSTR=127]="SUBSTR",u[u.LEFT=128]="LEFT",u[u.RIGHT=129]="RIGHT",u[u.SIZE=130]="SIZE",u[u.INVERT=131]="INVERT",u[u.AND=132]="AND",u[u.OR=133]="OR",u[u.XOR=134]="XOR",u[u.EQUAL=135]="EQUAL",u[u.EQUALVERIFY=136]="EQUALVERIFY",u[u.RESERVED1=137]="RESERVED1",u[u.RESERVED2=138]="RESERVED2",u[u["1ADD"]=139]="1ADD",u[u["1SUB"]=140]="1SUB",u[u["2MUL"]=141]="2MUL",u[u["2DIV"]=142]="2DIV",u[u.NEGATE=143]="NEGATE",u[u.ABS=144]="ABS",u[u.NOT=145]="NOT",u[u["0NOTEQUAL"]=146]="0NOTEQUAL",u[u.ADD=147]="ADD",u[u.SUB=148]="SUB",u[u.MUL=149]="MUL",u[u.DIV=150]="DIV",u[u.MOD=151]="MOD",u[u.LSHIFT=152]="LSHIFT",u[u.RSHIFT=153]="RSHIFT",u[u.BOOLAND=154]="BOOLAND",u[u.BOOLOR=155]="BOOLOR",u[u.NUMEQUAL=156]="NUMEQUAL",u[u.NUMEQUALVERIFY=157]="NUMEQUALVERIFY",u[u.NUMNOTEQUAL=158]="NUMNOTEQUAL",u[u.LESSTHAN=159]="LESSTHAN",u[u.GREATERTHAN=160]="GREATERTHAN",u[u.LESSTHANOREQUAL=161]="LESSTHANOREQUAL",u[u.GREATERTHANOREQUAL=162]="GREATERTHANOREQUAL",u[u.MIN=163]="MIN",u[u.MAX=164]="MAX",u[u.WITHIN=165]="WITHIN",u[u.RIPEMD160=166]="RIPEMD160",u[u.SHA1=167]="SHA1",u[u.SHA256=168]="SHA256",u[u.HASH160=169]="HASH160",u[u.HASH256=170]="HASH256",u[u.CODESEPARATOR=171]="CODESEPARATOR",u[u.CHECKSIG=172]="CHECKSIG",u[u.CHECKSIGVERIFY=173]="CHECKSIGVERIFY",u[u.CHECKMULTISIG=174]="CHECKMULTISIG",u[u.CHECKMULTISIGVERIFY=175]="CHECKMULTISIGVERIFY",u[u.NOP1=176]="NOP1",u[u.CHECKLOCKTIMEVERIFY=177]="CHECKLOCKTIMEVERIFY",u[u.CHECKSEQUENCEVERIFY=178]="CHECKSEQUENCEVERIFY",u[u.NOP4=179]="NOP4",u[u.NOP5=180]="NOP5",u[u.NOP6=181]="NOP6",u[u.NOP7=182]="NOP7",u[u.NOP8=183]="NOP8",u[u.NOP9=184]="NOP9",u[u.NOP10=185]="NOP10",u[u.CHECKSIGADD=186]="CHECKSIGADD",u[u.INVALID=255]="INVALID"})(n||(e.OP=n={}));function i(u=6,h=!1){return t.wrap({encodeStream:(g,k)=>{if(k===0n)return;const R=k<0,F=BigInt(k),D=[];for(let $=R?-F:F;$;$>>=8n)D.push(Number($&0xffn));D[D.length-1]>=128?D.push(R?128:0):R&&(D[D.length-1]|=128),g.bytes(new Uint8Array(D))},decodeStream:g=>{const k=g.leftBytes;if(k>u)throw new Error(`ScriptNum: number (${k}) bigger than limit=${u}`);if(k===0)return 0n;if(h){const D=g.bytes(k,!0);if(!(D[D.length-1]&127)&&(k<=1||!(D[D.length-2]&128)))throw new Error("Non-minimally encoded ScriptNum")}let R=0,F=0n;for(let D=0;D<k;++D)R=g.byte(),F|=BigInt(R)<<8n*BigInt(D);return R>=128&&(F&=2n**BigInt(k*8)-1n>>1n,F=-F),F}})}function o(u,h=4,g=!0){if(typeof u=="number")return u;if((0,r.isBytes)(u))try{const k=i(h,g).decode(u);return k>Number.MAX_SAFE_INTEGER?void 0:Number(k)}catch{return}}e.Script=t.wrap({encodeStream:(u,h)=>{for(let g of h){if(typeof g=="string"){if(n[g]===void 0)throw new Error(`Unknown opcode=${g}`);u.byte(n[g]);continue}else if(typeof g=="number"){if(g===0){u.byte(0);continue}else if(1<=g&&g<=16){u.byte(n.OP_1-1+g);continue}}if(typeof g=="number"&&(g=i().encode(BigInt(g))),!(0,r.isBytes)(g))throw new Error(`Wrong Script OP=${g} (${typeof g})`);const k=g.length;k<n.PUSHDATA1?u.byte(k):k<=255?(u.byte(n.PUSHDATA1),u.byte(k)):k<=65535?(u.byte(n.PUSHDATA2),u.bytes(t.U16LE.encode(k))):(u.byte(n.PUSHDATA4),u.bytes(t.U32LE.encode(k))),u.bytes(g)}},decodeStream:u=>{const h=[];for(;!u.isEnd();){const g=u.byte();if(n.OP_0<g&&g<=n.PUSHDATA4){let k;if(g<n.PUSHDATA1)k=g;else if(g===n.PUSHDATA1)k=t.U8.decodeStream(u);else if(g===n.PUSHDATA2)k=t.U16LE.decodeStream(u);else if(g===n.PUSHDATA4)k=t.U32LE.decodeStream(u);else throw new Error("Should be not possible");h.push(u.bytes(k))}else if(g===0)h.push(0);else if(n.OP_1<=g&&g<=n.OP_16)h.push(g-(n.OP_1-1));else{const k=n[g];if(k===void 0)throw new Error(`Unknown opcode=${g.toString(16)}`);h.push(k)}}return h}});const s={253:[253,2,253n,65535n],254:[254,4,65536n,4294967295n],255:[255,8,4294967296n,18446744073709551615n]};e.CompactSize=t.wrap({encodeStream:(u,h)=>{if(typeof h=="number"&&(h=BigInt(h)),0n<=h&&h<=252n)return u.byte(Number(h));for(const[g,k,R,F]of Object.values(s))if(!(R>h||h>F)){u.byte(g);for(let D=0;D<k;D++)u.byte(Number(h>>8n*BigInt(D)&0xffn));return}throw u.err(`VarInt too big: ${h}`)},decodeStream:u=>{const h=u.byte();if(h<=252)return BigInt(h);const[g,k,R]=s[h];let F=0n;for(let D=0;D<k;D++)F|=BigInt(u.byte())<<8n*BigInt(D);if(F<R)throw u.err(`Wrong CompactSize(${8*k})`);return F}}),e.CompactSizeLen=t.apply(e.CompactSize,t.coders.numberBigint),e.VarBytes=t.bytes(e.CompactSize),e.RawWitness=t.array(e.CompactSizeLen,e.VarBytes);const a=u=>t.array(e.CompactSize,u);e.BTCArray=a,e.RawInput=t.struct({txid:t.bytes(32,!0),index:t.U32LE,finalScriptSig:e.VarBytes,sequence:t.U32LE}),e.RawOutput=t.struct({amount:t.U64LE,script:e.VarBytes});const l=t.struct({version:t.I32LE,segwitFlag:t.flag(new Uint8Array([0,1])),inputs:(0,e.BTCArray)(e.RawInput),outputs:(0,e.BTCArray)(e.RawOutput),witnesses:t.flagged("segwitFlag",t.array("inputs/length",e.RawWitness)),lockTime:t.U32LE});function c(u){if(u.segwitFlag&&u.witnesses&&!u.witnesses.length)throw new Error("Segwit flag with empty witnesses array");return u}e.RawTx=t.validate(l,c),e.RawOldTx=t.struct({version:t.I32LE,inputs:(0,e.BTCArray)(e.RawInput),outputs:(0,e.BTCArray)(e.RawOutput),lockTime:t.U32LE})})(hm);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RawPSBTV2=e.RawPSBTV0=e._DebugPSBT=e._RawPSBTV2=e._RawPSBTV0=e.PSBTOutputCoder=e.PSBTInputCoder=e.PSBTOutputUnsignedKeys=e.PSBTOutput=e.PSBTInputUnsignedKeys=e.PSBTInputFinalKeys=e.PSBTInput=e.PSBTGlobal=e.TaprootControlBlock=void 0,e.cleanPSBTFields=ae,e.mergeKeyMap=K;const t=dm,r=gp,n=hm,i=Sl,o=r.validate(r.bytes(null),C=>(0,i.validatePubkey)(C,i.PubT.ecdsa)),s=r.validate(r.bytes(32),C=>(0,i.validatePubkey)(C,i.PubT.schnorr)),a=r.validate(r.bytes(null),C=>{if(C.length!==64&&C.length!==65)throw new Error("Schnorr signature should be 64 or 65 bytes long");return C}),l=r.struct({fingerprint:r.U32BE,path:r.array(null,r.U32LE)}),c=r.struct({hashes:r.array(n.CompactSizeLen,r.bytes(32)),der:l}),u=r.bytes(78),h=r.struct({pubKey:s,leafHash:r.bytes(32)}),g=r.struct({version:r.U8,internalKey:r.bytes(32),merklePath:r.array(null,r.bytes(32))});e.TaprootControlBlock=r.validate(g,C=>{if(C.merklePath.length>128)throw new Error("TaprootControlBlock: merklePath should be of length 0..128 (inclusive)");return C});const k=r.array(null,r.struct({depth:r.U8,version:r.U8,script:n.VarBytes})),R=r.bytes(null),F=r.bytes(20),D=r.bytes(32);e.PSBTGlobal={unsignedTx:[0,!1,n.RawOldTx,[0],[0],!1],xpub:[1,u,l,[],[0,2],!1],txVersion:[2,!1,r.U32LE,[2],[2],!1],fallbackLocktime:[3,!1,r.U32LE,[],[2],!1],inputCount:[4,!1,n.CompactSizeLen,[2],[2],!1],outputCount:[5,!1,n.CompactSizeLen,[2],[2],!1],txModifiable:[6,!1,r.U8,[],[2],!1],version:[251,!1,r.U32LE,[],[0,2],!1],proprietary:[252,R,R,[],[0,2],!1]},e.PSBTInput={nonWitnessUtxo:[0,!1,n.RawTx,[],[0,2],!1],witnessUtxo:[1,!1,n.RawOutput,[],[0,2],!1],partialSig:[2,o,R,[],[0,2],!1],sighashType:[3,!1,r.U32LE,[],[0,2],!1],redeemScript:[4,!1,R,[],[0,2],!1],witnessScript:[5,!1,R,[],[0,2],!1],bip32Derivation:[6,o,l,[],[0,2],!1],finalScriptSig:[7,!1,R,[],[0,2],!1],finalScriptWitness:[8,!1,n.RawWitness,[],[0,2],!1],porCommitment:[9,!1,R,[],[0,2],!1],ripemd160:[10,F,R,[],[0,2],!1],sha256:[11,D,R,[],[0,2],!1],hash160:[12,F,R,[],[0,2],!1],hash256:[13,D,R,[],[0,2],!1],txid:[14,!1,D,[2],[2],!0],index:[15,!1,r.U32LE,[2],[2],!0],sequence:[16,!1,r.U32LE,[],[2],!0],requiredTimeLocktime:[17,!1,r.U32LE,[],[2],!1],requiredHeightLocktime:[18,!1,r.U32LE,[],[2],!1],tapKeySig:[19,!1,a,[],[0,2],!1],tapScriptSig:[20,h,a,[],[0,2],!1],tapLeafScript:[21,e.TaprootControlBlock,R,[],[0,2],!1],tapBip32Derivation:[22,D,c,[],[0,2],!1],tapInternalKey:[23,!1,s,[],[0,2],!1],tapMerkleRoot:[24,!1,D,[],[0,2],!1],proprietary:[252,R,R,[],[0,2],!1]},e.PSBTInputFinalKeys=["txid","sequence","index","witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknown"],e.PSBTInputUnsignedKeys=["partialSig","finalScriptSig","finalScriptWitness","tapKeySig","tapScriptSig"],e.PSBTOutput={redeemScript:[0,!1,R,[],[0,2],!1],witnessScript:[1,!1,R,[],[0,2],!1],bip32Derivation:[2,o,l,[],[0,2],!1],amount:[3,!1,r.I64LE,[2],[2],!0],script:[4,!1,R,[2],[2],!0],tapInternalKey:[5,!1,s,[],[0,2],!1],tapTree:[6,!1,k,[],[0,2],!1],tapBip32Derivation:[7,s,c,[],[0,2],!1],proprietary:[252,R,R,[],[0,2],!1]},e.PSBTOutputUnsignedKeys=[];const $=r.array(r.NULL,r.struct({key:r.prefix(n.CompactSizeLen,r.struct({type:n.CompactSizeLen,key:r.bytes(null)})),value:r.bytes(n.CompactSizeLen)}));function B(C){const[G,v,I,p,_,w]=C;return{type:G,kc:v,vc:I,reqInc:p,allowInc:_,silentIgnore:w}}r.struct({type:n.CompactSizeLen,key:r.bytes(null)});function U(C){const G={};for(const v in C){const[I,p,_]=C[v];G[I]=[v,p,_]}return r.wrap({encodeStream:(v,I)=>{let p=[];for(const _ in C){const w=I[_];if(w===void 0)continue;const[S,A,x]=C[_];if(!A)p.push({key:{type:S,key:r.EMPTY},value:x.encode(w)});else{const E=w.map(([T,M])=>[A.encode(T),x.encode(M)]);E.sort((T,M)=>(0,i.compareBytes)(T[0],M[0]));for(const[T,M]of E)p.push({key:{key:T,type:S},value:M})}}if(I.unknown){I.unknown.sort((_,w)=>(0,i.compareBytes)(_[0].key,w[0].key));for(const[_,w]of I.unknown)p.push({key:_,value:w})}$.encodeStream(v,p)},decodeStream:v=>{const I=$.decodeStream(v),p={},_={};for(const w of I){let S="unknown",A=w.key.key,x=w.value;if(G[w.key.type]){const[E,T,M]=G[w.key.type];if(S=E,!T&&A.length)throw new Error(`PSBT: Non-empty key for ${S} (key=${t.hex.encode(A)} value=${t.hex.encode(x)}`);if(A=T?T.decode(A):void 0,x=M.decode(x),!T){if(p[S])throw new Error(`PSBT: Same keys: ${S} (key=${A} value=${x})`);p[S]=x,_[S]=!0;continue}}else A={type:w.key.type,key:w.key.key};if(_[S])throw new Error(`PSBT: Key type with empty key and no key=${S} val=${x}`);p[S]||(p[S]=[]),p[S].push([A,x])}return p}})}e.PSBTInputCoder=r.validate(U(e.PSBTInput),C=>{if(C.finalScriptWitness&&!C.finalScriptWitness.length)throw new Error("validateInput: empty finalScriptWitness");if(C.partialSig&&!C.partialSig.length)throw new Error("Empty partialSig");if(C.partialSig)for(const[G]of C.partialSig)(0,i.validatePubkey)(G,i.PubT.ecdsa);if(C.bip32Derivation)for(const[G]of C.bip32Derivation)(0,i.validatePubkey)(G,i.PubT.ecdsa);if(C.requiredTimeLocktime!==void 0&&C.requiredTimeLocktime<5e8)throw new Error(`validateInput: wrong timeLocktime=${C.requiredTimeLocktime}`);if(C.requiredHeightLocktime!==void 0&&(C.requiredHeightLocktime<=0||C.requiredHeightLocktime>=5e8))throw new Error(`validateInput: wrong heighLocktime=${C.requiredHeightLocktime}`);if(C.tapLeafScript)for(const[G,v]of C.tapLeafScript){if((G.version&254)!==v[v.length-1])throw new Error("validateInput: tapLeafScript version mimatch");if(v[v.length-1]&1)throw new Error("validateInput: tapLeafScript version has parity bit!")}return C}),e.PSBTOutputCoder=r.validate(U(e.PSBTOutput),C=>{if(C.bip32Derivation)for(const[G]of C.bip32Derivation)(0,i.validatePubkey)(G,i.PubT.ecdsa);return C});const q=r.validate(U(e.PSBTGlobal),C=>{if((C.version||0)===0){if(!C.unsignedTx)throw new Error("PSBTv0: missing unsignedTx");for(const G of C.unsignedTx.inputs)if(G.finalScriptSig&&G.finalScriptSig.length)throw new Error("PSBTv0: input scriptSig found in unsignedTx")}return C});e._RawPSBTV0=r.struct({magic:r.magic(r.string(new Uint8Array([255])),"psbt"),global:q,inputs:r.array("global/unsignedTx/inputs/length",e.PSBTInputCoder),outputs:r.array(null,e.PSBTOutputCoder)}),e._RawPSBTV2=r.struct({magic:r.magic(r.string(new Uint8Array([255])),"psbt"),global:q,inputs:r.array("global/inputCount",e.PSBTInputCoder),outputs:r.array("global/outputCount",e.PSBTOutputCoder)}),e._DebugPSBT=r.struct({magic:r.magic(r.string(new Uint8Array([255])),"psbt"),items:r.array(null,r.apply(r.array(r.NULL,r.tuple([r.hex(n.CompactSizeLen),r.bytes(n.CompactSize)])),r.coders.dict()))});function ee(C,G,v){for(const I in v){if(I==="unknown"||!G[I])continue;const{allowInc:p}=B(G[I]);if(!p.includes(C))throw new Error(`PSBTv${C}: field ${I} is not allowed`)}for(const I in G){const{reqInc:p}=B(G[I]);if(p.includes(C)&&v[I]===void 0)throw new Error(`PSBTv${C}: missing required field ${I}`)}}function ae(C,G,v){const I={};for(const p in v){const _=p;if(_!=="unknown"){if(!G[_])continue;const{allowInc:w,silentIgnore:S}=B(G[_]);if(!w.includes(C)){if(S)continue;throw new Error(`Failed to serialize in PSBTv${C}: ${_} but versions allows inclusion=${w}`)}}I[_]=v[_]}return I}function re(C){const G=C&&C.global&&C.global.version||0;ee(G,e.PSBTGlobal,C.global);for(const w of C.inputs)ee(G,e.PSBTInput,w);for(const w of C.outputs)ee(G,e.PSBTOutput,w);const v=G?C.global.inputCount:C.global.unsignedTx.inputs.length;if(C.inputs.length<v)throw new Error("Not enough inputs");const I=C.inputs.slice(v);if(I.length>1||I.length&&Object.keys(I[0]).length)throw new Error(`Unexpected inputs left in tx=${I}`);const p=G?C.global.outputCount:C.global.unsignedTx.outputs.length;if(C.outputs.length<p)throw new Error("Not outputs inputs");const _=C.outputs.slice(p);if(_.length>1||_.length&&Object.keys(_[0]).length)throw new Error(`Unexpected outputs left in tx=${_}`);return C}function K(C,G,v,I,p){const _={...v,...G};for(const w in C){const S=w,[A,x,E]=C[S],T=I&&!I.includes(w);if(G[w]===void 0&&w in G){if(T)throw new Error(`Cannot remove signed field=${w}`);delete _[w]}else if(x){const M=v&&v[w]?v[w]:[];let Q=G[S];if(Q){if(!Array.isArray(Q))throw new Error(`keyMap(${w}): KV pairs should be [k, v][]`);Q=Q.map(W=>{if(W.length!==2)throw new Error(`keyMap(${w}): KV pairs should be [k, v][]`);return[typeof W[0]=="string"?x.decode(t.hex.decode(W[0])):W[0],typeof W[1]=="string"?E.decode(t.hex.decode(W[1])):W[1]]});const he={},ue=(W,se,Z)=>{if(he[W]===void 0){he[W]=[se,Z];return}const ie=t.hex.encode(E.encode(he[W][1])),pe=t.hex.encode(E.encode(Z));if(ie!==pe)throw new Error(`keyMap(${S}): same key=${W} oldVal=${ie} newVal=${pe}`)};for(const[W,se]of M){const Z=t.hex.encode(x.encode(W));ue(Z,W,se)}for(const[W,se]of Q){const Z=t.hex.encode(x.encode(W));if(se===void 0){if(T)throw new Error(`Cannot remove signed field=${S}/${W}`);delete he[Z]}else ue(Z,W,se)}_[S]=Object.values(he)}}else if(typeof _[w]=="string")_[w]=E.decode(t.hex.decode(_[w]));else if(T&&w in G&&v&&v[w]!==void 0&&!(0,i.equalBytes)(E.encode(G[w]),E.encode(v[w])))throw new Error(`Cannot change signed field=${w}`)}for(const w in _)if(!C[w]){if(p&&w==="unknown")continue;delete _[w]}return _}e.RawPSBTV0=r.validate(e._RawPSBTV0,re),e.RawPSBTV2=r.validate(e._RawPSBTV2,re)})(yw);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._sortPubkeys=e.p2tr_pk=e.p2tr_ns=e.tapLeafHash=e.TAP_LEAF_VERSION=e.p2ms=e.p2wpkh=e.p2wsh=e.p2sh=e.p2pkh=e.p2pk=e.OutScript=void 0,e.checkScript=g,e.taprootListToTree=ee,e.p2tr=G,e.combinations=v,e.p2tr_ms=_,e.getAddress=w,e.multisig=A,e.sortedMultisig=x,e.WIF=he,e.Address=ue;const t=dm,r=gp,n=yw,i=hm,o=Sl,s=Sl,a={encode(W){if(!(W.length!==2||W[0]!==1||!o.isBytes(W[1])||t.hex.encode(W[1])!=="4e73"))return{type:"p2a",script:i.Script.encode(W)}},decode:W=>{if(W.type==="p2a")return[1,t.hex.decode("4e73")]}};function l(W,se){try{return o.validatePubkey(W,se),!0}catch{return!1}}const c=[a,{encode(W){if(!(W.length!==2||!o.isBytes(W[0])||!l(W[0],o.PubT.ecdsa)||W[1]!=="CHECKSIG"))return{type:"pk",pubkey:W[0]}},decode:W=>W.type==="pk"?[W.pubkey,"CHECKSIG"]:void 0},{encode(W){if(!(W.length!==5||W[0]!=="DUP"||W[1]!=="HASH160"||!o.isBytes(W[2]))&&!(W[3]!=="EQUALVERIFY"||W[4]!=="CHECKSIG"))return{type:"pkh",hash:W[2]}},decode:W=>W.type==="pkh"?["DUP","HASH160",W.hash,"EQUALVERIFY","CHECKSIG"]:void 0},{encode(W){if(!(W.length!==3||W[0]!=="HASH160"||!o.isBytes(W[1])||W[2]!=="EQUAL"))return{type:"sh",hash:W[1]}},decode:W=>W.type==="sh"?["HASH160",W.hash,"EQUAL"]:void 0},{encode(W){if(!(W.length!==2||W[0]!==0||!o.isBytes(W[1]))&&W[1].length===32)return{type:"wsh",hash:W[1]}},decode:W=>W.type==="wsh"?[0,W.hash]:void 0},{encode(W){if(!(W.length!==2||W[0]!==0||!o.isBytes(W[1]))&&W[1].length===20)return{type:"wpkh",hash:W[1]}},decode:W=>W.type==="wpkh"?[0,W.hash]:void 0},{encode(W){const se=W.length-1;if(W[se]!=="CHECKMULTISIG")return;const Z=W[0],ie=W[se-1];if(typeof Z!="number"||typeof ie!="number")return;const pe=W.slice(1,-2);if(ie===pe.length){for(const Ee of pe)if(!o.isBytes(Ee))return;return{type:"ms",m:Z,pubkeys:pe}}},decode:W=>W.type==="ms"?[W.m,...W.pubkeys,W.pubkeys.length,"CHECKMULTISIG"]:void 0},{encode(W){if(!(W.length!==2||W[0]!==1||!o.isBytes(W[1])))return{type:"tr",pubkey:W[1]}},decode:W=>W.type==="tr"?[1,W.pubkey]:void 0},{encode(W){const se=W.length-1;if(W[se]!=="CHECKSIG")return;const Z=[];for(let ie=0;ie<se;ie++){const pe=W[ie];if(ie&1){if(pe!=="CHECKSIGVERIFY"||ie===se-1)return;continue}if(!o.isBytes(pe))return;Z.push(pe)}return{type:"tr_ns",pubkeys:Z}},decode:W=>{if(W.type!=="tr_ns")return;const se=[];for(let Z=0;Z<W.pubkeys.length-1;Z++)se.push(W.pubkeys[Z],"CHECKSIGVERIFY");return se.push(W.pubkeys[W.pubkeys.length-1],"CHECKSIG"),se}},{encode(W){const se=W.length-1;if(W[se]!=="NUMEQUAL"||W[1]!=="CHECKSIG")return;const Z=[],ie=(0,i.OpToNum)(W[se-1]);if(typeof ie=="number"){for(let pe=0;pe<se-1;pe++){const Ee=W[pe];if(pe&1){if(Ee!==(pe===1?"CHECKSIG":"CHECKSIGADD"))throw new Error("OutScript.encode/tr_ms: wrong element");continue}if(!o.isBytes(Ee))throw new Error("OutScript.encode/tr_ms: wrong key element");Z.push(Ee)}return{type:"tr_ms",pubkeys:Z,m:ie}}},decode:W=>{if(W.type!=="tr_ms")return;const se=[W.pubkeys[0],"CHECKSIG"];for(let Z=1;Z<W.pubkeys.length;Z++)se.push(W.pubkeys[Z],"CHECKSIGADD");return se.push(W.m,"NUMEQUAL"),se}},{encode(W){return{type:"unknown",script:i.Script.encode(W)}},decode:W=>W.type==="unknown"?i.Script.decode(W.script):void 0}],u=r.apply(i.Script,r.coders.match(c));e.OutScript=r.validate(u,W=>{if(W.type==="pk"&&!l(W.pubkey,o.PubT.ecdsa))throw new Error("OutScript/pk: wrong key");if((W.type==="pkh"||W.type==="sh"||W.type==="wpkh")&&(!o.isBytes(W.hash)||W.hash.length!==20))throw new Error(`OutScript/${W.type}: wrong hash`);if(W.type==="wsh"&&(!o.isBytes(W.hash)||W.hash.length!==32))throw new Error("OutScript/wsh: wrong hash");if(W.type==="tr"&&(!o.isBytes(W.pubkey)||!l(W.pubkey,o.PubT.schnorr)))throw new Error("OutScript/tr: wrong taproot public key");if((W.type==="ms"||W.type==="tr_ns"||W.type==="tr_ms")&&!Array.isArray(W.pubkeys))throw new Error("OutScript/multisig: wrong pubkeys array");if(W.type==="ms"){const se=W.pubkeys.length;for(const Z of W.pubkeys)if(!l(Z,o.PubT.ecdsa))throw new Error("OutScript/multisig: wrong pubkey");if(W.m<=0||se>16||W.m>se)throw new Error("OutScript/multisig: invalid params")}if(W.type==="tr_ns"||W.type==="tr_ms"){for(const se of W.pubkeys)if(!l(se,o.PubT.schnorr))throw new Error(`OutScript/${W.type}: wrong pubkey`)}if(W.type==="tr_ms"){const se=W.pubkeys.length;if(W.m<=0||se>999||W.m>se)throw new Error("OutScript/tr_ms: invalid params")}return W});function h(W,se){if(!o.equalBytes(W.hash,o.sha256(se)))throw new Error("checkScript: wsh wrong witnessScript hash");const Z=e.OutScript.decode(se);if(Z.type==="tr"||Z.type==="tr_ns"||Z.type==="tr_ms")throw new Error(`checkScript: P2${Z.type} cannot be wrapped in P2SH`);if(Z.type==="wpkh"||Z.type==="sh")throw new Error(`checkScript: P2${Z.type} cannot be wrapped in P2WSH`)}function g(W,se,Z){if(W){const ie=e.OutScript.decode(W);if(ie.type==="tr_ns"||ie.type==="tr_ms"||ie.type==="ms"||ie.type=="pk")throw new Error(`checkScript: non-wrapped ${ie.type}`);if(ie.type==="sh"&&se){if(!o.equalBytes(ie.hash,o.hash160(se)))throw new Error("checkScript: sh wrong redeemScript hash");const pe=e.OutScript.decode(se);if(pe.type==="tr"||pe.type==="tr_ns"||pe.type==="tr_ms")throw new Error(`checkScript: P2${pe.type} cannot be wrapped in P2SH`);if(pe.type==="sh")throw new Error("checkScript: P2SH cannot be wrapped in P2SH")}ie.type==="wsh"&&Z&&h(ie,Z)}if(se){const ie=e.OutScript.decode(se);ie.type==="wsh"&&Z&&h(ie,Z)}}function k(W){const se={};for(const Z of W){const ie=t.hex.encode(Z);if(se[ie])throw new Error(`Multisig: non-uniq pubkey: ${W.map(t.hex.encode)}`);se[ie]=!0}}const R=(W,se=s.NETWORK)=>{if(!l(W,o.PubT.ecdsa))throw new Error("P2PK: invalid publicKey");return{type:"pk",script:e.OutScript.encode({type:"pk",pubkey:W})}};e.p2pk=R;const F=(W,se=s.NETWORK)=>{if(!l(W,o.PubT.ecdsa))throw new Error("P2PKH: invalid publicKey");const Z=o.hash160(W);return{type:"pkh",script:e.OutScript.encode({type:"pkh",hash:Z}),address:ue(se).encode({type:"pkh",hash:Z}),hash:Z}};e.p2pkh=F;const D=(W,se=s.NETWORK)=>{const Z=W.script;if(!o.isBytes(Z))throw new Error(`Wrong script: ${typeof W.script}, expected Uint8Array`);const ie=o.hash160(Z),pe=e.OutScript.encode({type:"sh",hash:ie});return g(pe,Z,W.witnessScript),W.witnessScript?{type:"sh",redeemScript:Z,script:e.OutScript.encode({type:"sh",hash:ie}),address:ue(se).encode({type:"sh",hash:ie}),hash:ie,witnessScript:W.witnessScript}:{type:"sh",redeemScript:Z,script:e.OutScript.encode({type:"sh",hash:ie}),address:ue(se).encode({type:"sh",hash:ie}),hash:ie}};e.p2sh=D;const $=(W,se=s.NETWORK)=>{const Z=W.script;if(!o.isBytes(Z))throw new Error(`Wrong script: ${typeof Z}, expected Uint8Array`);const ie=o.sha256(Z),pe=e.OutScript.encode({type:"wsh",hash:ie});return g(pe,void 0,Z),{type:"wsh",witnessScript:Z,script:e.OutScript.encode({type:"wsh",hash:ie}),address:ue(se).encode({type:"wsh",hash:ie}),hash:ie}};e.p2wsh=$;const B=(W,se=s.NETWORK)=>{if(!l(W,o.PubT.ecdsa))throw new Error("P2WPKH: invalid publicKey");if(W.length===65)throw new Error("P2WPKH: uncompressed public key");const Z=o.hash160(W);return{type:"wpkh",script:e.OutScript.encode({type:"wpkh",hash:Z}),address:ue(se).encode({type:"wpkh",hash:Z}),hash:Z}};e.p2wpkh=B;const U=(W,se,Z=!1)=>(Z||k(se),{type:"ms",script:e.OutScript.encode({type:"ms",pubkeys:se,m:W})});e.p2ms=U;function q(W,se,Z=!1,ie){const pe=e.OutScript.decode(W);if(pe.type==="unknown"){if(ie){const Oe=r.apply(i.Script,r.coders.match(ie)).decode(W);if(Oe!==void 0){if(typeof Oe.type!="string"||!Oe.type.startsWith("tr_"))throw new Error(`P2TR: invalid custom type=${Oe.type}`);return}}if(Z)return}if(!["tr_ns","tr_ms"].includes(pe.type))throw new Error(`P2TR: invalid leaf script=${pe.type}`);const Ee=pe;if(!Z&&Ee.pubkeys)for(const Oe of Ee.pubkeys){if(o.equalBytes(Oe,o.TAPROOT_UNSPENDABLE_KEY))throw new Error("Unspendable taproot key in leaf script");if(o.equalBytes(Oe,se))throw new Error("Using P2TR with leaf script with same key as internal key is not supported")}}function ee(W){const se=Array.from(W);for(;se.length>=2;){se.sort((Oe,Re)=>(Re.weight||1)-(Oe.weight||1));const ie=se.pop(),pe=se.pop(),Ee=((pe==null?void 0:pe.weight)||1)+((ie==null?void 0:ie.weight)||1);se.push({weight:Ee,childs:[(pe==null?void 0:pe.childs)||pe,(ie==null?void 0:ie.childs)||ie]})}const Z=se[0];return(Z==null?void 0:Z.childs)||Z}function ae(W,se=[]){if(!W)throw new Error("taprootAddPath: empty tree");if(W.type==="leaf")return{...W,path:se};if(W.type!=="branch")throw new Error(`taprootAddPath: wrong type=${W}`);return{...W,path:se,left:ae(W.left,[W.right.hash,...se]),right:ae(W.right,[W.left.hash,...se])}}function re(W){if(!W)throw new Error("taprootAddPath: empty tree");if(W.type==="leaf")return[W];if(W.type!=="branch")throw new Error(`taprootWalkTree: wrong type=${W}`);return[...re(W.left),...re(W.right)]}function K(W,se,Z=!1,ie){if(!W)throw new Error("taprootHashTree: empty tree");if(Array.isArray(W)&&W.length===1&&(W=W[0]),!Array.isArray(W)){const{leafVersion:Ce,script:P}=W;if(W.tapLeafScript||W.tapMerkleRoot&&!o.equalBytes(W.tapMerkleRoot,r.EMPTY))throw new Error("P2TR: tapRoot leafScript cannot have tree");const Y=typeof P=="string"?t.hex.decode(P):P;if(!o.isBytes(Y))throw new Error(`checkScript: wrong script type=${Y}`);return q(Y,se,Z,ie),{type:"leaf",version:Ce,script:Y,hash:(0,e.tapLeafHash)(Y,Ce)}}if(W.length!==2&&(W=ee(W)),W.length!==2)throw new Error("hashTree: non binary tree!");const pe=K(W[0],se,Z,ie),Ee=K(W[1],se,Z,ie);let[Oe,Re]=[pe.hash,Ee.hash];return o.compareBytes(Re,Oe)===-1&&([Oe,Re]=[Re,Oe]),{type:"branch",left:pe,right:Ee,hash:o.tagSchnorr("TapBranch",Oe,Re)}}e.TAP_LEAF_VERSION=192;const C=(W,se=e.TAP_LEAF_VERSION)=>o.tagSchnorr("TapLeaf",new Uint8Array([se]),i.VarBytes.encode(W));e.tapLeafHash=C;function G(W,se,Z=s.NETWORK,ie=!1,pe){if(!W&&!se)throw new Error("p2tr: should have pubKey or scriptTree (or both)");const Ee=typeof W=="string"?t.hex.decode(W):W||o.TAPROOT_UNSPENDABLE_KEY;if(!l(Ee,o.PubT.schnorr))throw new Error("p2tr: non-schnorr pubkey");if(se){let Oe=ae(K(se,Ee,ie,pe));const Re=Oe.hash,[Ce,P]=o.taprootTweakPubkey(Ee,Re),Y=re(Oe).map(be=>({...be,controlBlock:n.TaprootControlBlock.encode({version:(be.version||e.TAP_LEAF_VERSION)+P,internalKey:Ee,merklePath:be.path})}));return{type:"tr",script:e.OutScript.encode({type:"tr",pubkey:Ce}),address:ue(Z).encode({type:"tr",pubkey:Ce}),tweakedPubkey:Ce,tapInternalKey:Ee,leaves:Y,tapLeafScript:Y.map(be=>[n.TaprootControlBlock.decode(be.controlBlock),o.concatBytes(be.script,new Uint8Array([be.version||e.TAP_LEAF_VERSION]))]),tapMerkleRoot:Re}}else{const Oe=o.taprootTweakPubkey(Ee,r.EMPTY)[0];return{type:"tr",script:e.OutScript.encode({type:"tr",pubkey:Oe}),address:ue(Z).encode({type:"tr",pubkey:Oe}),tweakedPubkey:Oe,tapInternalKey:Ee}}}function v(W,se){const Z=[];if(!Array.isArray(se))throw new Error("combinations: lst arg should be array");const ie=se.length;if(W>ie)throw new Error("combinations: m > lst.length, no combinations possible");const pe=Array.from({length:W},(Oe,Re)=>Re),Ee=pe.length-1;e:for(;;){Z.push(pe.map(Re=>se[Re])),pe[Ee]+=1;let Oe=Ee;for(;Oe>=0&&pe[Oe]>ie-W+Oe;Oe--){if(pe[Oe]=0,Oe===0)break e;pe[Oe-1]+=1}for(Oe+=1;Oe<pe.length;Oe++)pe[Oe]=pe[Oe-1]+1}return Z}const I=(W,se,Z=!1)=>(Z||k(se),v(W,se).map(ie=>({type:"tr_ns",script:e.OutScript.encode({type:"tr_ns",pubkeys:ie})})));e.p2tr_ns=I;const p=W=>(0,e.p2tr_ns)(1,[W],void 0)[0];e.p2tr_pk=p;function _(W,se,Z=!1){return Z||k(se),{type:"tr_ms",script:e.OutScript.encode({type:"tr_ms",pubkeys:se,m:W})}}function w(W,se,Z=s.NETWORK){if(W==="tr")return G(o.pubSchnorr(se),void 0,Z).address;const ie=o.pubECDSA(se);if(W==="pkh")return(0,e.p2pkh)(ie,Z).address;if(W==="wpkh")return(0,e.p2wpkh)(ie,Z).address;throw new Error(`getAddress: unknown type=${W}`)}const S=W=>Array.from(W).sort(o.compareBytes);e._sortPubkeys=S;function A(W,se,Z=!1,ie=!1,pe=s.NETWORK){const Ee=(0,e.p2ms)(W,Z?(0,e._sortPubkeys)(se):se);return ie?(0,e.p2wsh)(Ee,pe):(0,e.p2sh)(Ee,pe)}function x(W,se,Z=!1,ie=s.NETWORK){return A(W,se,!0,Z,ie)}const E=(0,t.createBase58check)(o.sha256);function T(W,se){if(se.length<2||se.length>40)throw new Error("Witness: invalid length");if(W>16)throw new Error("Witness: invalid version");if(W===0&&!(se.length===20||se.length===32))throw new Error("Witness: invalid length for version")}function M(W,se,Z=s.NETWORK){T(W,se);const ie=W===0?t.bech32:t.bech32m;return ie.encode(Z.bech32,[W].concat(ie.toWords(se)))}function Q(W,se){return E.encode(o.concatBytes(Uint8Array.from(se),W))}function he(W=s.NETWORK){return{encode(se){const Z=o.concatBytes(se,new Uint8Array([1]));return Q(Z.subarray(0,33),[W.wif])},decode(se){let Z=E.decode(se);if(Z[0]!==W.wif)throw new Error("Wrong WIF prefix");if(Z=Z.subarray(1),Z.length!==33)throw new Error("Wrong WIF length");if(Z[32]!==1)throw new Error("Wrong WIF postfix");return Z.subarray(0,-1)}}}function ue(W=s.NETWORK){return{encode(se){const{type:Z}=se;if(Z==="wpkh"||Z==="wsh")return M(0,se.hash,W);if(Z==="tr")return M(1,se.pubkey,W);if(Z==="pkh")return Q(se.hash,[W.pubKeyHash]);if(Z==="sh")return Q(se.hash,[W.scriptHash]);throw new Error(`Unknown address type=${Z}`)},decode(se){if(se.length<14||se.length>74)throw new Error("Invalid address length");if(W.bech32&&se.toLowerCase().startsWith(`${W.bech32}1`)){let ie;try{if(ie=t.bech32.decode(se),ie.words[0]!==0)throw new Error(`bech32: wrong version=${ie.words[0]}`)}catch{if(ie=t.bech32m.decode(se),ie.words[0]===0)throw new Error(`bech32m: wrong version=${ie.words[0]}`)}if(ie.prefix!==W.bech32)throw new Error(`wrong bech32 prefix=${ie.prefix}`);const[pe,...Ee]=ie.words,Oe=t.bech32.fromWords(Ee);if(T(pe,Oe),pe===0&&Oe.length===32)return{type:"wsh",hash:Oe};if(pe===0&&Oe.length===20)return{type:"wpkh",hash:Oe};if(pe===1&&Oe.length===32)return{type:"tr",pubkey:Oe};throw new Error("Unknown witness program")}const Z=E.decode(se);if(Z.length!==21)throw new Error("Invalid base58 address");if(Z[0]===W.pubKeyHash)return{type:"pkh",hash:Z.slice(1)};if(Z[0]===W.scriptHash)return{type:"sh",hash:Z.slice(1)};throw new Error(`Invalid address prefix=${Z[0]}`)}}}})(X0);var T1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=e.SigHash=e.SignatureHash=e.def=e.Decimal=e.DEFAULT_SEQUENCE=e.DEFAULT_LOCKTIME=e.DEFAULT_VERSION=e.PRECISION=e.toVsize=void 0,e.cloneDeep=g,e.inputBeforeSign=$,e.getPrevOut=K,e.normalizeInput=C,e.getInputType=G,e.PSBTCombine=I,e.bip32Path=_;const t=dm,r=gp,n=X0,i=yw,o=hm,s=Sl,a=Sl,l=new Uint8Array(32),c={amount:0xffffffffffffffffn,script:r.EMPTY},u=w=>Math.ceil(w/4);e.toVsize=u,e.PRECISION=8,e.DEFAULT_VERSION=2,e.DEFAULT_LOCKTIME=0,e.DEFAULT_SEQUENCE=4294967295,e.Decimal=r.coders.decimal(e.PRECISION);const h=(w,S)=>w===void 0?S:w;e.def=h;function g(w){if(Array.isArray(w))return w.map(S=>g(S));if((0,a.isBytes)(w))return Uint8Array.from(w);if(["number","bigint","boolean","string","undefined"].includes(typeof w)||w===null)return w;if(typeof w=="object")return Object.fromEntries(Object.entries(w).map(([S,A])=>[S,g(A)]));throw new Error(`cloneDeep: unknown type=${w} (${typeof w})`)}var k;(function(w){w[w.DEFAULT=0]="DEFAULT",w[w.ALL=1]="ALL",w[w.NONE=2]="NONE",w[w.SINGLE=3]="SINGLE",w[w.ANYONECANPAY=128]="ANYONECANPAY"})(k||(e.SignatureHash=k={}));var R;(function(w){w[w.DEFAULT=0]="DEFAULT",w[w.ALL=1]="ALL",w[w.NONE=2]="NONE",w[w.SINGLE=3]="SINGLE",w[w.DEFAULT_ANYONECANPAY=128]="DEFAULT_ANYONECANPAY",w[w.ALL_ANYONECANPAY=129]="ALL_ANYONECANPAY",w[w.NONE_ANYONECANPAY=130]="NONE_ANYONECANPAY",w[w.SINGLE_ANYONECANPAY=131]="SINGLE_ANYONECANPAY"})(R||(e.SigHash=R={}));function F(w,S,A,x=r.EMPTY){return(0,a.equalBytes)(A,S)&&(w=s.taprootTweakPrivKey(w,x),S=s.pubSchnorr(w)),{privKey:w,pubKey:S}}function D(w){if(w.script===void 0||w.amount===void 0)throw new Error("Transaction/output: script and amount required");return{script:w.script,amount:w.amount}}function $(w){if(w.txid===void 0||w.index===void 0)throw new Error("Transaction/input: txid and index required");return{txid:w.txid,index:w.index,sequence:(0,e.def)(w.sequence,e.DEFAULT_SEQUENCE),finalScriptSig:(0,e.def)(w.finalScriptSig,r.EMPTY)}}function B(w){for(const S in w){const A=S;i.PSBTInputFinalKeys.includes(A)||delete w[A]}}const U=r.struct({txid:r.bytes(32,!0),index:r.U32LE});function q(w){if(typeof w!="number"||typeof R[w]!="string")throw new Error(`Invalid SigHash=${w}`);return w}function ee(w){const S=w&31;return{isAny:!!(w&k.ANYONECANPAY),isNone:S===k.NONE,isSingle:S===k.SINGLE}}function ae(w){if(w!==void 0&&{}.toString.call(w)!=="[object Object]")throw new Error(`Wrong object type for transaction options: ${w}`);const S={...w,version:(0,e.def)(w.version,e.DEFAULT_VERSION),lockTime:(0,e.def)(w.lockTime,0),PSBTVersion:(0,e.def)(w.PSBTVersion,0)};if(typeof S.allowUnknowInput<"u"&&(w.allowUnknownInputs=S.allowUnknowInput),typeof S.allowUnknowOutput<"u"&&(w.allowUnknownOutputs=S.allowUnknowOutput),typeof S.lockTime!="number")throw new Error("Transaction lock time should be number");if(r.U32LE.encode(S.lockTime),S.PSBTVersion!==0&&S.PSBTVersion!==2)throw new Error(`Unknown PSBT version ${S.PSBTVersion}`);for(const A of["allowUnknownVersion","allowUnknownOutputs","allowUnknownInputs","disableScriptCheck","bip174jsCompat","allowLegacyWitnessUtxo","lowR"]){const x=S[A];if(x!==void 0&&typeof x!="boolean")throw new Error(`Transation options wrong type: ${A}=${x} (${typeof x})`)}if(S.allowUnknownVersion?typeof S.version=="number":![-1,0,1,2,3].includes(S.version))throw new Error(`Unknown version: ${S.version}`);if(S.customScripts!==void 0){const A=S.customScripts;if(!Array.isArray(A))throw new Error(`wrong custom scripts type (expected array): customScripts=${A} (${typeof A})`);for(const x of A){if(typeof x.encode!="function"||typeof x.decode!="function")throw new Error(`wrong script=${x} (${typeof x})`);if(x.finalizeTaproot!==void 0&&typeof x.finalizeTaproot!="function")throw new Error(`wrong script=${x} (${typeof x})`)}}return Object.freeze(S)}function re(w){if(w.nonWitnessUtxo&&w.index!==void 0){const S=w.nonWitnessUtxo.outputs.length-1;if(w.index>S)throw new Error(`validateInput: index(${w.index}) not in nonWitnessUtxo`);const A=w.nonWitnessUtxo.outputs[w.index];if(w.witnessUtxo&&(!(0,a.equalBytes)(w.witnessUtxo.script,A.script)||w.witnessUtxo.amount!==A.amount))throw new Error("validateInput: witnessUtxo different from nonWitnessUtxo");if(w.txid){if(w.nonWitnessUtxo.outputs.length-1<w.index)throw new Error("nonWitnessUtxo: incorect output index");const x=v.fromRaw(o.RawTx.encode(w.nonWitnessUtxo),{allowUnknownOutputs:!0,disableScriptCheck:!0,allowUnknownInputs:!0}),E=t.hex.encode(w.txid);if(x.isFinal&&x.id!==E)throw new Error(`nonWitnessUtxo: wrong txid, exp=${E} got=${x.id}`)}}return w}function K(w){if(w.nonWitnessUtxo){if(w.index===void 0)throw new Error("Unknown input index");return w.nonWitnessUtxo.outputs[w.index]}else{if(w.witnessUtxo)return w.witnessUtxo;throw new Error("Cannot find previous output info")}}function C(w,S,A,x=!1,E=!1){let{nonWitnessUtxo:T,txid:M}=w;typeof T=="string"&&(T=t.hex.decode(T)),(0,a.isBytes)(T)&&(T=o.RawTx.decode(T)),!("nonWitnessUtxo"in w)&&T===void 0&&(T=S==null?void 0:S.nonWitnessUtxo),typeof M=="string"&&(M=t.hex.decode(M)),M===void 0&&(M=S==null?void 0:S.txid);let Q={...S,...w,nonWitnessUtxo:T,txid:M};!("nonWitnessUtxo"in w)&&Q.nonWitnessUtxo===void 0&&delete Q.nonWitnessUtxo,Q.sequence===void 0&&(Q.sequence=e.DEFAULT_SEQUENCE),Q.tapMerkleRoot===null&&delete Q.tapMerkleRoot,Q=i.mergeKeyMap(i.PSBTInput,Q,S,A,E),i.PSBTInputCoder.encode(Q);let he;return Q.nonWitnessUtxo&&Q.index!==void 0?he=Q.nonWitnessUtxo.outputs[Q.index]:Q.witnessUtxo&&(he=Q.witnessUtxo),he&&!x&&(0,n.checkScript)(he&&he.script,Q.redeemScript,Q.witnessScript),Q}function G(w,S=!1){let A="legacy",x=k.ALL;const E=K(w),T=n.OutScript.decode(E.script);let M=T.type,Q=T;const he=[T];if(T.type==="tr")return x=k.DEFAULT,{txType:"taproot",type:"tr",last:T,lastScript:E.script,defaultSighash:x,sighash:w.sighashType||x};{if((T.type==="wpkh"||T.type==="wsh")&&(A="segwit"),T.type==="sh"){if(!w.redeemScript)throw new Error("inputType: sh without redeemScript");let Z=n.OutScript.decode(w.redeemScript);(Z.type==="wpkh"||Z.type==="wsh")&&(A="segwit"),he.push(Z),Q=Z,M+=`-${Z.type}`}if(Q.type==="wsh"){if(!w.witnessScript)throw new Error("inputType: wsh without witnessScript");let Z=n.OutScript.decode(w.witnessScript);Z.type==="wsh"&&(A="segwit"),he.push(Z),Q=Z,M+=`-${Z.type}`}const ue=he[he.length-1];if(ue.type==="sh"||ue.type==="wsh")throw new Error("inputType: sh/wsh cannot be terminal type");const W=n.OutScript.encode(ue),se={type:M,txType:A,last:ue,lastScript:W,defaultSighash:x,sighash:w.sighashType||x};if(A==="legacy"&&!S&&!w.nonWitnessUtxo)throw new Error("Transaction/sign: legacy input without nonWitnessUtxo, can result in attack that forces paying higher fees. Pass allowLegacyWitnessUtxo=true, if you sure");return se}}class v{constructor(S={}){this.global={},this.inputs=[],this.outputs=[];const A=this.opts=ae(S);A.lockTime!==e.DEFAULT_LOCKTIME&&(this.global.fallbackLocktime=A.lockTime),this.global.txVersion=A.version}static fromRaw(S,A={}){const x=o.RawTx.decode(S),E=new v({...A,version:x.version,lockTime:x.lockTime});for(const T of x.outputs)E.addOutput(T);if(E.outputs=x.outputs,E.inputs=x.inputs,x.witnesses)for(let T=0;T<x.witnesses.length;T++)E.inputs[T].finalScriptWitness=x.witnesses[T];return E}static fromPSBT(S,A={}){let x;try{x=i.RawPSBTV0.decode(S)}catch(se){try{x=i.RawPSBTV2.decode(S)}catch{throw se}}const E=x.global.version||0;if(E!==0&&E!==2)throw new Error(`Wrong PSBT version=${E}`);const T=x.global.unsignedTx,M=E===0?T==null?void 0:T.version:x.global.txVersion,Q=E===0?T==null?void 0:T.lockTime:x.global.fallbackLocktime,he=new v({...A,version:M,lockTime:Q,PSBTVersion:E}),ue=E===0?T==null?void 0:T.inputs.length:x.global.inputCount;he.inputs=x.inputs.slice(0,ue).map((se,Z)=>{var ie;return re({finalScriptSig:r.EMPTY,...(ie=x.global.unsignedTx)==null?void 0:ie.inputs[Z],...se})});const W=E===0?T==null?void 0:T.outputs.length:x.global.outputCount;return he.outputs=x.outputs.slice(0,W).map((se,Z)=>{var ie;return{...se,...(ie=x.global.unsignedTx)==null?void 0:ie.outputs[Z]}}),he.global={...x.global,txVersion:M},Q!==e.DEFAULT_LOCKTIME&&(he.global.fallbackLocktime=Q),he}toPSBT(S=this.opts.PSBTVersion){if(S!==0&&S!==2)throw new Error(`Wrong PSBT version=${S}`);const A=this.inputs.map(T=>re(i.cleanPSBTFields(S,i.PSBTInput,T)));for(const T of A)T.partialSig&&!T.partialSig.length&&delete T.partialSig,T.finalScriptSig&&!T.finalScriptSig.length&&delete T.finalScriptSig,T.finalScriptWitness&&!T.finalScriptWitness.length&&delete T.finalScriptWitness;const x=this.outputs.map(T=>i.cleanPSBTFields(S,i.PSBTOutput,T)),E={...this.global};return S===0?(E.unsignedTx=o.RawOldTx.decode(o.RawOldTx.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map($).map(T=>({...T,finalScriptSig:r.EMPTY})),outputs:this.outputs.map(D)})),delete E.fallbackLocktime,delete E.txVersion):(E.version=S,E.txVersion=this.version,E.inputCount=this.inputs.length,E.outputCount=this.outputs.length,E.fallbackLocktime&&E.fallbackLocktime===e.DEFAULT_LOCKTIME&&delete E.fallbackLocktime),this.opts.bip174jsCompat&&(A.length||A.push({}),x.length||x.push({})),(S===0?i.RawPSBTV0:i.RawPSBTV2).encode({global:E,inputs:A,outputs:x})}get lockTime(){let S=e.DEFAULT_LOCKTIME,A=0,x=e.DEFAULT_LOCKTIME,E=0;for(const T of this.inputs)T.requiredHeightLocktime&&(S=Math.max(S,T.requiredHeightLocktime),A++),T.requiredTimeLocktime&&(x=Math.max(x,T.requiredTimeLocktime),E++);return A&&A>=E?S:x!==e.DEFAULT_LOCKTIME?x:this.global.fallbackLocktime||e.DEFAULT_LOCKTIME}get version(){if(this.global.txVersion===void 0)throw new Error("No global.txVersion");return this.global.txVersion}inputStatus(S){this.checkInputIdx(S);const A=this.inputs[S];return A.finalScriptSig&&A.finalScriptSig.length||A.finalScriptWitness&&A.finalScriptWitness.length?"finalized":A.tapKeySig||A.tapScriptSig&&A.tapScriptSig.length||A.partialSig&&A.partialSig.length?"signed":"unsigned"}inputSighash(S){this.checkInputIdx(S);const A=this.inputs[S].sighashType,x=A===void 0?k.DEFAULT:A,E=x===k.DEFAULT?k.ALL:x&3;return{sigInputs:x&k.ANYONECANPAY,sigOutputs:E}}signStatus(){let S=!0,A=!0,x=[],E=[];for(let T=0;T<this.inputs.length;T++){if(this.inputStatus(T)==="unsigned")continue;const{sigInputs:M,sigOutputs:Q}=this.inputSighash(T);if(M===k.ANYONECANPAY?x.push(T):S=!1,Q===k.ALL)A=!1;else if(Q===k.SINGLE)E.push(T);else if(Q!==k.NONE)throw new Error(`Wrong signature hash output type: ${Q}`)}return{addInput:S,addOutput:A,inputs:x,outputs:E}}get isFinal(){for(let S=0;S<this.inputs.length;S++)if(this.inputStatus(S)!=="finalized")return!1;return!0}get hasWitnesses(){let S=!1;for(const A of this.inputs)A.finalScriptWitness&&A.finalScriptWitness.length&&(S=!0);return S}get weight(){if(!this.isFinal)throw new Error("Transaction is not finalized");let S=32;const A=this.outputs.map(D);S+=4*o.CompactSizeLen.encode(this.outputs.length).length;for(const x of A)S+=32+4*o.VarBytes.encode(x.script).length;this.hasWitnesses&&(S+=2),S+=4*o.CompactSizeLen.encode(this.inputs.length).length;for(const x of this.inputs)S+=160+4*o.VarBytes.encode(x.finalScriptSig||r.EMPTY).length,this.hasWitnesses&&x.finalScriptWitness&&(S+=o.RawWitness.encode(x.finalScriptWitness).length);return S}get vsize(){return(0,e.toVsize)(this.weight)}toBytes(S=!1,A=!1){return o.RawTx.encode({version:this.version,lockTime:this.lockTime,inputs:this.inputs.map($).map(x=>({...x,finalScriptSig:S&&x.finalScriptSig||r.EMPTY})),outputs:this.outputs.map(D),witnesses:this.inputs.map(x=>x.finalScriptWitness||[]),segwitFlag:A&&this.hasWitnesses})}get unsignedTx(){return this.toBytes(!1,!1)}get hex(){return t.hex.encode(this.toBytes(!0,this.hasWitnesses))}get hash(){if(!this.isFinal)throw new Error("Transaction is not finalized");return t.hex.encode(s.sha256x2(this.toBytes(!0)))}get id(){if(!this.isFinal)throw new Error("Transaction is not finalized");return t.hex.encode(s.sha256x2(this.toBytes(!0)).reverse())}checkInputIdx(S){if(!Number.isSafeInteger(S)||0>S||S>=this.inputs.length)throw new Error(`Wrong input index=${S}`)}getInput(S){return this.checkInputIdx(S),g(this.inputs[S])}get inputsLength(){return this.inputs.length}addInput(S,A=!1){if(!A&&!this.signStatus().addInput)throw new Error("Tx has signed inputs, cannot add new one");return this.inputs.push(C(S,void 0,void 0,this.opts.disableScriptCheck)),this.inputs.length-1}updateInput(S,A,x=!1){this.checkInputIdx(S);let E;if(!x){const T=this.signStatus();(!T.addInput||T.inputs.includes(S))&&(E=i.PSBTInputUnsignedKeys)}this.inputs[S]=C(A,this.inputs[S],E,this.opts.disableScriptCheck,this.opts.allowUnknown)}checkOutputIdx(S){if(!Number.isSafeInteger(S)||0>S||S>=this.outputs.length)throw new Error(`Wrong output index=${S}`)}getOutput(S){return this.checkOutputIdx(S),g(this.outputs[S])}getOutputAddress(S,A=a.NETWORK){const x=this.getOutput(S);if(x.script)return(0,n.Address)(A).encode(n.OutScript.decode(x.script))}get outputsLength(){return this.outputs.length}normalizeOutput(S,A,x){let{amount:E,script:T}=S;if(E===void 0&&(E=A==null?void 0:A.amount),typeof E!="bigint")throw new Error(`Wrong amount type, should be of type bigint in sats, but got ${E} of type ${typeof E}`);typeof T=="string"&&(T=t.hex.decode(T)),T===void 0&&(T=A==null?void 0:A.script);let M={...A,...S,amount:E,script:T};if(M.amount===void 0&&delete M.amount,M=i.mergeKeyMap(i.PSBTOutput,M,A,x,this.opts.allowUnknown),i.PSBTOutputCoder.encode(M),M.script&&!this.opts.allowUnknownOutputs&&n.OutScript.decode(M.script).type==="unknown")throw new Error("Transaction/output: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownOutputs=true, if you sure");return this.opts.disableScriptCheck||(0,n.checkScript)(M.script,M.redeemScript,M.witnessScript),M}addOutput(S,A=!1){if(!A&&!this.signStatus().addOutput)throw new Error("Tx has signed outputs, cannot add new one");return this.outputs.push(this.normalizeOutput(S)),this.outputs.length-1}updateOutput(S,A,x=!1){this.checkOutputIdx(S);let E;if(!x){const T=this.signStatus();(!T.addOutput||T.outputs.includes(S))&&(E=i.PSBTOutputUnsignedKeys)}this.outputs[S]=this.normalizeOutput(A,this.outputs[S],E)}addOutputAddress(S,A,x=a.NETWORK){return this.addOutput({script:n.OutScript.encode((0,n.Address)(x).decode(S)),amount:A})}get fee(){let S=0n;for(const x of this.inputs){const E=K(x);if(!E)throw new Error("Empty input amount");S+=E.amount}const A=this.outputs.map(D);for(const x of A)S-=x.amount;return S}preimageLegacy(S,A,x){const{isAny:E,isNone:T,isSingle:M}=ee(x);if(S<0||!Number.isSafeInteger(S))throw new Error(`Invalid input idx=${S}`);if(M&&S>=this.outputs.length||S>=this.inputs.length)return r.U256BE.encode(1n);A=o.Script.encode(o.Script.decode(A).filter(W=>W!=="CODESEPARATOR"));let Q=this.inputs.map($).map((W,se)=>({...W,finalScriptSig:se===S?A:r.EMPTY}));E?Q=[Q[S]]:(T||M)&&(Q=Q.map((W,se)=>({...W,sequence:se===S?W.sequence:0})));let he=this.outputs.map(D);T?he=[]:M&&(he=he.slice(0,S).fill(c).concat([he[S]]));const ue=o.RawTx.encode({lockTime:this.lockTime,version:this.version,segwitFlag:!1,inputs:Q,outputs:he});return s.sha256x2(ue,r.I32LE.encode(x))}preimageWitnessV0(S,A,x,E){const{isAny:T,isNone:M,isSingle:Q}=ee(x);let he=l,ue=l,W=l;const se=this.inputs.map($),Z=this.outputs.map(D);T||(he=s.sha256x2(...se.map(U.encode))),!T&&!Q&&!M&&(ue=s.sha256x2(...se.map(pe=>r.U32LE.encode(pe.sequence)))),!Q&&!M?W=s.sha256x2(...Z.map(o.RawOutput.encode)):Q&&S<Z.length&&(W=s.sha256x2(o.RawOutput.encode(Z[S])));const ie=se[S];return s.sha256x2(r.I32LE.encode(this.version),he,ue,r.bytes(32,!0).encode(ie.txid),r.U32LE.encode(ie.index),o.VarBytes.encode(A),r.U64LE.encode(E),r.U32LE.encode(ie.sequence),W,r.U32LE.encode(this.lockTime),r.U32LE.encode(x))}preimageWitnessV1(S,A,x,E,T=-1,M,Q=192,he){if(!Array.isArray(E)||this.inputs.length!==E.length)throw new Error(`Invalid amounts array=${E}`);if(!Array.isArray(A)||this.inputs.length!==A.length)throw new Error(`Invalid prevOutScript array=${A}`);const ue=[r.U8.encode(0),r.U8.encode(x),r.I32LE.encode(this.version),r.U32LE.encode(this.lockTime)],W=x===k.DEFAULT?k.ALL:x&3,se=x&k.ANYONECANPAY,Z=this.inputs.map($),ie=this.outputs.map(D);se!==k.ANYONECANPAY&&ue.push(...[Z.map(U.encode),E.map(r.U64LE.encode),A.map(o.VarBytes.encode),Z.map(Ee=>r.U32LE.encode(Ee.sequence))].map(Ee=>s.sha256((0,a.concatBytes)(...Ee)))),W===k.ALL&&ue.push(s.sha256((0,a.concatBytes)(...ie.map(o.RawOutput.encode))));const pe=(he?1:0)|(M?2:0);if(ue.push(new Uint8Array([pe])),se===k.ANYONECANPAY){const Ee=Z[S];ue.push(U.encode(Ee),r.U64LE.encode(E[S]),o.VarBytes.encode(A[S]),r.U32LE.encode(Ee.sequence))}else ue.push(r.U32LE.encode(S));return pe&1&&ue.push(s.sha256(o.VarBytes.encode(he||r.EMPTY))),W===k.SINGLE&&ue.push(S<ie.length?s.sha256(o.RawOutput.encode(ie[S])):l),M&&ue.push((0,n.tapLeafHash)(M,Q),r.U8.encode(0),r.I32LE.encode(T)),s.tagSchnorr("TapSighash",...ue)}signIdx(S,A,x,E){this.checkInputIdx(A);const T=this.inputs[A],M=G(T,this.opts.allowLegacyWitnessUtxo);if(!(0,a.isBytes)(S)){if(!T.bip32Derivation||!T.bip32Derivation.length)throw new Error("bip32Derivation: empty");const W=T.bip32Derivation.filter(Z=>Z[1].fingerprint==S.fingerprint).map(([Z,{path:ie}])=>{let pe=S;for(const Ee of ie)pe=pe.deriveChild(Ee);if(!(0,a.equalBytes)(pe.publicKey,Z))throw new Error("bip32Derivation: wrong pubKey");if(!pe.privateKey)throw new Error("bip32Derivation: no privateKey");return pe});if(!W.length)throw new Error(`bip32Derivation: no items with fingerprint=${S.fingerprint}`);let se=!1;for(const Z of W)this.signIdx(Z.privateKey,A)&&(se=!0);return se}x?x.forEach(q):x=[M.defaultSighash];const Q=M.sighash;if(!x.includes(Q))throw new Error(`Input with not allowed sigHash=${Q}. Allowed: ${x.join(", ")}`);const{sigOutputs:he}=this.inputSighash(A);if(he===k.SINGLE&&A>=this.outputs.length)throw new Error(`Input with sighash SINGLE, but there is no output with corresponding index=${A}`);const ue=K(T);if(M.txType==="taproot"){const W=this.inputs.map(K),se=W.map(Oe=>Oe.script),Z=W.map(Oe=>Oe.amount);let ie=!1,pe=s.pubSchnorr(S),Ee=T.tapMerkleRoot||r.EMPTY;if(T.tapInternalKey){const{pubKey:Oe,privKey:Re}=F(S,pe,T.tapInternalKey,Ee),[Ce,P]=s.taprootTweakPubkey(T.tapInternalKey,Ee);if((0,a.equalBytes)(Ce,Oe)){const Y=this.preimageWitnessV1(A,se,Q,Z),be=(0,a.concatBytes)(s.signSchnorr(Y,Re,E),Q!==k.DEFAULT?new Uint8Array([Q]):r.EMPTY);this.updateInput(A,{tapKeySig:be},!0),ie=!0}}if(T.tapLeafScript){T.tapScriptSig=T.tapScriptSig||[];for(const[Oe,Re]of T.tapLeafScript){const Ce=Re.subarray(0,-1),P=o.Script.decode(Ce),Y=Re[Re.length-1],be=(0,n.tapLeafHash)(Ce,Y);if(P.findIndex(rt=>(0,a.isBytes)(rt)&&(0,a.equalBytes)(rt,pe))===-1)continue;const Ue=this.preimageWitnessV1(A,se,Q,Z,void 0,Ce,Y),Ke=(0,a.concatBytes)(s.signSchnorr(Ue,S,E),Q!==k.DEFAULT?new Uint8Array([Q]):r.EMPTY);this.updateInput(A,{tapScriptSig:[[{pubKey:pe,leafHash:be},Ke]]},!0),ie=!0}}if(!ie)throw new Error("No taproot scripts signed");return!0}else{const W=s.pubECDSA(S);let se=!1;const Z=s.hash160(W);for(const Ee of o.Script.decode(M.lastScript))(0,a.isBytes)(Ee)&&((0,a.equalBytes)(Ee,W)||(0,a.equalBytes)(Ee,Z))&&(se=!0);if(!se)throw new Error(`Input script doesn't have pubKey: ${M.lastScript}`);let ie;if(M.txType==="legacy")ie=this.preimageLegacy(A,M.lastScript,Q);else if(M.txType==="segwit"){let Ee=M.lastScript;M.last.type==="wpkh"&&(Ee=n.OutScript.encode({type:"pkh",hash:M.last.hash})),ie=this.preimageWitnessV0(A,Ee,Q,ue.amount)}else throw new Error(`Transaction/sign: unknown tx type: ${M.txType}`);const pe=s.signECDSA(ie,S,this.opts.lowR);this.updateInput(A,{partialSig:[[W,(0,a.concatBytes)(pe,new Uint8Array([Q]))]]},!0)}return!0}sign(S,A,x){let E=0;for(let T=0;T<this.inputs.length;T++)try{this.signIdx(S,T,A,x)&&E++}catch{}if(!E)throw new Error("No inputs signed");return E}finalizeIdx(S){if(this.checkInputIdx(S),this.fee<0n)throw new Error("Outputs spends more than inputs amount");const A=this.inputs[S],x=G(A,this.opts.allowLegacyWitnessUtxo);if(x.txType==="taproot"){if(A.tapKeySig)A.finalScriptWitness=[A.tapKeySig];else if(A.tapLeafScript&&A.tapScriptSig){const he=A.tapLeafScript.sort((ue,W)=>i.TaprootControlBlock.encode(ue[0]).length-i.TaprootControlBlock.encode(W[0]).length);for(const[ue,W]of he){const se=W.slice(0,-1),Z=W[W.length-1],ie=n.OutScript.decode(se),pe=(0,n.tapLeafHash)(se,Z),Ee=A.tapScriptSig.filter(Re=>(0,a.equalBytes)(Re[0].leafHash,pe));let Oe=[];if(ie.type==="tr_ms"){const Re=ie.m,Ce=ie.pubkeys;let P=0;for(const Y of Ce){const be=Ee.findIndex(Ue=>(0,a.equalBytes)(Ue[0].pubKey,Y));if(P===Re||be===-1){Oe.push(r.EMPTY);continue}Oe.push(Ee[be][1]),P++}if(P!==Re)continue}else if(ie.type==="tr_ns"){for(const Re of ie.pubkeys){const Ce=Ee.findIndex(P=>(0,a.equalBytes)(P[0].pubKey,Re));Ce!==-1&&Oe.push(Ee[Ce][1])}if(Oe.length!==ie.pubkeys.length)continue}else if(ie.type==="unknown"&&this.opts.allowUnknownInputs){const Re=o.Script.decode(se);if(Oe=Ee.map(([{pubKey:Ce},P])=>{const Y=Re.findIndex(be=>(0,a.isBytes)(be)&&(0,a.equalBytes)(be,Ce));if(Y===-1)throw new Error("finalize/taproot: cannot find position of pubkey in script");return{signature:P,pos:Y}}).sort((Ce,P)=>Ce.pos-P.pos).map(Ce=>Ce.signature),!Oe.length)continue}else{const Re=this.opts.customScripts;if(Re)for(const Ce of Re){if(!Ce.finalizeTaproot)continue;const P=o.Script.decode(se),Y=Ce.encode(P);if(Y===void 0)continue;const be=Ce.finalizeTaproot(se,Y,Ee);if(be){A.finalScriptWitness=be.concat(i.TaprootControlBlock.encode(ue)),A.finalScriptSig=r.EMPTY,B(A);return}}throw new Error("Finalize: Unknown tapLeafScript")}A.finalScriptWitness=Oe.reverse().concat([se,i.TaprootControlBlock.encode(ue)]);break}if(!A.finalScriptWitness)throw new Error("finalize/taproot: empty witness")}else throw new Error("finalize/taproot: unknown input");A.finalScriptSig=r.EMPTY,B(A);return}if(!A.partialSig||!A.partialSig.length)throw new Error("Not enough partial sign");let E=r.EMPTY,T=[];if(x.last.type==="ms"){const he=x.last.m,ue=x.last.pubkeys;let W=[];for(const se of ue){const Z=A.partialSig.find(ie=>(0,a.equalBytes)(se,ie[0]));Z&&W.push(Z[1])}if(W=W.slice(0,he),W.length!==he)throw new Error(`Multisig: wrong signatures count, m=${he} n=${ue.length} signatures=${W.length}`);E=o.Script.encode([0,...W])}else if(x.last.type==="pk")E=o.Script.encode([A.partialSig[0][1]]);else if(x.last.type==="pkh")E=o.Script.encode([A.partialSig[0][1],A.partialSig[0][0]]);else if(x.last.type==="wpkh")E=r.EMPTY,T=[A.partialSig[0][1],A.partialSig[0][0]];else if(x.last.type==="unknown"&&!this.opts.allowUnknownInputs)throw new Error("Unknown inputs not allowed");let M,Q;if(x.type.includes("wsh-")&&(E.length&&x.lastScript.length&&(T=o.Script.decode(E).map(he=>{if(he===0)return r.EMPTY;if((0,a.isBytes)(he))return he;throw new Error(`Wrong witness op=${he}`)})),T=T.concat(x.lastScript)),x.txType==="segwit"&&(Q=T),x.type.startsWith("sh-wsh-")?M=o.Script.encode([o.Script.encode([0,s.sha256(x.lastScript)])]):x.type.startsWith("sh-")?M=o.Script.encode([...o.Script.decode(E),x.lastScript]):x.type.startsWith("wsh-")||x.txType!=="segwit"&&(M=E),!M&&!Q)throw new Error("Unknown error finalizing input");M&&(A.finalScriptSig=M),Q&&(A.finalScriptWitness=Q),B(A)}finalize(){for(let S=0;S<this.inputs.length;S++)this.finalizeIdx(S)}extract(){if(!this.isFinal)throw new Error("Transaction has unfinalized inputs");if(!this.outputs.length)throw new Error("Transaction has no outputs");if(this.fee<0n)throw new Error("Outputs spends more than inputs amount");return this.toBytes(!0,!0)}combine(S){for(const E of["PSBTVersion","version","lockTime"])if(this.opts[E]!==S.opts[E])throw new Error(`Transaction/combine: different ${E} this=${this.opts[E]} other=${S.opts[E]}`);for(const E of["inputs","outputs"])if(this[E].length!==S[E].length)throw new Error(`Transaction/combine: different ${E} length this=${this[E].length} other=${S[E].length}`);const A=this.global.unsignedTx?o.RawOldTx.encode(this.global.unsignedTx):r.EMPTY,x=S.global.unsignedTx?o.RawOldTx.encode(S.global.unsignedTx):r.EMPTY;if(!(0,a.equalBytes)(A,x))throw new Error("Transaction/combine: different unsigned tx");this.global=i.mergeKeyMap(i.PSBTGlobal,this.global,S.global,void 0,this.opts.allowUnknown);for(let E=0;E<this.inputs.length;E++)this.updateInput(E,S.inputs[E],!0);for(let E=0;E<this.outputs.length;E++)this.updateOutput(E,S.outputs[E],!0);return this}clone(){return v.fromPSBT(this.toPSBT(this.opts.PSBTVersion),this.opts)}}e.Transaction=v;function I(w){if(!w||!Array.isArray(w)||!w.length)throw new Error("PSBTCombine: wrong PSBT list");const S=v.fromPSBT(w[0]);for(let A=1;A<w.length;A++)S.combine(v.fromPSBT(w[A]));return S.toPSBT()}const p=2147483648;function _(w){const S=[];if(!/^[mM]'?/.test(w))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(w))return S;const A=w.replace(/^[mM]'?\//,"").split("/");for(const x of A){const E=/^(\d+)('?)$/.exec(x);if(!E||E.length!==3)throw new Error(`Invalid child index: ${x}`);let T=+E[1];if(!Number.isSafeInteger(T)||T>=p)throw new Error("Invalid index");E[2]==="'"&&(T+=p),S.push(T)}return S}})(T1);var pk={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._Estimator=e._cmpBig=void 0,e.selectUTXO=R;const t=dm,r=gp,n=X0,i=yw,o=hm,s=T1,a=Sl,l=F=>i.TaprootControlBlock.encode(F);function c(F,D,$){if(!F||!F.length)throw new Error("no leafs");const B=()=>new Uint8Array(D),U=F.sort((q,ee)=>l(q[0]).length-l(ee[0]).length);for(const[q,ee]of U){const ae=ee.slice(0,-1),re=ee[ee.length-1],K=n.OutScript.decode(ae);let C=[];if(K.type==="tr_ms"){const G=K.m,v=K.pubkeys.length-G;for(let I=0;I<G;I++)C.push(B());for(let I=0;I<v;I++)C.push(r.EMPTY)}else if(K.type==="tr_ns")for(const G of K.pubkeys)C.push(B());else{if(!$)throw new Error("Finalize: Unknown tapLeafScript");const G=(0,n.tapLeafHash)(ae,re);for(const v of $){if(!v.finalizeTaproot)continue;const I=o.Script.decode(ae),p=v.encode(I);if(p===void 0)continue;const _=I.filter(S=>{if(!(0,a.isBytes)(S))return!1;try{return(0,a.validatePubkey)(S,a.PubT.schnorr),!0}catch{return!1}}),w=v.finalizeTaproot(ae,p,_.map(S=>[{pubKey:S,leafHash:G},B()]));if(w)return w.concat(l(q))}}return C.reverse().concat([ae,l(q)])}throw new Error("there was no witness")}function u(F,D,$){let B=r.EMPTY,U;if(F.txType==="taproot"){const ae=F.sighash!==s.SignatureHash.DEFAULT?65:64;if(D.tapInternalKey&&!(0,a.equalBytes)(D.tapInternalKey,a.TAPROOT_UNSPENDABLE_KEY))U=[new Uint8Array(ae)];else if(D.tapLeafScript)U=c(D.tapLeafScript,ae,$.customScripts);else throw new Error("estimateInput/taproot: unknown input")}else{const ae=()=>new Uint8Array(72),re=()=>new Uint8Array(33);let K=r.EMPTY,C=[];const G=F.last.type;if(G==="ms"){const v=F.last.m,I=[0];for(let p=0;p<v;p++)I.push(ae());K=o.Script.encode(I)}else if(G==="pk")K=o.Script.encode([ae()]);else if(G==="pkh")K=o.Script.encode([ae(),re()]);else if(G==="wpkh")K=r.EMPTY,C=[ae(),re()];else if(G==="unknown"&&!$.allowUnknownInputs)throw new Error("Unknown inputs are not allowed");F.type.includes("wsh-")&&(K.length&&F.lastScript.length&&(C=o.Script.decode(K).map(v=>{if(v===0)return r.EMPTY;if((0,a.isBytes)(v))return v;throw new Error(`Wrong witness op=${v}`)})),C=C.concat(F.lastScript)),F.txType==="segwit"&&(U=C),F.type.startsWith("sh-wsh-")?B=o.Script.encode([o.Script.encode([0,new Uint8Array(a.sha256.outputLen)])]):F.type.startsWith("sh-")?B=o.Script.encode([...o.Script.decode(K),F.lastScript]):F.type.startsWith("wsh-")||F.txType!=="segwit"&&(B=K)}let q=160+4*o.VarBytes.encode(B).length,ee=!1;return U&&(q+=o.RawWitness.encode(U).length,ee=!0),{weight:q,hasWitnesses:ee}}const h=(F,D)=>{const $=F-D;return $<0n?-1:$>0n?1:0};e._cmpBig=h;function g(F,D={},$=a.NETWORK){let B;if("script"in F&&(0,a.isBytes)(F.script)&&(B=F.script),"address"in F){if(typeof F.address!="string")throw new Error(`Estimator: wrong output address=${F.address}`);B=n.OutScript.encode((0,n.Address)($).decode(F.address))}if(!B)throw new Error("Estimator: wrong output script");if(typeof F.amount!="bigint")throw new Error(`Estimator: wrong output amount=${F.amount}, should be of type bigint but got ${typeof F.amount}.`);if(B&&!D.allowUnknownOutputs&&n.OutScript.decode(B).type==="unknown")throw new Error("Estimator: unknown output script type, there is a chance that input is unspendable. Pass allowUnknownOutputs=true, if you sure");return D.disableScriptCheck||(0,n.checkScript)(B),B}class k{constructor(D,$,B){if(this.requiredIndices=[],this.outputs=$,this.opts=B,typeof B.feePerByte!="bigint")throw new Error(`Estimator: wrong feePerByte=${B.feePerByte}, should be of type bigint but got ${typeof B.feePerByte}.`);const U=B.dust===void 0?BigInt(182):B.dust;if(typeof U!="bigint")throw new Error(`Estimator: wrong dust=${B.dust}, should be of type bigint but got ${typeof B.dust}.`);const q=B.dustRelayFeeRate===void 0?3n:B.dustRelayFeeRate;if(typeof q!="bigint")throw new Error(`Estimator: wrong dustRelayFeeRate=${B.dustRelayFeeRate}, should be of type bigint but got ${typeof B.dustRelayFeeRate}.`);if(this.dust=U*q,B.requiredInputs!==void 0&&!Array.isArray(B.requiredInputs))throw new Error(`Estimator: wrong required inputs=${B.requiredInputs}`);const ee=B.network||a.NETWORK;let ae=0n,re=32;for(const v of $){const I=g(v,B,B.network);re+=32+4*o.VarBytes.encode(I).length,ae+=v.amount}if(typeof B.changeAddress!="string")throw new Error(`Estimator: wrong change address=${B.changeAddress}`);let K=re+32+4*o.VarBytes.encode(n.OutScript.encode((0,n.Address)(ee).decode(B.changeAddress))).length;re+=4*o.CompactSizeLen.encode($.length).length,K+=4*o.CompactSizeLen.encode($.length+1).length,this.baseWeight=re,this.changeWeight=K,this.amount=ae;const C=Array.from(D);if(B.requiredInputs)for(let v=0;v<B.requiredInputs.length;v++)this.requiredIndices.push(C.push(B.requiredInputs[v])-1);const G=new Set;this.normalizedInputs=C.map(v=>{const I=(0,s.normalizeInput)(v,void 0,void 0,B.disableScriptCheck,B.allowUnknown);(0,s.inputBeforeSign)(I);const p=`${t.hex.encode(I.txid)}:${I.index}`;if(!B.allowSameUtxo&&G.has(p))throw new Error(`Estimator: same input passed multiple times: ${p}`);G.add(p);const _=(0,s.getInputType)(I,B.allowLegacyWitnessUtxo),w=(0,s.getPrevOut)(I),S=u(_,I,this.opts),A=w.amount-B.feePerByte*BigInt((0,s.toVsize)(S.weight));return{inputType:_,normalized:I,amount:w.amount,value:A,estimate:S}})}checkInputIdx(D){if(!Number.isSafeInteger(D)||0>D||D>=this.normalizedInputs.length)throw new Error(`Wrong input index=${D}`);return D}sortIndices(D){return D.slice().sort(($,B)=>{const U=this.normalizedInputs[this.checkInputIdx($)],q=this.normalizedInputs[this.checkInputIdx(B)],ee=(0,a.compareBytes)(U.normalized.txid,q.normalized.txid);return ee!==0?ee:U.normalized.index-q.normalized.index})}sortOutputs(D){const $=D.map(B=>g(B,this.opts,this.opts.network));return D.map((B,U)=>U).sort((B,U)=>{const q=D[B].amount,ee=D[U].amount,ae=(0,e._cmpBig)(q,ee);return ae!==0?ae:(0,a.compareBytes)($[B],$[U])})}getSatoshi(D){return this.opts.feePerByte*BigInt((0,s.toVsize)(D))}get biggest(){return this.normalizedInputs.map((D,$)=>$).sort((D,$)=>(0,e._cmpBig)(this.normalizedInputs[$].value,this.normalizedInputs[D].value))}get smallest(){return this.biggest.reverse()}get oldest(){return this.normalizedInputs.map((D,$)=>$)}get newest(){return this.oldest.reverse()}accumulate(D,$=!1,B=!0,U=!1){let q=this.opts.alwaysChange?this.changeWeight:this.baseWeight,ee=!1,ae=0,re=0n;const K=this.amount,C=new Set;let G;for(const v of this.requiredIndices){if(this.checkInputIdx(v),C.has(v))throw new Error("required input encountered multiple times");const{estimate:I,amount:p}=this.normalizedInputs[v];let _=q+I.weight;!ee&&I.hasWitnesses&&(_+=2);const w=_+4*o.CompactSizeLen.encode(ae).length;if(G=this.getSatoshi(w),q=_,I.hasWitnesses&&(ee=!0),ae++,re+=p,C.add(v),!U&&K+G<=re&&ae>=this.requiredIndices.length)return{indices:Array.from(C),fee:G,weight:w,total:re}}for(const v of D){if(this.checkInputIdx(v),C.has(v))continue;const{estimate:I,amount:p,value:_}=this.normalizedInputs[v];let w=q+I.weight;!ee&&I.hasWitnesses&&(w+=2);const S=w+4*o.CompactSizeLen.encode(ae).length;if(G=this.getSatoshi(S),!($&&p+re>K+G+this.dust)&&!(B&&_<=0n)&&(q=w,I.hasWitnesses&&(ee=!0),ae++,re+=p,C.add(v),!U&&K+G<=re))return{indices:Array.from(C),fee:G,weight:S,total:re}}if(U){const v=q+4*o.CompactSizeLen.encode(ae).length;return{indices:Array.from(C),fee:G,weight:v,total:re}}}default(){const{biggest:D}=this;return this.accumulate(D,!0,!1)||this.accumulate(D)}select(D){if(D==="all")return this.accumulate(this.normalizedInputs.map((B,U)=>U),!1,!0,!0);if(D==="default")return this.default();const $={Oldest:()=>this.oldest,Newest:()=>this.newest,Smallest:()=>this.smallest,Biggest:()=>this.biggest};if(D.startsWith("exact")){const[B,U]=D.slice(5).split("/");if(!$[B])throw new Error(`Estimator.select: wrong strategy=${D}`);D=U;const q=this.accumulate($[B](),!0,!0);if(q)return q}if(D.startsWith("accum")){const B=D.slice(5);if(!$[B])throw new Error(`Estimator.select: wrong strategy=${D}`);return this.accumulate($[B]())}throw new Error(`Estimator.select: wrong strategy=${D}`)}result(D){const $=this.select(D);if(!$)return;const{indices:B,weight:U,total:q}=$;let ee=this.opts.alwaysChange;const ae=this.opts.alwaysChange?U:U+(this.changeWeight-this.baseWeight),re=this.getSatoshi(ae);let K=$.fee;const C=q-this.amount-re;C>this.dust&&(ee=!0);let G=B,v=Array.from(this.outputs);if(ee){if(K=re,C<0n)throw new Error(`Estimator.result: negative change=${C}`);v.push({address:this.opts.changeAddress,amount:C})}this.opts.bip69&&(G=this.sortIndices(G),v=this.sortOutputs(v).map(_=>v[_]));const I={inputs:G.map(_=>this.normalizedInputs[_].normalized),outputs:v,fee:K,weight:this.opts.alwaysChange?$.weight:ae,change:!!ee};let p;if(this.opts.createTx){const{inputs:_,outputs:w}=I;p=new s.Transaction(this.opts);for(const S of _)p.addInput(S);for(const S of w)p.addOutput({...S,script:g(S,this.opts,this.opts.network)})}return Object.assign(I,{tx:p})}}e._Estimator=k;function R(F,D,$,B){const U={createTx:!0,bip69:!0,...B};return new k(F,D,U).result($)}})(pk);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._Estimator=e._cmpBig=e.SigHash=e.PSBTCombine=e.DEFAULT_SEQUENCE=e.Decimal=e.bip32Path=e.TaprootControlBlock=e._DebugPSBT=e.WIF=e.taprootListToTree=e.sortedMultisig=e.OutScript=e.getAddress=e.combinations=e.Address=e._sortPubkeys=e.utils=e.selectUTXO=e.TEST_NETWORK=e.TAPROOT_UNSPENDABLE_KEY=e.NETWORK=e.Transaction=e.getInputType=e.ScriptNum=e.Script=e.RawWitness=e.RawTx=e.OP=e.MAX_SCRIPT_BYTE_LENGTH=e.CompactSize=e.p2wsh=e.p2wpkh=e.p2tr_pk=e.p2tr_ns=e.p2tr_ms=e.p2tr=e.p2sh=e.p2pkh=e.p2pk=e.p2ms=e.multisig=void 0;/*! scure-btc-signer - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t=Sl;var r=X0;Object.defineProperty(e,"multisig",{enumerable:!0,get:function(){return r.multisig}}),Object.defineProperty(e,"p2ms",{enumerable:!0,get:function(){return r.p2ms}}),Object.defineProperty(e,"p2pk",{enumerable:!0,get:function(){return r.p2pk}}),Object.defineProperty(e,"p2pkh",{enumerable:!0,get:function(){return r.p2pkh}}),Object.defineProperty(e,"p2sh",{enumerable:!0,get:function(){return r.p2sh}}),Object.defineProperty(e,"p2tr",{enumerable:!0,get:function(){return r.p2tr}}),Object.defineProperty(e,"p2tr_ms",{enumerable:!0,get:function(){return r.p2tr_ms}}),Object.defineProperty(e,"p2tr_ns",{enumerable:!0,get:function(){return r.p2tr_ns}}),Object.defineProperty(e,"p2tr_pk",{enumerable:!0,get:function(){return r.p2tr_pk}}),Object.defineProperty(e,"p2wpkh",{enumerable:!0,get:function(){return r.p2wpkh}}),Object.defineProperty(e,"p2wsh",{enumerable:!0,get:function(){return r.p2wsh}});var n=hm;Object.defineProperty(e,"CompactSize",{enumerable:!0,get:function(){return n.CompactSize}}),Object.defineProperty(e,"MAX_SCRIPT_BYTE_LENGTH",{enumerable:!0,get:function(){return n.MAX_SCRIPT_BYTE_LENGTH}}),Object.defineProperty(e,"OP",{enumerable:!0,get:function(){return n.OP}}),Object.defineProperty(e,"RawTx",{enumerable:!0,get:function(){return n.RawTx}}),Object.defineProperty(e,"RawWitness",{enumerable:!0,get:function(){return n.RawWitness}}),Object.defineProperty(e,"Script",{enumerable:!0,get:function(){return n.Script}}),Object.defineProperty(e,"ScriptNum",{enumerable:!0,get:function(){return n.ScriptNum}});var i=T1;Object.defineProperty(e,"getInputType",{enumerable:!0,get:function(){return i.getInputType}}),Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return i.Transaction}});var o=Sl;Object.defineProperty(e,"NETWORK",{enumerable:!0,get:function(){return o.NETWORK}}),Object.defineProperty(e,"TAPROOT_UNSPENDABLE_KEY",{enumerable:!0,get:function(){return o.TAPROOT_UNSPENDABLE_KEY}}),Object.defineProperty(e,"TEST_NETWORK",{enumerable:!0,get:function(){return o.TEST_NETWORK}});var s=pk;Object.defineProperty(e,"selectUTXO",{enumerable:!0,get:function(){return s.selectUTXO}}),e.utils={isBytes:t.isBytes,concatBytes:t.concatBytes,compareBytes:t.compareBytes,pubSchnorr:t.pubSchnorr,randomPrivateKeyBytes:t.randomPrivateKeyBytes,taprootTweakPubkey:t.taprootTweakPubkey};var a=X0;Object.defineProperty(e,"_sortPubkeys",{enumerable:!0,get:function(){return a._sortPubkeys}}),Object.defineProperty(e,"Address",{enumerable:!0,get:function(){return a.Address}}),Object.defineProperty(e,"combinations",{enumerable:!0,get:function(){return a.combinations}}),Object.defineProperty(e,"getAddress",{enumerable:!0,get:function(){return a.getAddress}}),Object.defineProperty(e,"OutScript",{enumerable:!0,get:function(){return a.OutScript}}),Object.defineProperty(e,"sortedMultisig",{enumerable:!0,get:function(){return a.sortedMultisig}}),Object.defineProperty(e,"taprootListToTree",{enumerable:!0,get:function(){return a.taprootListToTree}}),Object.defineProperty(e,"WIF",{enumerable:!0,get:function(){return a.WIF}});var l=yw;Object.defineProperty(e,"_DebugPSBT",{enumerable:!0,get:function(){return l._DebugPSBT}}),Object.defineProperty(e,"TaprootControlBlock",{enumerable:!0,get:function(){return l.TaprootControlBlock}});var c=T1;Object.defineProperty(e,"bip32Path",{enumerable:!0,get:function(){return c.bip32Path}}),Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return c.Decimal}}),Object.defineProperty(e,"DEFAULT_SEQUENCE",{enumerable:!0,get:function(){return c.DEFAULT_SEQUENCE}}),Object.defineProperty(e,"PSBTCombine",{enumerable:!0,get:function(){return c.PSBTCombine}}),Object.defineProperty(e,"SigHash",{enumerable:!0,get:function(){return c.SigHash}});var u=pk;Object.defineProperty(e,"_cmpBig",{enumerable:!0,get:function(){return u._cmpBig}}),Object.defineProperty(e,"_Estimator",{enumerable:!0,get:function(){return u._Estimator}})})(TO);var tE={},z5e=He&&He.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),L5e=He&&He.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$5e=He&&He.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&z5e(t,e,r);return L5e(t,e),t};Object.defineProperty(tE,"__esModule",{value:!0});tE.CBOR=void 0;const Ar=$5e(PO),y3=TO,IO=e=>e===0&&1/e<0,ZC=Ar.wrap({encodeStream(e,t){if(t===1/0)return e.bytes(new Uint8Array([124,0]));if(t===-1/0)return e.bytes(new Uint8Array([252,0]));if(Number.isNaN(t))return e.bytes(new Uint8Array([126,0]));if(IO(t))return e.bytes(new Uint8Array([128,0]));throw e.err("f16: not implemented")},decodeStream:e=>{const t=Ar.U16BE.decodeStream(e),r=(t&31744)>>10,n=t&1023;let i;return r===0?i=6103515625e-14*(n/1024):r!==31?i=Math.pow(2,r-15)*(1+n/1024):i=n?NaN:1/0,t&32768?-i:i}}),Zi=Ar.bits(5),F5e=Ar.apply(Ar.U64BE,Ar.coders.numberBigint),vc={24:[2**8-1,Ar.U8,Ar.U8],25:[2**16-1,Ar.U16BE,Ar.U16BE],26:[2**32-1,Ar.U32BE,Ar.U32BE],27:[2n**64n-1n,Ar.U64BE,F5e]},I1=Ar.wrap({encodeStream(e,t){if(t<24)return Zi.encodeStream(e,typeof t=="bigint"?Number(t):t);for(const r in vc){const[n,i,o]=vc[r];if(!(t>n))return Zi.encodeStream(e,Number(r)),i.encodeStream(e,t)}throw e.err(`cbor/uint: wrong value=${t}`)},decodeStream(e){const t=Zi.decodeStream(e);if(t<24)return t;const r=vc[t][1];if(!r)throw e.err(`cbor/uint wrong additional information=${t}`);return r.decodeStream(e)}}),D5e=Ar.wrap({encodeStream:(e,t)=>I1.encodeStream(e,typeof t=="bigint"?-(t+1n):-(t+1)),decodeStream(e){const t=I1.decodeStream(e);return typeof t=="bigint"?-1n-t:-1-t}}),GC=e=>Ar.wrap({encodeStream(t,r){if(r.length<24){Zi.encodeStream(t,r.length),Ar.array(r.length,e).encodeStream(t,r);return}for(const n in vc){const[i,o,s]=vc[n];if(r.length<i){Zi.encodeStream(t,Number(n)),Ar.array(s,e).encodeStream(t,r);return}}throw t.err(`cbor/lengthArray: wrong value=${r}`)},decodeStream(t){const r=Zi.decodeStream(t);if(r<24)return Ar.array(r,e).decodeStream(t);if(r===31)return Ar.array(new Uint8Array([255]),e).decodeStream(t);const n=vc[r][2];if(!n)throw t.err(`cbor/lengthArray wrong length=${r}`);return Ar.array(n,e).decodeStream(t)}}),XC=(e,t)=>Ar.wrap({encodeStream(r,n){if(Array.isArray(n))throw new Error("cbor/length: encoding indefinite-length strings not supported");const i=e(null).encode(n);if(i.length<24){Zi.encodeStream(r,i.length),r.bytes(i);return}for(const o in vc){const[s,a,l]=vc[o];if(i.length<s){Zi.encodeStream(r,Number(o)),l.encodeStream(r,i.length),r.bytes(i);return}}throw r.err(`cbor/lengthArray: wrong value=${n}`)},decodeStream(r){const n=Zi.decodeStream(r);if(n<24)return e(n).decodeStream(r);if(n===31)return Ar.array(new Uint8Array([255]),t).decodeStream(r);const i=vc[n][2];if(!i)throw r.err(`cbor/length wrong length=${n}`);return e(i).decodeStream(r)}}),H5e=Ar.wrap({encodeStream(e,t){if(t===!1)return Zi.encodeStream(e,20);if(t===!0)return Zi.encodeStream(e,21);if(t===null)return Zi.encodeStream(e,22);if(t===void 0)return Zi.encodeStream(e,23);if(typeof t!="number")throw e.err(`cbor/simple: wrong value type=${typeof t}`);return IO(t)||Number.isNaN(t)||t===1/0||t===-1/0?(Zi.encodeStream(e,25),ZC.encodeStream(e,t)):Math.fround(t)===t?(Zi.encodeStream(e,26),Ar.F32BE.encodeStream(e,t)):(Zi.encodeStream(e,27),Ar.F64BE.encodeStream(e,t))},decodeStream(e){const t=Zi.decodeStream(e);if(t===20)return!1;if(t===21)return!0;if(t===22)return null;if(t!==23){if(t===25)return ZC.decodeStream(e);if(t===26)return Ar.F32BE.decodeStream(e);if(t===27)return Ar.F64BE.decodeStream(e);throw e.err("cbor/simple: unassigned")}}}),th=Ar.mappedTag(Ar.bits(3),{uint:[0,I1],negint:[1,D5e],bytes:[2,Ar.lazy(()=>XC(Ar.bytes,th))],string:[3,Ar.lazy(()=>XC(Ar.string,th))],array:[4,GC(Ar.lazy(()=>th))],map:[5,Ar.lazy(()=>GC(Ar.tuple([th,th])))],tag:[6,Ar.tuple([I1,Ar.lazy(()=>th)])],simple:[7,H5e]});tE.CBOR=Ar.apply(th,{encode(e){let t=e.data;if(e.TAG==="bytes"){if(y3.utils.isBytes(t))return t;const r=[];if(!Array.isArray(t))throw new Error(`CBOR: wrong indefinite-length bytestring=${t}`);for(const n of t){if(n.TAG!=="bytes"||!y3.utils.isBytes(n.data))throw new Error(`CBOR: wrong indefinite-length bytestring=${n}`);r.push(n.data)}return y3.utils.concatBytes(...r)}if(e.TAG==="string"){if(typeof t=="string")return t;if(!Array.isArray(t))throw new Error(`CBOR: wrong indefinite-length string=${t}`);let r="";for(const n of t){if(n.TAG!=="string"||typeof n.data!="string")throw new Error(`CBOR: wrong indefinite-length string=${n}`);r+=n.data}return r}if(e.TAG==="array"&&Array.isArray(t)&&(t=t.map(r=>this.encode(r))),e.TAG==="map"&&typeof t=="object"&&t!==null)return Object.fromEntries(e.data.map(([r,n])=>[this.encode(r),this.encode(n)]));if(e.TAG==="tag")throw new Error("not implemented");return t},decode(e){if(typeof e=="bigint")return e<0n?{TAG:"negint",data:e}:{TAG:"uint",data:e};if(typeof e=="string")return{TAG:"string",data:e};if(y3.utils.isBytes(e))return{TAG:"bytes",data:e};if(Array.isArray(e))return{TAG:"array",data:e.map(t=>this.decode(t))};if(typeof e=="number"&&Number.isSafeInteger(e)&&!IO(e))return e<0?{TAG:"negint",data:e}:{TAG:"uint",data:e};if(typeof e=="boolean"||typeof e=="number"||e===null||e===void 0)return{TAG:"simple",data:e};if(typeof e=="object")return{TAG:"map",data:Object.entries(e).map(t=>t.map(r=>this.decode(r)))};throw new Error("unknown type")}});(function(e){var t=He&&He.__createBinding||(Object.create?function(U,q,ee,ae){ae===void 0&&(ae=ee);var re=Object.getOwnPropertyDescriptor(q,ee);(!re||("get"in re?!q.__esModule:re.writable||re.configurable))&&(re={enumerable:!0,get:function(){return q[ee]}}),Object.defineProperty(U,ae,re)}:function(U,q,ee,ae){ae===void 0&&(ae=ee),U[ae]=q[ee]}),r=He&&He.__setModuleDefault||(Object.create?function(U,q){Object.defineProperty(U,"default",{enumerable:!0,value:q})}:function(U,q){U.default=q}),n=He&&He.__importStar||function(U){if(U&&U.__esModule)return U;var q={};if(U!=null)for(var ee in U)ee!=="default"&&Object.prototype.hasOwnProperty.call(U,ee)&&t(q,U,ee);return r(q,U),q};Object.defineProperty(e,"__esModule",{value:!0}),e.__test__=e.OutOrdinalReveal=e.InscriptionId=void 0,e.parseInscriptions=D,e.parseWitness=$,e.p2tr_ord_reveal=B;const i=OO,o=n(PO),s=TO,a=tE,l=i.utf8.decode("BIN");function c(U){const q=[];for(let ee=0;ee<U.length;ee+=s.MAX_SCRIPT_BYTE_LENGTH)q.push(U.subarray(ee,ee+s.MAX_SCRIPT_BYTE_LENGTH));return q}const u=o.tuple([o.bytes(32,!0),o.apply(o.bigint(4,!0,!1,!1),o.coders.numberBigint)]);e.InscriptionId={encode(U){const[q,ee]=U.split("i",2);if(`${+ee}`!==ee)throw new Error(`InscriptionId wrong index: ${ee}`);return u.encode([i.hex.decode(q),+ee])},decode(U){const[q,ee]=u.decode(U);return`${i.hex.encode(q)}i${ee}`}};const h={contentType:1,pointer:2,parent:3,metadata:5,metaprotocol:7,contentEncoding:9,delegate:11,rune:13,note:15},g=o.map(o.U8,h),k={pointer:o.bigint(8,!0,!1,!1),contentType:o.string(null),parent:e.InscriptionId,metadata:a.CBOR,metaprotocol:o.string(null),contentEncoding:o.string(null),delegate:e.InscriptionId,rune:o.bigint(16,!0,!1,!1),note:o.string(null)},R={encode(U){const q={},ee=[];for(const{tag:re,data:K}of U)try{const C=g.decode(re);q[C]||(q[C]=[]),q[C].push(K)}catch{ee.push([re,K])}const ae={};ee.length&&(ae.unknown=ee);for(const re in q){if(re==="parent"&&q[re].length>1){ae[re]=q[re].map(K=>k.parent.decode(K));continue}ae[re]=k[re].decode(s.utils.concatBytes(...q[re]))}return ae},decode(U){const q=[];for(const ee in U){if(ee==="unknown")continue;const ae=g.encode(ee);if(ee==="parent"&&Array.isArray(U.parent)){for(const K of U.parent)q.push({tag:ae,data:k.parent.encode(K)});continue}const re=k[ee].encode(U[ee]);for(const K of c(re))q.push({tag:ae,data:K})}if(U.unknown){if(!Array.isArray(U.unknown))throw new Error("ordinals/TagCoder: unknown should be array");for(const[ee,ae]of U.unknown)q.push({tag:ee,data:ae})}return q}},F=(U,q=0)=>{if(!Number.isSafeInteger(q))throw new Error(`parseInscription: wrong pos=${typeof q}`);const ee=[];let ae=!1;e:for(;q<U.length;q++){if(U[q]!==0)continue;if(U[q+1]!=="IF"){U[q+1]===0&&(ae=!0);continue e}if(!s.utils.isBytes(U[q+2])||!o.utils.equalBytes(U[q+2],l)){U[q+2]===0&&(ae=!0);continue e}let re=!1;const K=[];for(let C=q+3;C<U.length;C++){const G=U[C];if(G==="ENDIF"){ee.push({start:q+3,end:C,pushnum:re,payload:K,stutter:ae}),q=C;break}if(G==="1NEGATE"){re=!0,K.push(new Uint8Array([129]));continue}if(typeof G=="number"&&1<=G&&G<=16){re=!0,K.push(new Uint8Array([G]));continue}if(s.utils.isBytes(G)||G===0){K.push(G);continue}ae=!1;break}}return ee};function D(U,q=!1){if(q&&(!s.utils.isBytes(U[0])||U[0].length!==32)||q&&U[1]!=="CHECKSIG")return;const ee=F(U),ae=[];let re=5;for(const K of ee){if(q&&(K.stutter||K.pushnum)||q&&K.start!==re)return;const{payload:C}=K;let G=0;const v=[];for(;G<C.length&&C[G]!==0;G+=2){const p=C[G],_=C[G+1];if(!s.utils.isBytes(p))throw new Error("parseInscription: non-bytes tag");if(!s.utils.isBytes(_))throw new Error("parseInscription: non-bytes tag data");v.push({tag:p,data:_})}for(;C[G]===0&&G<C.length;)G++;const I=[];for(;G<C.length&&s.utils.isBytes(C[G]);G++)I.push(C[G]);ae.push({tags:R.encode(v),body:s.utils.concatBytes(...I),cursed:K.pushnum||K.stutter}),re=K.end+4}if(re-3===U.length)return ae}function $(U){if(U.length!==3)throw new Error("Wrong witness");return D(s.Script.decode(U[1]))}e.OutOrdinalReveal={encode(U){const q={type:"tr_ord_reveal"};try{q.inscriptions=D(U,!0),q.pubkey=U[0]}catch{return}return q},decode:U=>{if(U.type!=="tr_ord_reveal")return;const q=[U.pubkey,"CHECKSIG"];for(const{tags:ee,body:ae}of U.inscriptions){q.push(0,"IF",l);const re=R.decode(ee);for(const K of re)q.push(K.tag,K.data);q.push(0);for(const K of c(ae))q.push(K);q.push("ENDIF")}return q},finalizeTaproot:(U,q,ee)=>{if(ee.length!==1)throw new Error("tr_ord_reveal/finalize: wrong signatures array");const[{pubKey:ae},re]=ee[0];if(o.utils.equalBytes(ae,q.pubkey))return[re,U]}};function B(U,q){return{type:"tr_ord_reveal",script:o.apply(s.Script,o.coders.match([e.OutOrdinalReveal])).encode({type:"tr_ord_reveal",pubkey:U,inscriptions:q})}}e.__test__={TagCoders:k,TagCoder:R,parseEnvelopes:F}})(RW);var HW={},mw={};Object.defineProperty(mw,"__esModule",{value:!0});mw.AbstractProvider=void 0;class K5e{}mw.AbstractProvider=K5e;var bw={};Object.defineProperty(bw,"__esModule",{value:!0});bw.AbstractSigner=void 0;class V5e{}bw.AbstractSigner=V5e;var rE={};Object.defineProperty(rE,"__esModule",{value:!0});rE.Signer=void 0;const W5e=bw;let q5e=class extends W5e.AbstractSigner{static from(e){return new this(e,null)}connect(e){return new this.constructor(this._target,e)}constructor(e,t){super(),this._target=e,this._provider=t}get provider(){return this._provider}async signPsbt(...e){return await this._target.signPsbt(...e)}async signMessage(...e){return await this._target.signMessage(...e)}};rE.Signer=q5e;var nE={},B1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */B1.exports;(function(e,t){(function(){var r,n="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",c=500,u="__lodash_placeholder__",h=1,g=2,k=4,R=1,F=2,D=1,$=2,B=4,U=8,q=16,ee=32,ae=64,re=128,K=256,C=512,G=30,v="...",I=800,p=16,_=1,w=2,S=3,A=1/0,x=9007199254740991,E=17976931348623157e292,T=NaN,M=4294967295,Q=M-1,he=M>>>1,ue=[["ary",re],["bind",D],["bindKey",$],["curry",U],["curryRight",q],["flip",C],["partial",ee],["partialRight",ae],["rearg",K]],W="[object Arguments]",se="[object Array]",Z="[object AsyncFunction]",ie="[object Boolean]",pe="[object Date]",Ee="[object DOMException]",Oe="[object Error]",Re="[object Function]",Ce="[object GeneratorFunction]",P="[object Map]",Y="[object Number]",be="[object Null]",Ue="[object Object]",Ke="[object Promise]",rt="[object Proxy]",We="[object RegExp]",Qe="[object Set]",d="[object String]",b="[object Symbol]",H="[object Undefined]",te="[object WeakMap]",ce="[object WeakSet]",z="[object ArrayBuffer]",X="[object DataView]",oe="[object Float32Array]",N="[object Float64Array]",L="[object Int8Array]",J="[object Int16Array]",ge="[object Int32Array]",le="[object Uint8Array]",Me="[object Uint8ClampedArray]",De="[object Uint16Array]",nt="[object Uint32Array]",gt=/\b__p \+= '';/g,jt=/\b(__p \+=) '' \+/g,Ze=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xt=/&(?:amp|lt|gt|quot|#39);/g,mr=/[&<>"']/g,Hr=RegExp(xt.source),Wt=RegExp(mr.source),Ut=/<%-([\s\S]+?)%>/g,Yt=/<%([\s\S]+?)%>/g,Ft=/<%=([\s\S]+?)%>/g,Ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Se=/^\w*$/,ye=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xe=/[\\^$.*+?()[\]{}|]/g,Be=RegExp(xe.source),je=/^\s+/,Ge=/\s/,lt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ye=/\{\n\/\* \[wrapped with (.+)\] \*/,Et=/,? & /,wt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ft=/[()=,{}\[\]\/\s]/,It=/\\(\\)?/g,Bt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ct=/\w*$/,et=/^[-+]0x[0-9a-f]+$/i,_t=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,yt=/^0o[0-7]+$/i,at=/^(?:0|[1-9]\d*)$/,Jt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,Tr=/['\n\r\u2028\u2029\\]/g,or="\\ud800-\\udfff",sr="\\u0300-\\u036f",At="\\ufe20-\\ufe2f",on="\\u20d0-\\u20ff",Di=sr+At+on,m="\\u2700-\\u27bf",O="a-z\\xdf-\\xf6\\xf8-\\xff",V="\\xac\\xb1\\xd7\\xf7",fe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ae="\\u2000-\\u206f",$e=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",dt="A-Z\\xc0-\\xd6\\xd8-\\xde",Dt="\\ufe0e\\ufe0f",An=V+fe+Ae+$e,Ka="[']",Tw="["+or+"]",wP="["+An+"]",Iw="["+Di+"]",EP="\\d+",xX="["+m+"]",_P="["+O+"]",SP="[^"+or+An+EP+m+O+dt+"]",OE="\\ud83c[\\udffb-\\udfff]",AX="(?:"+Iw+"|"+OE+")",kP="[^"+or+"]",PE="(?:\\ud83c[\\udde6-\\uddff]){2}",TE="[\\ud800-\\udbff][\\udc00-\\udfff]",Ep="["+dt+"]",xP="\\u200d",AP="(?:"+_P+"|"+SP+")",OX="(?:"+Ep+"|"+SP+")",OP="(?:"+Ka+"(?:d|ll|m|re|s|t|ve))?",PP="(?:"+Ka+"(?:D|LL|M|RE|S|T|VE))?",TP=AX+"?",IP="["+Dt+"]?",PX="(?:"+xP+"(?:"+[kP,PE,TE].join("|")+")"+IP+TP+")*",TX="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",IX="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",BP=IP+TP+PX,BX="(?:"+[xX,PE,TE].join("|")+")"+BP,NX="(?:"+[kP+Iw+"?",Iw,PE,TE,Tw].join("|")+")",MX=RegExp(Ka,"g"),RX=RegExp(Iw,"g"),IE=RegExp(OE+"(?="+OE+")|"+NX+BP,"g"),CX=RegExp([Ep+"?"+_P+"+"+OP+"(?="+[wP,Ep,"$"].join("|")+")",OX+"+"+PP+"(?="+[wP,Ep+AP,"$"].join("|")+")",Ep+"?"+AP+"+"+OP,Ep+"+"+PP,IX,TX,EP,BX].join("|"),"g"),jX=RegExp("["+xP+or+Di+Dt+"]"),UX=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zX=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],LX=-1,_n={};_n[oe]=_n[N]=_n[L]=_n[J]=_n[ge]=_n[le]=_n[Me]=_n[De]=_n[nt]=!0,_n[W]=_n[se]=_n[z]=_n[ie]=_n[X]=_n[pe]=_n[Oe]=_n[Re]=_n[P]=_n[Y]=_n[Ue]=_n[We]=_n[Qe]=_n[d]=_n[te]=!1;var mn={};mn[W]=mn[se]=mn[z]=mn[X]=mn[ie]=mn[pe]=mn[oe]=mn[N]=mn[L]=mn[J]=mn[ge]=mn[P]=mn[Y]=mn[Ue]=mn[We]=mn[Qe]=mn[d]=mn[b]=mn[le]=mn[Me]=mn[De]=mn[nt]=!0,mn[Oe]=mn[Re]=mn[te]=!1;var $X={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},FX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},DX={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},HX={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},KX=parseFloat,VX=parseInt,NP=typeof He=="object"&&He&&He.Object===Object&&He,WX=typeof self=="object"&&self&&self.Object===Object&&self,Hi=NP||WX||Function("return this")(),BE=t&&!t.nodeType&&t,Id=BE&&!0&&e&&!e.nodeType&&e,MP=Id&&Id.exports===BE,NE=MP&&NP.process,oa=function(){try{var ze=Id&&Id.require&&Id.require("util").types;return ze||NE&&NE.binding&&NE.binding("util")}catch{}}(),RP=oa&&oa.isArrayBuffer,CP=oa&&oa.isDate,jP=oa&&oa.isMap,UP=oa&&oa.isRegExp,zP=oa&&oa.isSet,LP=oa&&oa.isTypedArray;function Ps(ze,Je,qe){switch(qe.length){case 0:return ze.call(Je);case 1:return ze.call(Je,qe[0]);case 2:return ze.call(Je,qe[0],qe[1]);case 3:return ze.call(Je,qe[0],qe[1],qe[2])}return ze.apply(Je,qe)}function qX(ze,Je,qe,Nt){for(var lr=-1,Yr=ze==null?0:ze.length;++lr<Yr;){var hi=ze[lr];Je(Nt,hi,qe(hi),ze)}return Nt}function sa(ze,Je){for(var qe=-1,Nt=ze==null?0:ze.length;++qe<Nt&&Je(ze[qe],qe,ze)!==!1;);return ze}function ZX(ze,Je){for(var qe=ze==null?0:ze.length;qe--&&Je(ze[qe],qe,ze)!==!1;);return ze}function $P(ze,Je){for(var qe=-1,Nt=ze==null?0:ze.length;++qe<Nt;)if(!Je(ze[qe],qe,ze))return!1;return!0}function Dc(ze,Je){for(var qe=-1,Nt=ze==null?0:ze.length,lr=0,Yr=[];++qe<Nt;){var hi=ze[qe];Je(hi,qe,ze)&&(Yr[lr++]=hi)}return Yr}function Bw(ze,Je){var qe=ze==null?0:ze.length;return!!qe&&_p(ze,Je,0)>-1}function ME(ze,Je,qe){for(var Nt=-1,lr=ze==null?0:ze.length;++Nt<lr;)if(qe(Je,ze[Nt]))return!0;return!1}function On(ze,Je){for(var qe=-1,Nt=ze==null?0:ze.length,lr=Array(Nt);++qe<Nt;)lr[qe]=Je(ze[qe],qe,ze);return lr}function Hc(ze,Je){for(var qe=-1,Nt=Je.length,lr=ze.length;++qe<Nt;)ze[lr+qe]=Je[qe];return ze}function RE(ze,Je,qe,Nt){var lr=-1,Yr=ze==null?0:ze.length;for(Nt&&Yr&&(qe=ze[++lr]);++lr<Yr;)qe=Je(qe,ze[lr],lr,ze);return qe}function GX(ze,Je,qe,Nt){var lr=ze==null?0:ze.length;for(Nt&&lr&&(qe=ze[--lr]);lr--;)qe=Je(qe,ze[lr],lr,ze);return qe}function CE(ze,Je){for(var qe=-1,Nt=ze==null?0:ze.length;++qe<Nt;)if(Je(ze[qe],qe,ze))return!0;return!1}var XX=jE("length");function QX(ze){return ze.split("")}function YX(ze){return ze.match(wt)||[]}function FP(ze,Je,qe){var Nt;return qe(ze,function(lr,Yr,hi){if(Je(lr,Yr,hi))return Nt=Yr,!1}),Nt}function Nw(ze,Je,qe,Nt){for(var lr=ze.length,Yr=qe+(Nt?1:-1);Nt?Yr--:++Yr<lr;)if(Je(ze[Yr],Yr,ze))return Yr;return-1}function _p(ze,Je,qe){return Je===Je?cQ(ze,Je,qe):Nw(ze,DP,qe)}function JX(ze,Je,qe,Nt){for(var lr=qe-1,Yr=ze.length;++lr<Yr;)if(Nt(ze[lr],Je))return lr;return-1}function DP(ze){return ze!==ze}function HP(ze,Je){var qe=ze==null?0:ze.length;return qe?zE(ze,Je)/qe:T}function jE(ze){return function(Je){return Je==null?r:Je[ze]}}function UE(ze){return function(Je){return ze==null?r:ze[Je]}}function KP(ze,Je,qe,Nt,lr){return lr(ze,function(Yr,hi,gn){qe=Nt?(Nt=!1,Yr):Je(qe,Yr,hi,gn)}),qe}function eQ(ze,Je){var qe=ze.length;for(ze.sort(Je);qe--;)ze[qe]=ze[qe].value;return ze}function zE(ze,Je){for(var qe,Nt=-1,lr=ze.length;++Nt<lr;){var Yr=Je(ze[Nt]);Yr!==r&&(qe=qe===r?Yr:qe+Yr)}return qe}function LE(ze,Je){for(var qe=-1,Nt=Array(ze);++qe<ze;)Nt[qe]=Je(qe);return Nt}function tQ(ze,Je){return On(Je,function(qe){return[qe,ze[qe]]})}function VP(ze){return ze&&ze.slice(0,GP(ze)+1).replace(je,"")}function Ts(ze){return function(Je){return ze(Je)}}function $E(ze,Je){return On(Je,function(qe){return ze[qe]})}function vm(ze,Je){return ze.has(Je)}function WP(ze,Je){for(var qe=-1,Nt=ze.length;++qe<Nt&&_p(Je,ze[qe],0)>-1;);return qe}function qP(ze,Je){for(var qe=ze.length;qe--&&_p(Je,ze[qe],0)>-1;);return qe}function rQ(ze,Je){for(var qe=ze.length,Nt=0;qe--;)ze[qe]===Je&&++Nt;return Nt}var nQ=UE($X),iQ=UE(FX);function oQ(ze){return"\\"+HX[ze]}function sQ(ze,Je){return ze==null?r:ze[Je]}function Sp(ze){return jX.test(ze)}function aQ(ze){return UX.test(ze)}function uQ(ze){for(var Je,qe=[];!(Je=ze.next()).done;)qe.push(Je.value);return qe}function FE(ze){var Je=-1,qe=Array(ze.size);return ze.forEach(function(Nt,lr){qe[++Je]=[lr,Nt]}),qe}function ZP(ze,Je){return function(qe){return ze(Je(qe))}}function Kc(ze,Je){for(var qe=-1,Nt=ze.length,lr=0,Yr=[];++qe<Nt;){var hi=ze[qe];(hi===Je||hi===u)&&(ze[qe]=u,Yr[lr++]=qe)}return Yr}function Mw(ze){var Je=-1,qe=Array(ze.size);return ze.forEach(function(Nt){qe[++Je]=Nt}),qe}function lQ(ze){var Je=-1,qe=Array(ze.size);return ze.forEach(function(Nt){qe[++Je]=[Nt,Nt]}),qe}function cQ(ze,Je,qe){for(var Nt=qe-1,lr=ze.length;++Nt<lr;)if(ze[Nt]===Je)return Nt;return-1}function fQ(ze,Je,qe){for(var Nt=qe+1;Nt--;)if(ze[Nt]===Je)return Nt;return Nt}function kp(ze){return Sp(ze)?hQ(ze):XX(ze)}function Va(ze){return Sp(ze)?pQ(ze):QX(ze)}function GP(ze){for(var Je=ze.length;Je--&&Ge.test(ze.charAt(Je)););return Je}var dQ=UE(DX);function hQ(ze){for(var Je=IE.lastIndex=0;IE.test(ze);)++Je;return Je}function pQ(ze){return ze.match(IE)||[]}function gQ(ze){return ze.match(CX)||[]}var yQ=function ze(Je){Je=Je==null?Hi:xp.defaults(Hi.Object(),Je,xp.pick(Hi,zX));var qe=Je.Array,Nt=Je.Date,lr=Je.Error,Yr=Je.Function,hi=Je.Math,gn=Je.Object,DE=Je.RegExp,mQ=Je.String,aa=Je.TypeError,Rw=qe.prototype,bQ=Yr.prototype,Ap=gn.prototype,Cw=Je["__core-js_shared__"],jw=bQ.toString,sn=Ap.hasOwnProperty,vQ=0,XP=function(){var f=/[^.]+$/.exec(Cw&&Cw.keys&&Cw.keys.IE_PROTO||"");return f?"Symbol(src)_1."+f:""}(),Uw=Ap.toString,wQ=jw.call(gn),EQ=Hi._,_Q=DE("^"+jw.call(sn).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zw=MP?Je.Buffer:r,Vc=Je.Symbol,Lw=Je.Uint8Array,QP=zw?zw.allocUnsafe:r,$w=ZP(gn.getPrototypeOf,gn),YP=gn.create,JP=Ap.propertyIsEnumerable,Fw=Rw.splice,eT=Vc?Vc.isConcatSpreadable:r,wm=Vc?Vc.iterator:r,Bd=Vc?Vc.toStringTag:r,Dw=function(){try{var f=jd(gn,"defineProperty");return f({},"",{}),f}catch{}}(),SQ=Je.clearTimeout!==Hi.clearTimeout&&Je.clearTimeout,kQ=Nt&&Nt.now!==Hi.Date.now&&Nt.now,xQ=Je.setTimeout!==Hi.setTimeout&&Je.setTimeout,Hw=hi.ceil,Kw=hi.floor,HE=gn.getOwnPropertySymbols,AQ=zw?zw.isBuffer:r,tT=Je.isFinite,OQ=Rw.join,PQ=ZP(gn.keys,gn),pi=hi.max,no=hi.min,TQ=Nt.now,IQ=Je.parseInt,rT=hi.random,BQ=Rw.reverse,KE=jd(Je,"DataView"),Em=jd(Je,"Map"),VE=jd(Je,"Promise"),Op=jd(Je,"Set"),_m=jd(Je,"WeakMap"),Sm=jd(gn,"create"),Vw=_m&&new _m,Pp={},NQ=Ud(KE),MQ=Ud(Em),RQ=Ud(VE),CQ=Ud(Op),jQ=Ud(_m),Ww=Vc?Vc.prototype:r,km=Ww?Ww.valueOf:r,nT=Ww?Ww.toString:r;function me(f){if(Wn(f)&&!fr(f)&&!(f instanceof zr)){if(f instanceof ua)return f;if(sn.call(f,"__wrapped__"))return iI(f)}return new ua(f)}var Tp=function(){function f(){}return function(y){if(!Nn(y))return{};if(YP)return YP(y);f.prototype=y;var j=new f;return f.prototype=r,j}}();function qw(){}function ua(f,y){this.__wrapped__=f,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=r}me.templateSettings={escape:Ut,evaluate:Yt,interpolate:Ft,variable:"",imports:{_:me}},me.prototype=qw.prototype,me.prototype.constructor=me,ua.prototype=Tp(qw.prototype),ua.prototype.constructor=ua;function zr(f){this.__wrapped__=f,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=M,this.__views__=[]}function UQ(){var f=new zr(this.__wrapped__);return f.__actions__=Qo(this.__actions__),f.__dir__=this.__dir__,f.__filtered__=this.__filtered__,f.__iteratees__=Qo(this.__iteratees__),f.__takeCount__=this.__takeCount__,f.__views__=Qo(this.__views__),f}function zQ(){if(this.__filtered__){var f=new zr(this);f.__dir__=-1,f.__filtered__=!0}else f=this.clone(),f.__dir__*=-1;return f}function LQ(){var f=this.__wrapped__.value(),y=this.__dir__,j=fr(f),ne=y<0,de=j?f.length:0,we=QY(0,de,this.__views__),Te=we.start,Ne=we.end,Le=Ne-Te,it=ne?Ne:Te-1,ut=this.__iteratees__,ct=ut.length,St=0,zt=no(Le,this.__takeCount__);if(!j||!ne&&de==Le&&zt==Le)return OT(f,this.__actions__);var Zt=[];e:for(;Le--&&St<zt;){it+=y;for(var Sr=-1,Gt=f[it];++Sr<ct;){var Rr=ut[Sr],Kr=Rr.iteratee,Ns=Rr.type,No=Kr(Gt);if(Ns==w)Gt=No;else if(!No){if(Ns==_)continue e;break e}}Zt[St++]=Gt}return Zt}zr.prototype=Tp(qw.prototype),zr.prototype.constructor=zr;function Nd(f){var y=-1,j=f==null?0:f.length;for(this.clear();++y<j;){var ne=f[y];this.set(ne[0],ne[1])}}function $Q(){this.__data__=Sm?Sm(null):{},this.size=0}function FQ(f){var y=this.has(f)&&delete this.__data__[f];return this.size-=y?1:0,y}function DQ(f){var y=this.__data__;if(Sm){var j=y[f];return j===l?r:j}return sn.call(y,f)?y[f]:r}function HQ(f){var y=this.__data__;return Sm?y[f]!==r:sn.call(y,f)}function KQ(f,y){var j=this.__data__;return this.size+=this.has(f)?0:1,j[f]=Sm&&y===r?l:y,this}Nd.prototype.clear=$Q,Nd.prototype.delete=FQ,Nd.prototype.get=DQ,Nd.prototype.has=HQ,Nd.prototype.set=KQ;function Cl(f){var y=-1,j=f==null?0:f.length;for(this.clear();++y<j;){var ne=f[y];this.set(ne[0],ne[1])}}function VQ(){this.__data__=[],this.size=0}function WQ(f){var y=this.__data__,j=Zw(y,f);if(j<0)return!1;var ne=y.length-1;return j==ne?y.pop():Fw.call(y,j,1),--this.size,!0}function qQ(f){var y=this.__data__,j=Zw(y,f);return j<0?r:y[j][1]}function ZQ(f){return Zw(this.__data__,f)>-1}function GQ(f,y){var j=this.__data__,ne=Zw(j,f);return ne<0?(++this.size,j.push([f,y])):j[ne][1]=y,this}Cl.prototype.clear=VQ,Cl.prototype.delete=WQ,Cl.prototype.get=qQ,Cl.prototype.has=ZQ,Cl.prototype.set=GQ;function jl(f){var y=-1,j=f==null?0:f.length;for(this.clear();++y<j;){var ne=f[y];this.set(ne[0],ne[1])}}function XQ(){this.size=0,this.__data__={hash:new Nd,map:new(Em||Cl),string:new Nd}}function QQ(f){var y=s2(this,f).delete(f);return this.size-=y?1:0,y}function YQ(f){return s2(this,f).get(f)}function JQ(f){return s2(this,f).has(f)}function eY(f,y){var j=s2(this,f),ne=j.size;return j.set(f,y),this.size+=j.size==ne?0:1,this}jl.prototype.clear=XQ,jl.prototype.delete=QQ,jl.prototype.get=YQ,jl.prototype.has=JQ,jl.prototype.set=eY;function Md(f){var y=-1,j=f==null?0:f.length;for(this.__data__=new jl;++y<j;)this.add(f[y])}function tY(f){return this.__data__.set(f,l),this}function rY(f){return this.__data__.has(f)}Md.prototype.add=Md.prototype.push=tY,Md.prototype.has=rY;function Wa(f){var y=this.__data__=new Cl(f);this.size=y.size}function nY(){this.__data__=new Cl,this.size=0}function iY(f){var y=this.__data__,j=y.delete(f);return this.size=y.size,j}function oY(f){return this.__data__.get(f)}function sY(f){return this.__data__.has(f)}function aY(f,y){var j=this.__data__;if(j instanceof Cl){var ne=j.__data__;if(!Em||ne.length<i-1)return ne.push([f,y]),this.size=++j.size,this;j=this.__data__=new jl(ne)}return j.set(f,y),this.size=j.size,this}Wa.prototype.clear=nY,Wa.prototype.delete=iY,Wa.prototype.get=oY,Wa.prototype.has=sY,Wa.prototype.set=aY;function iT(f,y){var j=fr(f),ne=!j&&zd(f),de=!j&&!ne&&Xc(f),we=!j&&!ne&&!de&&Mp(f),Te=j||ne||de||we,Ne=Te?LE(f.length,mQ):[],Le=Ne.length;for(var it in f)(y||sn.call(f,it))&&!(Te&&(it=="length"||de&&(it=="offset"||it=="parent")||we&&(it=="buffer"||it=="byteLength"||it=="byteOffset")||$l(it,Le)))&&Ne.push(it);return Ne}function oT(f){var y=f.length;return y?f[r5(0,y-1)]:r}function uY(f,y){return a2(Qo(f),Rd(y,0,f.length))}function lY(f){return a2(Qo(f))}function WE(f,y,j){(j!==r&&!qa(f[y],j)||j===r&&!(y in f))&&Ul(f,y,j)}function xm(f,y,j){var ne=f[y];(!(sn.call(f,y)&&qa(ne,j))||j===r&&!(y in f))&&Ul(f,y,j)}function Zw(f,y){for(var j=f.length;j--;)if(qa(f[j][0],y))return j;return-1}function cY(f,y,j,ne){return Wc(f,function(de,we,Te){y(ne,de,j(de),Te)}),ne}function sT(f,y){return f&&ju(y,Pi(y),f)}function fY(f,y){return f&&ju(y,Jo(y),f)}function Ul(f,y,j){y=="__proto__"&&Dw?Dw(f,y,{configurable:!0,enumerable:!0,value:j,writable:!0}):f[y]=j}function qE(f,y){for(var j=-1,ne=y.length,de=qe(ne),we=f==null;++j<ne;)de[j]=we?r:O5(f,y[j]);return de}function Rd(f,y,j){return f===f&&(j!==r&&(f=f<=j?f:j),y!==r&&(f=f>=y?f:y)),f}function la(f,y,j,ne,de,we){var Te,Ne=y&h,Le=y&g,it=y&k;if(j&&(Te=de?j(f,ne,de,we):j(f)),Te!==r)return Te;if(!Nn(f))return f;var ut=fr(f);if(ut){if(Te=JY(f),!Ne)return Qo(f,Te)}else{var ct=io(f),St=ct==Re||ct==Ce;if(Xc(f))return IT(f,Ne);if(ct==Ue||ct==W||St&&!de){if(Te=Le||St?{}:GT(f),!Ne)return Le?DY(f,fY(Te,f)):FY(f,sT(Te,f))}else{if(!mn[ct])return de?f:{};Te=eJ(f,ct,Ne)}}we||(we=new Wa);var zt=we.get(f);if(zt)return zt;we.set(f,Te),kI(f)?f.forEach(function(Gt){Te.add(la(Gt,y,j,Gt,f,we))}):_I(f)&&f.forEach(function(Gt,Rr){Te.set(Rr,la(Gt,y,j,Rr,f,we))});var Zt=it?Le?h5:d5:Le?Jo:Pi,Sr=ut?r:Zt(f);return sa(Sr||f,function(Gt,Rr){Sr&&(Rr=Gt,Gt=f[Rr]),xm(Te,Rr,la(Gt,y,j,Rr,f,we))}),Te}function dY(f){var y=Pi(f);return function(j){return aT(j,f,y)}}function aT(f,y,j){var ne=j.length;if(f==null)return!ne;for(f=gn(f);ne--;){var de=j[ne],we=y[de],Te=f[de];if(Te===r&&!(de in f)||!we(Te))return!1}return!0}function uT(f,y,j){if(typeof f!="function")throw new aa(s);return Nm(function(){f.apply(r,j)},y)}function Am(f,y,j,ne){var de=-1,we=Bw,Te=!0,Ne=f.length,Le=[],it=y.length;if(!Ne)return Le;j&&(y=On(y,Ts(j))),ne?(we=ME,Te=!1):y.length>=i&&(we=vm,Te=!1,y=new Md(y));e:for(;++de<Ne;){var ut=f[de],ct=j==null?ut:j(ut);if(ut=ne||ut!==0?ut:0,Te&&ct===ct){for(var St=it;St--;)if(y[St]===ct)continue e;Le.push(ut)}else we(y,ct,ne)||Le.push(ut)}return Le}var Wc=CT(Cu),lT=CT(GE,!0);function hY(f,y){var j=!0;return Wc(f,function(ne,de,we){return j=!!y(ne,de,we),j}),j}function Gw(f,y,j){for(var ne=-1,de=f.length;++ne<de;){var we=f[ne],Te=y(we);if(Te!=null&&(Ne===r?Te===Te&&!Bs(Te):j(Te,Ne)))var Ne=Te,Le=we}return Le}function pY(f,y,j,ne){var de=f.length;for(j=br(j),j<0&&(j=-j>de?0:de+j),ne=ne===r||ne>de?de:br(ne),ne<0&&(ne+=de),ne=j>ne?0:AI(ne);j<ne;)f[j++]=y;return f}function cT(f,y){var j=[];return Wc(f,function(ne,de,we){y(ne,de,we)&&j.push(ne)}),j}function Ki(f,y,j,ne,de){var we=-1,Te=f.length;for(j||(j=rJ),de||(de=[]);++we<Te;){var Ne=f[we];y>0&&j(Ne)?y>1?Ki(Ne,y-1,j,ne,de):Hc(de,Ne):ne||(de[de.length]=Ne)}return de}var ZE=jT(),fT=jT(!0);function Cu(f,y){return f&&ZE(f,y,Pi)}function GE(f,y){return f&&fT(f,y,Pi)}function Xw(f,y){return Dc(y,function(j){return Fl(f[j])})}function Cd(f,y){y=Zc(y,f);for(var j=0,ne=y.length;f!=null&&j<ne;)f=f[Uu(y[j++])];return j&&j==ne?f:r}function dT(f,y,j){var ne=y(f);return fr(f)?ne:Hc(ne,j(f))}function Io(f){return f==null?f===r?H:be:Bd&&Bd in gn(f)?XY(f):lJ(f)}function XE(f,y){return f>y}function gY(f,y){return f!=null&&sn.call(f,y)}function yY(f,y){return f!=null&&y in gn(f)}function mY(f,y,j){return f>=no(y,j)&&f<pi(y,j)}function QE(f,y,j){for(var ne=j?ME:Bw,de=f[0].length,we=f.length,Te=we,Ne=qe(we),Le=1/0,it=[];Te--;){var ut=f[Te];Te&&y&&(ut=On(ut,Ts(y))),Le=no(ut.length,Le),Ne[Te]=!j&&(y||de>=120&&ut.length>=120)?new Md(Te&&ut):r}ut=f[0];var ct=-1,St=Ne[0];e:for(;++ct<de&&it.length<Le;){var zt=ut[ct],Zt=y?y(zt):zt;if(zt=j||zt!==0?zt:0,!(St?vm(St,Zt):ne(it,Zt,j))){for(Te=we;--Te;){var Sr=Ne[Te];if(!(Sr?vm(Sr,Zt):ne(f[Te],Zt,j)))continue e}St&&St.push(Zt),it.push(zt)}}return it}function bY(f,y,j,ne){return Cu(f,function(de,we,Te){y(ne,j(de),we,Te)}),ne}function Om(f,y,j){y=Zc(y,f),f=JT(f,y);var ne=f==null?f:f[Uu(fa(y))];return ne==null?r:Ps(ne,f,j)}function hT(f){return Wn(f)&&Io(f)==W}function vY(f){return Wn(f)&&Io(f)==z}function wY(f){return Wn(f)&&Io(f)==pe}function Pm(f,y,j,ne,de){return f===y?!0:f==null||y==null||!Wn(f)&&!Wn(y)?f!==f&&y!==y:EY(f,y,j,ne,Pm,de)}function EY(f,y,j,ne,de,we){var Te=fr(f),Ne=fr(y),Le=Te?se:io(f),it=Ne?se:io(y);Le=Le==W?Ue:Le,it=it==W?Ue:it;var ut=Le==Ue,ct=it==Ue,St=Le==it;if(St&&Xc(f)){if(!Xc(y))return!1;Te=!0,ut=!1}if(St&&!ut)return we||(we=new Wa),Te||Mp(f)?WT(f,y,j,ne,de,we):ZY(f,y,Le,j,ne,de,we);if(!(j&R)){var zt=ut&&sn.call(f,"__wrapped__"),Zt=ct&&sn.call(y,"__wrapped__");if(zt||Zt){var Sr=zt?f.value():f,Gt=Zt?y.value():y;return we||(we=new Wa),de(Sr,Gt,j,ne,we)}}return St?(we||(we=new Wa),GY(f,y,j,ne,de,we)):!1}function _Y(f){return Wn(f)&&io(f)==P}function YE(f,y,j,ne){var de=j.length,we=de,Te=!ne;if(f==null)return!we;for(f=gn(f);de--;){var Ne=j[de];if(Te&&Ne[2]?Ne[1]!==f[Ne[0]]:!(Ne[0]in f))return!1}for(;++de<we;){Ne=j[de];var Le=Ne[0],it=f[Le],ut=Ne[1];if(Te&&Ne[2]){if(it===r&&!(Le in f))return!1}else{var ct=new Wa;if(ne)var St=ne(it,ut,Le,f,y,ct);if(!(St===r?Pm(ut,it,R|F,ne,ct):St))return!1}}return!0}function pT(f){if(!Nn(f)||iJ(f))return!1;var y=Fl(f)?_Q:Ie;return y.test(Ud(f))}function SY(f){return Wn(f)&&Io(f)==We}function kY(f){return Wn(f)&&io(f)==Qe}function xY(f){return Wn(f)&&h2(f.length)&&!!_n[Io(f)]}function gT(f){return typeof f=="function"?f:f==null?es:typeof f=="object"?fr(f)?bT(f[0],f[1]):mT(f):UI(f)}function JE(f){if(!Bm(f))return PQ(f);var y=[];for(var j in gn(f))sn.call(f,j)&&j!="constructor"&&y.push(j);return y}function AY(f){if(!Nn(f))return uJ(f);var y=Bm(f),j=[];for(var ne in f)ne=="constructor"&&(y||!sn.call(f,ne))||j.push(ne);return j}function e5(f,y){return f<y}function yT(f,y){var j=-1,ne=Yo(f)?qe(f.length):[];return Wc(f,function(de,we,Te){ne[++j]=y(de,we,Te)}),ne}function mT(f){var y=g5(f);return y.length==1&&y[0][2]?QT(y[0][0],y[0][1]):function(j){return j===f||YE(j,f,y)}}function bT(f,y){return m5(f)&&XT(y)?QT(Uu(f),y):function(j){var ne=O5(j,f);return ne===r&&ne===y?P5(j,f):Pm(y,ne,R|F)}}function Qw(f,y,j,ne,de){f!==y&&ZE(y,function(we,Te){if(de||(de=new Wa),Nn(we))OY(f,y,Te,j,Qw,ne,de);else{var Ne=ne?ne(v5(f,Te),we,Te+"",f,y,de):r;Ne===r&&(Ne=we),WE(f,Te,Ne)}},Jo)}function OY(f,y,j,ne,de,we,Te){var Ne=v5(f,j),Le=v5(y,j),it=Te.get(Le);if(it){WE(f,j,it);return}var ut=we?we(Ne,Le,j+"",f,y,Te):r,ct=ut===r;if(ct){var St=fr(Le),zt=!St&&Xc(Le),Zt=!St&&!zt&&Mp(Le);ut=Le,St||zt||Zt?fr(Ne)?ut=Ne:Qn(Ne)?ut=Qo(Ne):zt?(ct=!1,ut=IT(Le,!0)):Zt?(ct=!1,ut=BT(Le,!0)):ut=[]:Mm(Le)||zd(Le)?(ut=Ne,zd(Ne)?ut=OI(Ne):(!Nn(Ne)||Fl(Ne))&&(ut=GT(Le))):ct=!1}ct&&(Te.set(Le,ut),de(ut,Le,ne,we,Te),Te.delete(Le)),WE(f,j,ut)}function vT(f,y){var j=f.length;if(j)return y+=y<0?j:0,$l(y,j)?f[y]:r}function wT(f,y,j){y.length?y=On(y,function(we){return fr(we)?function(Te){return Cd(Te,we.length===1?we[0]:we)}:we}):y=[es];var ne=-1;y=On(y,Ts(qt()));var de=yT(f,function(we,Te,Ne){var Le=On(y,function(it){return it(we)});return{criteria:Le,index:++ne,value:we}});return eQ(de,function(we,Te){return $Y(we,Te,j)})}function PY(f,y){return ET(f,y,function(j,ne){return P5(f,ne)})}function ET(f,y,j){for(var ne=-1,de=y.length,we={};++ne<de;){var Te=y[ne],Ne=Cd(f,Te);j(Ne,Te)&&Tm(we,Zc(Te,f),Ne)}return we}function TY(f){return function(y){return Cd(y,f)}}function t5(f,y,j,ne){var de=ne?JX:_p,we=-1,Te=y.length,Ne=f;for(f===y&&(y=Qo(y)),j&&(Ne=On(f,Ts(j)));++we<Te;)for(var Le=0,it=y[we],ut=j?j(it):it;(Le=de(Ne,ut,Le,ne))>-1;)Ne!==f&&Fw.call(Ne,Le,1),Fw.call(f,Le,1);return f}function _T(f,y){for(var j=f?y.length:0,ne=j-1;j--;){var de=y[j];if(j==ne||de!==we){var we=de;$l(de)?Fw.call(f,de,1):o5(f,de)}}return f}function r5(f,y){return f+Kw(rT()*(y-f+1))}function IY(f,y,j,ne){for(var de=-1,we=pi(Hw((y-f)/(j||1)),0),Te=qe(we);we--;)Te[ne?we:++de]=f,f+=j;return Te}function n5(f,y){var j="";if(!f||y<1||y>x)return j;do y%2&&(j+=f),y=Kw(y/2),y&&(f+=f);while(y);return j}function Ir(f,y){return w5(YT(f,y,es),f+"")}function BY(f){return oT(Rp(f))}function NY(f,y){var j=Rp(f);return a2(j,Rd(y,0,j.length))}function Tm(f,y,j,ne){if(!Nn(f))return f;y=Zc(y,f);for(var de=-1,we=y.length,Te=we-1,Ne=f;Ne!=null&&++de<we;){var Le=Uu(y[de]),it=j;if(Le==="__proto__"||Le==="constructor"||Le==="prototype")return f;if(de!=Te){var ut=Ne[Le];it=ne?ne(ut,Le,Ne):r,it===r&&(it=Nn(ut)?ut:$l(y[de+1])?[]:{})}xm(Ne,Le,it),Ne=Ne[Le]}return f}var ST=Vw?function(f,y){return Vw.set(f,y),f}:es,MY=Dw?function(f,y){return Dw(f,"toString",{configurable:!0,enumerable:!1,value:I5(y),writable:!0})}:es;function RY(f){return a2(Rp(f))}function ca(f,y,j){var ne=-1,de=f.length;y<0&&(y=-y>de?0:de+y),j=j>de?de:j,j<0&&(j+=de),de=y>j?0:j-y>>>0,y>>>=0;for(var we=qe(de);++ne<de;)we[ne]=f[ne+y];return we}function CY(f,y){var j;return Wc(f,function(ne,de,we){return j=y(ne,de,we),!j}),!!j}function Yw(f,y,j){var ne=0,de=f==null?ne:f.length;if(typeof y=="number"&&y===y&&de<=he){for(;ne<de;){var we=ne+de>>>1,Te=f[we];Te!==null&&!Bs(Te)&&(j?Te<=y:Te<y)?ne=we+1:de=we}return de}return i5(f,y,es,j)}function i5(f,y,j,ne){var de=0,we=f==null?0:f.length;if(we===0)return 0;y=j(y);for(var Te=y!==y,Ne=y===null,Le=Bs(y),it=y===r;de<we;){var ut=Kw((de+we)/2),ct=j(f[ut]),St=ct!==r,zt=ct===null,Zt=ct===ct,Sr=Bs(ct);if(Te)var Gt=ne||Zt;else it?Gt=Zt&&(ne||St):Ne?Gt=Zt&&St&&(ne||!zt):Le?Gt=Zt&&St&&!zt&&(ne||!Sr):zt||Sr?Gt=!1:Gt=ne?ct<=y:ct<y;Gt?de=ut+1:we=ut}return no(we,Q)}function kT(f,y){for(var j=-1,ne=f.length,de=0,we=[];++j<ne;){var Te=f[j],Ne=y?y(Te):Te;if(!j||!qa(Ne,Le)){var Le=Ne;we[de++]=Te===0?0:Te}}return we}function xT(f){return typeof f=="number"?f:Bs(f)?T:+f}function Is(f){if(typeof f=="string")return f;if(fr(f))return On(f,Is)+"";if(Bs(f))return nT?nT.call(f):"";var y=f+"";return y=="0"&&1/f==-A?"-0":y}function qc(f,y,j){var ne=-1,de=Bw,we=f.length,Te=!0,Ne=[],Le=Ne;if(j)Te=!1,de=ME;else if(we>=i){var it=y?null:WY(f);if(it)return Mw(it);Te=!1,de=vm,Le=new Md}else Le=y?[]:Ne;e:for(;++ne<we;){var ut=f[ne],ct=y?y(ut):ut;if(ut=j||ut!==0?ut:0,Te&&ct===ct){for(var St=Le.length;St--;)if(Le[St]===ct)continue e;y&&Le.push(ct),Ne.push(ut)}else de(Le,ct,j)||(Le!==Ne&&Le.push(ct),Ne.push(ut))}return Ne}function o5(f,y){return y=Zc(y,f),f=JT(f,y),f==null||delete f[Uu(fa(y))]}function AT(f,y,j,ne){return Tm(f,y,j(Cd(f,y)),ne)}function Jw(f,y,j,ne){for(var de=f.length,we=ne?de:-1;(ne?we--:++we<de)&&y(f[we],we,f););return j?ca(f,ne?0:we,ne?we+1:de):ca(f,ne?we+1:0,ne?de:we)}function OT(f,y){var j=f;return j instanceof zr&&(j=j.value()),RE(y,function(ne,de){return de.func.apply(de.thisArg,Hc([ne],de.args))},j)}function s5(f,y,j){var ne=f.length;if(ne<2)return ne?qc(f[0]):[];for(var de=-1,we=qe(ne);++de<ne;)for(var Te=f[de],Ne=-1;++Ne<ne;)Ne!=de&&(we[de]=Am(we[de]||Te,f[Ne],y,j));return qc(Ki(we,1),y,j)}function PT(f,y,j){for(var ne=-1,de=f.length,we=y.length,Te={};++ne<de;){var Ne=ne<we?y[ne]:r;j(Te,f[ne],Ne)}return Te}function a5(f){return Qn(f)?f:[]}function u5(f){return typeof f=="function"?f:es}function Zc(f,y){return fr(f)?f:m5(f,y)?[f]:nI(tn(f))}var jY=Ir;function Gc(f,y,j){var ne=f.length;return j=j===r?ne:j,!y&&j>=ne?f:ca(f,y,j)}var TT=SQ||function(f){return Hi.clearTimeout(f)};function IT(f,y){if(y)return f.slice();var j=f.length,ne=QP?QP(j):new f.constructor(j);return f.copy(ne),ne}function l5(f){var y=new f.constructor(f.byteLength);return new Lw(y).set(new Lw(f)),y}function UY(f,y){var j=y?l5(f.buffer):f.buffer;return new f.constructor(j,f.byteOffset,f.byteLength)}function zY(f){var y=new f.constructor(f.source,Ct.exec(f));return y.lastIndex=f.lastIndex,y}function LY(f){return km?gn(km.call(f)):{}}function BT(f,y){var j=y?l5(f.buffer):f.buffer;return new f.constructor(j,f.byteOffset,f.length)}function NT(f,y){if(f!==y){var j=f!==r,ne=f===null,de=f===f,we=Bs(f),Te=y!==r,Ne=y===null,Le=y===y,it=Bs(y);if(!Ne&&!it&&!we&&f>y||we&&Te&&Le&&!Ne&&!it||ne&&Te&&Le||!j&&Le||!de)return 1;if(!ne&&!we&&!it&&f<y||it&&j&&de&&!ne&&!we||Ne&&j&&de||!Te&&de||!Le)return-1}return 0}function $Y(f,y,j){for(var ne=-1,de=f.criteria,we=y.criteria,Te=de.length,Ne=j.length;++ne<Te;){var Le=NT(de[ne],we[ne]);if(Le){if(ne>=Ne)return Le;var it=j[ne];return Le*(it=="desc"?-1:1)}}return f.index-y.index}function MT(f,y,j,ne){for(var de=-1,we=f.length,Te=j.length,Ne=-1,Le=y.length,it=pi(we-Te,0),ut=qe(Le+it),ct=!ne;++Ne<Le;)ut[Ne]=y[Ne];for(;++de<Te;)(ct||de<we)&&(ut[j[de]]=f[de]);for(;it--;)ut[Ne++]=f[de++];return ut}function RT(f,y,j,ne){for(var de=-1,we=f.length,Te=-1,Ne=j.length,Le=-1,it=y.length,ut=pi(we-Ne,0),ct=qe(ut+it),St=!ne;++de<ut;)ct[de]=f[de];for(var zt=de;++Le<it;)ct[zt+Le]=y[Le];for(;++Te<Ne;)(St||de<we)&&(ct[zt+j[Te]]=f[de++]);return ct}function Qo(f,y){var j=-1,ne=f.length;for(y||(y=qe(ne));++j<ne;)y[j]=f[j];return y}function ju(f,y,j,ne){var de=!j;j||(j={});for(var we=-1,Te=y.length;++we<Te;){var Ne=y[we],Le=ne?ne(j[Ne],f[Ne],Ne,j,f):r;Le===r&&(Le=f[Ne]),de?Ul(j,Ne,Le):xm(j,Ne,Le)}return j}function FY(f,y){return ju(f,y5(f),y)}function DY(f,y){return ju(f,qT(f),y)}function e2(f,y){return function(j,ne){var de=fr(j)?qX:cY,we=y?y():{};return de(j,f,qt(ne,2),we)}}function Ip(f){return Ir(function(y,j){var ne=-1,de=j.length,we=de>1?j[de-1]:r,Te=de>2?j[2]:r;for(we=f.length>3&&typeof we=="function"?(de--,we):r,Te&&Bo(j[0],j[1],Te)&&(we=de<3?r:we,de=1),y=gn(y);++ne<de;){var Ne=j[ne];Ne&&f(y,Ne,ne,we)}return y})}function CT(f,y){return function(j,ne){if(j==null)return j;if(!Yo(j))return f(j,ne);for(var de=j.length,we=y?de:-1,Te=gn(j);(y?we--:++we<de)&&ne(Te[we],we,Te)!==!1;);return j}}function jT(f){return function(y,j,ne){for(var de=-1,we=gn(y),Te=ne(y),Ne=Te.length;Ne--;){var Le=Te[f?Ne:++de];if(j(we[Le],Le,we)===!1)break}return y}}function HY(f,y,j){var ne=y&D,de=Im(f);function we(){var Te=this&&this!==Hi&&this instanceof we?de:f;return Te.apply(ne?j:this,arguments)}return we}function UT(f){return function(y){y=tn(y);var j=Sp(y)?Va(y):r,ne=j?j[0]:y.charAt(0),de=j?Gc(j,1).join(""):y.slice(1);return ne[f]()+de}}function Bp(f){return function(y){return RE(CI(RI(y).replace(MX,"")),f,"")}}function Im(f){return function(){var y=arguments;switch(y.length){case 0:return new f;case 1:return new f(y[0]);case 2:return new f(y[0],y[1]);case 3:return new f(y[0],y[1],y[2]);case 4:return new f(y[0],y[1],y[2],y[3]);case 5:return new f(y[0],y[1],y[2],y[3],y[4]);case 6:return new f(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new f(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var j=Tp(f.prototype),ne=f.apply(j,y);return Nn(ne)?ne:j}}function KY(f,y,j){var ne=Im(f);function de(){for(var we=arguments.length,Te=qe(we),Ne=we,Le=Np(de);Ne--;)Te[Ne]=arguments[Ne];var it=we<3&&Te[0]!==Le&&Te[we-1]!==Le?[]:Kc(Te,Le);if(we-=it.length,we<j)return DT(f,y,t2,de.placeholder,r,Te,it,r,r,j-we);var ut=this&&this!==Hi&&this instanceof de?ne:f;return Ps(ut,this,Te)}return de}function zT(f){return function(y,j,ne){var de=gn(y);if(!Yo(y)){var we=qt(j,3);y=Pi(y),j=function(Ne){return we(de[Ne],Ne,de)}}var Te=f(y,j,ne);return Te>-1?de[we?y[Te]:Te]:r}}function LT(f){return Ll(function(y){var j=y.length,ne=j,de=ua.prototype.thru;for(f&&y.reverse();ne--;){var we=y[ne];if(typeof we!="function")throw new aa(s);if(de&&!Te&&o2(we)=="wrapper")var Te=new ua([],!0)}for(ne=Te?ne:j;++ne<j;){we=y[ne];var Ne=o2(we),Le=Ne=="wrapper"?p5(we):r;Le&&b5(Le[0])&&Le[1]==(re|U|ee|K)&&!Le[4].length&&Le[9]==1?Te=Te[o2(Le[0])].apply(Te,Le[3]):Te=we.length==1&&b5(we)?Te[Ne]():Te.thru(we)}return function(){var it=arguments,ut=it[0];if(Te&&it.length==1&&fr(ut))return Te.plant(ut).value();for(var ct=0,St=j?y[ct].apply(this,it):ut;++ct<j;)St=y[ct].call(this,St);return St}})}function t2(f,y,j,ne,de,we,Te,Ne,Le,it){var ut=y&re,ct=y&D,St=y&$,zt=y&(U|q),Zt=y&C,Sr=St?r:Im(f);function Gt(){for(var Rr=arguments.length,Kr=qe(Rr),Ns=Rr;Ns--;)Kr[Ns]=arguments[Ns];if(zt)var No=Np(Gt),Ms=rQ(Kr,No);if(ne&&(Kr=MT(Kr,ne,de,zt)),we&&(Kr=RT(Kr,we,Te,zt)),Rr-=Ms,zt&&Rr<it){var Yn=Kc(Kr,No);return DT(f,y,t2,Gt.placeholder,j,Kr,Yn,Ne,Le,it-Rr)}var Za=ct?j:this,Hl=St?Za[f]:f;return Rr=Kr.length,Ne?Kr=cJ(Kr,Ne):Zt&&Rr>1&&Kr.reverse(),ut&&Le<Rr&&(Kr.length=Le),this&&this!==Hi&&this instanceof Gt&&(Hl=Sr||Im(Hl)),Hl.apply(Za,Kr)}return Gt}function $T(f,y){return function(j,ne){return bY(j,f,y(ne),{})}}function r2(f,y){return function(j,ne){var de;if(j===r&&ne===r)return y;if(j!==r&&(de=j),ne!==r){if(de===r)return ne;typeof j=="string"||typeof ne=="string"?(j=Is(j),ne=Is(ne)):(j=xT(j),ne=xT(ne)),de=f(j,ne)}return de}}function c5(f){return Ll(function(y){return y=On(y,Ts(qt())),Ir(function(j){var ne=this;return f(y,function(de){return Ps(de,ne,j)})})})}function n2(f,y){y=y===r?" ":Is(y);var j=y.length;if(j<2)return j?n5(y,f):y;var ne=n5(y,Hw(f/kp(y)));return Sp(y)?Gc(Va(ne),0,f).join(""):ne.slice(0,f)}function VY(f,y,j,ne){var de=y&D,we=Im(f);function Te(){for(var Ne=-1,Le=arguments.length,it=-1,ut=ne.length,ct=qe(ut+Le),St=this&&this!==Hi&&this instanceof Te?we:f;++it<ut;)ct[it]=ne[it];for(;Le--;)ct[it++]=arguments[++Ne];return Ps(St,de?j:this,ct)}return Te}function FT(f){return function(y,j,ne){return ne&&typeof ne!="number"&&Bo(y,j,ne)&&(j=ne=r),y=Dl(y),j===r?(j=y,y=0):j=Dl(j),ne=ne===r?y<j?1:-1:Dl(ne),IY(y,j,ne,f)}}function i2(f){return function(y,j){return typeof y=="string"&&typeof j=="string"||(y=da(y),j=da(j)),f(y,j)}}function DT(f,y,j,ne,de,we,Te,Ne,Le,it){var ut=y&U,ct=ut?Te:r,St=ut?r:Te,zt=ut?we:r,Zt=ut?r:we;y|=ut?ee:ae,y&=~(ut?ae:ee),y&B||(y&=-4);var Sr=[f,y,de,zt,ct,Zt,St,Ne,Le,it],Gt=j.apply(r,Sr);return b5(f)&&eI(Gt,Sr),Gt.placeholder=ne,tI(Gt,f,y)}function f5(f){var y=hi[f];return function(j,ne){if(j=da(j),ne=ne==null?0:no(br(ne),292),ne&&tT(j)){var de=(tn(j)+"e").split("e"),we=y(de[0]+"e"+(+de[1]+ne));return de=(tn(we)+"e").split("e"),+(de[0]+"e"+(+de[1]-ne))}return y(j)}}var WY=Op&&1/Mw(new Op([,-0]))[1]==A?function(f){return new Op(f)}:M5;function HT(f){return function(y){var j=io(y);return j==P?FE(y):j==Qe?lQ(y):tQ(y,f(y))}}function zl(f,y,j,ne,de,we,Te,Ne){var Le=y&$;if(!Le&&typeof f!="function")throw new aa(s);var it=ne?ne.length:0;if(it||(y&=-97,ne=de=r),Te=Te===r?Te:pi(br(Te),0),Ne=Ne===r?Ne:br(Ne),it-=de?de.length:0,y&ae){var ut=ne,ct=de;ne=de=r}var St=Le?r:p5(f),zt=[f,y,j,ne,de,ut,ct,we,Te,Ne];if(St&&aJ(zt,St),f=zt[0],y=zt[1],j=zt[2],ne=zt[3],de=zt[4],Ne=zt[9]=zt[9]===r?Le?0:f.length:pi(zt[9]-it,0),!Ne&&y&(U|q)&&(y&=-25),!y||y==D)var Zt=HY(f,y,j);else y==U||y==q?Zt=KY(f,y,Ne):(y==ee||y==(D|ee))&&!de.length?Zt=VY(f,y,j,ne):Zt=t2.apply(r,zt);var Sr=St?ST:eI;return tI(Sr(Zt,zt),f,y)}function KT(f,y,j,ne){return f===r||qa(f,Ap[j])&&!sn.call(ne,j)?y:f}function VT(f,y,j,ne,de,we){return Nn(f)&&Nn(y)&&(we.set(y,f),Qw(f,y,r,VT,we),we.delete(y)),f}function qY(f){return Mm(f)?r:f}function WT(f,y,j,ne,de,we){var Te=j&R,Ne=f.length,Le=y.length;if(Ne!=Le&&!(Te&&Le>Ne))return!1;var it=we.get(f),ut=we.get(y);if(it&&ut)return it==y&&ut==f;var ct=-1,St=!0,zt=j&F?new Md:r;for(we.set(f,y),we.set(y,f);++ct<Ne;){var Zt=f[ct],Sr=y[ct];if(ne)var Gt=Te?ne(Sr,Zt,ct,y,f,we):ne(Zt,Sr,ct,f,y,we);if(Gt!==r){if(Gt)continue;St=!1;break}if(zt){if(!CE(y,function(Rr,Kr){if(!vm(zt,Kr)&&(Zt===Rr||de(Zt,Rr,j,ne,we)))return zt.push(Kr)})){St=!1;break}}else if(!(Zt===Sr||de(Zt,Sr,j,ne,we))){St=!1;break}}return we.delete(f),we.delete(y),St}function ZY(f,y,j,ne,de,we,Te){switch(j){case X:if(f.byteLength!=y.byteLength||f.byteOffset!=y.byteOffset)return!1;f=f.buffer,y=y.buffer;case z:return!(f.byteLength!=y.byteLength||!we(new Lw(f),new Lw(y)));case ie:case pe:case Y:return qa(+f,+y);case Oe:return f.name==y.name&&f.message==y.message;case We:case d:return f==y+"";case P:var Ne=FE;case Qe:var Le=ne&R;if(Ne||(Ne=Mw),f.size!=y.size&&!Le)return!1;var it=Te.get(f);if(it)return it==y;ne|=F,Te.set(f,y);var ut=WT(Ne(f),Ne(y),ne,de,we,Te);return Te.delete(f),ut;case b:if(km)return km.call(f)==km.call(y)}return!1}function GY(f,y,j,ne,de,we){var Te=j&R,Ne=d5(f),Le=Ne.length,it=d5(y),ut=it.length;if(Le!=ut&&!Te)return!1;for(var ct=Le;ct--;){var St=Ne[ct];if(!(Te?St in y:sn.call(y,St)))return!1}var zt=we.get(f),Zt=we.get(y);if(zt&&Zt)return zt==y&&Zt==f;var Sr=!0;we.set(f,y),we.set(y,f);for(var Gt=Te;++ct<Le;){St=Ne[ct];var Rr=f[St],Kr=y[St];if(ne)var Ns=Te?ne(Kr,Rr,St,y,f,we):ne(Rr,Kr,St,f,y,we);if(!(Ns===r?Rr===Kr||de(Rr,Kr,j,ne,we):Ns)){Sr=!1;break}Gt||(Gt=St=="constructor")}if(Sr&&!Gt){var No=f.constructor,Ms=y.constructor;No!=Ms&&"constructor"in f&&"constructor"in y&&!(typeof No=="function"&&No instanceof No&&typeof Ms=="function"&&Ms instanceof Ms)&&(Sr=!1)}return we.delete(f),we.delete(y),Sr}function Ll(f){return w5(YT(f,r,aI),f+"")}function d5(f){return dT(f,Pi,y5)}function h5(f){return dT(f,Jo,qT)}var p5=Vw?function(f){return Vw.get(f)}:M5;function o2(f){for(var y=f.name+"",j=Pp[y],ne=sn.call(Pp,y)?j.length:0;ne--;){var de=j[ne],we=de.func;if(we==null||we==f)return de.name}return y}function Np(f){var y=sn.call(me,"placeholder")?me:f;return y.placeholder}function qt(){var f=me.iteratee||B5;return f=f===B5?gT:f,arguments.length?f(arguments[0],arguments[1]):f}function s2(f,y){var j=f.__data__;return nJ(y)?j[typeof y=="string"?"string":"hash"]:j.map}function g5(f){for(var y=Pi(f),j=y.length;j--;){var ne=y[j],de=f[ne];y[j]=[ne,de,XT(de)]}return y}function jd(f,y){var j=sQ(f,y);return pT(j)?j:r}function XY(f){var y=sn.call(f,Bd),j=f[Bd];try{f[Bd]=r;var ne=!0}catch{}var de=Uw.call(f);return ne&&(y?f[Bd]=j:delete f[Bd]),de}var y5=HE?function(f){return f==null?[]:(f=gn(f),Dc(HE(f),function(y){return JP.call(f,y)}))}:R5,qT=HE?function(f){for(var y=[];f;)Hc(y,y5(f)),f=$w(f);return y}:R5,io=Io;(KE&&io(new KE(new ArrayBuffer(1)))!=X||Em&&io(new Em)!=P||VE&&io(VE.resolve())!=Ke||Op&&io(new Op)!=Qe||_m&&io(new _m)!=te)&&(io=function(f){var y=Io(f),j=y==Ue?f.constructor:r,ne=j?Ud(j):"";if(ne)switch(ne){case NQ:return X;case MQ:return P;case RQ:return Ke;case CQ:return Qe;case jQ:return te}return y});function QY(f,y,j){for(var ne=-1,de=j.length;++ne<de;){var we=j[ne],Te=we.size;switch(we.type){case"drop":f+=Te;break;case"dropRight":y-=Te;break;case"take":y=no(y,f+Te);break;case"takeRight":f=pi(f,y-Te);break}}return{start:f,end:y}}function YY(f){var y=f.match(Ye);return y?y[1].split(Et):[]}function ZT(f,y,j){y=Zc(y,f);for(var ne=-1,de=y.length,we=!1;++ne<de;){var Te=Uu(y[ne]);if(!(we=f!=null&&j(f,Te)))break;f=f[Te]}return we||++ne!=de?we:(de=f==null?0:f.length,!!de&&h2(de)&&$l(Te,de)&&(fr(f)||zd(f)))}function JY(f){var y=f.length,j=new f.constructor(y);return y&&typeof f[0]=="string"&&sn.call(f,"index")&&(j.index=f.index,j.input=f.input),j}function GT(f){return typeof f.constructor=="function"&&!Bm(f)?Tp($w(f)):{}}function eJ(f,y,j){var ne=f.constructor;switch(y){case z:return l5(f);case ie:case pe:return new ne(+f);case X:return UY(f,j);case oe:case N:case L:case J:case ge:case le:case Me:case De:case nt:return BT(f,j);case P:return new ne;case Y:case d:return new ne(f);case We:return zY(f);case Qe:return new ne;case b:return LY(f)}}function tJ(f,y){var j=y.length;if(!j)return f;var ne=j-1;return y[ne]=(j>1?"& ":"")+y[ne],y=y.join(j>2?", ":" "),f.replace(lt,`{
/* [wrapped with `+y+`] */
`)}function rJ(f){return fr(f)||zd(f)||!!(eT&&f&&f[eT])}function $l(f,y){var j=typeof f;return y=y??x,!!y&&(j=="number"||j!="symbol"&&at.test(f))&&f>-1&&f%1==0&&f<y}function Bo(f,y,j){if(!Nn(j))return!1;var ne=typeof y;return(ne=="number"?Yo(j)&&$l(y,j.length):ne=="string"&&y in j)?qa(j[y],f):!1}function m5(f,y){if(fr(f))return!1;var j=typeof f;return j=="number"||j=="symbol"||j=="boolean"||f==null||Bs(f)?!0:Se.test(f)||!Ur.test(f)||y!=null&&f in gn(y)}function nJ(f){var y=typeof f;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?f!=="__proto__":f===null}function b5(f){var y=o2(f),j=me[y];if(typeof j!="function"||!(y in zr.prototype))return!1;if(f===j)return!0;var ne=p5(j);return!!ne&&f===ne[0]}function iJ(f){return!!XP&&XP in f}var oJ=Cw?Fl:C5;function Bm(f){var y=f&&f.constructor,j=typeof y=="function"&&y.prototype||Ap;return f===j}function XT(f){return f===f&&!Nn(f)}function QT(f,y){return function(j){return j==null?!1:j[f]===y&&(y!==r||f in gn(j))}}function sJ(f){var y=f2(f,function(ne){return j.size===c&&j.clear(),ne}),j=y.cache;return y}function aJ(f,y){var j=f[1],ne=y[1],de=j|ne,we=de<(D|$|re),Te=ne==re&&j==U||ne==re&&j==K&&f[7].length<=y[8]||ne==(re|K)&&y[7].length<=y[8]&&j==U;if(!(we||Te))return f;ne&D&&(f[2]=y[2],de|=j&D?0:B);var Ne=y[3];if(Ne){var Le=f[3];f[3]=Le?MT(Le,Ne,y[4]):Ne,f[4]=Le?Kc(f[3],u):y[4]}return Ne=y[5],Ne&&(Le=f[5],f[5]=Le?RT(Le,Ne,y[6]):Ne,f[6]=Le?Kc(f[5],u):y[6]),Ne=y[7],Ne&&(f[7]=Ne),ne&re&&(f[8]=f[8]==null?y[8]:no(f[8],y[8])),f[9]==null&&(f[9]=y[9]),f[0]=y[0],f[1]=de,f}function uJ(f){var y=[];if(f!=null)for(var j in gn(f))y.push(j);return y}function lJ(f){return Uw.call(f)}function YT(f,y,j){return y=pi(y===r?f.length-1:y,0),function(){for(var ne=arguments,de=-1,we=pi(ne.length-y,0),Te=qe(we);++de<we;)Te[de]=ne[y+de];de=-1;for(var Ne=qe(y+1);++de<y;)Ne[de]=ne[de];return Ne[y]=j(Te),Ps(f,this,Ne)}}function JT(f,y){return y.length<2?f:Cd(f,ca(y,0,-1))}function cJ(f,y){for(var j=f.length,ne=no(y.length,j),de=Qo(f);ne--;){var we=y[ne];f[ne]=$l(we,j)?de[we]:r}return f}function v5(f,y){if(!(y==="constructor"&&typeof f[y]=="function")&&y!="__proto__")return f[y]}var eI=rI(ST),Nm=xQ||function(f,y){return Hi.setTimeout(f,y)},w5=rI(MY);function tI(f,y,j){var ne=y+"";return w5(f,tJ(ne,fJ(YY(ne),j)))}function rI(f){var y=0,j=0;return function(){var ne=TQ(),de=p-(ne-j);if(j=ne,de>0){if(++y>=I)return arguments[0]}else y=0;return f.apply(r,arguments)}}function a2(f,y){var j=-1,ne=f.length,de=ne-1;for(y=y===r?ne:y;++j<y;){var we=r5(j,de),Te=f[we];f[we]=f[j],f[j]=Te}return f.length=y,f}var nI=sJ(function(f){var y=[];return f.charCodeAt(0)===46&&y.push(""),f.replace(ye,function(j,ne,de,we){y.push(de?we.replace(It,"$1"):ne||j)}),y});function Uu(f){if(typeof f=="string"||Bs(f))return f;var y=f+"";return y=="0"&&1/f==-A?"-0":y}function Ud(f){if(f!=null){try{return jw.call(f)}catch{}try{return f+""}catch{}}return""}function fJ(f,y){return sa(ue,function(j){var ne="_."+j[0];y&j[1]&&!Bw(f,ne)&&f.push(ne)}),f.sort()}function iI(f){if(f instanceof zr)return f.clone();var y=new ua(f.__wrapped__,f.__chain__);return y.__actions__=Qo(f.__actions__),y.__index__=f.__index__,y.__values__=f.__values__,y}function dJ(f,y,j){(j?Bo(f,y,j):y===r)?y=1:y=pi(br(y),0);var ne=f==null?0:f.length;if(!ne||y<1)return[];for(var de=0,we=0,Te=qe(Hw(ne/y));de<ne;)Te[we++]=ca(f,de,de+=y);return Te}function hJ(f){for(var y=-1,j=f==null?0:f.length,ne=0,de=[];++y<j;){var we=f[y];we&&(de[ne++]=we)}return de}function pJ(){var f=arguments.length;if(!f)return[];for(var y=qe(f-1),j=arguments[0],ne=f;ne--;)y[ne-1]=arguments[ne];return Hc(fr(j)?Qo(j):[j],Ki(y,1))}var gJ=Ir(function(f,y){return Qn(f)?Am(f,Ki(y,1,Qn,!0)):[]}),yJ=Ir(function(f,y){var j=fa(y);return Qn(j)&&(j=r),Qn(f)?Am(f,Ki(y,1,Qn,!0),qt(j,2)):[]}),mJ=Ir(function(f,y){var j=fa(y);return Qn(j)&&(j=r),Qn(f)?Am(f,Ki(y,1,Qn,!0),r,j):[]});function bJ(f,y,j){var ne=f==null?0:f.length;return ne?(y=j||y===r?1:br(y),ca(f,y<0?0:y,ne)):[]}function vJ(f,y,j){var ne=f==null?0:f.length;return ne?(y=j||y===r?1:br(y),y=ne-y,ca(f,0,y<0?0:y)):[]}function wJ(f,y){return f&&f.length?Jw(f,qt(y,3),!0,!0):[]}function EJ(f,y){return f&&f.length?Jw(f,qt(y,3),!0):[]}function _J(f,y,j,ne){var de=f==null?0:f.length;return de?(j&&typeof j!="number"&&Bo(f,y,j)&&(j=0,ne=de),pY(f,y,j,ne)):[]}function oI(f,y,j){var ne=f==null?0:f.length;if(!ne)return-1;var de=j==null?0:br(j);return de<0&&(de=pi(ne+de,0)),Nw(f,qt(y,3),de)}function sI(f,y,j){var ne=f==null?0:f.length;if(!ne)return-1;var de=ne-1;return j!==r&&(de=br(j),de=j<0?pi(ne+de,0):no(de,ne-1)),Nw(f,qt(y,3),de,!0)}function aI(f){var y=f==null?0:f.length;return y?Ki(f,1):[]}function SJ(f){var y=f==null?0:f.length;return y?Ki(f,A):[]}function kJ(f,y){var j=f==null?0:f.length;return j?(y=y===r?1:br(y),Ki(f,y)):[]}function xJ(f){for(var y=-1,j=f==null?0:f.length,ne={};++y<j;){var de=f[y];ne[de[0]]=de[1]}return ne}function uI(f){return f&&f.length?f[0]:r}function AJ(f,y,j){var ne=f==null?0:f.length;if(!ne)return-1;var de=j==null?0:br(j);return de<0&&(de=pi(ne+de,0)),_p(f,y,de)}function OJ(f){var y=f==null?0:f.length;return y?ca(f,0,-1):[]}var PJ=Ir(function(f){var y=On(f,a5);return y.length&&y[0]===f[0]?QE(y):[]}),TJ=Ir(function(f){var y=fa(f),j=On(f,a5);return y===fa(j)?y=r:j.pop(),j.length&&j[0]===f[0]?QE(j,qt(y,2)):[]}),IJ=Ir(function(f){var y=fa(f),j=On(f,a5);return y=typeof y=="function"?y:r,y&&j.pop(),j.length&&j[0]===f[0]?QE(j,r,y):[]});function BJ(f,y){return f==null?"":OQ.call(f,y)}function fa(f){var y=f==null?0:f.length;return y?f[y-1]:r}function NJ(f,y,j){var ne=f==null?0:f.length;if(!ne)return-1;var de=ne;return j!==r&&(de=br(j),de=de<0?pi(ne+de,0):no(de,ne-1)),y===y?fQ(f,y,de):Nw(f,DP,de,!0)}function MJ(f,y){return f&&f.length?vT(f,br(y)):r}var RJ=Ir(lI);function lI(f,y){return f&&f.length&&y&&y.length?t5(f,y):f}function CJ(f,y,j){return f&&f.length&&y&&y.length?t5(f,y,qt(j,2)):f}function jJ(f,y,j){return f&&f.length&&y&&y.length?t5(f,y,r,j):f}var UJ=Ll(function(f,y){var j=f==null?0:f.length,ne=qE(f,y);return _T(f,On(y,function(de){return $l(de,j)?+de:de}).sort(NT)),ne});function zJ(f,y){var j=[];if(!(f&&f.length))return j;var ne=-1,de=[],we=f.length;for(y=qt(y,3);++ne<we;){var Te=f[ne];y(Te,ne,f)&&(j.push(Te),de.push(ne))}return _T(f,de),j}function E5(f){return f==null?f:BQ.call(f)}function LJ(f,y,j){var ne=f==null?0:f.length;return ne?(j&&typeof j!="number"&&Bo(f,y,j)?(y=0,j=ne):(y=y==null?0:br(y),j=j===r?ne:br(j)),ca(f,y,j)):[]}function $J(f,y){return Yw(f,y)}function FJ(f,y,j){return i5(f,y,qt(j,2))}function DJ(f,y){var j=f==null?0:f.length;if(j){var ne=Yw(f,y);if(ne<j&&qa(f[ne],y))return ne}return-1}function HJ(f,y){return Yw(f,y,!0)}function KJ(f,y,j){return i5(f,y,qt(j,2),!0)}function VJ(f,y){var j=f==null?0:f.length;if(j){var ne=Yw(f,y,!0)-1;if(qa(f[ne],y))return ne}return-1}function WJ(f){return f&&f.length?kT(f):[]}function qJ(f,y){return f&&f.length?kT(f,qt(y,2)):[]}function ZJ(f){var y=f==null?0:f.length;return y?ca(f,1,y):[]}function GJ(f,y,j){return f&&f.length?(y=j||y===r?1:br(y),ca(f,0,y<0?0:y)):[]}function XJ(f,y,j){var ne=f==null?0:f.length;return ne?(y=j||y===r?1:br(y),y=ne-y,ca(f,y<0?0:y,ne)):[]}function QJ(f,y){return f&&f.length?Jw(f,qt(y,3),!1,!0):[]}function YJ(f,y){return f&&f.length?Jw(f,qt(y,3)):[]}var JJ=Ir(function(f){return qc(Ki(f,1,Qn,!0))}),eee=Ir(function(f){var y=fa(f);return Qn(y)&&(y=r),qc(Ki(f,1,Qn,!0),qt(y,2))}),tee=Ir(function(f){var y=fa(f);return y=typeof y=="function"?y:r,qc(Ki(f,1,Qn,!0),r,y)});function ree(f){return f&&f.length?qc(f):[]}function nee(f,y){return f&&f.length?qc(f,qt(y,2)):[]}function iee(f,y){return y=typeof y=="function"?y:r,f&&f.length?qc(f,r,y):[]}function _5(f){if(!(f&&f.length))return[];var y=0;return f=Dc(f,function(j){if(Qn(j))return y=pi(j.length,y),!0}),LE(y,function(j){return On(f,jE(j))})}function cI(f,y){if(!(f&&f.length))return[];var j=_5(f);return y==null?j:On(j,function(ne){return Ps(y,r,ne)})}var oee=Ir(function(f,y){return Qn(f)?Am(f,y):[]}),see=Ir(function(f){return s5(Dc(f,Qn))}),aee=Ir(function(f){var y=fa(f);return Qn(y)&&(y=r),s5(Dc(f,Qn),qt(y,2))}),uee=Ir(function(f){var y=fa(f);return y=typeof y=="function"?y:r,s5(Dc(f,Qn),r,y)}),lee=Ir(_5);function cee(f,y){return PT(f||[],y||[],xm)}function fee(f,y){return PT(f||[],y||[],Tm)}var dee=Ir(function(f){var y=f.length,j=y>1?f[y-1]:r;return j=typeof j=="function"?(f.pop(),j):r,cI(f,j)});function fI(f){var y=me(f);return y.__chain__=!0,y}function hee(f,y){return y(f),f}function u2(f,y){return y(f)}var pee=Ll(function(f){var y=f.length,j=y?f[0]:0,ne=this.__wrapped__,de=function(we){return qE(we,f)};return y>1||this.__actions__.length||!(ne instanceof zr)||!$l(j)?this.thru(de):(ne=ne.slice(j,+j+(y?1:0)),ne.__actions__.push({func:u2,args:[de],thisArg:r}),new ua(ne,this.__chain__).thru(function(we){return y&&!we.length&&we.push(r),we}))});function gee(){return fI(this)}function yee(){return new ua(this.value(),this.__chain__)}function mee(){this.__values__===r&&(this.__values__=xI(this.value()));var f=this.__index__>=this.__values__.length,y=f?r:this.__values__[this.__index__++];return{done:f,value:y}}function bee(){return this}function vee(f){for(var y,j=this;j instanceof qw;){var ne=iI(j);ne.__index__=0,ne.__values__=r,y?de.__wrapped__=ne:y=ne;var de=ne;j=j.__wrapped__}return de.__wrapped__=f,y}function wee(){var f=this.__wrapped__;if(f instanceof zr){var y=f;return this.__actions__.length&&(y=new zr(this)),y=y.reverse(),y.__actions__.push({func:u2,args:[E5],thisArg:r}),new ua(y,this.__chain__)}return this.thru(E5)}function Eee(){return OT(this.__wrapped__,this.__actions__)}var _ee=e2(function(f,y,j){sn.call(f,j)?++f[j]:Ul(f,j,1)});function See(f,y,j){var ne=fr(f)?$P:hY;return j&&Bo(f,y,j)&&(y=r),ne(f,qt(y,3))}function kee(f,y){var j=fr(f)?Dc:cT;return j(f,qt(y,3))}var xee=zT(oI),Aee=zT(sI);function Oee(f,y){return Ki(l2(f,y),1)}function Pee(f,y){return Ki(l2(f,y),A)}function Tee(f,y,j){return j=j===r?1:br(j),Ki(l2(f,y),j)}function dI(f,y){var j=fr(f)?sa:Wc;return j(f,qt(y,3))}function hI(f,y){var j=fr(f)?ZX:lT;return j(f,qt(y,3))}var Iee=e2(function(f,y,j){sn.call(f,j)?f[j].push(y):Ul(f,j,[y])});function Bee(f,y,j,ne){f=Yo(f)?f:Rp(f),j=j&&!ne?br(j):0;var de=f.length;return j<0&&(j=pi(de+j,0)),p2(f)?j<=de&&f.indexOf(y,j)>-1:!!de&&_p(f,y,j)>-1}var Nee=Ir(function(f,y,j){var ne=-1,de=typeof y=="function",we=Yo(f)?qe(f.length):[];return Wc(f,function(Te){we[++ne]=de?Ps(y,Te,j):Om(Te,y,j)}),we}),Mee=e2(function(f,y,j){Ul(f,j,y)});function l2(f,y){var j=fr(f)?On:yT;return j(f,qt(y,3))}function Ree(f,y,j,ne){return f==null?[]:(fr(y)||(y=y==null?[]:[y]),j=ne?r:j,fr(j)||(j=j==null?[]:[j]),wT(f,y,j))}var Cee=e2(function(f,y,j){f[j?0:1].push(y)},function(){return[[],[]]});function jee(f,y,j){var ne=fr(f)?RE:KP,de=arguments.length<3;return ne(f,qt(y,4),j,de,Wc)}function Uee(f,y,j){var ne=fr(f)?GX:KP,de=arguments.length<3;return ne(f,qt(y,4),j,de,lT)}function zee(f,y){var j=fr(f)?Dc:cT;return j(f,d2(qt(y,3)))}function Lee(f){var y=fr(f)?oT:BY;return y(f)}function $ee(f,y,j){(j?Bo(f,y,j):y===r)?y=1:y=br(y);var ne=fr(f)?uY:NY;return ne(f,y)}function Fee(f){var y=fr(f)?lY:RY;return y(f)}function Dee(f){if(f==null)return 0;if(Yo(f))return p2(f)?kp(f):f.length;var y=io(f);return y==P||y==Qe?f.size:JE(f).length}function Hee(f,y,j){var ne=fr(f)?CE:CY;return j&&Bo(f,y,j)&&(y=r),ne(f,qt(y,3))}var Kee=Ir(function(f,y){if(f==null)return[];var j=y.length;return j>1&&Bo(f,y[0],y[1])?y=[]:j>2&&Bo(y[0],y[1],y[2])&&(y=[y[0]]),wT(f,Ki(y,1),[])}),c2=kQ||function(){return Hi.Date.now()};function Vee(f,y){if(typeof y!="function")throw new aa(s);return f=br(f),function(){if(--f<1)return y.apply(this,arguments)}}function pI(f,y,j){return y=j?r:y,y=f&&y==null?f.length:y,zl(f,re,r,r,r,r,y)}function gI(f,y){var j;if(typeof y!="function")throw new aa(s);return f=br(f),function(){return--f>0&&(j=y.apply(this,arguments)),f<=1&&(y=r),j}}var S5=Ir(function(f,y,j){var ne=D;if(j.length){var de=Kc(j,Np(S5));ne|=ee}return zl(f,ne,y,j,de)}),yI=Ir(function(f,y,j){var ne=D|$;if(j.length){var de=Kc(j,Np(yI));ne|=ee}return zl(y,ne,f,j,de)});function mI(f,y,j){y=j?r:y;var ne=zl(f,U,r,r,r,r,r,y);return ne.placeholder=mI.placeholder,ne}function bI(f,y,j){y=j?r:y;var ne=zl(f,q,r,r,r,r,r,y);return ne.placeholder=bI.placeholder,ne}function vI(f,y,j){var ne,de,we,Te,Ne,Le,it=0,ut=!1,ct=!1,St=!0;if(typeof f!="function")throw new aa(s);y=da(y)||0,Nn(j)&&(ut=!!j.leading,ct="maxWait"in j,we=ct?pi(da(j.maxWait)||0,y):we,St="trailing"in j?!!j.trailing:St);function zt(Yn){var Za=ne,Hl=de;return ne=de=r,it=Yn,Te=f.apply(Hl,Za),Te}function Zt(Yn){return it=Yn,Ne=Nm(Rr,y),ut?zt(Yn):Te}function Sr(Yn){var Za=Yn-Le,Hl=Yn-it,zI=y-Za;return ct?no(zI,we-Hl):zI}function Gt(Yn){var Za=Yn-Le,Hl=Yn-it;return Le===r||Za>=y||Za<0||ct&&Hl>=we}function Rr(){var Yn=c2();if(Gt(Yn))return Kr(Yn);Ne=Nm(Rr,Sr(Yn))}function Kr(Yn){return Ne=r,St&&ne?zt(Yn):(ne=de=r,Te)}function Ns(){Ne!==r&&TT(Ne),it=0,ne=Le=de=Ne=r}function No(){return Ne===r?Te:Kr(c2())}function Ms(){var Yn=c2(),Za=Gt(Yn);if(ne=arguments,de=this,Le=Yn,Za){if(Ne===r)return Zt(Le);if(ct)return TT(Ne),Ne=Nm(Rr,y),zt(Le)}return Ne===r&&(Ne=Nm(Rr,y)),Te}return Ms.cancel=Ns,Ms.flush=No,Ms}var Wee=Ir(function(f,y){return uT(f,1,y)}),qee=Ir(function(f,y,j){return uT(f,da(y)||0,j)});function Zee(f){return zl(f,C)}function f2(f,y){if(typeof f!="function"||y!=null&&typeof y!="function")throw new aa(s);var j=function(){var ne=arguments,de=y?y.apply(this,ne):ne[0],we=j.cache;if(we.has(de))return we.get(de);var Te=f.apply(this,ne);return j.cache=we.set(de,Te)||we,Te};return j.cache=new(f2.Cache||jl),j}f2.Cache=jl;function d2(f){if(typeof f!="function")throw new aa(s);return function(){var y=arguments;switch(y.length){case 0:return!f.call(this);case 1:return!f.call(this,y[0]);case 2:return!f.call(this,y[0],y[1]);case 3:return!f.call(this,y[0],y[1],y[2])}return!f.apply(this,y)}}function Gee(f){return gI(2,f)}var Xee=jY(function(f,y){y=y.length==1&&fr(y[0])?On(y[0],Ts(qt())):On(Ki(y,1),Ts(qt()));var j=y.length;return Ir(function(ne){for(var de=-1,we=no(ne.length,j);++de<we;)ne[de]=y[de].call(this,ne[de]);return Ps(f,this,ne)})}),k5=Ir(function(f,y){var j=Kc(y,Np(k5));return zl(f,ee,r,y,j)}),wI=Ir(function(f,y){var j=Kc(y,Np(wI));return zl(f,ae,r,y,j)}),Qee=Ll(function(f,y){return zl(f,K,r,r,r,y)});function Yee(f,y){if(typeof f!="function")throw new aa(s);return y=y===r?y:br(y),Ir(f,y)}function Jee(f,y){if(typeof f!="function")throw new aa(s);return y=y==null?0:pi(br(y),0),Ir(function(j){var ne=j[y],de=Gc(j,0,y);return ne&&Hc(de,ne),Ps(f,this,de)})}function ete(f,y,j){var ne=!0,de=!0;if(typeof f!="function")throw new aa(s);return Nn(j)&&(ne="leading"in j?!!j.leading:ne,de="trailing"in j?!!j.trailing:de),vI(f,y,{leading:ne,maxWait:y,trailing:de})}function tte(f){return pI(f,1)}function rte(f,y){return k5(u5(y),f)}function nte(){if(!arguments.length)return[];var f=arguments[0];return fr(f)?f:[f]}function ite(f){return la(f,k)}function ote(f,y){return y=typeof y=="function"?y:r,la(f,k,y)}function ste(f){return la(f,h|k)}function ate(f,y){return y=typeof y=="function"?y:r,la(f,h|k,y)}function ute(f,y){return y==null||aT(f,y,Pi(y))}function qa(f,y){return f===y||f!==f&&y!==y}var lte=i2(XE),cte=i2(function(f,y){return f>=y}),zd=hT(function(){return arguments}())?hT:function(f){return Wn(f)&&sn.call(f,"callee")&&!JP.call(f,"callee")},fr=qe.isArray,fte=RP?Ts(RP):vY;function Yo(f){return f!=null&&h2(f.length)&&!Fl(f)}function Qn(f){return Wn(f)&&Yo(f)}function dte(f){return f===!0||f===!1||Wn(f)&&Io(f)==ie}var Xc=AQ||C5,hte=CP?Ts(CP):wY;function pte(f){return Wn(f)&&f.nodeType===1&&!Mm(f)}function gte(f){if(f==null)return!0;if(Yo(f)&&(fr(f)||typeof f=="string"||typeof f.splice=="function"||Xc(f)||Mp(f)||zd(f)))return!f.length;var y=io(f);if(y==P||y==Qe)return!f.size;if(Bm(f))return!JE(f).length;for(var j in f)if(sn.call(f,j))return!1;return!0}function yte(f,y){return Pm(f,y)}function mte(f,y,j){j=typeof j=="function"?j:r;var ne=j?j(f,y):r;return ne===r?Pm(f,y,r,j):!!ne}function x5(f){if(!Wn(f))return!1;var y=Io(f);return y==Oe||y==Ee||typeof f.message=="string"&&typeof f.name=="string"&&!Mm(f)}function bte(f){return typeof f=="number"&&tT(f)}function Fl(f){if(!Nn(f))return!1;var y=Io(f);return y==Re||y==Ce||y==Z||y==rt}function EI(f){return typeof f=="number"&&f==br(f)}function h2(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=x}function Nn(f){var y=typeof f;return f!=null&&(y=="object"||y=="function")}function Wn(f){return f!=null&&typeof f=="object"}var _I=jP?Ts(jP):_Y;function vte(f,y){return f===y||YE(f,y,g5(y))}function wte(f,y,j){return j=typeof j=="function"?j:r,YE(f,y,g5(y),j)}function Ete(f){return SI(f)&&f!=+f}function _te(f){if(oJ(f))throw new lr(o);return pT(f)}function Ste(f){return f===null}function kte(f){return f==null}function SI(f){return typeof f=="number"||Wn(f)&&Io(f)==Y}function Mm(f){if(!Wn(f)||Io(f)!=Ue)return!1;var y=$w(f);if(y===null)return!0;var j=sn.call(y,"constructor")&&y.constructor;return typeof j=="function"&&j instanceof j&&jw.call(j)==wQ}var A5=UP?Ts(UP):SY;function xte(f){return EI(f)&&f>=-x&&f<=x}var kI=zP?Ts(zP):kY;function p2(f){return typeof f=="string"||!fr(f)&&Wn(f)&&Io(f)==d}function Bs(f){return typeof f=="symbol"||Wn(f)&&Io(f)==b}var Mp=LP?Ts(LP):xY;function Ate(f){return f===r}function Ote(f){return Wn(f)&&io(f)==te}function Pte(f){return Wn(f)&&Io(f)==ce}var Tte=i2(e5),Ite=i2(function(f,y){return f<=y});function xI(f){if(!f)return[];if(Yo(f))return p2(f)?Va(f):Qo(f);if(wm&&f[wm])return uQ(f[wm]());var y=io(f),j=y==P?FE:y==Qe?Mw:Rp;return j(f)}function Dl(f){if(!f)return f===0?f:0;if(f=da(f),f===A||f===-A){var y=f<0?-1:1;return y*E}return f===f?f:0}function br(f){var y=Dl(f),j=y%1;return y===y?j?y-j:y:0}function AI(f){return f?Rd(br(f),0,M):0}function da(f){if(typeof f=="number")return f;if(Bs(f))return T;if(Nn(f)){var y=typeof f.valueOf=="function"?f.valueOf():f;f=Nn(y)?y+"":y}if(typeof f!="string")return f===0?f:+f;f=VP(f);var j=_t.test(f);return j||yt.test(f)?VX(f.slice(2),j?2:8):et.test(f)?T:+f}function OI(f){return ju(f,Jo(f))}function Bte(f){return f?Rd(br(f),-x,x):f===0?f:0}function tn(f){return f==null?"":Is(f)}var Nte=Ip(function(f,y){if(Bm(y)||Yo(y)){ju(y,Pi(y),f);return}for(var j in y)sn.call(y,j)&&xm(f,j,y[j])}),PI=Ip(function(f,y){ju(y,Jo(y),f)}),g2=Ip(function(f,y,j,ne){ju(y,Jo(y),f,ne)}),Mte=Ip(function(f,y,j,ne){ju(y,Pi(y),f,ne)}),Rte=Ll(qE);function Cte(f,y){var j=Tp(f);return y==null?j:sT(j,y)}var jte=Ir(function(f,y){f=gn(f);var j=-1,ne=y.length,de=ne>2?y[2]:r;for(de&&Bo(y[0],y[1],de)&&(ne=1);++j<ne;)for(var we=y[j],Te=Jo(we),Ne=-1,Le=Te.length;++Ne<Le;){var it=Te[Ne],ut=f[it];(ut===r||qa(ut,Ap[it])&&!sn.call(f,it))&&(f[it]=we[it])}return f}),Ute=Ir(function(f){return f.push(r,VT),Ps(TI,r,f)});function zte(f,y){return FP(f,qt(y,3),Cu)}function Lte(f,y){return FP(f,qt(y,3),GE)}function $te(f,y){return f==null?f:ZE(f,qt(y,3),Jo)}function Fte(f,y){return f==null?f:fT(f,qt(y,3),Jo)}function Dte(f,y){return f&&Cu(f,qt(y,3))}function Hte(f,y){return f&&GE(f,qt(y,3))}function Kte(f){return f==null?[]:Xw(f,Pi(f))}function Vte(f){return f==null?[]:Xw(f,Jo(f))}function O5(f,y,j){var ne=f==null?r:Cd(f,y);return ne===r?j:ne}function Wte(f,y){return f!=null&&ZT(f,y,gY)}function P5(f,y){return f!=null&&ZT(f,y,yY)}var qte=$T(function(f,y,j){y!=null&&typeof y.toString!="function"&&(y=Uw.call(y)),f[y]=j},I5(es)),Zte=$T(function(f,y,j){y!=null&&typeof y.toString!="function"&&(y=Uw.call(y)),sn.call(f,y)?f[y].push(j):f[y]=[j]},qt),Gte=Ir(Om);function Pi(f){return Yo(f)?iT(f):JE(f)}function Jo(f){return Yo(f)?iT(f,!0):AY(f)}function Xte(f,y){var j={};return y=qt(y,3),Cu(f,function(ne,de,we){Ul(j,y(ne,de,we),ne)}),j}function Qte(f,y){var j={};return y=qt(y,3),Cu(f,function(ne,de,we){Ul(j,de,y(ne,de,we))}),j}var Yte=Ip(function(f,y,j){Qw(f,y,j)}),TI=Ip(function(f,y,j,ne){Qw(f,y,j,ne)}),Jte=Ll(function(f,y){var j={};if(f==null)return j;var ne=!1;y=On(y,function(we){return we=Zc(we,f),ne||(ne=we.length>1),we}),ju(f,h5(f),j),ne&&(j=la(j,h|g|k,qY));for(var de=y.length;de--;)o5(j,y[de]);return j});function ere(f,y){return II(f,d2(qt(y)))}var tre=Ll(function(f,y){return f==null?{}:PY(f,y)});function II(f,y){if(f==null)return{};var j=On(h5(f),function(ne){return[ne]});return y=qt(y),ET(f,j,function(ne,de){return y(ne,de[0])})}function rre(f,y,j){y=Zc(y,f);var ne=-1,de=y.length;for(de||(de=1,f=r);++ne<de;){var we=f==null?r:f[Uu(y[ne])];we===r&&(ne=de,we=j),f=Fl(we)?we.call(f):we}return f}function nre(f,y,j){return f==null?f:Tm(f,y,j)}function ire(f,y,j,ne){return ne=typeof ne=="function"?ne:r,f==null?f:Tm(f,y,j,ne)}var BI=HT(Pi),NI=HT(Jo);function ore(f,y,j){var ne=fr(f),de=ne||Xc(f)||Mp(f);if(y=qt(y,4),j==null){var we=f&&f.constructor;de?j=ne?new we:[]:Nn(f)?j=Fl(we)?Tp($w(f)):{}:j={}}return(de?sa:Cu)(f,function(Te,Ne,Le){return y(j,Te,Ne,Le)}),j}function sre(f,y){return f==null?!0:o5(f,y)}function are(f,y,j){return f==null?f:AT(f,y,u5(j))}function ure(f,y,j,ne){return ne=typeof ne=="function"?ne:r,f==null?f:AT(f,y,u5(j),ne)}function Rp(f){return f==null?[]:$E(f,Pi(f))}function lre(f){return f==null?[]:$E(f,Jo(f))}function cre(f,y,j){return j===r&&(j=y,y=r),j!==r&&(j=da(j),j=j===j?j:0),y!==r&&(y=da(y),y=y===y?y:0),Rd(da(f),y,j)}function fre(f,y,j){return y=Dl(y),j===r?(j=y,y=0):j=Dl(j),f=da(f),mY(f,y,j)}function dre(f,y,j){if(j&&typeof j!="boolean"&&Bo(f,y,j)&&(y=j=r),j===r&&(typeof y=="boolean"?(j=y,y=r):typeof f=="boolean"&&(j=f,f=r)),f===r&&y===r?(f=0,y=1):(f=Dl(f),y===r?(y=f,f=0):y=Dl(y)),f>y){var ne=f;f=y,y=ne}if(j||f%1||y%1){var de=rT();return no(f+de*(y-f+KX("1e-"+((de+"").length-1))),y)}return r5(f,y)}var hre=Bp(function(f,y,j){return y=y.toLowerCase(),f+(j?MI(y):y)});function MI(f){return T5(tn(f).toLowerCase())}function RI(f){return f=tn(f),f&&f.replace(Jt,nQ).replace(RX,"")}function pre(f,y,j){f=tn(f),y=Is(y);var ne=f.length;j=j===r?ne:Rd(br(j),0,ne);var de=j;return j-=y.length,j>=0&&f.slice(j,de)==y}function gre(f){return f=tn(f),f&&Wt.test(f)?f.replace(mr,iQ):f}function yre(f){return f=tn(f),f&&Be.test(f)?f.replace(xe,"\\$&"):f}var mre=Bp(function(f,y,j){return f+(j?"-":"")+y.toLowerCase()}),bre=Bp(function(f,y,j){return f+(j?" ":"")+y.toLowerCase()}),vre=UT("toLowerCase");function wre(f,y,j){f=tn(f),y=br(y);var ne=y?kp(f):0;if(!y||ne>=y)return f;var de=(y-ne)/2;return n2(Kw(de),j)+f+n2(Hw(de),j)}function Ere(f,y,j){f=tn(f),y=br(y);var ne=y?kp(f):0;return y&&ne<y?f+n2(y-ne,j):f}function _re(f,y,j){f=tn(f),y=br(y);var ne=y?kp(f):0;return y&&ne<y?n2(y-ne,j)+f:f}function Sre(f,y,j){return j||y==null?y=0:y&&(y=+y),IQ(tn(f).replace(je,""),y||0)}function kre(f,y,j){return(j?Bo(f,y,j):y===r)?y=1:y=br(y),n5(tn(f),y)}function xre(){var f=arguments,y=tn(f[0]);return f.length<3?y:y.replace(f[1],f[2])}var Are=Bp(function(f,y,j){return f+(j?"_":"")+y.toLowerCase()});function Ore(f,y,j){return j&&typeof j!="number"&&Bo(f,y,j)&&(y=j=r),j=j===r?M:j>>>0,j?(f=tn(f),f&&(typeof y=="string"||y!=null&&!A5(y))&&(y=Is(y),!y&&Sp(f))?Gc(Va(f),0,j):f.split(y,j)):[]}var Pre=Bp(function(f,y,j){return f+(j?" ":"")+T5(y)});function Tre(f,y,j){return f=tn(f),j=j==null?0:Rd(br(j),0,f.length),y=Is(y),f.slice(j,j+y.length)==y}function Ire(f,y,j){var ne=me.templateSettings;j&&Bo(f,y,j)&&(y=r),f=tn(f),y=g2({},y,ne,KT);var de=g2({},y.imports,ne.imports,KT),we=Pi(de),Te=$E(de,we),Ne,Le,it=0,ut=y.interpolate||ve,ct="__p += '",St=DE((y.escape||ve).source+"|"+ut.source+"|"+(ut===Ft?Bt:ve).source+"|"+(y.evaluate||ve).source+"|$","g"),zt="//# sourceURL="+(sn.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++LX+"]")+`
`;f.replace(St,function(Gt,Rr,Kr,Ns,No,Ms){return Kr||(Kr=Ns),ct+=f.slice(it,Ms).replace(Tr,oQ),Rr&&(Ne=!0,ct+=`' +
__e(`+Rr+`) +
'`),No&&(Le=!0,ct+=`';
`+No+`;
__p += '`),Kr&&(ct+=`' +
((__t = (`+Kr+`)) == null ? '' : __t) +
'`),it=Ms+Gt.length,Gt}),ct+=`';
`;var Zt=sn.call(y,"variable")&&y.variable;if(!Zt)ct=`with (obj) {
`+ct+`
}
`;else if(ft.test(Zt))throw new lr(a);ct=(Le?ct.replace(gt,""):ct).replace(jt,"$1").replace(Ze,"$1;"),ct="function("+(Zt||"obj")+`) {
`+(Zt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ne?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ct+`return __p
}`;var Sr=jI(function(){return Yr(we,zt+"return "+ct).apply(r,Te)});if(Sr.source=ct,x5(Sr))throw Sr;return Sr}function Bre(f){return tn(f).toLowerCase()}function Nre(f){return tn(f).toUpperCase()}function Mre(f,y,j){if(f=tn(f),f&&(j||y===r))return VP(f);if(!f||!(y=Is(y)))return f;var ne=Va(f),de=Va(y),we=WP(ne,de),Te=qP(ne,de)+1;return Gc(ne,we,Te).join("")}function Rre(f,y,j){if(f=tn(f),f&&(j||y===r))return f.slice(0,GP(f)+1);if(!f||!(y=Is(y)))return f;var ne=Va(f),de=qP(ne,Va(y))+1;return Gc(ne,0,de).join("")}function Cre(f,y,j){if(f=tn(f),f&&(j||y===r))return f.replace(je,"");if(!f||!(y=Is(y)))return f;var ne=Va(f),de=WP(ne,Va(y));return Gc(ne,de).join("")}function jre(f,y){var j=G,ne=v;if(Nn(y)){var de="separator"in y?y.separator:de;j="length"in y?br(y.length):j,ne="omission"in y?Is(y.omission):ne}f=tn(f);var we=f.length;if(Sp(f)){var Te=Va(f);we=Te.length}if(j>=we)return f;var Ne=j-kp(ne);if(Ne<1)return ne;var Le=Te?Gc(Te,0,Ne).join(""):f.slice(0,Ne);if(de===r)return Le+ne;if(Te&&(Ne+=Le.length-Ne),A5(de)){if(f.slice(Ne).search(de)){var it,ut=Le;for(de.global||(de=DE(de.source,tn(Ct.exec(de))+"g")),de.lastIndex=0;it=de.exec(ut);)var ct=it.index;Le=Le.slice(0,ct===r?Ne:ct)}}else if(f.indexOf(Is(de),Ne)!=Ne){var St=Le.lastIndexOf(de);St>-1&&(Le=Le.slice(0,St))}return Le+ne}function Ure(f){return f=tn(f),f&&Hr.test(f)?f.replace(xt,dQ):f}var zre=Bp(function(f,y,j){return f+(j?" ":"")+y.toUpperCase()}),T5=UT("toUpperCase");function CI(f,y,j){return f=tn(f),y=j?r:y,y===r?aQ(f)?gQ(f):YX(f):f.match(y)||[]}var jI=Ir(function(f,y){try{return Ps(f,r,y)}catch(j){return x5(j)?j:new lr(j)}}),Lre=Ll(function(f,y){return sa(y,function(j){j=Uu(j),Ul(f,j,S5(f[j],f))}),f});function $re(f){var y=f==null?0:f.length,j=qt();return f=y?On(f,function(ne){if(typeof ne[1]!="function")throw new aa(s);return[j(ne[0]),ne[1]]}):[],Ir(function(ne){for(var de=-1;++de<y;){var we=f[de];if(Ps(we[0],this,ne))return Ps(we[1],this,ne)}})}function Fre(f){return dY(la(f,h))}function I5(f){return function(){return f}}function Dre(f,y){return f==null||f!==f?y:f}var Hre=LT(),Kre=LT(!0);function es(f){return f}function B5(f){return gT(typeof f=="function"?f:la(f,h))}function Vre(f){return mT(la(f,h))}function Wre(f,y){return bT(f,la(y,h))}var qre=Ir(function(f,y){return function(j){return Om(j,f,y)}}),Zre=Ir(function(f,y){return function(j){return Om(f,j,y)}});function N5(f,y,j){var ne=Pi(y),de=Xw(y,ne);j==null&&!(Nn(y)&&(de.length||!ne.length))&&(j=y,y=f,f=this,de=Xw(y,Pi(y)));var we=!(Nn(j)&&"chain"in j)||!!j.chain,Te=Fl(f);return sa(de,function(Ne){var Le=y[Ne];f[Ne]=Le,Te&&(f.prototype[Ne]=function(){var it=this.__chain__;if(we||it){var ut=f(this.__wrapped__),ct=ut.__actions__=Qo(this.__actions__);return ct.push({func:Le,args:arguments,thisArg:f}),ut.__chain__=it,ut}return Le.apply(f,Hc([this.value()],arguments))})}),f}function Gre(){return Hi._===this&&(Hi._=EQ),this}function M5(){}function Xre(f){return f=br(f),Ir(function(y){return vT(y,f)})}var Qre=c5(On),Yre=c5($P),Jre=c5(CE);function UI(f){return m5(f)?jE(Uu(f)):TY(f)}function ene(f){return function(y){return f==null?r:Cd(f,y)}}var tne=FT(),rne=FT(!0);function R5(){return[]}function C5(){return!1}function nne(){return{}}function ine(){return""}function one(){return!0}function sne(f,y){if(f=br(f),f<1||f>x)return[];var j=M,ne=no(f,M);y=qt(y),f-=M;for(var de=LE(ne,y);++j<f;)y(j);return de}function ane(f){return fr(f)?On(f,Uu):Bs(f)?[f]:Qo(nI(tn(f)))}function une(f){var y=++vQ;return tn(f)+y}var lne=r2(function(f,y){return f+y},0),cne=f5("ceil"),fne=r2(function(f,y){return f/y},1),dne=f5("floor");function hne(f){return f&&f.length?Gw(f,es,XE):r}function pne(f,y){return f&&f.length?Gw(f,qt(y,2),XE):r}function gne(f){return HP(f,es)}function yne(f,y){return HP(f,qt(y,2))}function mne(f){return f&&f.length?Gw(f,es,e5):r}function bne(f,y){return f&&f.length?Gw(f,qt(y,2),e5):r}var vne=r2(function(f,y){return f*y},1),wne=f5("round"),Ene=r2(function(f,y){return f-y},0);function _ne(f){return f&&f.length?zE(f,es):0}function Sne(f,y){return f&&f.length?zE(f,qt(y,2)):0}return me.after=Vee,me.ary=pI,me.assign=Nte,me.assignIn=PI,me.assignInWith=g2,me.assignWith=Mte,me.at=Rte,me.before=gI,me.bind=S5,me.bindAll=Lre,me.bindKey=yI,me.castArray=nte,me.chain=fI,me.chunk=dJ,me.compact=hJ,me.concat=pJ,me.cond=$re,me.conforms=Fre,me.constant=I5,me.countBy=_ee,me.create=Cte,me.curry=mI,me.curryRight=bI,me.debounce=vI,me.defaults=jte,me.defaultsDeep=Ute,me.defer=Wee,me.delay=qee,me.difference=gJ,me.differenceBy=yJ,me.differenceWith=mJ,me.drop=bJ,me.dropRight=vJ,me.dropRightWhile=wJ,me.dropWhile=EJ,me.fill=_J,me.filter=kee,me.flatMap=Oee,me.flatMapDeep=Pee,me.flatMapDepth=Tee,me.flatten=aI,me.flattenDeep=SJ,me.flattenDepth=kJ,me.flip=Zee,me.flow=Hre,me.flowRight=Kre,me.fromPairs=xJ,me.functions=Kte,me.functionsIn=Vte,me.groupBy=Iee,me.initial=OJ,me.intersection=PJ,me.intersectionBy=TJ,me.intersectionWith=IJ,me.invert=qte,me.invertBy=Zte,me.invokeMap=Nee,me.iteratee=B5,me.keyBy=Mee,me.keys=Pi,me.keysIn=Jo,me.map=l2,me.mapKeys=Xte,me.mapValues=Qte,me.matches=Vre,me.matchesProperty=Wre,me.memoize=f2,me.merge=Yte,me.mergeWith=TI,me.method=qre,me.methodOf=Zre,me.mixin=N5,me.negate=d2,me.nthArg=Xre,me.omit=Jte,me.omitBy=ere,me.once=Gee,me.orderBy=Ree,me.over=Qre,me.overArgs=Xee,me.overEvery=Yre,me.overSome=Jre,me.partial=k5,me.partialRight=wI,me.partition=Cee,me.pick=tre,me.pickBy=II,me.property=UI,me.propertyOf=ene,me.pull=RJ,me.pullAll=lI,me.pullAllBy=CJ,me.pullAllWith=jJ,me.pullAt=UJ,me.range=tne,me.rangeRight=rne,me.rearg=Qee,me.reject=zee,me.remove=zJ,me.rest=Yee,me.reverse=E5,me.sampleSize=$ee,me.set=nre,me.setWith=ire,me.shuffle=Fee,me.slice=LJ,me.sortBy=Kee,me.sortedUniq=WJ,me.sortedUniqBy=qJ,me.split=Ore,me.spread=Jee,me.tail=ZJ,me.take=GJ,me.takeRight=XJ,me.takeRightWhile=QJ,me.takeWhile=YJ,me.tap=hee,me.throttle=ete,me.thru=u2,me.toArray=xI,me.toPairs=BI,me.toPairsIn=NI,me.toPath=ane,me.toPlainObject=OI,me.transform=ore,me.unary=tte,me.union=JJ,me.unionBy=eee,me.unionWith=tee,me.uniq=ree,me.uniqBy=nee,me.uniqWith=iee,me.unset=sre,me.unzip=_5,me.unzipWith=cI,me.update=are,me.updateWith=ure,me.values=Rp,me.valuesIn=lre,me.without=oee,me.words=CI,me.wrap=rte,me.xor=see,me.xorBy=aee,me.xorWith=uee,me.zip=lee,me.zipObject=cee,me.zipObjectDeep=fee,me.zipWith=dee,me.entries=BI,me.entriesIn=NI,me.extend=PI,me.extendWith=g2,N5(me,me),me.add=lne,me.attempt=jI,me.camelCase=hre,me.capitalize=MI,me.ceil=cne,me.clamp=cre,me.clone=ite,me.cloneDeep=ste,me.cloneDeepWith=ate,me.cloneWith=ote,me.conformsTo=ute,me.deburr=RI,me.defaultTo=Dre,me.divide=fne,me.endsWith=pre,me.eq=qa,me.escape=gre,me.escapeRegExp=yre,me.every=See,me.find=xee,me.findIndex=oI,me.findKey=zte,me.findLast=Aee,me.findLastIndex=sI,me.findLastKey=Lte,me.floor=dne,me.forEach=dI,me.forEachRight=hI,me.forIn=$te,me.forInRight=Fte,me.forOwn=Dte,me.forOwnRight=Hte,me.get=O5,me.gt=lte,me.gte=cte,me.has=Wte,me.hasIn=P5,me.head=uI,me.identity=es,me.includes=Bee,me.indexOf=AJ,me.inRange=fre,me.invoke=Gte,me.isArguments=zd,me.isArray=fr,me.isArrayBuffer=fte,me.isArrayLike=Yo,me.isArrayLikeObject=Qn,me.isBoolean=dte,me.isBuffer=Xc,me.isDate=hte,me.isElement=pte,me.isEmpty=gte,me.isEqual=yte,me.isEqualWith=mte,me.isError=x5,me.isFinite=bte,me.isFunction=Fl,me.isInteger=EI,me.isLength=h2,me.isMap=_I,me.isMatch=vte,me.isMatchWith=wte,me.isNaN=Ete,me.isNative=_te,me.isNil=kte,me.isNull=Ste,me.isNumber=SI,me.isObject=Nn,me.isObjectLike=Wn,me.isPlainObject=Mm,me.isRegExp=A5,me.isSafeInteger=xte,me.isSet=kI,me.isString=p2,me.isSymbol=Bs,me.isTypedArray=Mp,me.isUndefined=Ate,me.isWeakMap=Ote,me.isWeakSet=Pte,me.join=BJ,me.kebabCase=mre,me.last=fa,me.lastIndexOf=NJ,me.lowerCase=bre,me.lowerFirst=vre,me.lt=Tte,me.lte=Ite,me.max=hne,me.maxBy=pne,me.mean=gne,me.meanBy=yne,me.min=mne,me.minBy=bne,me.stubArray=R5,me.stubFalse=C5,me.stubObject=nne,me.stubString=ine,me.stubTrue=one,me.multiply=vne,me.nth=MJ,me.noConflict=Gre,me.noop=M5,me.now=c2,me.pad=wre,me.padEnd=Ere,me.padStart=_re,me.parseInt=Sre,me.random=dre,me.reduce=jee,me.reduceRight=Uee,me.repeat=kre,me.replace=xre,me.result=rre,me.round=wne,me.runInContext=ze,me.sample=Lee,me.size=Dee,me.snakeCase=Are,me.some=Hee,me.sortedIndex=$J,me.sortedIndexBy=FJ,me.sortedIndexOf=DJ,me.sortedLastIndex=HJ,me.sortedLastIndexBy=KJ,me.sortedLastIndexOf=VJ,me.startCase=Pre,me.startsWith=Tre,me.subtract=Ene,me.sum=_ne,me.sumBy=Sne,me.template=Ire,me.times=sne,me.toFinite=Dl,me.toInteger=br,me.toLength=AI,me.toLower=Bre,me.toNumber=da,me.toSafeInteger=Bte,me.toString=tn,me.toUpper=Nre,me.trim=Mre,me.trimEnd=Rre,me.trimStart=Cre,me.truncate=jre,me.unescape=Ure,me.uniqueId=une,me.upperCase=zre,me.upperFirst=T5,me.each=dI,me.eachRight=hI,me.first=uI,N5(me,function(){var f={};return Cu(me,function(y,j){sn.call(me.prototype,j)||(f[j]=y)}),f}(),{chain:!1}),me.VERSION=n,sa(["bind","bindKey","curry","curryRight","partial","partialRight"],function(f){me[f].placeholder=me}),sa(["drop","take"],function(f,y){zr.prototype[f]=function(j){j=j===r?1:pi(br(j),0);var ne=this.__filtered__&&!y?new zr(this):this.clone();return ne.__filtered__?ne.__takeCount__=no(j,ne.__takeCount__):ne.__views__.push({size:no(j,M),type:f+(ne.__dir__<0?"Right":"")}),ne},zr.prototype[f+"Right"]=function(j){return this.reverse()[f](j).reverse()}}),sa(["filter","map","takeWhile"],function(f,y){var j=y+1,ne=j==_||j==S;zr.prototype[f]=function(de){var we=this.clone();return we.__iteratees__.push({iteratee:qt(de,3),type:j}),we.__filtered__=we.__filtered__||ne,we}}),sa(["head","last"],function(f,y){var j="take"+(y?"Right":"");zr.prototype[f]=function(){return this[j](1).value()[0]}}),sa(["initial","tail"],function(f,y){var j="drop"+(y?"":"Right");zr.prototype[f]=function(){return this.__filtered__?new zr(this):this[j](1)}}),zr.prototype.compact=function(){return this.filter(es)},zr.prototype.find=function(f){return this.filter(f).head()},zr.prototype.findLast=function(f){return this.reverse().find(f)},zr.prototype.invokeMap=Ir(function(f,y){return typeof f=="function"?new zr(this):this.map(function(j){return Om(j,f,y)})}),zr.prototype.reject=function(f){return this.filter(d2(qt(f)))},zr.prototype.slice=function(f,y){f=br(f);var j=this;return j.__filtered__&&(f>0||y<0)?new zr(j):(f<0?j=j.takeRight(-f):f&&(j=j.drop(f)),y!==r&&(y=br(y),j=y<0?j.dropRight(-y):j.take(y-f)),j)},zr.prototype.takeRightWhile=function(f){return this.reverse().takeWhile(f).reverse()},zr.prototype.toArray=function(){return this.take(M)},Cu(zr.prototype,function(f,y){var j=/^(?:filter|find|map|reject)|While$/.test(y),ne=/^(?:head|last)$/.test(y),de=me[ne?"take"+(y=="last"?"Right":""):y],we=ne||/^find/.test(y);de&&(me.prototype[y]=function(){var Te=this.__wrapped__,Ne=ne?[1]:arguments,Le=Te instanceof zr,it=Ne[0],ut=Le||fr(Te),ct=function(Rr){var Kr=de.apply(me,Hc([Rr],Ne));return ne&&St?Kr[0]:Kr};ut&&j&&typeof it=="function"&&it.length!=1&&(Le=ut=!1);var St=this.__chain__,zt=!!this.__actions__.length,Zt=we&&!St,Sr=Le&&!zt;if(!we&&ut){Te=Sr?Te:new zr(this);var Gt=f.apply(Te,Ne);return Gt.__actions__.push({func:u2,args:[ct],thisArg:r}),new ua(Gt,St)}return Zt&&Sr?f.apply(this,Ne):(Gt=this.thru(ct),Zt?ne?Gt.value()[0]:Gt.value():Gt)})}),sa(["pop","push","shift","sort","splice","unshift"],function(f){var y=Rw[f],j=/^(?:push|sort|unshift)$/.test(f)?"tap":"thru",ne=/^(?:pop|shift)$/.test(f);me.prototype[f]=function(){var de=arguments;if(ne&&!this.__chain__){var we=this.value();return y.apply(fr(we)?we:[],de)}return this[j](function(Te){return y.apply(fr(Te)?Te:[],de)})}}),Cu(zr.prototype,function(f,y){var j=me[y];if(j){var ne=j.name+"";sn.call(Pp,ne)||(Pp[ne]=[]),Pp[ne].push({name:y,func:j})}}),Pp[t2(r,$).name]=[{name:"wrapper",func:r}],zr.prototype.clone=UQ,zr.prototype.reverse=zQ,zr.prototype.value=LQ,me.prototype.at=pee,me.prototype.chain=gee,me.prototype.commit=yee,me.prototype.next=mee,me.prototype.plant=vee,me.prototype.reverse=wee,me.prototype.toJSON=me.prototype.valueOf=me.prototype.value=Eee,me.prototype.first=me.prototype.head,wm&&(me.prototype[wm]=bee),me},xp=yQ();Id?((Id.exports=xp)._=xp,BE._=xp):Hi._=xp}).call(He)})(B1,B1.exports);var Z5e=B1.exports;Object.defineProperty(nE,"__esModule",{value:!0});nE.SandshrewProvider=void 0;const G5e=mw,X5e=Z5e;let Q5e=0;class Y5e extends G5e.AbstractProvider{constructor(t){super(),this.url=t}async call(t,r){const n=await(await fetch(this.url,{method:"POST",body:JSON.stringify({jsonrpc:"2.0",id:Q5e++,params:r,method:t}),headers:{"Content-Type":"application/json"}})).text();return JSON.parse(n).result}async enrichOutput({vout:t,txid:r}){return await this.call("ord_output",[`${r}:${t}`])}async getBTCOnlyUTXOs(t){const r=await this.getUTXOs(t),{inscriptions:n}=await this.call("ord_address",[t]),i=(0,X5e.zipObject)(n,n);return r.filter(o=>!i[`${o.outpoint.txid}:${o.outpoint.vout}`]&&o.runes.length===0)}async getUTXOs(t){return(await this.call("alkanes_protorunesbyaddress",[{address:t,protocolTag:"1"}])).outpoints}}nE.SandshrewProvider=Y5e;(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(mw,e),r(bw,e),r(rE,e),r(nE,e)})(HW);(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(lw,e),r(RW,e),r(nn,e),r(gs,e),r(gw,e),r(HW,e)})(fc);const QC=BigInt(546),J5e=77;function gk(e,t,r){const n=e*64+t*42,i=r*40;return 10+n+i}const Cf=546n,pa={mainnet:{p2pkh:/^[1][a-km-zA-HJ-NP-Z1-9]{25,34}$/,p2sh:/^[3][a-km-zA-HJ-NP-Z1-9]{25,34}$/,p2wpkh:/^(bc1[qp])[a-zA-HJ-NP-Z0-9]{14,74}$/,p2tr:/^(bc1p)[a-zA-HJ-NP-Z0-9]{14,74}$/},testnet:{p2pkh:/^[mn][a-km-zA-HJ-NP-Z1-9]{25,34}$/,p2sh:/^[2][a-km-zA-HJ-NP-Z1-9]{25,34}$/,p2wpkh:/^(tb1[qp]|bcrt1[qp])[a-zA-HJ-NP-Z0-9]{14,74}$/,p2tr:/^(tb1p|bcrt1p)[a-zA-HJ-NP-Z0-9]{14,74}$/},regtest:{p2pkh:/^[mn][a-km-zA-HJ-NP-Z1-9]{25,34}$/,p2sh:/^[2][a-km-zA-HJ-NP-Z1-9]{25,34}$/,p2wpkh:/^(tb1[qp]|bcrt1[qp])[a-zA-HJ-NP-Z0-9]{14,74}$/,p2tr:/^(tb1p|bcrt1p)[a-zA-HJ-NP-Z0-9]{14,74}$/}};function e_e(e){return pa.mainnet.p2pkh.test(e)||pa.testnet.p2pkh.test(e)||pa.regtest.p2pkh.test(e)?0:pa.mainnet.p2tr.test(e)||pa.testnet.p2tr.test(e)||pa.regtest.p2tr.test(e)?1:pa.mainnet.p2sh.test(e)||pa.testnet.p2sh.test(e)||pa.regtest.p2sh.test(e)?2:pa.mainnet.p2wpkh.test(e)||pa.testnet.p2wpkh.test(e)||pa.regtest.p2wpkh.test(e)?3:null}function N1(e,t){let r=0;const n=[];for(const i of e){if(r>=t)break;n.push(i),r+=i.btcValue}return{utxos:n,totalAmount:r}}const KW=async({_psbt:e,senderPublicKey:t,network:r})=>{let n=0;for await(const i of e.data.inputs){const o=i.finalScriptSig||i.finalScriptWitness,s=!i.tapInternalKey;if(!o||s){const a=Ws(Fe.from(t,"hex")),l=Fy({internalPubkey:a,network:r});(i.witnessUtxo&&Fe.from(i.witnessUtxo.script).toString("hex"))===(l.output&&Fe.from(l.output).toString("hex"))&&e.updateInput(n,{tapInternalKey:a})}n++}return e},t_e=async({address:e,greatestToLeast:t,client:r,alkaneId:n,targetNumberOfAlkanes:i})=>{const o=(await r.dataSourceManager.getAlkanesByAddress(e)).flatMap(c=>c.runes.filter(u=>Number(u.rune.id.block)===Number(n.block)&&Number(u.rune.id.tx)===Number(n.tx)).map(u=>({rune:u,outpoint:c}))).sort((c,u)=>t?Number(u.rune.balance)-Number(c.rune.balance):Number(c.rune.balance)-Number(u.rune.balance));let s=0,a=0;const l=[];for(const c of o)if(a<i&&Number(c.rune.balance)>0){const u=Number(c.outpoint.output.value);l.push({txId:c.outpoint.outpoint.txid,txIndex:c.outpoint.outpoint.vout,script:c.outpoint.output.script,address:e,amountOfAlkanes:c.rune.balance,satoshis:u,...c.rune.rune}),s+=u,a+=Number(c.rune.balance)/(c.rune.rune.divisibility===1?1:10**c.rune.rune.divisibility)}if(a<i)throw new Error("Insuffiecient balance of alkanes.");return{alkaneUtxos:l,totalSatoshis:s,totalBalanceBeingSent:a}};async function M1(e,t,{pubkey:r}={}){switch(e_e(t.address)){case 0:{e.addInput({hash:t.txHash,index:+t.txOutputIndex});break}case 2:{if(!r)throw new Error("Pubkey is required for nested SegWit");const n=ko([Qr.OP_0,bu(Fe.from(r,"hex"))]);e.addInput({hash:t.txHash,index:+t.txOutputIndex,redeemScript:n,witnessUtxo:{value:BigInt(t.btcValue),script:ko([Qr.OP_HASH160,bu(n),Qr.OP_EQUAL])}});break}case 1:case 3:default:e.addInput({hash:t.txHash,index:+t.txOutputIndex,witnessUtxo:{value:BigInt(t.btcValue),script:Fe.from(t.scriptPubKey,"hex")}})}}const r_e=async({utxos:e,account:t,alkaneId:r,client:n,toAddress:i,amount:o,feeRate:s,fee:a})=>{const l={utxos:e,totalAmount:e.reduce((K,C)=>K+C.btcValue,0)},c=gk(2,0,4),u=BigInt(Math.max(c*s,250));let h=a?BigInt(a):u,g=N1(l.utxos,Number(h)+Number(Cf)*4);const k=[BigInt(2),BigInt(100),BigInt(77)],R=fc.encodeRunestoneProtostone({protostones:[fc.ProtoStone.message({protocolTag:1n,pointer:0,refundPointer:0,calldata:fc.encipher(k),edicts:[]})]}).encodedRunestone;if(console.log("protostone23",R.toString("hex")),g.totalAmount<h+Cf)throw console.log("gatheredUtxos.totalAmount",g.totalAmount),new Error("Insufficient Balanceeeee");if(g.utxos.length>1){const K=gk(g.utxos.length,0,4);h=BigInt(Math.max(K*s,250)),g=N1(l.utxos,Number(h)+Number(Cf))}const F=h+Cf*2n,D=n.$network.get(),$=new Fr({network:Vr(D)}),{alkaneUtxos:B}=await t_e({address:t.taproot.address,greatestToLeast:t.spendStrategy.utxoSortGreatestToLeast,alkaneId:r,client:n,targetNumberOfAlkanes:o});if(B.length===0)throw new Error("No Alkane Utxos Found");let U=0n;const q=new Set;for await(const K of B)M1($,{txHash:K.txId,txOutputIndex:K.txIndex,btcValue:K.satoshis,scriptPubKey:K.script,address:K.address}),U+=BigInt(K.satoshis),q.add(`${K.txId}:${K.txIndex.toString()}`);if(g.totalAmount<F)throw new Error("Insufficient Balance");for(const K of g.utxos){if(U>F)break;q.has(`${K.txHash}:${K.txOutputIndex.toString()}`)||(M1($,K),U+=BigInt(K.btcValue),q.add(`${K.txHash}:${K.txOutputIndex.toString()}`))}const ee=fc.encodeRunestoneProtostone({protostones:[fc.ProtoStone.message({protocolTag:1n,edicts:[{id:new TW(n0.u128(BigInt(r.block)),n0.u128(BigInt(r.tx))),amount:n0.u128(BigInt(o)),output:Ai.u32(1n)}],pointer:0,refundPointer:0,calldata:Fe.from([])})]}).encodedRunestone;$.addOutput({value:Cf,address:t.taproot.address}),$.addOutput({value:Cf,address:i}),$.addOutput({script:ee,value:0n});const ae=$.txOutputs.reduce((K,C)=>K+C.value,0n),re=U-ae-h;return $.addOutput({address:t[t.spendStrategy.changeAddress].address,value:re}),{psbt:(await KW({_psbt:$,senderPublicKey:t.taproot.pubkey,network:Vr(D)})).toBase64()}},n_e=async({toAddress:e,network:t,alkaneId:r,changeAddress:n,frontendFeeAddress:i,frontendFeeAmount:o,feeRate:s=1,spendableUtxos:a,inputAlkaneUtxos:l,senderPublicKey:c,inputData:u})=>{const h=[r.block,r.tx,BigInt(J5e),...u??[]],g=fc.encodeRunestoneProtostone({protostones:[fc.ProtoStone.message({protocolTag:1n,calldata:fc.encipher(h),pointer:0,refundPointer:0})]}).encodedRunestone,k=Vr(t),R=new Fr({network:k}),F=i&&o&&o>=QC?o:0n,D=F+BigInt(Cf);function $(_){return gk(_,0,2+(F>0?1:0))+g.byteLength}const B=$(2),U=BigInt(Math.ceil(Math.max(B*s,250)));let q={utxos:a,totalAmount:a.reduce((_,w)=>_+w.btcValue,0)};if(q=N1(q.utxos,Number(U)+Number(D)),q.utxos.length<1)throw new Error("Insufficient balance");const ee=$(q.utxos.length),ae=BigInt(Math.ceil(Math.max(ee*s,250)));q.totalAmount<ae&&(q=N1(q.utxos,Number(ae)+Number(D)));const re=$(q.utxos.length),K=BigInt(Math.ceil(Math.max(re*s,250)));if(q.totalAmount<K)throw new Error("Insufficient balance");for(const _ of l)M1(R,_);for(const _ of q.utxos)M1(R,_);console.log("protostone byte length",g.length),R.addOutput({value:BigInt(Cf),address:e}),R.addOutput({script:g,value:0n}),i&&o&&o>0&&R.addOutput({value:o,address:i});const C=l?l.reduce((_,w)=>_+BigInt(w.btcValue),0n):0n,G=BigInt(q.totalAmount)+C,v=R.txOutputs.reduce((_,w)=>_+w.value,0n),I=G-v-K;if(I<0)throw new Error("Insufficient balance");I>=QC&&R.addOutput({address:n,value:I});const p=await KW({_psbt:R,senderPublicKey:c,network:k});return{psbtBase64:p.toBase64(),psbtHex:p.toHex()}};class VW{constructor(t){this.client=t}async send(t,r,n){const{connected:i,address:o,publicKey:s}=this.client.$store.get();if(!i)throw new Error("Client is not connected");const a={block:t.split(":")[0],tx:t.split(":")[1]};if(!a)throw new Error("Alkane not found");const l=this.client.$network.get(),c={network:Vr(l),spendStrategy:{utxoSortGreatestToLeast:!0,changeAddress:"taproot",addressOrder:["taproot","nestedSegwit","legacy","nativeSegwit"]},taproot:{address:o,pubkey:s,pubKeyXOnly:Ws(Fe.from(s,"hex")).toString(),hdPath:"m/84'/1'/0'/0/0"},nestedSegwit:{address:o,pubkey:s,hdPath:"m/84'/1'/0'/0/0"},legacy:{address:o,pubkey:s,hdPath:"m/49'/1'/0'/0/0"},nativeSegwit:{address:o,pubkey:s,hdPath:"m/84'/1'/0'/0/0"}},{fastFee:u}=await this.client.dataSourceManager.getRecommendedFees(),h=await this.client.dataSourceManager.getFormattedUTXOs(o),{psbt:g}=await r_e({utxos:h,account:c,alkaneId:a,client:this.client,toAddress:n,amount:r,feeRate:u}),k=await this.client.signPsbt({tx:g,broadcast:!0,finalize:!0});if(!k)throw new Error("Failed to sign transaction");if(k.txId)return k.txId;const R=await this.client.pushPsbt(k.signedPsbtHex??k.signedPsbtBase64);if(R)return R;throw new Error("Failed to broadcast transaction")}async getAlkanes({limit:t=10,offset:r}){return(await this.client.dataSourceManager.getSource("sandshrew").alkanesRpc.getAlkanes({limit:t,offset:r})).flatMap(n=>({...n}))}async getAlkaneById(t){return await this.client.dataSourceManager.getSource("sandshrew").alkanesRpc.getAlkaneById(t)}async mintAlkane({toAddress:t,id:r,changeAddress:n,feeRate:i,inputData:o}){const s=this.client.$network.get(),{connected:a,address:l,publicKey:c}=this.client.$store.get();if(!a)throw new Error("Client is not connected");const u=await this.client.dataSourceManager.getFormattedUTXOs(l),{utxos:h}=T5e(u),g=u.filter($=>$.hasAlkanes&&!1),{fastFee:k}=await this.client.dataSourceManager.getRecommendedFees(),{psbtBase64:R}=await n_e({alkaneId:r,network:s,toAddress:t??l,changeAddress:n??l,senderPublicKey:c,inputAlkaneUtxos:g,spendableUtxos:h,feeRate:i??k,inputData:o}),F=await this.client.signPsbt({tx:R,broadcast:!0,finalize:!0});if(!F)throw new Error("Failed to sign transaction");if(F.txId)return F.txId;const D=await this.client.pushPsbt(F.signedPsbtHex??F.signedPsbtBase64);if(D)return D;throw new Error("Failed to broadcast transaction")}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const BO=BigInt(0),yk=BigInt(1);function R1(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function m3(e){const t=e.toString(16);return t.length&1?"0"+t:t}function WW(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?BO:BigInt("0x"+e)}function iE(e){return WW(Zr.bytesToHex(e))}function qW(e){return Zr.abytes(e),WW(Zr.bytesToHex(Uint8Array.from(e).reverse()))}function NO(e,t){return Zr.hexToBytes(e.toString(16).padStart(t*2,"0"))}function ZW(e,t){return NO(e,t).reverse()}function _a(e,t,r){let n;if(typeof t=="string")try{n=Zr.hexToBytes(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Zr.isBytes(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}const MS=e=>typeof e=="bigint"&&BO<=e;function i_e(e,t,r){return MS(e)&&MS(t)&&MS(r)&&t<=e&&e<r}function o_e(e,t,r,n){if(!i_e(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function s_e(e){let t;for(t=0;e>BO;e>>=yk,t+=1);return t}const oE=e=>(yk<<BigInt(e))-yk;function a_e(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=g=>new Uint8Array(g),i=g=>Uint8Array.of(g);let o=n(e),s=n(e),a=0;const l=()=>{o.fill(1),s.fill(0),a=0},c=(...g)=>r(s,o,...g),u=(g=n(0))=>{s=c(i(0),g),o=c(),g.length!==0&&(s=c(i(1),g),o=c())},h=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const k=[];for(;g<t;){o=c();const R=o.slice();k.push(R),g+=o.length}return Zr.concatBytes(...k)};return(g,k)=>{l(),u(g);let R;for(;!(R=k(h()));)u();return l(),R}}function MO(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(i,o,s){const a=e[i];if(s&&a===void 0)return;const l=typeof a;if(l!==o||a===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${l}`)}Object.entries(t).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}function YC(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const o=e(r,...n);return t.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ys=BigInt(0),Do=BigInt(1),mh=BigInt(2),u_e=BigInt(3),GW=BigInt(4),XW=BigInt(5),QW=BigInt(8);function Ls(e,t){const r=e%t;return r>=ys?r:t+r}function ga(e,t,r){let n=e;for(;t-- >ys;)n*=n,n%=r;return n}function JC(e,t){if(e===ys)throw new Error("invert: expected non-zero number");if(t<=ys)throw new Error("invert: expected positive modulus, got "+t);let r=Ls(e,t),n=t,i=ys,o=Do;for(;r!==ys;){const s=n/r,a=n%r,l=i-o*s;n=r,r=a,i=o,o=l}if(n!==Do)throw new Error("invert: does not exist");return Ls(i,t)}function YW(e,t){const r=(e.ORDER+Do)/GW,n=e.pow(t,r);if(!e.eql(e.sqr(n),t))throw new Error("Cannot find square root");return n}function l_e(e,t){const r=(e.ORDER-XW)/QW,n=e.mul(t,mh),i=e.pow(n,r),o=e.mul(t,i),s=e.mul(e.mul(o,mh),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function c_e(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Do,r=0;for(;t%mh===ys;)t/=mh,r++;let n=mh;const i=vw(e);for(;ej(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return YW;let o=i.pow(n,t);const s=(t+Do)/mh;return function(a,l){if(a.is0(l))return l;if(ej(a,l)!==1)throw new Error("Cannot find square root");let c=r,u=a.mul(a.ONE,o),h=a.pow(l,t),g=a.pow(l,s);for(;!a.eql(h,a.ONE);){if(a.is0(h))return a.ZERO;let k=1,R=a.sqr(h);for(;!a.eql(R,a.ONE);)if(k++,R=a.sqr(R),k===c)throw new Error("Cannot find square root");const F=Do<<BigInt(c-k-1),D=a.pow(u,F);c=k,u=a.sqr(D),h=a.mul(h,u),g=a.mul(g,D)}return g}}function f_e(e){return e%GW===u_e?YW:e%QW===XW?l_e:c_e(e)}const d_e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function h_e(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=d_e.reduce((n,i)=>(n[i]="function",n),t);return MO(e,r),e}function p_e(e,t,r){if(r<ys)throw new Error("invalid exponent, negatives unsupported");if(r===ys)return e.ONE;if(r===Do)return t;let n=e.ONE,i=t;for(;r>ys;)r&Do&&(n=e.mul(n,i)),i=e.sqr(i),r>>=Do;return n}function JW(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((s,a,l)=>e.is0(a)?s:(n[l]=s,e.mul(s,a)),e.ONE),o=e.inv(i);return t.reduceRight((s,a,l)=>e.is0(a)?s:(n[l]=e.mul(s,n[l]),e.mul(s,a)),o),n}function ej(e,t){const r=(e.ORDER-Do)/mh,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),s=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!s)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function g_e(e,t){t!==void 0&&Zr.anumber(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function vw(e,t,r=!1,n={}){if(e<=ys)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=t;u.BITS&&(i=u.BITS),u.sqrt&&(o=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof t=="number"&&(i=t),n.sqrt&&(o=n.sqrt);const{nBitLength:s,nByteLength:a}=g_e(e,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:e,isLE:r,BITS:s,BYTES:a,MASK:oE(s),ZERO:ys,ONE:Do,create:u=>Ls(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return ys<=u&&u<e},is0:u=>u===ys,isValidNot0:u=>!c.is0(u)&&c.isValid(u),isOdd:u=>(u&Do)===Do,neg:u=>Ls(-u,e),eql:(u,h)=>u===h,sqr:u=>Ls(u*u,e),add:(u,h)=>Ls(u+h,e),sub:(u,h)=>Ls(u-h,e),mul:(u,h)=>Ls(u*h,e),pow:(u,h)=>p_e(c,u,h),div:(u,h)=>Ls(u*JC(h,e),e),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>JC(u,e),sqrt:o||(u=>(l||(l=f_e(e)),l(c,u))),toBytes:u=>r?ZW(u,a):NO(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?qW(u):iE(u)},invertBatch:u=>JW(c,u),cmov:(u,h,g)=>g?h:u});return Object.freeze(c)}function eq(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function tq(e){const t=eq(e);return t+Math.ceil(t/2)}function y_e(e,t,r=!1){const n=e.length,i=eq(t),o=tq(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=r?qW(e):iE(e),a=Ls(s,t-Do)+Do;return r?ZW(a,i):NO(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _y=BigInt(0),bh=BigInt(1);function a0(e,t){const r=t.negate();return e?r:t}function m_e(e,t,r){const n=o=>o.pz,i=JW(e.Fp,r.map(n));return r.map((o,s)=>o.toAffine(i[s])).map(e.fromAffine)}function rq(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function RS(e,t){rq(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,o=oE(e),s=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:s}}function tj(e,t,r){const{windowSize:n,mask:i,maxNumber:o,shiftBy:s}=r;let a=Number(e&i),l=e>>s;a>n&&(a-=o,l+=bh);const c=t*n,u=c+Math.abs(a)-1,h=a===0,g=a<0,k=t%2!==0;return{nextN:l,offset:u,isZero:h,isNeg:g,isNegF:k,offsetF:c}}function b_e(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function v_e(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const CS=new WeakMap,nq=new WeakMap;function jS(e){return nq.get(e)||1}function rj(e){if(e!==_y)throw new Error("invalid wNAF")}function w_e(e,t){return{constTimeNegate:a0,hasPrecomputes(r){return jS(r)!==1},unsafeLadder(r,n,i=e.ZERO){let o=r;for(;n>_y;)n&bh&&(i=i.add(o)),o=o.double(),n>>=bh;return i},precomputeWindow(r,n){const{windows:i,windowSize:o}=RS(n,t),s=[];let a=r,l=a;for(let c=0;c<i;c++){l=a,s.push(l);for(let u=1;u<o;u++)l=l.add(a),s.push(l);a=l.double()}return s},wNAF(r,n,i){let o=e.ZERO,s=e.BASE;const a=RS(r,t);for(let l=0;l<a.windows;l++){const{nextN:c,offset:u,isZero:h,isNeg:g,isNegF:k,offsetF:R}=tj(i,l,a);i=c,h?s=s.add(a0(k,n[R])):o=o.add(a0(g,n[u]))}return rj(i),{p:o,f:s}},wNAFUnsafe(r,n,i,o=e.ZERO){const s=RS(r,t);for(let a=0;a<s.windows&&i!==_y;a++){const{nextN:l,offset:c,isZero:u,isNeg:h}=tj(i,a,s);if(i=l,!u){const g=n[c];o=o.add(h?g.negate():g)}}return rj(i),o},getPrecomputes(r,n,i){let o=CS.get(n);return o||(o=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(o=i(o)),CS.set(n,o))),o},wNAFCached(r,n,i){const o=jS(r);return this.wNAF(o,this.getPrecomputes(o,r,i),n)},wNAFCachedUnsafe(r,n,i,o){const s=jS(r);return s===1?this.unsafeLadder(r,n,o):this.wNAFUnsafe(s,this.getPrecomputes(s,r,i),n,o)},setWindowSize(r,n){rq(n,t),nq.set(r,n),CS.delete(r)}}}function E_e(e,t,r,n){let i=t,o=e.ZERO,s=e.ZERO;for(;r>_y||n>_y;)r&bh&&(o=o.add(i)),n&bh&&(s=s.add(i)),i=i.double(),r>>=bh,n>>=bh;return{p1:o,p2:s}}function __e(e,t,r,n){b_e(r,e),v_e(n,t);const i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,a=s_e(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=oE(l),u=new Array(Number(c)+1).fill(s),h=Math.floor((t.BITS-1)/l)*l;let g=s;for(let k=h;k>=0;k-=l){u.fill(s);for(let F=0;F<o;F++){const D=n[F],$=Number(D>>BigInt(k)&c);u[$]=u[$].add(r[F])}let R=s;for(let F=u.length-1,D=s;F>0;F--)D=D.add(u[F]),R=R.add(D);if(g=g.add(R),k!==0)for(let F=0;F<l;F++)g=g.double()}return g}function nj(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return h_e(t),t}else return vw(e)}function S_e(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const s of["p","n","h"]){const a=t[s];if(!(typeof a=="bigint"&&a>_y))throw new Error(`CURVE.${s} must be positive bigint`)}const n=nj(t.p,r.Fp),i=nj(t.n,r.Fn),o=["Gx","Gy","a","b"];for(const s of o)if(!n.isValid(t[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ij(e){e.lowS!==void 0&&R1("lowS",e.lowS),e.prehash!==void 0&&R1("prehash",e.prehash)}class k_e extends Error{constructor(t=""){super(t)}}const lc={Err:k_e,_tlv:{encode:(e,t)=>{const{Err:r}=lc;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=m3(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const o=n>127?m3(i.length/2|128):"";return m3(e)+o+i+t},decode(e,t){const{Err:r}=lc;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++],o=!!(i&128);let s=0;if(!o)s=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const c=t.subarray(n,n+l);if(c.length!==l)throw new r("tlv.decode: length bytes not complete");if(c[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of c)s=s<<8|u;if(n+=l,s<128)throw new r("tlv.decode(long): not minimal encoding")}const a=t.subarray(n,n+s);if(a.length!==s)throw new r("tlv.decode: wrong value length");return{v:a,l:t.subarray(n+s)}}},_int:{encode(e){const{Err:t}=lc;if(e<u0)throw new t("integer: negative integers are not allowed");let r=m3(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=lc;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return iE(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=lc,i=_a("signature",e),{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l}=n.decode(2,o),{v:c,l:u}=n.decode(2,l);if(u.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(e){const{_tlv:t,_int:r}=lc,n=t.encode(2,r.encode(e.r)),i=t.encode(2,r.encode(e.s)),o=n+i;return t.encode(48,o)}},u0=BigInt(0),l0=BigInt(1),x_e=BigInt(2),b3=BigInt(3),A_e=BigInt(4);function O_e(e,t,r){function n(i){const o=e.sqr(i),s=e.mul(o,i);return e.add(e.add(s,e.mul(i,t)),r)}return n}function iq(e,t,r){const{BYTES:n}=e;function i(o){let s;if(typeof o=="bigint")s=o;else{let a=_a("private key",o);if(t){if(!t.includes(a.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(a,l.length-a.length),a=l}try{s=e.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof o}`)}}if(r&&(s=e.create(s)),!e.isValidNot0(s))throw new Error("invalid private key: out of range [1..N-1]");return s}return i}function P_e(e,t={}){const{Fp:r,Fn:n}=S_e("weierstrass",e,t),{h:i,n:o}=e;MO(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:s}=t;if(s&&(!r.is0(e.a)||typeof s.beta!="bigint"||typeof s.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(K,C,G){const{x:v,y:I}=C.toAffine(),p=r.toBytes(v);if(R1("isCompressed",G),G){a();const _=!r.isOdd(I);return Zr.concatBytes(oq(_),p)}else return Zr.concatBytes(Uint8Array.of(4),p,r.toBytes(I))}function c(K){Zr.abytes(K);const C=r.BYTES,G=C+1,v=2*C+1,I=K.length,p=K[0],_=K.subarray(1);if(I===G&&(p===2||p===3)){const w=r.fromBytes(_);if(!r.isValid(w))throw new Error("bad point: is not on curve, wrong x");const S=g(w);let A;try{A=r.sqrt(S)}catch(E){const T=E instanceof Error?": "+E.message:"";throw new Error("bad point: is not on curve, sqrt error"+T)}a();const x=r.isOdd(A);return(p&1)===1!==x&&(A=r.neg(A)),{x:w,y:A}}else if(I===v&&p===4){const w=r.fromBytes(_.subarray(C*0,C*1)),S=r.fromBytes(_.subarray(C*1,C*2));if(!k(w,S))throw new Error("bad point: is not on curve");return{x:w,y:S}}else throw new Error(`bad point: got length ${I}, expected compressed=${G} or uncompressed=${v}`)}const u=t.toBytes||l,h=t.fromBytes||c,g=O_e(r,e.a,e.b);function k(K,C){const G=r.sqr(C),v=g(K);return r.eql(G,v)}if(!k(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const R=r.mul(r.pow(e.a,b3),A_e),F=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(R,F)))throw new Error("bad curve params: a or b");function D(K,C,G=!1){if(!r.isValid(C)||G&&r.is0(C))throw new Error(`bad point coordinate ${K}`);return C}function $(K){if(!(K instanceof ee))throw new Error("ProjectivePoint expected")}const B=YC((K,C)=>{const{px:G,py:v,pz:I}=K;if(r.eql(I,r.ONE))return{x:G,y:v};const p=K.is0();C==null&&(C=p?r.ONE:r.inv(I));const _=r.mul(G,C),w=r.mul(v,C),S=r.mul(I,C);if(p)return{x:r.ZERO,y:r.ZERO};if(!r.eql(S,r.ONE))throw new Error("invZ was invalid");return{x:_,y:w}}),U=YC(K=>{if(K.is0()){if(t.allowInfinityPoint&&!r.is0(K.py))return;throw new Error("bad point: ZERO")}const{x:C,y:G}=K.toAffine();if(!r.isValid(C)||!r.isValid(G))throw new Error("bad point: x or y not field elements");if(!k(C,G))throw new Error("bad point: equation left != right");if(!K.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function q(K,C,G,v,I){return G=new ee(r.mul(G.px,K),G.py,G.pz),C=a0(v,C),G=a0(I,G),C.add(G)}class ee{constructor(C,G,v){this.px=D("x",C),this.py=D("y",G,!0),this.pz=D("z",v),Object.freeze(this)}static fromAffine(C){const{x:G,y:v}=C||{};if(!C||!r.isValid(G)||!r.isValid(v))throw new Error("invalid affine point");if(C instanceof ee)throw new Error("projective point not allowed");return r.is0(G)&&r.is0(v)?ee.ZERO:new ee(G,v,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return m_e(ee,"pz",C)}static fromBytes(C){return Zr.abytes(C),ee.fromHex(C)}static fromHex(C){const G=ee.fromAffine(h(_a("pointHex",C)));return G.assertValidity(),G}static fromPrivateKey(C){const G=iq(n,t.allowedPrivateKeyLengths,t.wrapPrivateKey);return ee.BASE.multiply(G(C))}static msm(C,G){return __e(ee,n,C,G)}precompute(C=8,G=!0){return re.setWindowSize(this,C),G||this.multiply(b3),this}_setWindowSize(C){this.precompute(C)}assertValidity(){U(this)}hasEvenY(){const{y:C}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(C)}equals(C){$(C);const{px:G,py:v,pz:I}=this,{px:p,py:_,pz:w}=C,S=r.eql(r.mul(G,w),r.mul(p,I)),A=r.eql(r.mul(v,w),r.mul(_,I));return S&&A}negate(){return new ee(this.px,r.neg(this.py),this.pz)}double(){const{a:C,b:G}=e,v=r.mul(G,b3),{px:I,py:p,pz:_}=this;let w=r.ZERO,S=r.ZERO,A=r.ZERO,x=r.mul(I,I),E=r.mul(p,p),T=r.mul(_,_),M=r.mul(I,p);return M=r.add(M,M),A=r.mul(I,_),A=r.add(A,A),w=r.mul(C,A),S=r.mul(v,T),S=r.add(w,S),w=r.sub(E,S),S=r.add(E,S),S=r.mul(w,S),w=r.mul(M,w),A=r.mul(v,A),T=r.mul(C,T),M=r.sub(x,T),M=r.mul(C,M),M=r.add(M,A),A=r.add(x,x),x=r.add(A,x),x=r.add(x,T),x=r.mul(x,M),S=r.add(S,x),T=r.mul(p,_),T=r.add(T,T),x=r.mul(T,M),w=r.sub(w,x),A=r.mul(T,E),A=r.add(A,A),A=r.add(A,A),new ee(w,S,A)}add(C){$(C);const{px:G,py:v,pz:I}=this,{px:p,py:_,pz:w}=C;let S=r.ZERO,A=r.ZERO,x=r.ZERO;const E=e.a,T=r.mul(e.b,b3);let M=r.mul(G,p),Q=r.mul(v,_),he=r.mul(I,w),ue=r.add(G,v),W=r.add(p,_);ue=r.mul(ue,W),W=r.add(M,Q),ue=r.sub(ue,W),W=r.add(G,I);let se=r.add(p,w);return W=r.mul(W,se),se=r.add(M,he),W=r.sub(W,se),se=r.add(v,I),S=r.add(_,w),se=r.mul(se,S),S=r.add(Q,he),se=r.sub(se,S),x=r.mul(E,W),S=r.mul(T,he),x=r.add(S,x),S=r.sub(Q,x),x=r.add(Q,x),A=r.mul(S,x),Q=r.add(M,M),Q=r.add(Q,M),he=r.mul(E,he),W=r.mul(T,W),Q=r.add(Q,he),he=r.sub(M,he),he=r.mul(E,he),W=r.add(W,he),M=r.mul(Q,W),A=r.add(A,M),M=r.mul(se,W),S=r.mul(ue,S),S=r.sub(S,M),M=r.mul(ue,Q),x=r.mul(se,x),x=r.add(x,M),new ee(S,A,x)}subtract(C){return this.add(C.negate())}is0(){return this.equals(ee.ZERO)}multiply(C){const{endo:G}=t;if(!n.isValidNot0(C))throw new Error("invalid scalar: out of range");let v,I;const p=_=>re.wNAFCached(this,_,ee.normalizeZ);if(G){const{k1neg:_,k1:w,k2neg:S,k2:A}=G.splitScalar(C),{p:x,f:E}=p(w),{p:T,f:M}=p(A);I=E.add(M),v=q(G.beta,x,T,_,S)}else{const{p:_,f:w}=p(C);v=_,I=w}return ee.normalizeZ([v,I])[0]}multiplyUnsafe(C){const{endo:G}=t,v=this;if(!n.isValid(C))throw new Error("invalid scalar: out of range");if(C===u0||v.is0())return ee.ZERO;if(C===l0)return v;if(re.hasPrecomputes(this))return this.multiply(C);if(G){const{k1neg:I,k1:p,k2neg:_,k2:w}=G.splitScalar(C),{p1:S,p2:A}=E_e(ee,v,p,w);return q(G.beta,S,A,I,_)}else return re.wNAFCachedUnsafe(v,C)}multiplyAndAddUnsafe(C,G,v){const I=this.multiplyUnsafe(G).add(C.multiplyUnsafe(v));return I.is0()?void 0:I}toAffine(C){return B(this,C)}isTorsionFree(){const{isTorsionFree:C}=t;return i===l0?!0:C?C(ee,this):re.wNAFCachedUnsafe(this,o).is0()}clearCofactor(){const{clearCofactor:C}=t;return i===l0?this:C?C(ee,this):this.multiplyUnsafe(i)}toBytes(C=!0){return R1("isCompressed",C),this.assertValidity(),u(ee,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return Zr.bytesToHex(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}ee.BASE=new ee(e.Gx,e.Gy,r.ONE),ee.ZERO=new ee(r.ZERO,r.ONE,r.ZERO),ee.Fp=r,ee.Fn=n;const ae=n.BITS,re=w_e(ee,t.endo?Math.ceil(ae/2):ae);return ee}function oq(e){return Uint8Array.of(e?2:3)}function T_e(e,t,r={}){MO(t,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=t.randomBytes||Zr.randomBytes,i=t.hmac||((v,...I)=>$v.hmac(t.hash,v,Zr.concatBytes(...I))),{Fp:o,Fn:s}=e,{ORDER:a,BITS:l}=s;function c(v){const I=a>>l0;return v>I}function u(v){return c(v)?s.neg(v):v}function h(v,I){if(!s.isValidNot0(I))throw new Error(`invalid signature ${v}: out of range 1..CURVE.n`)}class g{constructor(I,p,_){h("r",I),h("s",p),this.r=I,this.s=p,_!=null&&(this.recovery=_),Object.freeze(this)}static fromCompact(I){const p=s.BYTES,_=_a("compactSignature",I,p*2);return new g(s.fromBytes(_.subarray(0,p)),s.fromBytes(_.subarray(p,p*2)))}static fromDER(I){const{r:p,s:_}=lc.toSig(_a("DER",I));return new g(p,_)}assertValidity(){}addRecoveryBit(I){return new g(this.r,this.s,I)}recoverPublicKey(I){const p=o.ORDER,{r:_,s:w,recovery:S}=this;if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");if(a*x_e<p&&S>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=S===2||S===3?_+a:_;if(!o.isValid(A))throw new Error("recovery id 2 or 3 invalid");const x=o.toBytes(A),E=e.fromHex(Zr.concatBytes(oq((S&1)===0),x)),T=s.inv(A),M=U(_a("msgHash",I)),Q=s.create(-M*T),he=s.create(w*T),ue=e.BASE.multiplyUnsafe(Q).add(E.multiplyUnsafe(he));if(ue.is0())throw new Error("point at infinify");return ue.assertValidity(),ue}hasHighS(){return c(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s.neg(this.s),this.recovery):this}toBytes(I){if(I==="compact")return Zr.concatBytes(s.toBytes(this.r),s.toBytes(this.s));if(I==="der")return Zr.hexToBytes(lc.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return Zr.bytesToHex(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return Zr.bytesToHex(this.toBytes("compact"))}}const k=iq(s,r.allowedPrivateKeyLengths,r.wrapPrivateKey),R={isValidPrivateKey(v){try{return k(v),!0}catch{return!1}},normPrivateKeyToScalar:k,randomPrivateKey:()=>{const v=a;return y_e(n(tq(v)),v)},precompute(v=8,I=e.BASE){return I.precompute(v,!1)}};function F(v,I=!0){return e.fromPrivateKey(v).toBytes(I)}function D(v){if(typeof v=="bigint")return!1;if(v instanceof e)return!0;const I=_a("key",v).length,p=o.BYTES,_=p+1,w=2*p+1;if(!(r.allowedPrivateKeyLengths||s.BYTES===_))return I===_||I===w}function $(v,I,p=!0){if(D(v)===!0)throw new Error("first arg must be private key");if(D(I)===!1)throw new Error("second arg must be public key");return e.fromHex(I).multiply(k(v)).toBytes(p)}const B=t.bits2int||function(v){if(v.length>8192)throw new Error("input is too large");const I=iE(v),p=v.length*8-l;return p>0?I>>BigInt(p):I},U=t.bits2int_modN||function(v){return s.create(B(v))},q=oE(l);function ee(v){return o_e("num < 2^"+l,v,u0,q),s.toBytes(v)}function ae(v,I,p=re){if(["recovered","canonical"].some(ue=>ue in p))throw new Error("sign() legacy options not supported");const{hash:_}=t;let{lowS:w,prehash:S,extraEntropy:A}=p;w==null&&(w=!0),v=_a("msgHash",v),ij(p),S&&(v=_a("prehashed msgHash",_(v)));const x=U(v),E=k(I),T=[ee(E),ee(x)];if(A!=null&&A!==!1){const ue=A===!0?n(o.BYTES):A;T.push(_a("extraEntropy",ue))}const M=Zr.concatBytes(...T),Q=x;function he(ue){const W=B(ue);if(!s.isValidNot0(W))return;const se=s.inv(W),Z=e.BASE.multiply(W).toAffine(),ie=s.create(Z.x);if(ie===u0)return;const pe=s.create(se*s.create(Q+ie*E));if(pe===u0)return;let Ee=(Z.x===ie?0:2)|Number(Z.y&l0),Oe=pe;return w&&c(pe)&&(Oe=u(pe),Ee^=1),new g(ie,Oe,Ee)}return{seed:M,k2sig:he}}const re={lowS:t.lowS,prehash:!1},K={lowS:t.lowS,prehash:!1};function C(v,I,p=re){const{seed:_,k2sig:w}=ae(v,I,p);return a_e(t.hash.outputLen,s.BYTES,i)(_,w)}e.BASE.precompute(8);function G(v,I,p,_=K){const w=v;I=_a("msgHash",I),p=_a("publicKey",p),ij(_);const{lowS:S,prehash:A,format:x}=_;if("strict"in _)throw new Error("options.strict was renamed to lowS");if(x!==void 0&&!["compact","der","js"].includes(x))throw new Error('format must be "compact", "der" or "js"');const E=typeof w=="string"||Zr.isBytes(w),T=!E&&!x&&typeof w=="object"&&w!==null&&typeof w.r=="bigint"&&typeof w.s=="bigint";if(!E&&!T)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let M,Q;try{if(T)if(x===void 0||x==="js")M=new g(w.r,w.s);else throw new Error("invalid format");if(E){try{x!=="compact"&&(M=g.fromDER(w))}catch(Ee){if(!(Ee instanceof lc.Err))throw Ee}!M&&x!=="der"&&(M=g.fromCompact(w))}Q=e.fromHex(p)}catch{return!1}if(!M||S&&M.hasHighS())return!1;A&&(I=t.hash(I));const{r:he,s:ue}=M,W=U(I),se=s.inv(ue),Z=s.create(W*se),ie=s.create(he*se),pe=e.BASE.multiplyUnsafe(Z).add(Q.multiplyUnsafe(ie));return pe.is0()?!1:s.create(pe.x)===he}return Object.freeze({getPublicKey:F,getSharedSecret:$,sign:C,verify:G,utils:R,Point:e,Signature:g})}function I_e(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=vw(t.n,e.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:e.allowedPrivateKeyLengths,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,wrapPrivateKey:e.wrapPrivateKey,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function B_e(e){const{CURVE:t,curveOpts:r}=I_e(e),n={hash:e.hash,hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:r,ecdsaOpts:n}}function N_e(e,t){return Object.assign({},t,{ProjectivePoint:t.Point,CURVE:e})}function M_e(e){const{CURVE:t,curveOpts:r,ecdsaOpts:n}=B_e(e),i=P_e(t,r),o=T_e(i,n,r);return N_e(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function R_e(e,t){const r=n=>M_e({...e,hash:n});return{...r(t),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const C1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")};BigInt(0);const C_e=BigInt(1),mk=BigInt(2),oj=(e,t)=>(e+t/mk)/t;function j_e(e){const t=C1.p,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,h=ga(u,r,t)*u%t,g=ga(h,r,t)*u%t,k=ga(g,mk,t)*c%t,R=ga(k,i,t)*k%t,F=ga(R,o,t)*R%t,D=ga(F,a,t)*F%t,$=ga(D,l,t)*D%t,B=ga($,a,t)*F%t,U=ga(B,r,t)*u%t,q=ga(U,s,t)*R%t,ee=ga(q,n,t)*c%t,ae=ga(ee,mk,t);if(!bk.eql(bk.sqr(ae),e))throw new Error("Cannot find square root");return ae}const bk=vw(C1.p,void 0,void 0,{sqrt:j_e}),Q0=R_e({...C1,Fp:bk,lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=C1.n,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-C_e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=oj(o*e,t),l=oj(-n*e,t);let c=Ls(e-a*r-l*i,t),u=Ls(-a*n-l*o,t);const h=c>s,g=u>s;if(h&&(c=t-c),g&&(u=t-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:g,k2:u}}}},PF);function U_e(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function sj(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function z_e(e,t){U_e(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const L_e=e=>e instanceof Uint8Array,US=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Wu=(e,t)=>e<<32-t|e>>>t,$_e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!$_e)throw new Error("Non little-endian hardware is not supported");function F_e(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function sq(e){if(typeof e=="string"&&(e=F_e(e)),!L_e(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}let D_e=class{clone(){return this._cloneInto()}};function H_e(e){const t=n=>e().update(sq(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function K_e(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}let V_e=class extends D_e{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=US(this.buffer)}update(e){sj(this);const{view:t,buffer:r,blockLen:n}=this;e=sq(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){const a=US(e);for(;n<=i-o;o+=n)this.process(a,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){sj(this),z_e(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let u=o;u<n;u++)t[u]=0;K_e(r,n-8,BigInt(this.length*8),i),this.process(r,0);const s=US(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)s.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}};const W_e=(e,t,r)=>e&t^~e&r,q_e=(e,t,r)=>e&t^e&r^t&r,Z_e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ff=new Uint32Array(64);let G_e=class extends V_e{constructor(){super(64,32,8,!1),this.A=cf[0]|0,this.B=cf[1]|0,this.C=cf[2]|0,this.D=cf[3]|0,this.E=cf[4]|0,this.F=cf[5]|0,this.G=cf[6]|0,this.H=cf[7]|0}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=e|0,this.B=t|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)ff[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const h=ff[u-15],g=ff[u-2],k=Wu(h,7)^Wu(h,18)^h>>>3,R=Wu(g,17)^Wu(g,19)^g>>>10;ff[u]=R+ff[u-7]+k+ff[u-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const h=Wu(s,6)^Wu(s,11)^Wu(s,25),g=c+h+W_e(s,a,l)+Z_e[u]+ff[u]|0,k=(Wu(r,2)^Wu(r,13)^Wu(r,22))+q_e(r,n,i)|0;c=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+k|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,l,c)}roundClean(){ff.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const vk=H_e(()=>new G_e);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ww(...e){const t=(i,o)=>s=>i(o(s)),r=Array.from(e).reverse().reduce((i,o)=>i?t(i,o.encode):o.encode,void 0),n=e.reduce((i,o)=>i?t(i,o.decode):o.decode,void 0);return{encode:r,decode:n}}function sE(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(r=>{if(r<0||r>=e.length)throw new Error(`Digit index outside alphabet: ${r} (alphabet: ${e.length})`);return e[r]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(r=>{if(typeof r!="string")throw new Error(`alphabet.decode: not string element=${r}`);const n=e.indexOf(r);if(n===-1)throw new Error(`Unknown letter: "${r}". Allowed: ${e}`);return n})}}}function aE(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let r of t)if(typeof r!="string")throw new Error(`join.encode: non-string input=${r}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function aq(e,t="="){if(typeof t!="string")throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let n of r)if(typeof n!="string")throw new Error(`padding.encode: non-string input=${n}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("padding.encode input should be array of strings");for(let i of r)if(typeof i!="string")throw new Error(`padding.decode: non-string input=${i}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function aj(e,t,r){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let n=0;const i=[],o=Array.from(e);for(o.forEach(s=>{if(s<0||s>=t)throw new Error(`Wrong integer: ${s}`)});;){let s=0,a=!0;for(let l=n;l<o.length;l++){const c=o[l],u=t*s+c;if(!Number.isSafeInteger(u)||t*s/t!==s||u-c!==t*s)throw new Error("convertRadix: carry overflow");s=u%r;const h=Math.floor(u/r);if(o[l]=h,!Number.isSafeInteger(h)||h*r+s!==u)throw new Error("convertRadix: carry overflow");if(a)h?a=!1:n=l;else continue}if(i.push(s),a)break}for(let s=0;s<e.length-1&&e[s]===0;s++)i.push(0);return i.reverse()}const uq=(e,t)=>t?uq(t,e%t):e,j1=(e,t)=>e+(t-uq(e,t));function wk(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(j1(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${j1(t,r)}`);let i=0,o=0;const s=2**r-1,a=[];for(const l of e){if(l>=2**t)throw new Error(`convertRadix2: invalid data word=${l} from=${t}`);if(i=i<<t|l,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function X_e(e){return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return aj(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(aj(t,e,2**8))}}}function RO(e,t=!1){if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(j1(8,e)>32||j1(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return wk(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(wk(r,e,8,t))}}}function uj(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}function Q_e(e,t){if(typeof t!="function")throw new Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=t(n).slice(0,e),o=r.slice(-e);for(let s=0;s<e;s++)if(i[s]!==o[s])throw new Error("Invalid checksum");return n}}}const lj=ww(RO(6),sE("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),aq(6),aE("")),cj=ww(RO(6),sE("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),aq(6),aE("")),Y_e=e=>ww(X_e(58),sE(e),aE("")),J_e=Y_e("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),fj=e=>ww(Q_e(4,t=>e(e(t))),J_e),Ek=ww(sE("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),aE("")),dj=[996825010,642813549,513874426,1027748829,705979059];function nb(e){const t=e>>25;let r=(e&33554431)<<5;for(let n=0;n<dj.length;n++)(t>>n&1)===1&&(r^=dj[n]);return r}function hj(e,t,r=1){const n=e.length;let i=1;for(let o=0;o<n;o++){const s=e.charCodeAt(o);if(s<33||s>126)throw new Error(`Invalid prefix (${e})`);i=nb(i)^s>>5}i=nb(i);for(let o=0;o<n;o++)i=nb(i)^e.charCodeAt(o)&31;for(let o of t)i=nb(i)^o;for(let o=0;o<6;o++)i=nb(i);return i^=r,Ek.encode(wk([i%2**30],30,5,!1))}function lq(e){const t=e==="bech32"?1:734539939,r=RO(5),n=r.decode,i=r.encode,o=uj(n);function s(u,h,g=90){if(typeof u!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof u}`);if(!Array.isArray(h)||h.length&&typeof h[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof h}`);const k=u.length+7+h.length;if(g!==!1&&k>g)throw new TypeError(`Length ${k} exceeds limit ${g}`);const R=u.toLowerCase(),F=hj(R,h,t);return`${R}1${Ek.encode(h)}${F}`}function a(u,h=90){if(typeof u!="string")throw new Error(`bech32.decode input should be string, not ${typeof u}`);if(u.length<8||h!==!1&&u.length>h)throw new TypeError(`Wrong string length: ${u.length} (${u}). Expected (8..${h})`);const g=u.toLowerCase();if(u!==g&&u!==u.toUpperCase())throw new Error("String must be lowercase or uppercase");u=g;const k=u.lastIndexOf("1");if(k===0||k===-1)throw new Error('Letter "1" must be present between prefix and data only');const R=u.slice(0,k),F=u.slice(k+1);if(F.length<6)throw new Error("Data must be at least 6 characters long");const D=Ek.decode(F).slice(0,-6),$=hj(R,D,t);if(!F.endsWith($))throw new Error(`Invalid checksum in ${u}: expected "${$}"`);return{prefix:R,words:D}}const l=uj(a);function c(u){const{prefix:h,words:g}=a(u,!1);return{prefix:h,words:g,bytes:n(g)}}return{encode:s,decode:a,decodeToBytes:c,decodeUnsafe:l,fromWords:n,fromWordsUnsafe:o,toWords:i}}const v3=lq("bech32"),w3=lq("bech32m"),cl={b58chk:{encode:e=>fj(vk).encode(e),decode:e=>fj(vk).decode(e)},base64:{encode:e=>lj.encode(e),decode:e=>lj.decode(e)},b64url:{encode:e=>cj.encode(e),decode:e=>cj.decode(e)},bech32:{to_words:v3.toWords,to_bytes:v3.fromWords,encode:(e,t,r=!1)=>v3.encode(e,t,r),decode:(e,t=!1)=>{const{prefix:r,words:n}=v3.decode(e,t);return{prefix:r,words:n}}},bech32m:{to_words:w3.toWords,to_bytes:w3.fromWords,encode:(e,t,r=!1)=>w3.encode(e,t,r),decode:(e,t=!1)=>{const{prefix:r,words:n}=w3.decode(e,t);return{prefix:r,words:n}}}};function eSe(e,t){if(e.length>t)throw new TypeError(`Data is larger than array size: ${e.length} > ${t}`)}function tSe(e){if(e.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+e);if(e.length%2!==0)throw new Error(`Length of hex string is invalid: ${e.length}`)}function rSe(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}function cq(e,t){if(e!==t)throw new TypeError(`Bech32 prefix does not match: ${e} !== ${t}`)}const nSe=BigInt(0),iSe=BigInt(255),fq=BigInt(256);function oSe(e){if(e<=0xffn)return 1;if(e<=0xffffn)return 2;if(e<=0xffffffffn)return 4;if(e<=0xffffffffffffffffn)return 8;if(e<=0xffffffffffffffffffffffffffffffffn)return 16;if(e<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function sSe(e,t,r="be"){t===void 0&&(t=oSe(e));const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(;e>nSe;){const a=e&iSe,l=Number(a);n?o.setUint8(s++,l):o.setUint8(s--,l),e=(e-a)/fq}return new Uint8Array(i)}function aSe(e){let t=BigInt(0);for(let r=e.length-1;r>=0;r--)t=t*fq+BigInt(e[r]);return BigInt(t)}function uSe(e){const t=e.split("").map(Number);if(t.length%8!==0)throw new Error(`Binary array is invalid length: ${e.length}`);const r=new Uint8Array(t.length/8);for(let n=0,i=0;n<t.length;n+=8,i++){let o=0;for(let s=0;s<8;s++)o|=t[n+s]<<7-s;r[i]=o}return r}function lSe(e){const t=new Array(e.length*8);let r=0;for(const n of e){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)t[r]=n>>i&1}return t.join("")}function cSe(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function fSe(e,t,r="be"){t===void 0&&(t=cSe(e));const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(;e>0;){const a=e&255;n?o.setUint8(s++,e):o.setUint8(s--,e),e=(e-a)/256}return new Uint8Array(i)}function dSe(e){let t=0;for(let r=e.length-1;r>=0;r--)t=t*256+e[r],rSe(t);return t}const hSe=new TextEncoder,pSe=new TextDecoder;function CO(e){return hSe.encode(e)}function zS(e){return pSe.decode(e)}function gSe(e,t){tSe(e);const r=e.length/2;if(t===void 0&&(t=r),r>t)throw new TypeError(`Hex string is larger than array size: ${r} > ${t}`);return t}function ySe(e,t,r="le"){t=gSe(e,t);const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(let a=0;a<e.length;a+=2){const l=e.substring(a,a+2),c=parseInt(l,16);n?o.setUint8(s++,c):o.setUint8(s--,c)}return new Uint8Array(i)}function mSe(e){let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}const{getRandomValues:bSe}=crypto??globalThis.crypto??window.crypto;function vSe(e=32){if(typeof bSe=="function")return crypto.getRandomValues(new Uint8Array(e));throw new Error("Crypto module missing getRandomValues!")}function dq(e){return e.match(/[^a-fA-f0-9]/)===null&&e.length%2===0}function wSe(e){return typeof e=="string"&&dq(e)||typeof e=="number"||typeof e=="bigint"||e instanceof Uint8Array?!0:!!(Array.isArray(e)&&e.every(t=>typeof t=="number"))}function ESe(e,t,r="be"){t===void 0&&(t=e.length),eSe(e,t);const n=new Uint8Array(t).fill(0),i=r==="be"?0:t-e.length;return n.set(e,i),n}function hq(e){let t,r=0;const n=e.reduce((o,s)=>o+s.length,0),i=new Uint8Array(n);for(t=0;t<e.length;t++){const o=e[t];i.set(o,r),r+=o.length}return i}function _Se(e,t){return typeof t=="bigint"?`${t}n`:t}function SSe(e,t){return typeof t=="string"&&/n$/.test(t)?BigInt(t.slice(0,-1)):t}function kSe(e,t,r){const n=e.length,i=r/t;if(r%t!==0)throw new TypeError(`Invalid parameters: ${r} % ${t} !== 0`);if(n!==r)throw new TypeError(`Invalid data stream: ${n} !== ${r}`);if(n%t!==0)throw new TypeError(`Invalid data stream: ${n} % ${t} !== 0`);const o=new Array(i);for(let s=0;s<i;s++){const a=s*t;o[s]=e.subarray(a,a+t)}return o}function jO(e,t,r){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return ESe(e,t,r);if(Array.isArray(e)){const n=e.map(i=>jO(i,t,r));return hq(n)}else{if(typeof e=="string")return ySe(e,t,r);if(typeof e=="bigint")return sSe(e,t,r);if(typeof e=="number")return fSe(e,t,r);if(typeof e=="boolean")return Uint8Array.of(e?1:0)}throw new TypeError("Unsupported format:"+typeof e)}var ir;let dn=(ir=class extends Uint8Array{static random(e=32){const t=vSe(e);return new ir(t,e)}static now(e=4){const t=Math.floor(Date.now()/1e3);return new ir(t,e)}constructor(e,t,r){if(e instanceof ir&&t===void 0)return e;const n=jO(e,t,r);super(n)}get arr(){return[...this]}get num(){return this.to_num()}get big(){return this.to_big()}get str(){return this.to_str()}get hex(){return this.to_hex()}get raw(){return new Uint8Array(this)}get bin(){return this.to_bin()}get b58chk(){return this.to_b58chk()}get base64(){return this.to_base64()}get b64url(){return this.to_b64url()}get digest(){return this.to_hash()}get id(){return this.to_hash().hex}get stream(){return new zSe(this)}to_num(e="be"){const t=e==="be"?this.reverse():this;return dSe(t)}to_big(e="be"){const t=e==="be"?this.reverse():this;return aSe(t)}to_bin(){return lSe(this)}to_hash(){const e=vk(this);return new ir(e)}to_json(e){e===void 0&&(e=SSe);const t=zS(this);return JSON.parse(t,e)}to_bech32(e,t){const{encode:r,to_words:n}=cl.bech32,i=n(this);return r(e,i,t)}to_bech32m(e,t){const{encode:r,to_words:n}=cl.bech32m,i=n(this);return r(e,i,t)}to_str(){return zS(this)}to_hex(){return mSe(this)}to_bytes(){return new Uint8Array(this)}to_b58chk(){return cl.b58chk.encode(this)}to_base64(){return cl.base64.encode(this)}to_b64url(){return cl.b64url.encode(this)}append(e){return ir.join([this,ir.bytes(e)])}prepend(e){return ir.join([ir.bytes(e),this])}reverse(){const e=new Uint8Array(this).reverse();return new ir(e)}slice(e,t){const r=new Uint8Array(this).slice(e,t);return new ir(r)}set(e,t){this.set(e,t)}subarray(e,t){const r=new Uint8Array(this).subarray(e,t);return new ir(r)}write(e,t){const r=ir.bytes(e);this.set(r,t)}add_varint(e){const t=ir.calc_varint(this.length,e);return ir.join([t,this])}static from(e){return new ir(Uint8Array.from(e))}static of(...e){return new ir(Uint8Array.of(...e))}static join(e){const t=e.map(n=>ir.bytes(n)),r=hq(t);return new ir(r)}static sort(e,t){const r=e.map(n=>pj(n,t).hex);return r.sort(),r.map(n=>ir.hex(n,t))}static calc_varint(e,t){if(e<253)return ir.num(e,1);if(e<65536)return ir.of(253,...ir.num(e,2,t));if(e<4294967296)return ir.of(254,...ir.num(e,4,t));if(BigInt(e)<0x10000000000000000n)return ir.of(255,...ir.num(e,8,t));throw new Error(`Value is too large: ${e}`)}},ir.num=xSe,ir.big=OSe,ir.bin=ASe,ir.raw=PSe,ir.str=TSe,ir.hex=ISe,ir.bytes=pj,ir.json=BSe,ir.base64=NSe,ir.b64url=MSe,ir.bech32=RSe,ir.bech32m=CSe,ir.b58chk=jSe,ir.encode=CO,ir.decode=zS,ir.parse=USe,ir.is_bytes=wSe,ir.is_hex=dq,ir);function xSe(e,t,r){return new dn(e,t,r)}function ASe(e,t,r){return new dn(uSe(e),t,r)}function OSe(e,t,r){return new dn(e,t,r)}function PSe(e,t,r){return new dn(e,t,r)}function TSe(e,t,r){return new dn(CO(e),t,r)}function ISe(e,t,r){return new dn(e,t,r)}function BSe(e,t){t===void 0&&(t=_Se);const r=JSON.stringify(e,t);return new dn(CO(r))}function NSe(e){return new dn(cl.base64.decode(e))}function MSe(e){return new dn(cl.b64url.decode(e))}function RSe(e,t,r){const{decode:n,to_bytes:i}=cl.bech32,{prefix:o,words:s}=n(e,t),a=i(s);return typeof r=="string"&&cq(o,r),new dn(a)}function CSe(e,t,r){const{decode:n,to_bytes:i}=cl.bech32m,{prefix:o,words:s}=n(e,t),a=i(s);return typeof r=="string"&&cq(o,r),new dn(a)}function jSe(e){return new dn(cl.b58chk.decode(e))}function USe(e,t,r){const n=jO(e);return kSe(n,t,r).map(i=>dn.bytes(i))}let zSe=class{constructor(e){this.data=dn.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new dn(this.data.slice(0,e))}read(e){const t=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,t}read_varint(e){const t=this.read(1).num;switch(!0){case(t>=0&&t<253):return t;case t===253:return this.read(2).to_num(e);case t===254:return this.read(4).to_num(e);case t===255:return this.read(8).to_num(e);default:throw new Error(`Varint is out of range: ${t}`)}}};function pj(e,t,r){return new dn(e,t,r)}const U1=Q0.CURVE,uE=U1.n,LSe=U1.p,gj={x:U1.Gx,y:U1.Gy},$Se=BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(4);const FSe=e=>Ls(e,uE);function pq(e,t=!1){if(!t)return!1;throw new Error(e)}function DSe(e,t,r){const n=dn.bytes(e);return n.length!==t?pq(`Invalid byte size: ${n.hex} !== ${t}`,r):!0}function HSe(e,t){return typeof e=="bigint"&&$Se<e&&e<uE||pq("x value is not in the field!",t),!0}const KSe=vw(uE,32,!0),yj=Q0.ProjectivePoint,ib=KSe;var Mn;let Sy=(Mn=class extends Uint8Array{static add(e){return e.map(t=>Mn.mod(t)).reduce((t,r)=>t.add(r))}static mod(e){return new Mn(e)}static mul(e){return e.map(t=>Mn.mod(t)).reduce((t,r)=>t.mul(r))}static is_valid(e,t){const r=dn.bytes(e,32).big;return HSe(r,t)}constructor(e){const t=FSe(VSe(e));Mn.is_valid(t,!0),super(dn.big(t,32),32)}get buff(){return new dn(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(e){return new Mn(e).big>this.big}lt(e){return new Mn(e).big<this.big}eq(e){return new Mn(e).big===this.big}ne(e){return new Mn(e).big!==this.big}add(e){const t=Mn.mod(e),r=ib.add(this.big,t.big);return new Mn(r)}sub(e){const t=Mn.mod(e),r=ib.sub(this.big,t.big);return new Mn(r)}mul(e){const t=Mn.mod(e),r=ib.mul(this.big,t.big);return new Mn(r)}pow(e){const t=Mn.mod(e),r=ib.pow(this.big,t.big);return new Mn(r)}div(e){const t=Mn.mod(e),r=ib.div(this.big,t.big);return new Mn(r)}negate(){return new Mn(Mn.N-this.big)}generate(){const e=Q0.ProjectivePoint.BASE.multiply(this.big);return UO.import(e)}},Mn.N=uE,Mn);var fn;let UO=(fn=class{static from_x(e,t=!1){let r=WSe(e);r.length===32?r=r.prepend(2):t&&(r[0]=2),DSe(r,33);const n=yj.fromHex(r.hex);return n.assertValidity(),new fn(n.x,n.y)}static generate(e){const t=Sy.mod(e),r=fn.base.multiply(t.big);return fn.import(r)}static import(e){const t=e instanceof fn?{x:e.x.big,y:e.y.big}:{x:e.x,y:e.y};return new fn(t.x,t.y)}constructor(e,t){this._p=new yj(e,t,1n),this.p.assertValidity()}get p(){return this._p}get x(){return dn.big(this.p.x,32)}get y(){return dn.big(this.p.y,32)}get buff(){return dn.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}get negated(){return this.hasOddY?this.negate():this}eq(e){const t=e instanceof fn?e:fn.from_x(e);return this.x.big===t.x.big&&this.y.big===t.y.big}add(e){return e instanceof fn?fn.import(this.p.add(e.p)):fn.import(this.p.add(fn.generate(e).p))}sub(e){return e instanceof fn?fn.import(this.p.subtract(e.p)):fn.import(this.p.subtract(fn.generate(e).p))}mul(e){return e instanceof fn?fn.import(this.p.multiply(e.x.big)):fn.import(this.p.multiply(Sy.mod(e).big))}negate(){return fn.import(this.p.negate())}},fn.P=LSe,fn.G=new fn(gj.x,gj.y),fn.curve=Q0.CURVE,fn.base=Q0.ProjectivePoint.BASE,fn.mul=fn.generate,fn);function VSe(e){if(e instanceof Sy)return e.big;if(e instanceof UO)return e.x.big;if(e instanceof Uint8Array)return dn.raw(e).big;if(typeof e=="string")return dn.hex(e).big;if(typeof e=="number")return dn.num(e).big;if(typeof e=="bigint")return BigInt(e);throw TypeError("Invalid input type:"+typeof e)}function WSe(e){if(e instanceof Sy)return e.point.buff;if(e instanceof UO)return e.buff;if(e instanceof Uint8Array||typeof e=="string")return dn.bytes(e);if(typeof e=="number"||typeof e=="bigint")return dn.bytes(e,32);throw new TypeError(`Unknown type: ${typeof e}`)}function qSe(e,t=!1){const r=Sy.mod(e);return t?r.negated.buff:r.buff}function gq(e,t=!1){const r=Sy.mod(e).point;return t?r.x:r.buff}function _k(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function ZSe(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function yq(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function GSe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_k(e.outputLen),_k(e.blockLen)}function XSe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function QSe(e,t){yq(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const YSe={number:_k,bool:ZSe,bytes:yq,hash:GSe,exists:XSe,output:QSe};var LS=YSe;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $S=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),qu=(e,t)=>e<<32-t|e>>>t,JSe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!JSe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function e7e(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function mq(e){if(typeof e=="string"&&(e=e7e(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let t7e=class{clone(){return this._cloneInto()}};function bq(e){const t=n=>e().update(mq(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function r7e(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}let n7e=class extends t7e{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=$S(this.buffer)}update(e){LS.exists(this);const{view:t,buffer:r,blockLen:n}=this;e=mq(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){const a=$S(e);for(;n<=i-o;o+=n)this.process(a,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){LS.exists(this),LS.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let u=o;u<n;u++)t[u]=0;r7e(r,n-8,BigInt(this.length*8),i),this.process(r,0);const s=$S(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)s.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}};const i7e=(e,t,r)=>e&t^~e&r,o7e=(e,t,r)=>e&t^e&r^t&r,s7e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),df=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),hf=new Uint32Array(64);let vq=class extends n7e{constructor(){super(64,32,8,!1),this.A=df[0]|0,this.B=df[1]|0,this.C=df[2]|0,this.D=df[3]|0,this.E=df[4]|0,this.F=df[5]|0,this.G=df[6]|0,this.H=df[7]|0}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=e|0,this.B=t|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)hf[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const h=hf[u-15],g=hf[u-2],k=qu(h,7)^qu(h,18)^h>>>3,R=qu(g,17)^qu(g,19)^g>>>10;hf[u]=R+hf[u-7]+k+hf[u-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const h=qu(s,6)^qu(s,11)^qu(s,25),g=c+h+i7e(s,a,l)+s7e[u]+hf[u]|0,k=(qu(r,2)^qu(r,13)^qu(r,22))+o7e(r,n,i)|0;c=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+k|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,l,c)}roundClean(){hf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},a7e=class extends vq{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const Sk=bq(()=>new vq);bq(()=>new a7e);function u7e(e,t){if(e.length>t)throw new TypeError(`Data is larger than array size: ${e.length} > ${t}`)}function l7e(e){if(e.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+e);if(e.length%2!==0)throw new Error(`Length of hex string is invalid: ${e.length}`)}function c7e(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}const{getRandomValues:f7e}=crypto??globalThis.crypto??window.crypto;function d7e(e=32){if(typeof f7e=="function")return crypto.getRandomValues(new Uint8Array(e));throw new Error("Crypto module missing getRandomValues!")}function h7e(e,t,r="be"){t===void 0&&(t=e.length),u7e(e,t);const n=new Uint8Array(t).fill(0),i=r==="be"?0:t-e.length;return n.set(e,i),n}function wq(e){let t,r=0;const n=e.reduce((o,s)=>o+s.length,0),i=new Uint8Array(n);for(t=0;t<e.length;t++){const o=e[t];i.set(o,r),r+=o.length}return i}const p7e=new TextEncoder,g7e=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function Eq(e){for(const t of g7e)if(t.name===e)return t.charset;throw TypeError("Charset does not exist: "+e)}function y7e(e,t,r=!1){typeof e=="string"&&(e=p7e.encode(e));const n=Eq(t),i=n.length,o=[];let s="",a,l=0,c,u;for(a=0;a<e.length;a++)for(l=0,c=e[a],s+=c>0||(s.length^a)>0?"":"1";l in o||c>0;)u=o[l],u=u>0?u*256+c:c,c=u/i|0,o[l]=u%i,l++;for(;l-- >0;)s+=n[o[l]];return r&&s.length%4>0?s+"=".repeat(4-s.length%4):s}function m7e(e,t){const r=Eq(t),n=r.length,i=[],o=[];e=e.replace("=","");let s,a=0,l,c;for(s=0;s<e.length;s++){if(a=0,l=r.indexOf(e[s]),l<0)throw new Error(`Character range out of bounds: ${l}`);for(l>0||(o.length^s)>0||o.push(0);a in i||l>0;)c=i[a],c=c>0?c*n+l:l,l=c>>8,i[a]=c%256,a++}for(;a-- >0;)o.push(i[a]);return new Uint8Array(o)}function _q(e){return Sk(Sk(e))}function b7e(e){const t=_q(e);return wq([e,t.slice(0,4)])}function v7e(e){const t=e.slice(0,-4),r=e.slice(-4);if(_q(t).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return t}const mj={encode:y7e,decode:m7e},Sq={encode:e=>{const t=b7e(e);return mj.encode(t,"base58")},decode:e=>{const t=mj.decode(e,"base58");return v7e(t)}},kq="qpzry9x8gf2tvdw0s3jn54khce6mua7l",w7e=[996825010,642813549,513874426,1027748829,705979059],z1=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function xq(e){let t=1;for(let r=0;r<e.length;++r){const n=t>>25;t=(t&33554431)<<5^e[r];for(let i=0;i<5;++i)n>>i&1&&(t^=w7e[i])}return t}function Aq(e){const t=[];let r;for(r=0;r<e.length;++r)t.push(e.charCodeAt(r)>>5);for(t.push(0),r=0;r<e.length;++r)t.push(e.charCodeAt(r)&31);return t}function E7e(e,t,r){const n=Aq(e).concat(t);return xq(n)===r.const}function _7e(e,t,r){const n=Aq(e).concat(t).concat([0,0,0,0,0,0]),i=xq(n)^r.const,o=[];for(let s=0;s<6;++s)o.push(i>>5*(5-s)&31);return o}function Oq(e,t,r,n=!0){const i=[];let o=0,s=0;const a=(1<<r)-1,l=(1<<t+r-1)-1;for(const c of e){if(c<0||c>>t>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(o=(o<<t|c)&l,s+=t;s>=r;)s-=r,i.push(o>>s&a)}if(n)s>0&&i.push(o<<r-s&a);else if(s>=t||(o<<r-s&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function S7e(e,t,r){const n=t.concat(_7e(e,t,r));let i=e+"1";for(let o=0;o<n.length;++o)i+=kq.charAt(n[o]);return i}function Pq(e){if(!k7e(e))throw new Error("Encoded string goes out of bounds!");if(e=e.toLowerCase(),!x7e(e))throw new Error("Encoded string has invalid separator!");const t=[],r=e.lastIndexOf("1"),n=e.substring(0,r);for(let o=r+1;o<e.length;++o){const s=kq.indexOf(e.charAt(o));if(s===-1)throw new Error("Character idx out of bounds: "+String(o));t.push(s)}const i=z1.find(o=>o.version===t[0])??z1[0];if(!E7e(n,t,i))throw new Error("Checksum verification failed!");return[n,t.slice(0,t.length-6)]}function k7e(e){let t,r,n=!1,i=!1;for(t=0;t<e.length;++t){if(r=e.charCodeAt(t),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function x7e(e){const t=e.lastIndexOf("1");return!(t<1||t+7>e.length||e.length>90)}function A7e(e,t="bc",r=0){const n=[r,...Oq([...e],8,5)],i=z1.find(s=>s.version===r)??z1[0],o=S7e(t,n,i);return Tq(o),o}function Tq(e){e=e.toLowerCase();const t=e.split("1",1)[0],[r,n]=Pq(e),i=Oq(n.slice(1),5,8,!1),o=i.length;switch(!0){case t!==r:throw new Error("Returned hrp string is invalid.");case(i===null||o<2||o>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function O7e(e){e=e.toLowerCase();const[t,r]=Pq(e);return r[0]}const Iq={encode:A7e,decode:Tq,version:O7e},Bq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nq="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",P7e=new TextEncoder;function Mq(e,t=!1,r=!0){typeof e=="string"&&(e=P7e.encode(e));const n=t?Nq:Bq;let i="",o=0,s=0;for(let a=0;a<e.length;a++)for(s=s<<8|e[a],o+=8;o>=6;)o-=6,i+=n[s>>o&63];if(o>0)for(s<<=6-o,i+=n[s&63];o<6;)i+=r?"=":"",o+=2;return i}function Rq(e,t=!1){const r=t||e.includes("-")||e.includes("_")?Nq.split(""):Bq.split("");e=e.replace(/=+$/,"");const n=e.split("");let i=0,o=0;const s=[];for(let a=0;a<n.length;a++){const l=n[a],c=r.indexOf(l);if(c===-1)throw new Error("Invalid character: "+l);i+=6,o<<=6,o|=c,i>=8&&(i-=8,s.push(o>>>i&255))}return new Uint8Array(s)}const Cq={encode:Mq,decode:Rq},jq={encode:e=>Mq(e,!0,!1),decode:e=>Rq(e,!0)},T7e=BigInt(0),I7e=BigInt(255),Uq=BigInt(256);function B7e(e){if(e<=0xffn)return 1;if(e<=0xffffn)return 2;if(e<=0xffffffffn)return 4;if(e<=0xffffffffffffffffn)return 8;if(e<=0xffffffffffffffffffffffffffffffffn)return 16;if(e<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function N7e(e,t,r="be"){t===void 0&&(t=B7e(e));const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(;e>T7e;){const a=e&I7e,l=Number(a);n?o.setUint8(s++,l):o.setUint8(s--,l),e=(e-a)/Uq}return new Uint8Array(i)}function M7e(e){let t=BigInt(0);for(let r=e.length-1;r>=0;r--)t=t*Uq+BigInt(e[r]);return BigInt(t)}function R7e(e){const t=e.split("").map(Number);if(t.length%8!==0)throw new Error(`Binary array is invalid length: ${e.length}`);const r=new Uint8Array(t.length/8);for(let n=0,i=0;n<t.length;n+=8,i++){let o=0;for(let s=0;s<8;s++)o|=t[n+s]<<7-s;r[i]=o}return r}function C7e(e){const t=new Array(e.length*8);let r=0;for(const n of e){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)t[r]=n>>i&1}return t.join("")}function j7e(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function U7e(e,t,r="be"){t===void 0&&(t=j7e(e));const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(;e>0;){const a=e&255;n?o.setUint8(s++,e):o.setUint8(s--,e),e=(e-a)/256}return new Uint8Array(i)}function z7e(e){let t=0;for(let r=e.length-1;r>=0;r--)t=t*256+e[r],c7e(t);return t}const L7e=new TextEncoder,$7e=new TextDecoder;function zO(e){return L7e.encode(e)}function FS(e){return $7e.decode(e)}function F7e(e,t){l7e(e);const r=e.length/2;if(t===void 0&&(t=r),r>t)throw new TypeError(`Hex string is larger than array size: ${r} > ${t}`);return t}function D7e(e,t,r="le"){t=F7e(e,t);const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(let a=0;a<e.length;a+=2){const l=e.substring(a,a+2),c=parseInt(l,16);n?o.setUint8(s++,c):o.setUint8(s--,c)}return new Uint8Array(i)}function H7e(e){let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}function K7e(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`${n}n`:n);return zO(t)}function V7e(e,t,r){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return h7e(e,t,r);if(typeof e=="string")return D7e(e,t,r);if(typeof e=="bigint")return N7e(e,t,r);if(typeof e=="number")return U7e(e,t,r);if(typeof e=="boolean")return Uint8Array.of(e?1:0);throw TypeError("Unsupported format:"+typeof e)}var Br;let Ve=(Br=class extends Uint8Array{static random(e=32){const t=d7e(e);return new Br(t,e)}constructor(e,t,r){const n=V7e(e,t,r);super(n)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new pm(this)}toNum(e="be"){const t=e==="be"?this.reverse():this;return z7e(t)}toBin(){return C7e(this)}toBig(e="be"){const t=e==="be"?this.reverse():this;return M7e(t)}toHash(){const e=Sk(this);return new Br(e)}toJson(){const e=FS(this);return JSON.parse(e)}toBech32(e,t=0){return Iq.encode(this,e,t)}toStr(){return FS(this)}toHex(){return H7e(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return Sq.encode(this)}toBase64(){return Cq.encode(this)}toB64url(){return jq.encode(this)}prepend(e){return Br.join([Br.bytes(e),this])}append(e){return Br.join([this,Br.bytes(e)])}slice(e,t){const r=new Uint8Array(this).slice(e,t);return new Br(r)}subarray(e,t){const r=new Uint8Array(this).subarray(e,t);return new Br(r)}reverse(){const e=new Uint8Array(this).reverse();return new Br(e)}write(e,t){const r=Br.bytes(e);this.set(r,t)}prefixSize(e){const t=Br.varInt(this.length,e);return Br.join([t,this])}static from(e){return new Br(Uint8Array.from(e))}static of(...e){return new Br(Uint8Array.of(...e))}static join(e){const t=e.map(n=>Br.bytes(n)),r=wq(t);return new Br(r)}static varInt(e,t){if(e<253)return Br.num(e,1);if(e<65536)return Br.of(253,...Br.num(e,2,t));if(e<4294967296)return Br.of(254,...Br.num(e,4,t));if(BigInt(e)<0x10000000000000000n)return Br.of(255,...Br.num(e,8,t));throw new Error(`Value is too large: ${e}`)}},Br.num=W7e,Br.big=Z7e,Br.bin=q7e,Br.raw=G7e,Br.str=X7e,Br.hex=Q7e,Br.bytes=Y7e,Br.json=J7e,Br.base64=e9e,Br.b64url=t9e,Br.bech32=r9e,Br.b58chk=n9e,Br.encode=zO,Br.decode=FS,Br);function W7e(e,t,r){return new Ve(e,t,r)}function q7e(e,t,r){return new Ve(R7e(e),t,r)}function Z7e(e,t,r){return new Ve(e,t,r)}function G7e(e,t,r){return new Ve(e,t,r)}function X7e(e,t,r){return new Ve(zO(e),t,r)}function Q7e(e,t,r){return new Ve(e,t,r)}function Y7e(e,t,r){return new Ve(e,t,r)}function J7e(e){return new Ve(K7e(e))}function e9e(e){return new Ve(Cq.decode(e))}function t9e(e){return new Ve(jq.decode(e))}function r9e(e){return new Ve(Iq.decode(e))}function n9e(e){return new Ve(Sq.decode(e))}let pm=class{constructor(e){this.data=Ve.bytes(e),this.size=this.data.length}peek(e){if(e>this.size)throw new Error(`Size greater than stream: ${e} > ${this.size}`);return new Ve(this.data.slice(0,e))}read(e){e=e??this.readSize();const t=this.peek(e);return this.data=this.data.slice(e),this.size=this.data.length,t}readSize(e){const t=this.read(1).num;switch(!0){case(t>=0&&t<253):return t;case t===253:return this.read(2).toNum(e);case t===254:return this.read(4).toNum(e);case t===255:return this.read(8).toNum(e);default:throw new Error(`Varint is out of range: ${t}`)}}};function Ml(e,t){const r=Ve.bytes(e);if(r.length!==t)throw new Error(`Invalid input size: ${r.hex} !== ${t}`)}function $s(e,t){if(t)throw new Error(e);return!1}function d8(e,...t){const r=Ve.str(e).digest.raw,n=t.map(i=>Ve.bytes(i));return Ve.join([r,r,Ve.join(n)]).digest}const zq={OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_SUCCESS80:80,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_SUCCESS98:98,OP_IF:99,OP_NOTIF:100,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_SUCCESS126:126,OP_SUCCESS127:127,OP_SUCCESS128:128,OP_SUCCESS129:129,OP_SIZE:130,OP_SUCCESS131:131,OP_SUCCESS132:132,OP_SUCCESS133:133,OP_SUCCESS134:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_SUCCESS137:137,OP_SUCCESS138:138,OP_1ADD:139,OP_1SUB:140,OP_SUCCESS141:141,OP_SUCCESS142:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_SUCCESS149:149,OP_SUCCESS150:150,OP_SUCCESS151:151,OP_SUCCESS152:152,OP_SUCCESS153:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_SUCCESS187:187,OP_SUCCESS188:188,OP_SUCCESS189:189,OP_SUCCESS190:190,OP_SUCCESS191:191,OP_SUCCESS192:192,OP_SUCCESS193:193,OP_SUCCESS194:194,OP_SUCCESS195:195,OP_SUCCESS196:196,OP_SUCCESS197:197,OP_SUCCESS198:198,OP_SUCCESS199:199,OP_SUCCESS200:200,OP_SUCCESS201:201,OP_SUCCESS202:202,OP_SUCCESS203:203,OP_SUCCESS204:204,OP_SUCCESS205:205,OP_SUCCESS206:206,OP_SUCCESS207:207,OP_SUCCESS208:208,OP_SUCCESS209:209,OP_SUCCESS210:210,OP_SUCCESS211:211,OP_SUCCESS212:212,OP_SUCCESS213:213,OP_SUCCESS214:214,OP_SUCCESS215:215,OP_SUCCESS216:216,OP_SUCCESS217:217,OP_SUCCESS218:218,OP_SUCCESS219:219,OP_SUCCESS220:220,OP_SUCCESS221:221,OP_SUCCESS222:222,OP_SUCCESS223:223,OP_SUCCESS224:224,OP_SUCCESS225:225,OP_SUCCESS226:226,OP_SUCCESS227:227,OP_SUCCESS228:228,OP_SUCCESS229:229,OP_SUCCESS230:230,OP_SUCCESS231:231,OP_SUCCESS232:232,OP_SUCCESS233:233,OP_SUCCESS234:234,OP_SUCCESS235:235,OP_SUCCESS236:236,OP_SUCCESS237:237,OP_SUCCESS238:238,OP_SUCCESS239:239,OP_SUCCESS240:240,OP_SUCCESS241:241,OP_SUCCESS242:242,OP_SUCCESS243:243,OP_SUCCESS244:244,OP_SUCCESS245:245,OP_SUCCESS246:246,OP_SUCCESS247:247,OP_SUCCESS248:248,OP_SUCCESS249:249,OP_SUCCESS250:250,OP_SUCCESS251:251,OP_SUCCESS252:252,OP_SUCCESS253:253,OP_SUCCESS254:254};function i9e(e){if(e>186&&e<255)return"OP_SUCCESS"+String(e);for(const[t,r]of Object.entries(zq))if(r===e)return t;throw new Error("OPCODE not found:"+String(e))}function o9e(e){for(const[t,r]of Object.entries(zq))if(t===e)return Number(r);throw new Error("OPCODE not found:"+e)}function s9e(e){switch(!0){case e===0:return"opcode";case(e>=1&&e<=75):return"varint";case e===76:return"pushdata1";case e===77:return"pushdata2";case e===78:return"pushdata4";case e<=254:return"opcode";default:throw new Error(`Invalid word range: ${e}`)}}function a9e(e){const t=[];switch(!0){case typeof e!="number":return!1;case e===0:return!0;case t.includes(e):return!1;case(75<e&&e<254):return!0;default:return!1}}function Fc(e){return typeof e=="string"&&e.length%2===0&&/[0-9a-fA-F]/.test(e)}function Lq(e){return Fc(e)||e instanceof Uint8Array}const L1=520;function yp(e=[],t=!0){let r=Ve.num(0);return Array.isArray(e)&&(r=Ve.raw($q(e))),Fc(e)&&(r=Ve.hex(e)),e instanceof Uint8Array&&(r=Ve.raw(e)),t&&(r=r.prefixSize("le")),r}function $q(e){const t=[];for(const r of e)t.push(u9e(r));return t.length>0?Ve.join(t):new Uint8Array}function u9e(e){let t=new Uint8Array;if(typeof e=="string"){if(e.startsWith("OP_"))return Ve.num(o9e(e),1);Fc(e)?t=Ve.hex(e):t=Ve.str(e)}else t=Ve.bytes(e);if(t.length===1)return t[0]!==0&&t[0]<=16?(t[0]+=80,t):(t[0]>128&&t[0]<=255&&(t=new Uint8Array([t[0],0])),Ve.join([bj(t.length),t]));if(t.length>L1){const r=l9e(t);return $q(r)}else return Ve.join([bj(t.length),t])}function bj(e){const t=Ve.num(76,1),r=Ve.num(77,1);switch(!0){case e<=75:return Ve.num(e);case(e>75&&e<256):return Ve.join([t,Ve.num(e,1,"le")]);case(e>=256&&e<=L1):return Ve.join([r,Ve.num(e,2,"le")]);default:throw new Error("Invalid word size:"+e.toString())}}function l9e(e){const t=[],r=new pm(e);for(;r.size>L1;)t.push(r.read(L1));return t.push(r.read(r.size)),t}function LO(e,t=!1){let r=Ve.bytes(e);if(t){const n=r.stream.readSize("le");if(r=r.slice(1),r.length!==n)throw new Error(`Varint does not match stream size: ${n} !== ${r.length}`)}return c9e(r)}function c9e(e){const t=new pm(e),r=[],n=t.size;let i,o,s,a=0;for(;a<n;)switch(i=t.read(1).num,o=s9e(i),a++,o){case"varint":r.push(t.read(i).hex),a+=i;break;case"pushdata1":s=t.read(1).reverse().num,r.push(t.read(s).hex),a+=s+1;break;case"pushdata2":s=t.read(2).reverse().num,r.push(t.read(s).hex),a+=s+2;break;case"pushdata4":s=t.read(4).reverse().num,r.push(t.read(s).hex),a+=s+4;break;case"opcode":if(!a9e(i))throw new Error(`Invalid OPCODE: ${i}`);r.push(i9e(i));break;default:throw new Error(`Word type undefined: ${i}`)}return r}function f9e(e,t){if(Array.isArray(e)&&(e=yp(e,t)),e instanceof Uint8Array||Fc(e))return LO(e,t);throw new Error("Invalid format: "+typeof e)}function d9e(e,t){if((e instanceof Uint8Array||Fc(e))&&(e=LO(e,t)),Array.isArray(e))return yp(e,t);throw new Error("Invalid format: "+typeof e)}function h9e(e){if(!Array.isArray(e))return Ve.bytes(e);throw new Error("Invalid format: "+typeof e)}const p9e={toAsm:f9e,toBytes:d9e,toParam:h9e},Rl={encode:yp,decode:LO,fmt:p9e};function kk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function g9e(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Fq(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function y9e(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");kk(e.outputLen),kk(e.blockLen)}function m9e(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function b9e(e,t){Fq(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const v9e={number:kk,bool:g9e,bytes:Fq,hash:y9e,exists:m9e,output:b9e};var vh=v9e;const DS=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HS=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Zu=(e,t)=>e<<32-t|e>>>t,w9e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!w9e)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function E9e(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function $O(e){if(typeof e=="string"&&(e=E9e(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function _9e(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((n,i)=>n+i.length,0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}let Dq=class{clone(){return this._cloneInto()}};function Hq(e){const t=n=>e().update($O(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function S9e(e=32){if(DS&&typeof DS.getRandomValues=="function")return DS.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}function k9e(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}let x9e=class extends Dq{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=HS(this.buffer)}update(e){vh.exists(this);const{view:t,buffer:r,blockLen:n}=this;e=$O(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){const a=HS(e);for(;n<=i-o;o+=n)this.process(a,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){vh.exists(this),vh.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let u=o;u<n;u++)t[u]=0;k9e(r,n-8,BigInt(this.length*8),i),this.process(r,0);const s=HS(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)s.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}};const A9e=(e,t,r)=>e&t^~e&r,O9e=(e,t,r)=>e&t^e&r^t&r,P9e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),pf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),gf=new Uint32Array(64);let Kq=class extends x9e{constructor(){super(64,32,8,!1),this.A=pf[0]|0,this.B=pf[1]|0,this.C=pf[2]|0,this.D=pf[3]|0,this.E=pf[4]|0,this.F=pf[5]|0,this.G=pf[6]|0,this.H=pf[7]|0}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=e|0,this.B=t|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)gf[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const h=gf[u-15],g=gf[u-2],k=Zu(h,7)^Zu(h,18)^h>>>3,R=Zu(g,17)^Zu(g,19)^g>>>10;gf[u]=R+gf[u-7]+k+gf[u-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const h=Zu(s,6)^Zu(s,11)^Zu(s,25),g=c+h+A9e(s,a,l)+P9e[u]+gf[u]|0,k=(Zu(r,2)^Zu(r,13)^Zu(r,22))+O9e(r,n,i)|0;c=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+k|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,l,c)}roundClean(){gf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},T9e=class extends Kq{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const Vq=Hq(()=>new Kq);Hq(()=>new T9e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const I9e=BigInt(0),FO=BigInt(1),B9e=BigInt(2),lE=e=>e instanceof Uint8Array,N9e=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ky(e){if(!lE(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=N9e[e[r]];return t}function Wq(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function DO(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function xy(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("invalid byte sequence");t[r]=o}return t}function Jf(e){return DO(ky(e))}function HO(e){if(!lE(e))throw new Error("Uint8Array expected");return DO(ky(Uint8Array.from(e).reverse()))}const Qg=(e,t)=>xy(e.toString(16).padStart(t*2,"0")),qq=(e,t)=>Qg(e,t).reverse(),M9e=e=>xy(Wq(e));function ka(e,t,r){let n;if(typeof t=="string")try{n=xy(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(lE(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${e} expected ${r} bytes, got ${i}`);return n}function du(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.length,0));let r=0;return e.forEach(n=>{if(!lE(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function R9e(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function cE(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function C9e(e){let t;for(t=0;e>0n;e>>=FO,t+=1);return t}const j9e=(e,t)=>e>>BigInt(t)&1n,U9e=(e,t,r)=>e|(r?FO:I9e)<<BigInt(t),KO=e=>(B9e<<BigInt(e-1))-FO,KS=e=>new Uint8Array(e),vj=e=>Uint8Array.from(e);function Zq(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=KS(e),i=KS(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...u)=>r(i,n,...u),l=(u=KS())=>{i=a(vj([0]),u),n=a(),u.length!==0&&(i=a(vj([1]),u),n=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const h=[];for(;u<t;){n=a();const g=n.slice();h.push(g),u+=n.length}return du(...h)};return(u,h)=>{s(),l(u);let g;for(;!(g=h(c()));)l();return s(),g}}const z9e={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function gm(e,t,r={}){const n=(i,o,s)=>{const a=z9e[o];if(typeof a!="function")throw new Error(`Invalid validator "${o}", expected function`);const l=e[i];if(!(s&&l===void 0)&&!a(l,e))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${o}`)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}var L9e=Object.freeze({__proto__:null,bitGet:j9e,bitLen:C9e,bitMask:KO,bitSet:U9e,bytesToHex:ky,bytesToNumberBE:Jf,bytesToNumberLE:HO,concatBytes:du,createHmacDrbg:Zq,ensureBytes:ka,equalBytes:R9e,hexToBytes:xy,hexToNumber:DO,numberToBytesBE:Qg,numberToBytesLE:qq,numberToHexUnpadded:Wq,numberToVarBytesBE:M9e,utf8ToBytes:cE,validateObject:gm});/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ji=BigInt(0),ni=BigInt(1),sh=BigInt(2),$9e=BigInt(3),xk=BigInt(4),wj=BigInt(5),Ej=BigInt(8);BigInt(9);BigInt(16);function vo(e,t){const r=e%t;return r>=ji?r:t+r}function F9e(e,t,r){if(r<=ji||t<ji)throw new Error("Expected power/modulo > 0");if(r===ni)return ji;let n=ni;for(;t>ji;)t&ni&&(n=n*e%r),e=e*e%r,t>>=ni;return n}function ya(e,t,r){let n=e;for(;t-- >ji;)n*=n,n%=r;return n}function Ak(e,t){if(e===ji||t<=ji)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=vo(e,t),n=t,i=ji,o=ni;for(;r!==ji;){const s=n/r,a=n%r,l=i-o*s;n=r,r=a,i=o,o=l}if(n!==ni)throw new Error("invert: does not exist");return vo(i,t)}function D9e(e){const t=(e-ni)/sh;let r,n,i;for(r=e-ni,n=0;r%sh===ji;r/=sh,n++);for(i=sh;i<e&&F9e(i,t,e)!==e-ni;i++);if(n===1){const s=(e+ni)/xk;return function(a,l){const c=a.pow(l,s);if(!a.eql(a.sqr(c),l))throw new Error("Cannot find square root");return c}}const o=(r+ni)/sh;return function(s,a){if(s.pow(a,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let l=n,c=s.pow(s.mul(s.ONE,i),r),u=s.pow(a,o),h=s.pow(a,r);for(;!s.eql(h,s.ONE);){if(s.eql(h,s.ZERO))return s.ZERO;let g=1;for(let R=s.sqr(h);g<l&&!s.eql(R,s.ONE);g++)R=s.sqr(R);const k=s.pow(c,ni<<BigInt(l-g-1));c=s.sqr(k),u=s.mul(u,k),h=s.mul(h,c),l=g}return u}}function H9e(e){if(e%xk===$9e){const t=(e+ni)/xk;return function(r,n){const i=r.pow(n,t);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(e%Ej===wj){const t=(e-wj)/Ej;return function(r,n){const i=r.mul(n,sh),o=r.pow(i,t),s=r.mul(n,o),a=r.mul(r.mul(s,sh),o),l=r.mul(s,r.sub(a,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return D9e(e)}const K9e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Gq(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=K9e.reduce((n,i)=>(n[i]="function",n),t);return gm(e,r)}function V9e(e,t,r){if(r<ji)throw new Error("Expected power > 0");if(r===ji)return e.ONE;if(r===ni)return t;let n=e.ONE,i=t;for(;r>ji;)r&ni&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ni;return n}function W9e(e,t){const r=new Array(t.length),n=t.reduce((o,s,a)=>e.is0(s)?o:(r[a]=o,e.mul(o,s)),e.ONE),i=e.inv(n);return t.reduceRight((o,s,a)=>e.is0(s)?o:(r[a]=e.mul(o,r[a]),e.mul(o,s)),i),r}function VO(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Xq(e,t,r=!1,n={}){if(e<=ji)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:i,nByteLength:o}=VO(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=H9e(e),a=Object.freeze({ORDER:e,BITS:i,BYTES:o,MASK:KO(i),ZERO:ji,ONE:ni,create:l=>vo(l,e),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return ji<=l&&l<e},is0:l=>l===ji,isOdd:l=>(l&ni)===ni,neg:l=>vo(-l,e),eql:(l,c)=>l===c,sqr:l=>vo(l*l,e),add:(l,c)=>vo(l+c,e),sub:(l,c)=>vo(l-c,e),mul:(l,c)=>vo(l*c,e),pow:(l,c)=>V9e(a,l,c),div:(l,c)=>vo(l*Ak(c,e),e),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>Ak(l,e),sqrt:n.sqrt||(l=>s(a,l)),invertBatch:l=>W9e(a,l),cmov:(l,c,u)=>u?c:l,toBytes:l=>r?qq(l,o):Qg(l,o),fromBytes:l=>{if(l.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${l.length}`);return r?HO(l):Jf(l)}});return Object.freeze(a)}function q9e(e,t,r=!1){e=ka("privateHash",e);const n=e.length,i=VO(t).nByteLength+8;if(i<24||n<i||n>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);const o=r?HO(e):Jf(e);return vo(o,t-ni)+ni}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z9e=BigInt(0),VS=BigInt(1);function G9e(e,t){const r=(i,o)=>{const s=o.negate();return i?s:o},n=i=>{const o=Math.ceil(t/i)+1,s=2**(i-1);return{windows:o,windowSize:s}};return{constTimeNegate:r,unsafeLadder(i,o){let s=e.ZERO,a=i;for(;o>Z9e;)o&VS&&(s=s.add(a)),a=a.double(),o>>=VS;return s},precomputeWindow(i,o){const{windows:s,windowSize:a}=n(o),l=[];let c=i,u=c;for(let h=0;h<s;h++){u=c,l.push(u);for(let g=1;g<a;g++)u=u.add(c),l.push(u);c=u.double()}return l},wNAF(i,o,s){const{windows:a,windowSize:l}=n(i);let c=e.ZERO,u=e.BASE;const h=BigInt(2**i-1),g=2**i,k=BigInt(i);for(let R=0;R<a;R++){const F=R*l;let D=Number(s&h);s>>=k,D>l&&(D-=g,s+=VS);const $=F,B=F+Math.abs(D)-1,U=R%2!==0,q=D<0;D===0?u=u.add(r(U,o[$])):c=c.add(r(q,o[B]))}return{p:c,f:u}},wNAFCached(i,o,s,a){const l=i._WINDOW_SIZE||1;let c=o.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&o.set(i,a(c))),this.wNAF(l,c,s)}}}function Qq(e){return Gq(e.Fp),gm(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...VO(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function X9e(e){const t=Qq(e);gm(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Q9e,hexToBytes:Y9e}=L9e,wh={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=wh;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new t("Invalid signature integer: trailing length");return{d:Q9e(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=wh,r=typeof e=="string"?Y9e(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:i,l:o}=wh._parseInt(r.subarray(2)),{d:s,l:a}=wh._parseInt(o);if(a.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s}},hexFromSig(e){const t=c=>Number.parseInt(c[0],16)>=8?"00"+c:c,r=c=>{const u=c.toString(16);return u.length&1?`0${u}`:u},n=t(r(e.s)),i=t(r(e.r)),o=n.length/2,s=i.length/2,a=r(o),l=r(s);return`30${r(s+o+4)}02${l}${i}02${a}${n}`}},hu=BigInt(0),wi=BigInt(1),Gl=BigInt(2),$1=BigInt(3),_j=BigInt(4);function J9e(e){const t=X9e(e),{Fp:r}=t,n=t.toBytes||((R,F,D)=>{const $=F.toAffine();return du(Uint8Array.from([4]),r.toBytes($.x),r.toBytes($.y))}),i=t.fromBytes||(R=>{const F=R.subarray(1),D=r.fromBytes(F.subarray(0,r.BYTES)),$=r.fromBytes(F.subarray(r.BYTES,2*r.BYTES));return{x:D,y:$}});function o(R){const{a:F,b:D}=t,$=r.sqr(R),B=r.mul($,R);return r.add(r.add(B,r.mul(R,F)),D)}function s(R){return typeof R=="bigint"&&hu<R&&R<t.n}function a(R){if(!s(R))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(R){const{allowedPrivateKeyLengths:F,nByteLength:D,wrapPrivateKey:$,n:B}=t;if(F&&typeof R!="bigint"){if(R instanceof Uint8Array&&(R=ky(R)),typeof R!="string"||!F.includes(R.length))throw new Error("Invalid key");R=R.padStart(D*2,"0")}let U;try{U=typeof R=="bigint"?R:Jf(ka("private key",R,D))}catch{throw new Error(`private key must be ${D} bytes, hex or bigint, not ${typeof R}`)}return $&&(U=vo(U,B)),a(U),U}const c=new Map;function u(R){if(!(R instanceof h))throw new Error("ProjectivePoint expected")}class h{constructor(F,D,$){if(this.px=F,this.py=D,this.pz=$,F==null||!r.isValid(F))throw new Error("x required");if(D==null||!r.isValid(D))throw new Error("y required");if($==null||!r.isValid($))throw new Error("z required")}static fromAffine(F){const{x:D,y:$}=F||{};if(!F||!r.isValid(D)||!r.isValid($))throw new Error("invalid affine point");if(F instanceof h)throw new Error("projective point not allowed");const B=U=>r.eql(U,r.ZERO);return B(D)&&B($)?h.ZERO:new h(D,$,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(F){const D=r.invertBatch(F.map($=>$.pz));return F.map(($,B)=>$.toAffine(D[B])).map(h.fromAffine)}static fromHex(F){const D=h.fromAffine(i(ka("pointHex",F)));return D.assertValidity(),D}static fromPrivateKey(F){return h.BASE.multiply(l(F))}_setWindowSize(F){this._WINDOW_SIZE=F,c.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:F,y:D}=this.toAffine();if(!r.isValid(F)||!r.isValid(D))throw new Error("bad point: x or y not FE");const $=r.sqr(D),B=o(F);if(!r.eql($,B))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:F}=this.toAffine();if(r.isOdd)return!r.isOdd(F);throw new Error("Field doesn't support isOdd")}equals(F){u(F);const{px:D,py:$,pz:B}=this,{px:U,py:q,pz:ee}=F,ae=r.eql(r.mul(D,ee),r.mul(U,B)),re=r.eql(r.mul($,ee),r.mul(q,B));return ae&&re}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){const{a:F,b:D}=t,$=r.mul(D,$1),{px:B,py:U,pz:q}=this;let ee=r.ZERO,ae=r.ZERO,re=r.ZERO,K=r.mul(B,B),C=r.mul(U,U),G=r.mul(q,q),v=r.mul(B,U);return v=r.add(v,v),re=r.mul(B,q),re=r.add(re,re),ee=r.mul(F,re),ae=r.mul($,G),ae=r.add(ee,ae),ee=r.sub(C,ae),ae=r.add(C,ae),ae=r.mul(ee,ae),ee=r.mul(v,ee),re=r.mul($,re),G=r.mul(F,G),v=r.sub(K,G),v=r.mul(F,v),v=r.add(v,re),re=r.add(K,K),K=r.add(re,K),K=r.add(K,G),K=r.mul(K,v),ae=r.add(ae,K),G=r.mul(U,q),G=r.add(G,G),K=r.mul(G,v),ee=r.sub(ee,K),re=r.mul(G,C),re=r.add(re,re),re=r.add(re,re),new h(ee,ae,re)}add(F){u(F);const{px:D,py:$,pz:B}=this,{px:U,py:q,pz:ee}=F;let ae=r.ZERO,re=r.ZERO,K=r.ZERO;const C=t.a,G=r.mul(t.b,$1);let v=r.mul(D,U),I=r.mul($,q),p=r.mul(B,ee),_=r.add(D,$),w=r.add(U,q);_=r.mul(_,w),w=r.add(v,I),_=r.sub(_,w),w=r.add(D,B);let S=r.add(U,ee);return w=r.mul(w,S),S=r.add(v,p),w=r.sub(w,S),S=r.add($,B),ae=r.add(q,ee),S=r.mul(S,ae),ae=r.add(I,p),S=r.sub(S,ae),K=r.mul(C,w),ae=r.mul(G,p),K=r.add(ae,K),ae=r.sub(I,K),K=r.add(I,K),re=r.mul(ae,K),I=r.add(v,v),I=r.add(I,v),p=r.mul(C,p),w=r.mul(G,w),I=r.add(I,p),p=r.sub(v,p),p=r.mul(C,p),w=r.add(w,p),v=r.mul(I,w),re=r.add(re,v),v=r.mul(S,w),ae=r.mul(_,ae),ae=r.sub(ae,v),v=r.mul(_,I),K=r.mul(S,K),K=r.add(K,v),new h(ae,re,K)}subtract(F){return this.add(F.negate())}is0(){return this.equals(h.ZERO)}wNAF(F){return k.wNAFCached(this,c,F,D=>{const $=r.invertBatch(D.map(B=>B.pz));return D.map((B,U)=>B.toAffine($[U])).map(h.fromAffine)})}multiplyUnsafe(F){const D=h.ZERO;if(F===hu)return D;if(a(F),F===wi)return this;const{endo:$}=t;if(!$)return k.unsafeLadder(this,F);let{k1neg:B,k1:U,k2neg:q,k2:ee}=$.splitScalar(F),ae=D,re=D,K=this;for(;U>hu||ee>hu;)U&wi&&(ae=ae.add(K)),ee&wi&&(re=re.add(K)),K=K.double(),U>>=wi,ee>>=wi;return B&&(ae=ae.negate()),q&&(re=re.negate()),re=new h(r.mul(re.px,$.beta),re.py,re.pz),ae.add(re)}multiply(F){a(F);let D=F,$,B;const{endo:U}=t;if(U){const{k1neg:q,k1:ee,k2neg:ae,k2:re}=U.splitScalar(D);let{p:K,f:C}=this.wNAF(ee),{p:G,f:v}=this.wNAF(re);K=k.constTimeNegate(q,K),G=k.constTimeNegate(ae,G),G=new h(r.mul(G.px,U.beta),G.py,G.pz),$=K.add(G),B=C.add(v)}else{const{p:q,f:ee}=this.wNAF(D);$=q,B=ee}return h.normalizeZ([$,B])[0]}multiplyAndAddUnsafe(F,D,$){const B=h.BASE,U=(ee,ae)=>ae===hu||ae===wi||!ee.equals(B)?ee.multiplyUnsafe(ae):ee.multiply(ae),q=U(this,D).add(U(F,$));return q.is0()?void 0:q}toAffine(F){const{px:D,py:$,pz:B}=this,U=this.is0();F==null&&(F=U?r.ONE:r.inv(B));const q=r.mul(D,F),ee=r.mul($,F),ae=r.mul(B,F);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(ae,r.ONE))throw new Error("invZ was invalid");return{x:q,y:ee}}isTorsionFree(){const{h:F,isTorsionFree:D}=t;if(F===wi)return!0;if(D)return D(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:F,clearCofactor:D}=t;return F===wi?this:D?D(h,this):this.multiplyUnsafe(t.h)}toRawBytes(F=!0){return this.assertValidity(),n(h,this,F)}toHex(F=!0){return ky(this.toRawBytes(F))}}h.BASE=new h(t.Gx,t.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);const g=t.nBitLength,k=G9e(h,t.endo?Math.ceil(g/2):g);return{CURVE:t,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:o,isWithinCurveOrder:s}}function eke(e){const t=Qq(e);return gm(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function tke(e){const t=eke(e),{Fp:r,n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(w){return hu<w&&w<r.ORDER}function a(w){return vo(w,n)}function l(w){return Ak(w,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:u,weierstrassEquation:h,isWithinCurveOrder:g}=J9e({...t,toBytes(w,S,A){const x=S.toAffine(),E=r.toBytes(x.x),T=du;return A?T(Uint8Array.from([S.hasEvenY()?2:3]),E):T(Uint8Array.from([4]),E,r.toBytes(x.y))},fromBytes(w){const S=w.length,A=w[0],x=w.subarray(1);if(S===i&&(A===2||A===3)){const E=Jf(x);if(!s(E))throw new Error("Point is not on curve");const T=h(E);let M=r.sqrt(T);const Q=(M&wi)===wi;return(A&1)===1!==Q&&(M=r.neg(M)),{x:E,y:M}}else if(S===o&&A===4){const E=r.fromBytes(x.subarray(0,r.BYTES)),T=r.fromBytes(x.subarray(r.BYTES,2*r.BYTES));return{x:E,y:T}}else throw new Error(`Point of length ${S} was invalid. Expected ${i} compressed bytes or ${o} uncompressed bytes`)}}),k=w=>ky(Qg(w,t.nByteLength));function R(w){const S=n>>wi;return w>S}function F(w){return R(w)?a(-w):w}const D=(w,S,A)=>Jf(w.slice(S,A));class ${constructor(S,A,x){this.r=S,this.s=A,this.recovery=x,this.assertValidity()}static fromCompact(S){const A=t.nByteLength;return S=ka("compactSignature",S,A*2),new $(D(S,0,A),D(S,A,2*A))}static fromDER(S){const{r:A,s:x}=wh.toSig(ka("DER",S));return new $(A,x)}assertValidity(){if(!g(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!g(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(S){return new $(this.r,this.s,S)}recoverPublicKey(S){const{r:A,s:x,recovery:E}=this,T=re(ka("msgHash",S));if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");const M=E===2||E===3?A+t.n:A;if(M>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const Q=E&1?"03":"02",he=c.fromHex(Q+k(M)),ue=l(M),W=a(-T*ue),se=a(x*ue),Z=c.BASE.multiplyAndAddUnsafe(he,W,se);if(!Z)throw new Error("point at infinify");return Z.assertValidity(),Z}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new $(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return xy(this.toDERHex())}toDERHex(){return wh.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return xy(this.toCompactHex())}toCompactHex(){return k(this.r)+k(this.s)}}const B={isValidPrivateKey(w){try{return u(w),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const w=t.randomBytes(r.BYTES+8),S=q9e(w,n);return Qg(S,t.nByteLength)},precompute(w=8,S=c.BASE){return S._setWindowSize(w),S.multiply(BigInt(3)),S}};function U(w,S=!0){return c.fromPrivateKey(w).toRawBytes(S)}function q(w){const S=w instanceof Uint8Array,A=typeof w=="string",x=(S||A)&&w.length;return S?x===i||x===o:A?x===2*i||x===2*o:w instanceof c}function ee(w,S,A=!0){if(q(w))throw new Error("first arg must be private key");if(!q(S))throw new Error("second arg must be public key");return c.fromHex(S).multiply(u(w)).toRawBytes(A)}const ae=t.bits2int||function(w){const S=Jf(w),A=w.length*8-t.nBitLength;return A>0?S>>BigInt(A):S},re=t.bits2int_modN||function(w){return a(ae(w))},K=KO(t.nBitLength);function C(w){if(typeof w!="bigint")throw new Error("bigint expected");if(!(hu<=w&&w<K))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Qg(w,t.nByteLength)}function G(w,S,A=v){if(["recovered","canonical"].some(pe=>pe in A))throw new Error("sign() legacy options not supported");const{hash:x,randomBytes:E}=t;let{lowS:T,prehash:M,extraEntropy:Q}=A;T==null&&(T=!0),w=ka("msgHash",w),M&&(w=ka("prehashed msgHash",x(w)));const he=re(w),ue=u(S),W=[C(ue),C(he)];if(Q!=null){const pe=Q===!0?E(r.BYTES):Q;W.push(ka("extraEntropy",pe,r.BYTES))}const se=du(...W),Z=he;function ie(pe){const Ee=ae(pe);if(!g(Ee))return;const Oe=l(Ee),Re=c.BASE.multiply(Ee).toAffine(),Ce=a(Re.x);if(Ce===hu)return;const P=a(Oe*a(Z+Ce*ue));if(P===hu)return;let Y=(Re.x===Ce?0:2)|Number(Re.y&wi),be=P;return T&&R(P)&&(be=F(P),Y^=1),new $(Ce,be,Y)}return{seed:se,k2sig:ie}}const v={lowS:t.lowS,prehash:!1},I={lowS:t.lowS,prehash:!1};function p(w,S,A=v){const{seed:x,k2sig:E}=G(w,S,A);return Zq(t.hash.outputLen,t.nByteLength,t.hmac)(x,E)}c.BASE._setWindowSize(8);function _(w,S,A,x=I){var E;const T=w;if(S=ka("msgHash",S),A=ka("publicKey",A),"strict"in x)throw new Error("options.strict was renamed to lowS");const{lowS:M,prehash:Q}=x;let he,ue;try{if(typeof T=="string"||T instanceof Uint8Array)try{he=$.fromDER(T)}catch(Re){if(!(Re instanceof wh.Err))throw Re;he=$.fromCompact(T)}else if(typeof T=="object"&&typeof T.r=="bigint"&&typeof T.s=="bigint"){const{r:Re,s:Ce}=T;he=new $(Re,Ce)}else throw new Error("PARSE");ue=c.fromHex(A)}catch(Re){if(Re.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(M&&he.hasHighS())return!1;Q&&(S=t.hash(S));const{r:W,s:se}=he,Z=re(S),ie=l(se),pe=a(Z*ie),Ee=a(W*ie),Oe=(E=c.BASE.multiplyAndAddUnsafe(ue,pe,Ee))==null?void 0:E.toAffine();return Oe?a(Oe.x)===W:!1}return{CURVE:t,getPublicKey:U,getSharedSecret:ee,sign:p,verify:_,ProjectivePoint:c,Signature:$,utils:B}}function rke(e,t){const r=e.ORDER;let n=hu;for(let g=r-wi;g%Gl===hu;g/=Gl)n+=wi;const i=n,o=(r-wi)/Gl**i,s=(o-wi)/Gl,a=Gl**i-wi,l=Gl**(i-wi),c=e.pow(t,o),u=e.pow(t,(o+wi)/Gl);let h=(g,k)=>{let R=c,F=e.pow(k,a),D=e.sqr(F);D=e.mul(D,k);let $=e.mul(g,D);$=e.pow($,s),$=e.mul($,F),F=e.mul($,k),D=e.mul($,g);let B=e.mul(D,F);$=e.pow(B,l);let U=e.eql($,e.ONE);F=e.mul(D,u),$=e.mul(B,R),D=e.cmov(F,D,U),B=e.cmov($,B,U);for(let q=i;q>1;q--){let ee=Gl**(q-Gl),ae=e.pow(B,ee);const re=e.eql(ae,e.ONE);F=e.mul(D,R),R=e.mul(R,R),ae=e.mul(B,R),D=e.cmov(F,D,re),B=e.cmov(ae,B,re)}return{isValid:U,value:D}};if(e.ORDER%_j===$1){const g=(e.ORDER-$1)/_j,k=e.sqrt(e.neg(t));h=(R,F)=>{let D=e.sqr(F);const $=e.mul(R,F);D=e.mul(D,$);let B=e.pow(D,g);B=e.mul(B,$);const U=e.mul(B,k),q=e.mul(e.sqr(B),F),ee=e.eql(q,R);let ae=e.cmov(U,B,ee);return{isValid:ee,value:ae}}}return h}function nke(e,t){if(Gq(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=rke(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let i,o,s,a,l,c,u,h;i=e.sqr(n),i=e.mul(i,t.Z),o=e.sqr(i),o=e.add(o,i),s=e.add(o,e.ONE),s=e.mul(s,t.B),a=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),a=e.mul(a,t.A),o=e.sqr(s),c=e.sqr(a),l=e.mul(c,t.A),o=e.add(o,l),o=e.mul(o,s),c=e.mul(c,a),l=e.mul(c,t.B),o=e.add(o,l),u=e.mul(i,s);const{isValid:g,value:k}=r(o,c);h=e.mul(i,n),h=e.mul(h,k),u=e.cmov(u,s,g),h=e.cmov(h,k,g);const R=e.isOdd(n)===e.isOdd(h);return h=e.cmov(e.neg(h),h,R),u=e.div(u,a),{x:u,y:h}}}function ike(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")return cE(e);throw new Error("DST must be Uint8Array or string")}const oke=Jf;function jf(e,t){if(e<0||e>=1<<8*t)throw new Error(`bad I2OSP call: value=${e} length=${t}`);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function ske(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Y0(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected")}function WO(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function ake(e,t,r,n){Y0(e),Y0(t),WO(r),t.length>255&&(t=n(du(cE("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,s=Math.ceil(r/i);if(s>255)throw new Error("Invalid xmd length");const a=du(t,jf(t.length,1)),l=jf(0,o),c=jf(r,2),u=new Array(s),h=n(du(l,e,c,jf(0,1),a));u[0]=n(du(h,jf(1,1),a));for(let g=1;g<=s;g++){const k=[ske(h,u[g-1]),jf(g+1,1),a];u[g]=n(du(...k))}return du(...u).slice(0,r)}function uke(e,t,r,n,i){if(Y0(e),Y0(t),WO(r),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update(cE("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(jf(r,2)).update(t).update(jf(t.length,1)).digest()}function Sj(e,t,r){gm(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n,k:i,m:o,hash:s,expand:a,DST:l}=r;Y0(e),WO(t);const c=ike(l),u=n.toString(2).length,h=Math.ceil((u+i)/8),g=t*o*h;let k;if(a==="xmd")k=ake(e,c,g,s);else if(a==="xof")k=uke(e,c,g,i,s);else if(a===void 0)k=e;else throw new Error('expand must be "xmd", "xof" or undefined');const R=new Array(t);for(let F=0;F<t;F++){const D=new Array(o);for(let $=0;$<o;$++){const B=h*($+F*o),U=k.subarray(B,B+h);D[$]=vo(oke(U),n)}R[F]=D}return R}function lke(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,s,a,l]=r.map(c=>c.reduce((u,h)=>e.add(e.mul(u,n),h)));return n=e.div(o,s),i=e.mul(i,e.div(a,l)),{x:n,y:i}}}function cke(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n,i){const o=Sj(n,2,{...r,DST:r.DST,...i}),s=e.fromAffine(t(o[0])),a=e.fromAffine(t(o[1])),l=s.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){const o=Sj(n,1,{...r,DST:r.encodeDST,...i}),s=e.fromAffine(t(o[0])).clearCofactor();return s.assertValidity(),s}}}let Yq=class extends Dq{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,vh.hash(e);const r=$O(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return vh.exists(this),this.iHash.update(e),this}digestInto(e){vh.exists(this),vh.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e=e,e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Jq=(e,t,r)=>new Yq(e,t).update(r).digest();Jq.create=(e,t)=>new Yq(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function fke(e){return{hash:e,hmac:(t,...r)=>Jq(e,t,_9e(...r)),randomBytes:S9e}}function dke(e,t){const r=n=>tke({...e,...fke(n)});return Object.freeze({...r(t),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eZ=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),kj=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),hke=BigInt(1),Ok=BigInt(2),xj=(e,t)=>(e+t/Ok)/t;function pke(e){const t=eZ,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),l=BigInt(88),c=e*e*e%t,u=c*c*e%t,h=ya(u,r,t)*u%t,g=ya(h,r,t)*u%t,k=ya(g,Ok,t)*c%t,R=ya(k,i,t)*k%t,F=ya(R,o,t)*R%t,D=ya(F,a,t)*F%t,$=ya(D,l,t)*D%t,B=ya($,a,t)*F%t,U=ya(B,r,t)*u%t,q=ya(U,s,t)*R%t,ee=ya(q,n,t)*c%t,ae=ya(ee,Ok,t);if(!cd.eql(cd.sqr(ae),e))throw new Error("Cannot find square root");return ae}const cd=Xq(eZ,void 0,void 0,{sqrt:pke}),Pd=dke({a:BigInt(0),b:BigInt(7),Fp:cd,n:kj,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=kj,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-hke*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=xj(o*e,t),l=xj(-n*e,t);let c=vo(e-a*r-l*i,t),u=vo(-a*n-l*o,t);const h=c>s,g=u>s;if(h&&(c=t-c),g&&(u=t-u),c>s||u>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:h,k1:c,k2neg:g,k2:u}}}},Vq);BigInt(0);Pd.ProjectivePoint;Pd.utils.randomPrivateKey;const gke=lke(cd,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),yke=nke(cd,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:cd.create(BigInt("-11"))});cke(Pd.ProjectivePoint,e=>{const{x:t,y:r}=yke(cd.create(e[0]));return gke(t,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:cd.ORDER,m:1,k:128,expand:"xmd",hash:Vq});function Pk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function mke(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function tZ(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function bke(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Pk(e.outputLen),Pk(e.blockLen)}function vke(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function wke(e,t){tZ(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Eke={number:Pk,bool:mke,bytes:tZ,hash:bke,exists:vke,output:wke};var WS=Eke;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qS=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Gu=(e,t)=>e<<32-t|e>>>t,_ke=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_ke)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ske(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function rZ(e){if(typeof e=="string"&&(e=Ske(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}let kke=class{clone(){return this._cloneInto()}};function nZ(e){const t=n=>e().update(rZ(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function xke(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}let Ake=class extends kke{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qS(this.buffer)}update(e){WS.exists(this);const{view:t,buffer:r,blockLen:n}=this;e=rZ(e);const i=e.length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s===n){const a=qS(e);for(;n<=i-o;o+=n)this.process(a,o);continue}r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){WS.exists(this),WS.output(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let u=o;u<n;u++)t[u]=0;xke(r,n-8,BigInt(this.length*8),i),this.process(r,0);const s=qS(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=a/4,c=this.get();if(l>c.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)s.setUint32(4*u,c[u],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}};const Oke=(e,t,r)=>e&t^~e&r,Pke=(e,t,r)=>e&t^e&r^t&r,Tke=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mf=new Uint32Array(64);let iZ=class extends Ake{constructor(){super(64,32,8,!1),this.A=yf[0]|0,this.B=yf[1]|0,this.C=yf[2]|0,this.D=yf[3]|0,this.E=yf[4]|0,this.F=yf[5]|0,this.G=yf[6]|0,this.H=yf[7]|0}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=e|0,this.B=t|0,this.C=r|0,this.D=n|0,this.E=i|0,this.F=o|0,this.G=s|0,this.H=a|0}process(e,t){for(let u=0;u<16;u++,t+=4)mf[u]=e.getUint32(t,!1);for(let u=16;u<64;u++){const h=mf[u-15],g=mf[u-2],k=Gu(h,7)^Gu(h,18)^h>>>3,R=Gu(g,17)^Gu(g,19)^g>>>10;mf[u]=R+mf[u-7]+k+mf[u-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:l,H:c}=this;for(let u=0;u<64;u++){const h=Gu(s,6)^Gu(s,11)^Gu(s,25),g=c+h+Oke(s,a,l)+Tke[u]+mf[u]|0,k=(Gu(r,2)^Gu(r,13)^Gu(r,22))+Pke(r,n,i)|0;c=l,l=a,a=s,s=o+g|0,o=i,i=n,n=r,r=g+k|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,l,c)}roundClean(){mf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Ike=class extends iZ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};const Tk=nZ(()=>new iZ);nZ(()=>new Ike);function Bke(e,t){if(e.length>t)throw new TypeError(`Data is larger than array size: ${e.length} > ${t}`)}function Nke(e){if(e.match(/[^a-fA-f0-9]/)!==null)throw new TypeError("Invalid characters in hex string: "+e);if(e.length%2!==0)throw new Error(`Length of hex string is invalid: ${e.length}`)}function Mke(e){if(e>Number.MAX_SAFE_INTEGER)throw new TypeError("Number exceeds safe bounds!")}const{getRandomValues:Rke}=crypto??globalThis.crypto??window.crypto;function Cke(e=32){if(typeof Rke=="function")return crypto.getRandomValues(new Uint8Array(e));throw new Error("Crypto module missing getRandomValues!")}function jke(e,t,r="be"){t===void 0&&(t=e.length),Bke(e,t);const n=new Uint8Array(t).fill(0),i=r==="be"?0:t-e.length;return n.set(e,i),n}function oZ(e){let t,r=0;const n=e.reduce((o,s)=>o+s.length,0),i=new Uint8Array(n);for(t=0;t<e.length;t++){const o=e[t];i.set(o,r),r+=o.length}return i}const Uke=new TextEncoder,zke=[{name:"base58",charset:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}];function sZ(e){for(const t of zke)if(t.name===e)return t.charset;throw TypeError("Charset does not exist: "+e)}function Lke(e,t,r=!1){typeof e=="string"&&(e=Uke.encode(e));const n=sZ(t),i=n.length,o=[];let s="",a,l=0,c,u;for(a=0;a<e.length;a++)for(l=0,c=e[a],s+=c>0||(s.length^a)>0?"":"1";l in o||c>0;)u=o[l],u=u>0?u*256+c:c,c=u/i|0,o[l]=u%i,l++;for(;l-- >0;)s+=n[o[l]];return r&&s.length%4>0?s+"=".repeat(4-s.length%4):s}function $ke(e,t){const r=sZ(t),n=r.length,i=[],o=[];e=e.replace("=","");let s,a=0,l,c;for(s=0;s<e.length;s++){if(a=0,l=r.indexOf(e[s]),l<0)throw new Error(`Character range out of bounds: ${l}`);for(l>0||(o.length^s)>0||o.push(0);a in i||l>0;)c=i[a],c=c>0?c*n+l:l,l=c>>8,i[a]=c%256,a++}for(;a-- >0;)o.push(i[a]);return new Uint8Array(o)}function aZ(e){return Tk(Tk(e))}function Fke(e){const t=aZ(e);return oZ([e,t.slice(0,4)])}function Dke(e){const t=e.slice(0,-4),r=e.slice(-4);if(aZ(t).slice(0,4).toString()!==r.toString())throw new Error("Invalid checksum!");return t}const Aj={encode:Lke,decode:$ke},uZ={encode:e=>{const t=Fke(e);return Aj.encode(t,"base58")},decode:e=>{const t=Aj.decode(e,"base58");return Dke(t)}},lZ="qpzry9x8gf2tvdw0s3jn54khce6mua7l",Hke=[996825010,642813549,513874426,1027748829,705979059],F1=[{version:0,name:"bech32",const:1},{version:1,name:"bech32m",const:734539939}];function cZ(e){let t=1;for(let r=0;r<e.length;++r){const n=t>>25;t=(t&33554431)<<5^e[r];for(let i=0;i<5;++i)n>>i&1&&(t^=Hke[i])}return t}function fZ(e){const t=[];let r;for(r=0;r<e.length;++r)t.push(e.charCodeAt(r)>>5);for(t.push(0),r=0;r<e.length;++r)t.push(e.charCodeAt(r)&31);return t}function Kke(e,t,r){const n=fZ(e).concat(t);return cZ(n)===r.const}function Vke(e,t,r){const n=fZ(e).concat(t).concat([0,0,0,0,0,0]),i=cZ(n)^r.const,o=[];for(let s=0;s<6;++s)o.push(i>>5*(5-s)&31);return o}function dZ(e,t,r,n=!0){const i=[];let o=0,s=0;const a=(1<<r)-1,l=(1<<t+r-1)-1;for(const c of e){if(c<0||c>>t>0)throw new Error("Failed to perform base conversion. Invalid value: "+String(c));for(o=(o<<t|c)&l,s+=t;s>=r;)s-=r,i.push(o>>s&a)}if(n)s>0&&i.push(o<<r-s&a);else if(s>=t||(o<<r-s&a)>0)throw new Error("Failed to perform base conversion. Invalid Size!");return i}function Wke(e,t,r){const n=t.concat(Vke(e,t,r));let i=e+"1";for(let o=0;o<n.length;++o)i+=lZ.charAt(n[o]);return i}function hZ(e){if(!qke(e))throw new Error("Encoded string goes out of bounds!");if(e=e.toLowerCase(),!Zke(e))throw new Error("Encoded string has invalid separator!");const t=[],r=e.lastIndexOf("1"),n=e.substring(0,r);for(let o=r+1;o<e.length;++o){const s=lZ.indexOf(e.charAt(o));if(s===-1)throw new Error("Character idx out of bounds: "+String(o));t.push(s)}const i=F1.find(o=>o.version===t[0])??F1[0];if(!Kke(n,t,i))throw new Error("Checksum verification failed!");return[n,t.slice(0,t.length-6)]}function qke(e){let t,r,n=!1,i=!1;for(t=0;t<e.length;++t){if(r=e.charCodeAt(t),r<33||r>126)return!1;r>=97&&r<=122&&(n=!0),r>=65&&r<=90&&(i=!0)}return!(n&&i)}function Zke(e){const t=e.lastIndexOf("1");return!(t<1||t+7>e.length||e.length>90)}function Gke(e,t="bc",r=0){const n=[r,...dZ([...e],8,5)],i=F1.find(s=>s.version===r)??F1[0],o=Wke(t,n,i);return pZ(o),o}function pZ(e){e=e.toLowerCase();const t=e.split("1",1)[0],[r,n]=hZ(e),i=dZ(n.slice(1),5,8,!1),o=i.length;switch(!0){case t!==r:throw new Error("Returned hrp string is invalid.");case(i===null||o<2||o>40):throw new Error("Decoded string is invalid or out of spec.");case n[0]>16:throw new Error("Returned version bit is out of range.");default:return Uint8Array.from(i)}}function Xke(e){e=e.toLowerCase();const[t,r]=hZ(e);return r[0]}const gZ={encode:Gke,decode:pZ,version:Xke},yZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mZ="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",Qke=new TextEncoder;function bZ(e,t=!1,r=!0){typeof e=="string"&&(e=Qke.encode(e));const n=t?mZ:yZ;let i="",o=0,s=0;for(let a=0;a<e.length;a++)for(s=s<<8|e[a],o+=8;o>=6;)o-=6,i+=n[s>>o&63];if(o>0)for(s<<=6-o,i+=n[s&63];o<6;)i+=r?"=":"",o+=2;return i}function vZ(e,t=!1){const r=t||e.includes("-")||e.includes("_")?mZ.split(""):yZ.split("");e=e.replace(/=+$/,"");const n=e.split("");let i=0,o=0;const s=[];for(let a=0;a<n.length;a++){const l=n[a],c=r.indexOf(l);if(c===-1)throw new Error("Invalid character: "+l);i+=6,o<<=6,o|=c,i>=8&&(i-=8,s.push(o>>>i&255))}return new Uint8Array(s)}const wZ={encode:bZ,decode:vZ},EZ={encode:e=>bZ(e,!0,!1),decode:e=>vZ(e,!0)},Yke=BigInt(0),Jke=BigInt(255),_Z=BigInt(256);function exe(e){if(e<=0xffn)return 1;if(e<=0xffffn)return 2;if(e<=0xffffffffn)return 4;if(e<=0xffffffffffffffffn)return 8;if(e<=0xffffffffffffffffffffffffffffffffn)return 16;if(e<=0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffn)return 32;throw new TypeError("Must specify a fixed buffer size for bigints greater than 32 bytes.")}function txe(e,t,r="be"){t===void 0&&(t=exe(e));const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(;e>Yke;){const a=e&Jke,l=Number(a);n?o.setUint8(s++,l):o.setUint8(s--,l),e=(e-a)/_Z}return new Uint8Array(i)}function rxe(e){let t=BigInt(0);for(let r=e.length-1;r>=0;r--)t=t*_Z+BigInt(e[r]);return BigInt(t)}function nxe(e){const t=e.split("").map(Number);if(t.length%8!==0)throw new Error(`Binary array is invalid length: ${e.length}`);const r=new Uint8Array(t.length/8);for(let n=0,i=0;n<t.length;n+=8,i++){let o=0;for(let s=0;s<8;s++)o|=t[n+s]<<7-s;r[i]=o}return r}function ixe(e){const t=new Array(e.length*8);let r=0;for(const n of e){if(n>255)throw new Error(`Invalid byte value: ${n}. Byte values must be between 0 and 255.`);for(let i=7;i>=0;i--,r++)t[r]=n>>i&1}return t.join("")}function oxe(e){if(e<=255)return 1;if(e<=65535)return 2;if(e<=4294967295)return 4;throw new TypeError("Numbers larger than 4 bytes must specify a fixed size!")}function sxe(e,t,r="be"){t===void 0&&(t=oxe(e));const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(;e>0;){const a=e&255;n?o.setUint8(s++,e):o.setUint8(s--,e),e=(e-a)/256}return new Uint8Array(i)}function axe(e){let t=0;for(let r=e.length-1;r>=0;r--)t=t*256+e[r],Mke(t);return t}const uxe=new TextEncoder,lxe=new TextDecoder;function qO(e){return uxe.encode(e)}function Ik(e){return lxe.decode(e)}function cxe(e,t){Nke(e);const r=e.length/2;if(t===void 0&&(t=r),r>t)throw new TypeError(`Hex string is larger than array size: ${r} > ${t}`);return t}function fxe(e,t,r="le"){t=cxe(e,t);const n=r==="le",i=new ArrayBuffer(t),o=new DataView(i);let s=n?0:t-1;for(let a=0;a<e.length;a+=2){const l=e.substring(a,a+2),c=parseInt(l,16);n?o.setUint8(s++,c):o.setUint8(s--,c)}return new Uint8Array(i)}function dxe(e){let t="";for(let r=0;r<e.length;r++)t+=e[r].toString(16).padStart(2,"0");return t}function hxe(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`${n}n`:n);return qO(t)}function pxe(e,t,r){if(e instanceof ArrayBuffer)return new Uint8Array(e);if(e instanceof Uint8Array)return jke(e,t,r);if(typeof e=="string")return fxe(e,t,r);if(typeof e=="bigint")return txe(e,t,r);if(typeof e=="number")return sxe(e,t,r);if(typeof e=="boolean")return Uint8Array.of(e?1:0);throw TypeError("Unsupported format:"+typeof e)}const Co=class Tn extends Uint8Array{static random(t=32){const r=Cke(t);return new Tn(r,t)}constructor(t,r,n){const i=pxe(t,r,n);super(i)}get arr(){return[...this]}get num(){return this.toNum()}get big(){return this.toBig()}get str(){return this.toStr()}get hex(){return this.toHex()}get raw(){return new Uint8Array(this)}get bin(){return this.toBin()}get b58chk(){return this.tob58chk()}get base64(){return this.toBase64()}get b64url(){return this.toB64url()}get digest(){return this.toHash()}get id(){return this.toHash().hex}get stream(){return new Oxe(this)}toNum(t="be"){const r=t==="be"?this.reverse():this;return axe(r)}toBin(){return ixe(this)}toBig(t="be"){const r=t==="be"?this.reverse():this;return rxe(r)}toHash(){const t=Tk(this);return new Tn(t)}toJson(){const t=Ik(this);return JSON.parse(t)}toBech32(t,r=0){return gZ.encode(this,t,r)}toStr(){return Ik(this)}toHex(){return dxe(this)}toBytes(){return new Uint8Array(this)}tob58chk(){return uZ.encode(this)}toBase64(){return wZ.encode(this)}toB64url(){return EZ.encode(this)}prepend(t){return Tn.join([Tn.bytes(t),this])}append(t){return Tn.join([this,Tn.bytes(t)])}slice(t,r){const n=new Uint8Array(this).slice(t,r);return new Tn(n)}subarray(t,r){const n=new Uint8Array(this).subarray(t,r);return new Tn(n)}reverse(){const t=new Uint8Array(this).reverse();return new Tn(t)}write(t,r){const n=Tn.bytes(t);this.set(n,r)}prefixSize(t){const r=Tn.varInt(this.length,t);return Tn.join([r,this])}static from(t){return new Tn(Uint8Array.from(t))}static of(...t){return new Tn(Uint8Array.of(...t))}static join(t){const r=t.map(i=>Tn.bytes(i)),n=oZ(r);return new Tn(n)}static varInt(t,r){if(t<253)return Tn.num(t,1);if(t<65536)return Tn.of(253,...Tn.num(t,2,r));if(t<4294967296)return Tn.of(254,...Tn.num(t,4,r));if(BigInt(t)<0x10000000000000000n)return Tn.of(255,...Tn.num(t,8,r));throw new Error(`Value is too large: ${t}`)}};Co.num=gxe,Co.big=mxe,Co.bin=yxe,Co.raw=bxe,Co.str=vxe,Co.hex=wxe,Co.bytes=Exe,Co.json=_xe,Co.base64=Sxe,Co.b64url=kxe,Co.bech32=xxe,Co.b58chk=Axe,Co.encode=qO,Co.decode=Ik;let ar=Co;function gxe(e,t,r){return new ar(e,t,r)}function yxe(e,t,r){return new ar(nxe(e),t,r)}function mxe(e,t,r){return new ar(e,t,r)}function bxe(e,t,r){return new ar(e,t,r)}function vxe(e,t,r){return new ar(qO(e),t,r)}function wxe(e,t,r){return new ar(e,t,r)}function Exe(e,t,r){return new ar(e,t,r)}function _xe(e){return new ar(hxe(e))}function Sxe(e){return new ar(wZ.decode(e))}function kxe(e){return new ar(EZ.decode(e))}function xxe(e){return new ar(gZ.decode(e))}function Axe(e){return new ar(uZ.decode(e))}class Oxe{constructor(t){this.data=ar.bytes(t),this.size=this.data.length}peek(t){if(t>this.size)throw new Error(`Size greater than stream: ${t} > ${this.size}`);return new ar(this.data.slice(0,t))}read(t){t=t??this.readSize();const r=this.peek(t);return this.data=this.data.slice(t),this.size=this.data.length,r}readSize(t){const r=this.read(1).num;switch(!0){case(r>=0&&r<253):return r;case r===253:return this.read(2).toNum(t);case r===254:return this.read(4).toNum(t);case r===255:return this.read(8).toNum(t);default:throw new Error(`Varint is out of range: ${r}`)}}}const D1=Pd.CURVE,ZO=D1.n,Pxe=D1.p,Txe={x:D1.Gx,y:D1.Gy},Ixe=BigInt(0);BigInt(1);BigInt(2);BigInt(3);BigInt(4);const Bk={N:ZO,P:Pxe,G:Txe,_0n:Ixe},ob=Xq(ZO,32,!0),SZ=e=>vo(e,ZO);function GO(e,t=!1){if(t)throw new Error(e);return!1}function kZ(e){return ar.random(e)}function Bxe(e){const t=ar.bytes(e).big;return ar.big(SZ(t),32)}var Nxe=Object.freeze({__proto__:null,fail:GO,mod_bytes:Bxe,random:kZ});const{N:Mxe,_0n:Rxe}=Bk;function Cxe(e,t,r){const n=ar.bytes(e);return n.length!==t?GO(`Invalid byte size: ${n.hex} !== ${t}`,r):!0}function jxe(e,t){return typeof e=="bigint"&&Rxe<e&&e<Mxe||GO("x value is not in the field!",t),!0}const Oj=Pd.ProjectivePoint,xZ=class yi extends Uint8Array{static mod(t){return new yi(t)}static is_valid(t,r){const n=ar.bytes(t,32).big;return jxe(n,r)}constructor(t){let r=Uxe(t);r=SZ(r),yi.is_valid(r,!0),super(ar.big(r,32),32)}get buff(){return new ar(this)}get raw(){return this.buff.raw}get big(){return this.buff.big}get hex(){return this.buff.hex}get point(){return this.generate()}get hasOddY(){return this.point.hasOddY}get negated(){return this.hasOddY?this.negate():this}gt(t){return new yi(t).big>this.big}lt(t){return new yi(t).big<this.big}eq(t){return new yi(t).big===this.big}ne(t){return new yi(t).big!==this.big}add(t){const r=yi.mod(t),n=ob.add(this.big,r.big);return new yi(n)}sub(t){const r=yi.mod(t),n=ob.sub(this.big,r.big);return new yi(n)}mul(t){const r=yi.mod(t),n=ob.mul(this.big,r.big);return new yi(n)}pow(t){const r=yi.mod(t),n=ob.pow(this.big,r.big);return new yi(n)}div(t){const r=yi.mod(t),n=ob.div(this.big,r.big);return new yi(n)}negate(){return new yi(yi.N-this.big)}generate(){const t=Pd.ProjectivePoint.BASE.multiply(this.big);return mp.import(t)}};xZ.N=Pd.CURVE.n;let $o=xZ;const h8=class oi{static from_x(t){let r=zxe(t);r.length===32&&(r=r.prepend(2)),Cxe(r,33);const n=Oj.fromHex(r.hex);return n.assertValidity(),new oi(n.x,n.y)}static generate(t){const r=$o.mod(t),n=oi.base.multiply(r.big);return oi.import(n)}static import(t){const r=t instanceof oi?{x:t.x.big,y:t.y.big}:{x:t.x,y:t.y};return new oi(r.x,r.y)}constructor(t,r){this._p=new Oj(t,r,1n),this.p.assertValidity()}get p(){return this._p}get x(){return ar.big(this.p.x,32)}get y(){return ar.big(this.p.y,32)}get buff(){return ar.raw(this.p.toRawBytes(!0))}get raw(){return this.buff.raw}get hex(){return this.buff.hex}get hasEvenY(){return this.p.hasEvenY()}get hasOddY(){return!this.p.hasEvenY()}eq(t){const r=t instanceof oi?t:oi.from_x(t);return this.x.big===r.x.big&&this.y.big===r.y.big}add(t){return t instanceof oi?oi.import(this.p.add(t.p)):oi.import(this.p.add(oi.generate(t).p))}sub(t){return t instanceof oi?oi.import(this.p.subtract(t.p)):oi.import(this.p.subtract(oi.generate(t).p))}mul(t){return t instanceof oi?oi.import(this.p.multiply(t.x.big)):oi.import(this.p.multiply($o.mod(t).big))}negate(){return oi.import(this.p.negate())}};h8.P=Bk.P,h8.G=Bk.G,h8.base=Pd.ProjectivePoint.BASE;let mp=h8;function Uxe(e){if(e instanceof $o)return e.big;if(e instanceof mp)return e.x.big;if(e instanceof Uint8Array)return ar.raw(e).big;if(typeof e=="string")return ar.hex(e).big;if(typeof e=="number")return ar.num(e).big;if(typeof e=="bigint")return BigInt(e);throw TypeError("Invalid input type:"+typeof e)}function zxe(e){if(e instanceof $o)return e.point.buff;if(e instanceof mp)return e.buff;if(e instanceof Uint8Array||typeof e=="string")return ar.bytes(e);if(typeof e=="number"||typeof e=="bigint")return ar.bytes(e,32);throw new TypeError(`Unknown type: ${typeof e}`)}function Nk(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Lxe(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function AZ(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function $xe(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Nk(e.outputLen),Nk(e.blockLen)}function Fxe(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Dxe(e,t){AZ(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Hxe={number:Nk,bool:Lxe,bytes:AZ,hash:$xe,exists:Fxe,output:Dxe};var Eh=Hxe;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Kxe=e=>e instanceof Uint8Array,ZS=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Xu=(e,t)=>e<<32-t|e>>>t,Vxe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Vxe)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wxe(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function XO(e){if(typeof e=="string"&&(e=Wxe(e)),!Kxe(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class OZ{clone(){return this._cloneInto()}}function bp(e){const t=n=>e().update(XO(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function qxe(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),l=n?4:0,c=n?0:4;e.setUint32(t+l,s,n),e.setUint32(t+c,a,n)}class QO extends OZ{constructor(t,r,n,i){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ZS(this.buffer)}update(t){Eh.exists(this);const{view:r,buffer:n,blockLen:i}=this;t=XO(t);const o=t.length;for(let s=0;s<o;){const a=Math.min(i-this.pos,o-s);if(a===i){const l=ZS(t);for(;i<=o-s;s+=i)this.process(l,s);continue}n.set(t.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Eh.exists(this),Eh.output(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let h=s;h<i;h++)r[h]=0;qxe(n,i-8,BigInt(this.length*8),o),this.process(n,0);const a=ZS(t),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,u=this.get();if(c>u.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<c;h++)a.setUint32(4*h,u[h],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return t.length=i,t.pos=a,t.finished=o,t.destroyed=s,i%r&&t.buffer.set(n),t}}const Zxe=(e,t,r)=>e&t^~e&r,Gxe=(e,t,r)=>e&t^e&r^t&r,Xxe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),bf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),vf=new Uint32Array(64);class PZ extends QO{constructor(){super(64,32,8,!1),this.A=bf[0]|0,this.B=bf[1]|0,this.C=bf[2]|0,this.D=bf[3]|0,this.E=bf[4]|0,this.F=bf[5]|0,this.G=bf[6]|0,this.H=bf[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:s,G:a,H:l}=this;return[t,r,n,i,o,s,a,l]}set(t,r,n,i,o,s,a,l){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=l|0}process(t,r){for(let h=0;h<16;h++,r+=4)vf[h]=t.getUint32(r,!1);for(let h=16;h<64;h++){const g=vf[h-15],k=vf[h-2],R=Xu(g,7)^Xu(g,18)^g>>>3,F=Xu(k,17)^Xu(k,19)^k>>>10;vf[h]=F+vf[h-7]+R+vf[h-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:l,G:c,H:u}=this;for(let h=0;h<64;h++){const g=Xu(a,6)^Xu(a,11)^Xu(a,25),k=u+g+Zxe(a,l,c)+Xxe[h]+vf[h]|0,R=(Xu(n,2)^Xu(n,13)^Xu(n,22))+Gxe(n,i,o)|0;u=c,c=l,l=a,a=s+k|0,s=o,o=i,i=n,n=k+R|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,u=u+this.H|0,this.set(n,i,o,s,a,l,c,u)}roundClean(){vf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Qxe extends PZ{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const H1=bp(()=>new PZ);bp(()=>new Qxe);const E3=BigInt(2**32-1),Mk=BigInt(32);function TZ(e,t=!1){return t?{h:Number(e&E3),l:Number(e>>Mk&E3)}:{h:Number(e>>Mk&E3)|0,l:Number(e&E3)|0}}function Yxe(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=TZ(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const Jxe=(e,t)=>BigInt(e>>>0)<<Mk|BigInt(t>>>0),eAe=(e,t,r)=>e>>>r,tAe=(e,t,r)=>e<<32-r|t>>>r,rAe=(e,t,r)=>e>>>r|t<<32-r,nAe=(e,t,r)=>e<<32-r|t>>>r,iAe=(e,t,r)=>e<<64-r|t>>>r-32,oAe=(e,t,r)=>e>>>r-32|t<<64-r,sAe=(e,t)=>t,aAe=(e,t)=>e,uAe=(e,t,r)=>e<<r|t>>>32-r,lAe=(e,t,r)=>t<<r|e>>>32-r,cAe=(e,t,r)=>t<<r-32|e>>>64-r,fAe=(e,t,r)=>e<<r-32|t>>>64-r;function dAe(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const hAe=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),pAe=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,gAe=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),yAe=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,mAe=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),bAe=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,vAe={fromBig:TZ,split:Yxe,toBig:Jxe,shrSH:eAe,shrSL:tAe,rotrSH:rAe,rotrSL:nAe,rotrBH:iAe,rotrBL:oAe,rotr32H:sAe,rotr32L:aAe,rotlSH:uAe,rotlSL:lAe,rotlBH:cAe,rotlBL:fAe,add:dAe,add3L:hAe,add3H:pAe,add4L:gAe,add4H:yAe,add5H:bAe,add5L:mAe};var xr=vAe;const[wAe,EAe]=xr.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),wf=new Uint32Array(80),Ef=new Uint32Array(80);class fE extends QO{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:s,Dh:a,Dl:l,Eh:c,El:u,Fh:h,Fl:g,Gh:k,Gl:R,Hh:F,Hl:D}=this;return[t,r,n,i,o,s,a,l,c,u,h,g,k,R,F,D]}set(t,r,n,i,o,s,a,l,c,u,h,g,k,R,F,D){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=s|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=u|0,this.Fh=h|0,this.Fl=g|0,this.Gh=k|0,this.Gl=R|0,this.Hh=F|0,this.Hl=D|0}process(t,r){for(let U=0;U<16;U++,r+=4)wf[U]=t.getUint32(r),Ef[U]=t.getUint32(r+=4);for(let U=16;U<80;U++){const q=wf[U-15]|0,ee=Ef[U-15]|0,ae=xr.rotrSH(q,ee,1)^xr.rotrSH(q,ee,8)^xr.shrSH(q,ee,7),re=xr.rotrSL(q,ee,1)^xr.rotrSL(q,ee,8)^xr.shrSL(q,ee,7),K=wf[U-2]|0,C=Ef[U-2]|0,G=xr.rotrSH(K,C,19)^xr.rotrBH(K,C,61)^xr.shrSH(K,C,6),v=xr.rotrSL(K,C,19)^xr.rotrBL(K,C,61)^xr.shrSL(K,C,6),I=xr.add4L(re,v,Ef[U-7],Ef[U-16]),p=xr.add4H(I,ae,G,wf[U-7],wf[U-16]);wf[U]=p|0,Ef[U]=I|0}let{Ah:n,Al:i,Bh:o,Bl:s,Ch:a,Cl:l,Dh:c,Dl:u,Eh:h,El:g,Fh:k,Fl:R,Gh:F,Gl:D,Hh:$,Hl:B}=this;for(let U=0;U<80;U++){const q=xr.rotrSH(h,g,14)^xr.rotrSH(h,g,18)^xr.rotrBH(h,g,41),ee=xr.rotrSL(h,g,14)^xr.rotrSL(h,g,18)^xr.rotrBL(h,g,41),ae=h&k^~h&F,re=g&R^~g&D,K=xr.add5L(B,ee,re,EAe[U],Ef[U]),C=xr.add5H(K,$,q,ae,wAe[U],wf[U]),G=K|0,v=xr.rotrSH(n,i,28)^xr.rotrBH(n,i,34)^xr.rotrBH(n,i,39),I=xr.rotrSL(n,i,28)^xr.rotrBL(n,i,34)^xr.rotrBL(n,i,39),p=n&o^n&a^o&a,_=i&s^i&l^s&l;$=F|0,B=D|0,F=k|0,D=R|0,k=h|0,R=g|0,{h,l:g}=xr.add(c|0,u|0,C|0,G|0),c=a|0,u=l|0,a=o|0,l=s|0,o=n|0,s=i|0;const w=xr.add3L(G,I,_);n=xr.add3H(w,C,v,p),i=w|0}({h:n,l:i}=xr.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:s}=xr.add(this.Bh|0,this.Bl|0,o|0,s|0),{h:a,l}=xr.add(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:u}=xr.add(this.Dh|0,this.Dl|0,c|0,u|0),{h,l:g}=xr.add(this.Eh|0,this.El|0,h|0,g|0),{h:k,l:R}=xr.add(this.Fh|0,this.Fl|0,k|0,R|0),{h:F,l:D}=xr.add(this.Gh|0,this.Gl|0,F|0,D|0),{h:$,l:B}=xr.add(this.Hh|0,this.Hl|0,$|0,B|0),this.set(n,i,o,s,a,l,c,u,h,g,k,R,F,D,$,B)}roundClean(){wf.fill(0),Ef.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _Ae extends fE{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class SAe extends fE{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class kAe extends fE{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const xAe=bp(()=>new fE);bp(()=>new _Ae);bp(()=>new SAe);bp(()=>new kAe);const AAe=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),IZ=Uint8Array.from({length:16},(e,t)=>t),OAe=IZ.map(e=>(9*e+5)%16);let YO=[IZ],JO=[OAe];for(let e=0;e<4;e++)for(let t of[YO,JO])t.push(t[e].map(r=>AAe[r]));const BZ=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(e=>new Uint8Array(e)),PAe=YO.map((e,t)=>e.map(r=>BZ[t][r])),TAe=JO.map((e,t)=>e.map(r=>BZ[t][r])),IAe=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),BAe=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),_3=(e,t)=>e<<t|e>>>32-t;function Pj(e,t,r,n){return e===0?t^r^n:e===1?t&r|~t&n:e===2?(t|~r)^n:e===3?t&n|r&~n:t^(r|~n)}const S3=new Uint32Array(16);class NAe extends QO{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:t,h1:r,h2:n,h3:i,h4:o}=this;return[t,r,n,i,o]}set(t,r,n,i,o){this.h0=t|0,this.h1=r|0,this.h2=n|0,this.h3=i|0,this.h4=o|0}process(t,r){for(let k=0;k<16;k++,r+=4)S3[k]=t.getUint32(r,!0);let n=this.h0|0,i=n,o=this.h1|0,s=o,a=this.h2|0,l=a,c=this.h3|0,u=c,h=this.h4|0,g=h;for(let k=0;k<5;k++){const R=4-k,F=IAe[k],D=BAe[k],$=YO[k],B=JO[k],U=PAe[k],q=TAe[k];for(let ee=0;ee<16;ee++){const ae=_3(n+Pj(k,o,a,c)+S3[$[ee]]+F,U[ee])+h|0;n=h,h=c,c=_3(a,10)|0,a=o,o=ae}for(let ee=0;ee<16;ee++){const ae=_3(i+Pj(R,s,l,u)+S3[B[ee]]+D,q[ee])+g|0;i=g,g=u,u=_3(l,10)|0,l=s,s=ae}}this.set(this.h1+a+u|0,this.h2+c+g|0,this.h3+h+i|0,this.h4+n+s|0,this.h0+o+l|0)}roundClean(){S3.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const MAe=bp(()=>new NAe);class NZ extends OZ{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Eh.hash(t);const n=XO(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,o=new Uint8Array(i);o.set(n.length>i?t.create().update(n).digest():n);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=t.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),o.fill(0)}update(t){return Eh.exists(this),this.iHash.update(t),this}digestInto(t){Eh.exists(this),Eh.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:o,blockLen:s,outputLen:a}=this;return t=t,t.finished=i,t.destroyed=o,t.blockLen=s,t.outputLen=a,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const MZ=(e,t,r)=>new NZ(e,t).update(r).digest();MZ.create=(e,t)=>new NZ(e,t);function RAe(e){const t=ar.bytes(e);return ar.raw(H1(t))}function CAe(e){const t=ar.bytes(e);return ar.raw(H1(H1(t)))}function RZ(e){const t=ar.bytes(e);return ar.raw(MAe(H1(t)))}function jAe(e,t){const r=ar.bytes(e),n=ar.bytes(t);return ar.raw(MZ(xAe,r,n))}function UAe(e){const t=ar.str(e).digest;return ar.join([t,t])}function zAe(e=32){return eP(kZ(e))}function eP(e){return $o.mod(e).buff}function CZ(e,t=!1){const r=$o.mod(e).point;return t?r.x:r.buff}function jZ(e,t){const r=mp.from_x(t),n=$o.mod(e);return r.mul(n).buff}function LAe(e,t,r="ecdh/code"){const n=UAe(r),i=eP(e),o=CZ(i),s=ar.bytes(t),a=jZ(i,s),l=[o.hex,s.hex];return l.sort(),jAe(a,ar.join([n,...l]))}function $Ae(e){const t=ar.bytes(e);switch(!0){case t.length===32:return!0;case(t.length===33&&t[0]===2):return!0;case(t.length===33&&t[0]===3):return!1;default:throw new TypeError(`Invalid public key: ${t.hex}`)}}function FAe(e){const t=ar.bytes(e);switch(t.length){case 32:return t;case 33:return t.slice(1,33);default:throw new Error(`Invalid key length: ${t.length}`)}}var DAe=Object.freeze({__proto__:null,genSecretKey:zAe,getPublicKey:CZ,getSecretKey:eP,getSharedCode:LAe,getSharedKey:jZ,is_even_pub:$Ae,xonly_pub:FAe});ar.random(32);const Rk={...DAe,...Nxe};function dE(e){const t=Ve.bytes(e);return Ml(t,33),RZ(t)}function UZ(e){const t=Rl.fmt.toBytes(e,!1);return RZ(t)}function zZ(e){const t=Rl.fmt.toBytes(e,!1);return RAe(t)}function LZ(e,t="main"){const r=t==="main"?["1"]:["m","n"];for(const n of r)if(e.startsWith(n))return!0;return!1}function $Z(e,t="main"){const r=Ve.bytes(e),n=t==="main"?Ve.num(0):Ve.num(111);return Ml(e,20),r.prepend(n).tob58chk()}function HAe(e,t="main"){if(!LZ(e,t))throw new TypeError("Invalid p2pkh address!");return Ve.b58chk(e).slice(1)}function KAe(e){const t=Ve.bytes(e);return Ml(t,20),["OP_DUP","OP_HASH160",t.hex,"OP_EQUALVERIFY","OP_CHECKSIG"]}function VAe(e,t){const r=dE(e);return $Z(r,t)}const FZ={check:LZ,encode:$Z,decode:HAe,hash:dE,scriptPubKey:KAe,fromPubKey:VAe};function DZ(e,t="main"){const r=t==="main"?["3"]:["2"];for(const n of r)if(e.startsWith(n))return!0;return!1}function HZ(e,t="main"){const r=t==="main"?Ve.num(5):Ve.num(196),n=Ve.bytes(e);return Ml(n,20),n.prepend(r).tob58chk()}function WAe(e,t="main"){if(!DZ(e,t))throw new TypeError(`Invalid p2sh address for network ${t}:`+e);return Ve.b58chk(e).slice(1)}function qAe(e){return["OP_HASH160",Ve.bytes(e).hex,"OP_EQUAL"]}function ZAe(e,t){const r=UZ(e);return HZ(r,t)}const KZ={check:DZ,encode:HZ,decode:WAe,hash:UZ,scriptPubKey:qAe,fromScript:ZAe},tP={main:"bc",testnet:"tb",signet:"tb",regtest:"bcrt"},GAe=["bc1q","tb1q","bcrt1q"];function VZ(e){for(const t of GAe)if(e.startsWith(t))return!0;return!1}function WZ(e,t="main"){const r=tP[t],n=Ve.bytes(e);return Ml(n,20),n.toBech32(r,0)}function XAe(e){if(!VZ(e))throw new TypeError("Invalid segwit address!");return Ve.bech32(e)}function QAe(e){const t=Ve.bytes(e);return Ml(t,20),["OP_0",t.hex]}function YAe(e,t){const r=dE(e);return WZ(r,t)}const qZ={check:VZ,encode:WZ,decode:XAe,hash:dE,scriptPubKey:QAe,fromPubKey:YAe},JAe=["bc1q","tb1q","bcrt1q"];function ZZ(e){for(const t of JAe)if(e.startsWith(t))return!0;return!1}function GZ(e,t="main"){const r=tP[t],n=Ve.bytes(e);return Ml(n,32),n.toBech32(r,0)}function eOe(e){if(!ZZ(e))throw new TypeError("Invalid segwit address!");return Ve.bech32(e)}function tOe(e){const t=Ve.bytes(e);return Ml(t,32),["OP_0",t.hex]}function rOe(e,t){const r=zZ(e);return GZ(r,t)}const XZ={check:ZZ,encode:GZ,decode:eOe,hash:zZ,scriptPubKey:tOe,fromScript:rOe};function qh(e){const t=Ve.bytes(e);return t.length>32?t.slice(1,33):t}const nOe=["bc1p","tb1p","bcrt1p"];function QZ(e){for(const t of nOe)if(e.startsWith(t))return!0;return!1}function YZ(e,t="main"){const r=tP[t],n=Ve.bytes(e);return Ml(n,32),n.toBech32(r,1)}function iOe(e){if(!QZ(e))throw new TypeError("Invalid taproot address!");return Ve.bech32(e)}function oOe(e){const t=Ve.bytes(e);return Ml(t,32),["OP_1",t.hex]}function sOe(e,t){const r=qh(e);return YZ(r,t)}const JZ={check:QZ,encode:YZ,decode:iOe,scriptPubKey:oOe,fromPubKey:sOe},aOe={version:2,vin:[],vout:[],locktime:0},uOe={scriptSig:[],sequence:4294967293,witness:[]},lOe={value:0n,scriptPubKey:[]};function rP(e){const t={...aOe,...e};return t.vin=t.vin.map(r=>({...uOe,...r})),t.vout=t.vout.map(r=>({...lOe,...r})),t}function Ay(e,t){const{version:r,vin:n,vout:i,locktime:o}=rP(e),s=t!==!0&&cOe(n),a=[eG(r)];s&&a.push(Ve.hex("0001")),a.push(fOe(n)),a.push(dOe(i));for(const l of n)s&&a.push(pOe(l.witness));return a.push(tG(o)),Ve.join(a)}function cOe(e){for(const t of e){const{witness:r}=t;if(typeof r=="string"||r instanceof Uint8Array||Array.isArray(r)&&r.length>0)return!0}return!1}function eG(e){return Ve.num(e,4).reverse()}function nP(e){return Ve.hex(e,32).reverse()}function iP(e){return Ve.num(e,4).reverse()}function oP(e){if(typeof e=="string")return Ve.hex(e,4).reverse();if(typeof e=="number")return Ve.num(e,4).reverse();throw new Error("Unrecognized format: "+String(e))}function fOe(e){const t=[Ve.varInt(e.length,"le")];for(const r of e){const{txid:n,vout:i,scriptSig:o,sequence:s}=r;t.push(nP(n)),t.push(iP(i)),t.push(yp(o,!0)),t.push(oP(s))}return Ve.join(t)}function Ew(e){if(typeof e=="number"){if(e%1!==0)throw new Error("Value must be an integer:"+String(e));return Ve.num(e,8).reverse()}return Ve.big(e,8).reverse()}function dOe(e){const t=[Ve.varInt(e.length,"le")];for(const r of e)t.push(hOe(r));return Ve.join(t)}function hOe(e){const{value:t,scriptPubKey:r}=e,n=[];return n.push(Ew(t)),n.push(yp(r,!0)),Ve.join(n)}function pOe(e=[]){const t=[];if(Array.isArray(e)){const r=Ve.varInt(e.length);t.push(r);for(const n of e)t.push(gOe(n));return Ve.join(t)}else return Ve.bytes(e)}function gOe(e){return yOe(e)?new Ve(0):yp(e,!0)}function yOe(e){if(Array.isArray(e))return e.length===0;if(typeof e=="string"&&e==="")return!0;const t=Ve.bytes(e);return t.length===1&&t[0]===0}function tG(e){if(typeof e=="string")return Ve.hex(e,4);if(typeof e=="number")return Ve.num(e,4).reverse();throw new Error("Unrecognized format: "+String(e))}function sP(e){typeof e=="string"&&(e=Ve.hex(e).raw);const t=new pm(e),r=mOe(t),n=bOe(t),i=vOe(t),o=EOe(t);if(n)for(const a of i)a.witness=SOe(t);const s=kOe(t);return{version:r,vin:i,vout:o,locktime:s}}function mOe(e){return e.read(4).reverse().toNum()}function bOe(e){const[t,r]=[...e.peek(2)];if(t===0){if(e.read(2),r===1)return!0;throw new Error(`Invalid witness flag: ${r}`)}return!1}function vOe(e){const t=[],r=e.readSize("le");for(let n=0;n<r;n++)t.push(wOe(e));return t}function wOe(e){return{txid:e.read(32).reverse().toHex(),vout:e.read(4).reverse().toNum(),scriptSig:nG(e),sequence:e.read(4).reverse().toHex(),witness:[]}}function EOe(e){const t=[],r=e.readSize("le");for(let n=0;n<r;n++)t.push(_Oe(e));return t}function _Oe(e){return{value:e.read(8).reverse().big,scriptPubKey:nG(e)}}function SOe(e){const t=[],r=e.readSize();for(let n=0;n<r;n++){const i=rG(e);t.push(i??"")}return t}function rG(e,t){const r=e.readSize("le");return r>0?e.read(r).hex:null}function nG(e,t){const r=rG(e);return r!==null?r:[]}function kOe(e){return e.read(4).reverse().toNum()}function xOe(e){if(Lq(e))return sP(e);if(typeof e=="object"&&!(e instanceof Uint8Array))return Ay(e),rP(e);throw new Error("Invalid format: "+typeof e)}function AOe(e){if(Lq(e))return sP(e),Ve.bytes(e);if(typeof e=="object")return Ay(e);throw new Error("Invalid format: "+typeof e)}const aP={toBytes:AOe,toJson:xOe},OOe=[["p2pkh",/^76a914(?<hash>\w{40})88ac$/],["p2sh",/^a914(?<hash>\w{40})87$/],["p2w-pkh",/^0014(?<hash>\w{40})$/],["p2w-sh",/^0020(?<hash>\w{64})$/],["p2tr",/^5120(?<hash>\w{64})$/]],POe=[192,194,196,198,200,202,204,206,208,210,212,214,216,218,220,222,224,226,228,230,232,234,236,238,240,242,244,246,248,250,252,254,102,126,128,132,150,152,186,188,190];function TOe(e){let t=e.at(-1);return Fc(t)&&(t=Ve.hex(t)),e.length>1&&t instanceof Uint8Array&&t[0]===80?(e.pop(),Ve.raw(t)):null}function IOe(e){let t=e.at(-1);return Fc(t)&&(t=Ve.hex(t)),e.length>1&&t instanceof Uint8Array&&t.length>32&&POe.includes(t[0]&254)?(e.pop(),Ve.raw(t)):null}function BOe(e){if(e.length>1){const t=e.at(-1);try{const r=Rl.fmt.toBytes(t);return e.pop(),r}catch{return null}}return null}function NOe(e){const t=[];for(const r of e)if(Fc(r)||r instanceof Uint8Array||typeof r=="number")t.push(Ve.bytes(r));else throw new Error("unrecognized value: "+String(r));return t}function MOe(e=[]){const t=[...e],r=TOe(t),n=IOe(t),i=BOe(t),o=NOe(t);return{annex:r,cblock:n,script:i,params:o}}function ROe(e){const t=Rl.fmt.toBytes(e,!1).hex;for(const[r,n]of OOe){const i=r,{groups:o}=n.exec(t)??{},{hash:s}=o??{};if(Fc(s))return{type:i,data:Ve.hex(s)}}return{type:"raw",data:Ve.hex(t)}}function COe(e){const t=aP.toJson(e),r=Ay(t,!0);return CAe(r).reverse().hex}function jOe(e){const t=aP.toJson(e),r=Ay(t,!0).length,n=Ay(t,!1).length,i=r*3+n,o=i%4>0?1:0,s=Math.floor(i/4)+o;return{size:n,bsize:r,vsize:s,weight:i}}const ed={create:rP,encode:Ay,decode:sP,fmt:aP,util:{getTxSize:jOe,getTxid:COe,readScriptPubKey:ROe,readWitness:MOe}},UOe=[["1","p2pkh","main",20,"base58"],["3","p2sh","main",20,"base58"],["m","p2pkh","testnet",20,"base58"],["n","p2pkh","testnet",20,"base58"],["2","p2sh","testnet",20,"base58"],["bc1q","p2w-pkh","main",20,"bech32"],["tb1q","p2w-pkh","testnet",20,"bech32"],["bcrt1q","p2w-pkh","regtest",20,"bech32"],["bc1q","p2w-sh","main",32,"bech32"],["tb1q","p2w-sh","testnet",32,"bech32"],["bcrt1q","p2w-sh","regtest",32,"bech32"],["bc1p","p2tr","main",32,"bech32m"],["tb1p","p2tr","testnet",32,"bech32m"],["bcrt1p","p2tr","regtest",32,"bech32m"]];function zOe(e,t){switch(t){case"base58":return Ve.b58chk(e).slice(1);case"bech32":return Ve.bech32(e);case"bech32m":return Ve.bech32(e);default:throw new Error("Invalid address format: "+t)}}function LOe(e){for(const t of UOe){const[r,n,i,o,s]=t;if(e.startsWith(r)&&zOe(e,s).length===o)return t}throw new Error("Invalid address: "+e)}function iG(e){switch(e){case"p2pkh":return FZ;case"p2sh":return KZ;case"p2w-pkh":return qZ;case"p2w-sh":return XZ;case"p2tr":return JZ;default:throw new Error("Invalid address type: "+e)}}function oG(e){const[t,r,n]=LOe(e),i=iG(r),o=i.decode(e,n),s=i.scriptPubKey(o);return{prefix:t,type:r,network:n,data:o,script:s}}function $Oe(e,t){const{type:r,data:n}=ed.util.readScriptPubKey(e);return iG(r).encode(n,t)}function FOe(e){const{script:t}=oG(e);return Rl.fmt.toAsm(t,!1)}const sG={p2pkh:FZ,p2sh:KZ,p2wpkh:qZ,p2wsh:XZ,p2tr:JZ,decode:oG,fromScriptPubKey:$Oe,toScriptPubKey:FOe},DOe=[0,1,2,3,129,130,131];function uP(e,t,r={}){const{extension:n,sigflag:i=0,extflag:o=0,key_version:s=0,separator_pos:a=4294967295}=r,l=ed.fmt.toJson(e),{version:c,vin:u,vout:h,locktime:g}=l;if(t>=u.length)throw new Error("Index out of bounds: "+String(t));if(!DOe.includes(i))throw new Error("Invalid hash type: "+String(i));if(o<0||o>127)throw new Error("Extention flag out of range: "+String(o));const{txid:k,vout:R,sequence:F,witness:D=[]}=u[t],$=(i&128)===128,B=GOe(D),U=B!==void 0?1:0,q=(o+(n!==void 0?1:0))*2+U,ee=Ve.str("TapSighash").digest,ae=[ee,ee,Ve.num(0,1),Ve.num(i,1),eG(c),tG(g)];if(!$){const re=u.map(K=>Tj(K));ae.push(HOe(u),VOe(re),WOe(re),KOe(u))}if(((i&3)<2||(i&3)>3)&&ae.push(qOe(h)),ae.push(Ve.num(q,1)),$){const{value:re,scriptPubKey:K}=Tj(u[t]);ae.push(nP(k),iP(R),Ew(re),Rl.encode(K,!0),oP(F))}else ae.push(Ve.num(t,4).reverse());return B!==void 0&&ae.push(B),(i&3)===3&&ae.push(ZOe(h[t])),n!==void 0&&ae.push(Ve.bytes(n),Ve.num(s),Ve.num(a,4,"le")),Ve.join(ae).digest}function HOe(e){const t=[];for(const{txid:r,vout:n}of e)t.push(nP(r)),t.push(iP(n));return Ve.join(t).digest}function KOe(e){const t=[];for(const{sequence:r}of e)t.push(oP(r));return Ve.join(t).digest}function VOe(e){const t=[];for(const{value:r}of e)t.push(Ew(r));return Ve.join(t).digest}function WOe(e){const t=[];for(const{scriptPubKey:r}of e)t.push(yp(r,!0));return Ve.join(t).digest}function qOe(e){const t=[];for(const{value:r,scriptPubKey:n}of e)t.push(Ew(r)),t.push(Rl.encode(n,!0));return Ve.join(t).digest}function ZOe(e){return Ve.join([Ew(e.value),Rl.encode(e.scriptPubKey,!0)]).digest}function GOe(e){if(e===void 0||e.length<2)return;let t=e.at(-1);if(typeof t=="string"&&(t=Ve.hex(t)),t instanceof Uint8Array&&t[0]===80)return Ve.raw(t).prefixSize("be").digest}function Tj(e){if(e.prevout===void 0)throw new Error("Prevout data missing for input: "+String(e.txid));return e.prevout}const XOe=0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2fn,QOe=0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141n;function YOe(e,t,r,n={}){const{sigflag:i=0}=n,o=uP(t,r,n),s=JOe(e,o);return i===0?Ve.raw(s):Ve.join([s,i])}function JOe(e,t,r=Ve.random(32)){const n=Ve.bytes(t),i=new $o(e),o=i.point,s=o.hasEvenY?i.big:i.negated.big,a=d8("BIP0340/aux",Ve.bytes(r)),l=s^a.big,c=d8("BIP0340/nonce",l,o.x.raw,n),u=new $o(c),h=u.point,g=h.hasEvenY?u.big:u.negated.big,k=new $o(d8("BIP0340/challenge",h.x.raw,o.x.raw,n)),R=new $o(g+k.big*s);return Ve.join([h.x.raw,R.raw])}function ePe(e,t,r,n=!1){const i=mp.from_x(qh(r)),o=Ve.bytes(t),s=Ve.bytes(e).stream;s.size<64&&$s("Signature length is too small: "+String(s.size),n);const a=s.read(32);a.big>XOe&&$s("Signature r value greater than field size!",n);const l=s.read(32);l.big>QOe&&$s("Signature s value greater than curve order!",n);const c=new $o(d8("BIP0340/challenge",a.raw,i.x.raw,o)),u=new $o(l).point,h=i.mul(c.big),g=u.sub(h);return g.hasOddY&&$s("Signature R value has odd Y coordinate!",n),g.x.big===0n&&$s("Signature R value is infinite!",n),g.x.big===a.big}const tPe=192;function hE(e){const t=Ve.str(e).digest;return Ve.join([t,t])}function lP(e,t=tPe){return Ve.join([hE("TapLeaf"),iPe(t),Ve.bytes(e)]).digest.hex}function rPe(e,t){return lP(Rl.fmt.toBytes(e),t)}function cP(e,t){return t<e&&([e,t]=[t,e]),Ve.join([hE("TapBranch"),Ve.hex(e).raw,Ve.hex(t).raw]).digest.hex}function nPe(e){return Ve.hex(K1(e)[0])}function K1(e,t,r=[]){const n=[],i=[];if(e.length<1)throw new Error("Tree is empty!");for(let o=0;o<e.length;o++){const s=e[o];if(Array.isArray(s)){const[a,l,c]=K1(s,t);t=l,n.push(a);for(const u of c)r.push(u)}else n.push(s)}if(n.length===1)return[n[0],t,r];n.sort(),n.length%2!==0&&n.push(n[n.length-1]);for(let o=0;o<n.length-1;o+=2){const s=cP(n[o],n[o+1]);i.push(s),typeof t=="string"&&(t===n[o]?(r.push(n[o+1]),t=s):t===n[o+1]&&(r.push(n[o]),t=s))}return K1(i,t,r)}function iPe(e=192){return e&254}function aG(e,t=new Uint8Array,r=!1){const n=r?new $o(e).point.x.raw:qh(e);return Ve.join([hE("TapTweak"),n,Ve.bytes(t)]).digest}function Yg(e,t,r=!1){t===void 0&&(t=new Uint8Array);const n=Ve.bytes(e),i=aG(e,t,r);return r?uG(n,i):lG(n,i)}function oPe(e,t){return Yg(e,t)}function sPe(e,t){return Yg(e,t,!0)}function uG(e,t){let r=new $o(e);return r.point.hasOddY&&(r=r.negate()),Ve.raw(r.add(t).raw)}function lG(e,t){e=qh(e);const r=mp.from_x(e).add(t);return Ve.raw(r.raw)}function aPe(){const e=Ve.hex("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8");return mp.from_x(e.digest).x}const uPe=aPe(),lPe=192;function cPe(e,t={}){return cG(e,{...t,isPrivate:!0})}function fPe(e,t={}){return cG(e,{...t,isPrivate:!1})}function cG(e,t={}){const{isPrivate:r=!1,tree:n=[],version:i=lPe}=t,o=r?Rk.getPublicKey(e,!0):qh(e);let{target:s}=t;s!==void 0&&(s=Ve.bytes(s).hex);let a,l=[];if(n.length>0){const[g,k,R]=K1(n,s);l=R,a=Yg(e,g,r)}else s!==void 0?a=Yg(e,s,r):a=Yg(e,void 0,r);const c=r?Rk.getPublicKey(a)[0]:a[0],u=[Ve.num(i+dG(c)),o];l.length>0&&l.forEach(g=>u.push(Ve.hex(g)));const h=Ve.join(u);if(s!==void 0&&!fP(a,s,h,t))throw new Error("Path checking failed! Unable to generate path.");return[qh(a).hex,h.hex]}function fP(e,t,r,n={}){const{isPrivate:i=!1,throws:o=!1}=n,{parity:s,paths:a,intkey:l}=fG(r),c=i?Rk.getPublicKey(e,!0):qh(e),u=Ve.join([s,c]);if(u.length!==33)return $s("Invalid tapkey: "+u.hex,o);let h=Ve.bytes(t).hex;for(const k of a)h=cP(h,k);const g=Yg(l,h);return Ve.raw(g).hex===Ve.raw(u).hex}function fG(e){const t=new pm(Ve.bytes(e)),r=t.read(1).num,n=t.read(32),[i,o]=r%2===0?[r,2]:[r-1,3],s=[];for(;t.size>=32;)s.push(t.read(32).hex);if(t.size!==0)throw new Error("Non-empty buffer on control block: "+String(t));return{intkey:n,paths:s,parity:o,version:i}}function dG(e=2){if(e===0||e===1)return e;if(e===2||e==="02")return 0;if(e===3||e==="03")return 1;throw new Error("Invalid parity bit: "+String(e))}function dPe(e,t,r={}){const n=ed.fmt.toJson(e),{throws:i=!1}=r,{prevout:o,witness:s=[]}=n.vin[t],a=ed.util.readWitness(s),{cblock:l,script:c,params:u}=a;let h;if(u.length<1)return $s("Invalid witness data: "+String(s),i);const{scriptPubKey:g}=o??{};if(g===void 0)return $s("Prevout scriptPubKey is empty!",i);const{type:k,data:R}=ed.util.readScriptPubKey(g);if(k!=="p2tr")return $s("Prevout script is not a valid taproot output:"+R.hex,i);if(R.length!==32)return $s("Invalid tapkey length: "+String(R.length),i);if(l!==null&&c!==null){const U=l[0]&254,q=lP(c,U);if(r.extension=q,!fP(R,q,l,{throws:i}))return $s("cblock verification failed!",i)}r.pubkey!==void 0?h=Ve.bytes(r.pubkey):u.length>1&&u[1].length===32?h=Ve.bytes(u[1]):h=Ve.bytes(R);const F=Rl.fmt.toParam(u[0]),D=new pm(F),$=D.read(64).raw;if(D.size===1&&(r.sigflag=D.read(1).num,r.sigflag===0))return $s("0x00 is not a valid appended sigflag!",i);const B=uP(n,t,r);return ePe($,B,h,i)?!0:$s("Invalid signature!",i)}const hPe={hash:uP,sign:YOe,verify:dPe},pPe={taproot:hPe},gPe={getTag:hE,getLeaf:lP,getBranch:cP,getRoot:nPe},yPe={readCtrlBlock:fG,readParityBit:dG},mPe={getPubKey:oPe,getSecKey:sPe,getTweak:aG,tweakSecKey:uG,tweakPubKey:lG},V1={getPubKey:fPe,getSecKey:cPe,encodeScript:rPe,checkPath:fP,tree:gPe,tweak:mPe,util:yPe,SCRIPT_PUBKEY:uPe};var Xr;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(Xr||(Xr={}));var Ck;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Ck||(Ck={}));const Pt=Xr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Lf=e=>{switch(typeof e){case"undefined":return Pt.undefined;case"string":return Pt.string;case"number":return isNaN(e)?Pt.nan:Pt.number;case"boolean":return Pt.boolean;case"function":return Pt.function;case"bigint":return Pt.bigint;case"symbol":return Pt.symbol;case"object":return Array.isArray(e)?Pt.array:e===null?Pt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pt.promise:typeof Map<"u"&&e instanceof Map?Pt.map:typeof Set<"u"&&e instanceof Set?Pt.set:typeof Date<"u"&&e instanceof Date?Pt.date:Pt.object;default:return Pt.unknown}},bt=Xr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),bPe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");let wu=class extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(i){return i.message},r={_errors:[]},n=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)r._errors.push(t(o));else{let s=r,a=0;for(;a<o.path.length;){const l=o.path[a];a===o.path.length-1?(s[l]=s[l]||{_errors:[]},s[l]._errors.push(t(o))):s[l]=s[l]||{_errors:[]},s=s[l],a++}}};return n(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,Xr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}};wu.create=e=>new wu(e);const J0=(e,t)=>{let r;switch(e.code){case bt.invalid_type:e.received===Pt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case bt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Xr.jsonStringifyReplacer)}`;break;case bt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Xr.joinValues(e.keys,", ")}`;break;case bt.invalid_union:r="Invalid input";break;case bt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Xr.joinValues(e.options)}`;break;case bt.invalid_enum_value:r=`Invalid enum value. Expected ${Xr.joinValues(e.options)}, received '${e.received}'`;break;case bt.invalid_arguments:r="Invalid function arguments";break;case bt.invalid_return_type:r="Invalid function return type";break;case bt.invalid_date:r="Invalid date";break;case bt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Xr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case bt.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case bt.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case bt.custom:r="Invalid input";break;case bt.invalid_intersection_types:r="Intersection results could not be merged";break;case bt.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case bt.not_finite:r="Number must be finite";break;default:r=t.defaultError,Xr.assertNever(e)}return{message:r}};let hG=J0;function vPe(e){hG=e}function W1(){return hG}const q1=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:t,defaultError:a}).message;return{...i,path:o,message:i.message||a}},wPe=[];function Mt(e,t){const r=q1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,W1(),J0].filter(n=>!!n)});e.common.issues.push(r)}let As=class pG{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return hr;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return pG.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return hr;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:t.value,value:n}}};const hr=Object.freeze({status:"aborted"}),gG=e=>({status:"dirty",value:e}),Ko=e=>({status:"valid",value:e}),jk=e=>e.status==="aborted",Uk=e=>e.status==="dirty",Z1=e=>e.status==="valid",G1=e=>typeof Promise<"u"&&e instanceof Promise;var Kt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Kt||(Kt={}));let kl=class{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const Ij=(e,t)=>{if(Z1(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new wu(e.common.issues);return this._error=r,this._error}}};function _r(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,s)=>o.code!=="invalid_type"?{message:s.defaultError}:typeof s.data>"u"?{message:n??s.defaultError}:{message:r??s.defaultError},description:i}}let Nr=class{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Lf(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Lf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new As,ctx:{common:e.parent.common,data:e.data,parsedType:Lf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(G1(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const n={common:{issues:[],async:(r=t==null?void 0:t.async)!==null&&r!==void 0?r:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lf(e)},i=this._parseSync({data:e,path:n.path,parent:n});return Ij(n,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Lf(e)},n=this._parse({data:e,path:r.path,parent:r}),i=await(G1(n)?n:Promise.resolve(n));return Ij(r,i)}refine(e,t){const r=n=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(n):t;return this._refinement((n,i)=>{const o=e(n),s=()=>i.addIssue({code:bt.custom,...r(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(a=>a?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>e(r)?!0:(n.addIssue(typeof t=="function"?t(r,n):t),!1))}_refinement(e){return new Au({schema:this,typeName:tr.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return wc.create(this,this._def)}nullable(){return Gh.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zh.create(this,this._def)}promise(){return Ty.create(this,this._def)}or(e){return sv.create([this,e],this._def)}and(e){return av.create(this,e,this._def)}transform(e){return new Au({..._r(this._def),schema:this,typeName:tr.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new fv({..._r(this._def),innerType:this,defaultValue:t,typeName:tr.ZodDefault})}brand(){return new SG({typeName:tr.ZodBranded,type:this,..._r(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new e4({..._r(this._def),innerType:this,catchValue:t,typeName:tr.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return dP.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const EPe=/^c[^\s-]{8,}$/i,_Pe=/^[a-z][a-z0-9]*$/,SPe=/[0-9A-HJKMNP-TV-Z]{26}/,kPe=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,xPe=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,APe=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),OPe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,PPe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,TPe=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function IPe(e,t){return!!((t==="v4"||!t)&&OPe.test(e)||(t==="v6"||!t)&&PPe.test(e))}let Oy=class Bb extends Nr{constructor(){super(...arguments),this._regex=(t,r,n)=>this.refinement(i=>t.test(i),{validation:r,code:bt.invalid_string,...Kt.errToObj(n)}),this.nonempty=t=>this.min(1,Kt.errToObj(t)),this.trim=()=>new Bb({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new Bb({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new Bb({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pt.string){const i=this._getOrReturnCtx(t);return Mt(i,{code:bt.invalid_type,expected:Pt.string,received:i.parsedType}),hr}const r=new As;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(n=this._getOrReturnCtx(t,n),o?Mt(n,{code:bt.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&Mt(n,{code:bt.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")xPe.test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"email",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")APe.test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"emoji",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")kPe.test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"uuid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")EPe.test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"cuid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")_Pe.test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"cuid2",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")SPe.test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"ulid",code:bt.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),Mt(n,{validation:"url",code:bt.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"regex",code:bt.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?TPe(i).test(t.data)||(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="ip"?IPe(t.data,i.version)||(n=this._getOrReturnCtx(t,n),Mt(n,{validation:"ip",code:bt.invalid_string,message:i.message}),r.dirty()):Xr.assertNever(i);return{status:r.value,value:t.data}}_addCheck(t){return new Bb({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Kt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Kt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Kt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Kt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Kt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Kt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Kt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Kt.errToObj(t)})}datetime(t){var r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,...Kt.errToObj(t==null?void 0:t.message)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Kt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Kt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Kt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Kt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Kt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Kt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Kt.errToObj(r)})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Oy.create=e=>{var t;return new Oy({checks:[],typeName:tr.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._r(e)})};function BPe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}let ev=class zk extends Nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pt.number){const i=this._getOrReturnCtx(t);return Mt(i,{code:bt.invalid_type,expected:Pt.number,received:i.parsedType}),hr}let r;const n=new As;for(const i of this._def.checks)i.kind==="int"?Xr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?BPe(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.not_finite,message:i.message}),n.dirty()):Xr.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Kt.toString(r))}setLimit(t,r,n,i){return new zk({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Kt.toString(i)}]})}_addCheck(t){return new zk({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Kt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Kt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Kt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Kt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Kt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Xr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};ev.create=e=>new ev({checks:[],typeName:tr.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,..._r(e)});let tv=class Lk extends Nr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==Pt.bigint){const i=this._getOrReturnCtx(t);return Mt(i,{code:bt.invalid_type,expected:Pt.bigint,received:i.parsedType}),hr}let r;const n=new As;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Mt(r,{code:bt.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):Xr.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Kt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Kt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Kt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Kt.toString(r))}setLimit(t,r,n,i){return new Lk({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Kt.toString(i)}]})}_addCheck(t){return new Lk({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Kt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Kt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Kt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Kt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Kt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};tv.create=e=>{var t;return new tv({checks:[],typeName:tr.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,..._r(e)})};let rv=class extends Nr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Pt.boolean){const t=this._getOrReturnCtx(e);return Mt(t,{code:bt.invalid_type,expected:Pt.boolean,received:t.parsedType}),hr}return Ko(e.data)}};rv.create=e=>new rv({typeName:tr.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,..._r(e)});let nv=class yG extends Nr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pt.date){const i=this._getOrReturnCtx(t);return Mt(i,{code:bt.invalid_type,expected:Pt.date,received:i.parsedType}),hr}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Mt(i,{code:bt.invalid_date}),hr}const r=new As;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),Mt(n,{code:bt.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Xr.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yG({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Kt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Kt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};nv.create=e=>new nv({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:tr.ZodDate,..._r(e)});let X1=class extends Nr{_parse(e){if(this._getType(e)!==Pt.symbol){const t=this._getOrReturnCtx(e);return Mt(t,{code:bt.invalid_type,expected:Pt.symbol,received:t.parsedType}),hr}return Ko(e.data)}};X1.create=e=>new X1({typeName:tr.ZodSymbol,..._r(e)});let iv=class extends Nr{_parse(e){if(this._getType(e)!==Pt.undefined){const t=this._getOrReturnCtx(e);return Mt(t,{code:bt.invalid_type,expected:Pt.undefined,received:t.parsedType}),hr}return Ko(e.data)}};iv.create=e=>new iv({typeName:tr.ZodUndefined,..._r(e)});let ov=class extends Nr{_parse(e){if(this._getType(e)!==Pt.null){const t=this._getOrReturnCtx(e);return Mt(t,{code:bt.invalid_type,expected:Pt.null,received:t.parsedType}),hr}return Ko(e.data)}};ov.create=e=>new ov({typeName:tr.ZodNull,..._r(e)});let Py=class extends Nr{constructor(){super(...arguments),this._any=!0}_parse(e){return Ko(e.data)}};Py.create=e=>new Py({typeName:tr.ZodAny,..._r(e)});let Bh=class extends Nr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ko(e.data)}};Bh.create=e=>new Bh({typeName:tr.ZodUnknown,..._r(e)});let Mc=class extends Nr{_parse(e){const t=this._getOrReturnCtx(e);return Mt(t,{code:bt.invalid_type,expected:Pt.never,received:t.parsedType}),hr}};Mc.create=e=>new Mc({typeName:tr.ZodNever,..._r(e)});let Q1=class extends Nr{_parse(e){if(this._getType(e)!==Pt.undefined){const t=this._getOrReturnCtx(e);return Mt(t,{code:bt.invalid_type,expected:Pt.void,received:t.parsedType}),hr}return Ko(e.data)}};Q1.create=e=>new Q1({typeName:tr.ZodVoid,..._r(e)});let Zh=class p8 extends Nr{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Pt.array)return Mt(r,{code:bt.invalid_type,expected:Pt.array,received:r.parsedType}),hr;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(Mt(r,{code:s?bt.too_big:bt.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(Mt(r,{code:bt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(Mt(r,{code:bt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new kl(r,s,r.path,a)))).then(s=>As.mergeArray(n,s));const o=[...r.data].map((s,a)=>i.type._parseSync(new kl(r,s,r.path,a)));return As.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new p8({...this._def,minLength:{value:t,message:Kt.toString(r)}})}max(t,r){return new p8({...this._def,maxLength:{value:t,message:Kt.toString(r)}})}length(t,r){return new p8({...this._def,exactLength:{value:t,message:Kt.toString(r)}})}nonempty(t){return this.min(1,t)}};Zh.create=(e,t)=>new Zh({type:e,minLength:null,maxLength:null,exactLength:null,typeName:tr.ZodArray,..._r(t)});function lg(e){if(e instanceof Ua){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=wc.create(lg(n))}return new Ua({...e._def,shape:()=>t})}else return e instanceof Zh?new Zh({...e._def,type:lg(e.element)}):e instanceof wc?wc.create(lg(e.unwrap())):e instanceof Gh?Gh.create(lg(e.unwrap())):e instanceof fd?fd.create(e.items.map(t=>lg(t))):e}let Ua=class ru extends Nr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Xr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Pt.object){const l=this._getOrReturnCtx(t);return Mt(l,{code:bt.invalid_type,expected:Pt.object,received:l.parsedType}),hr}const{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Mc&&this._def.unknownKeys==="strip"))for(const l in n.data)o.includes(l)||s.push(l);const a=[];for(const l of o){const c=i[l],u=n.data[l];a.push({key:{status:"valid",value:l},value:c._parse(new kl(n,u,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof Mc){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of s)a.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(l==="strict")s.length>0&&(Mt(n,{code:bt.unrecognized_keys,keys:s}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of s){const u=n.data[c];a.push({key:{status:"valid",value:c},value:l._parse(new kl(n,u,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of a){const u=await c.key;l.push({key:u,value:await c.value,alwaysSet:c.alwaysSet})}return l}).then(l=>As.mergeObjectSync(r,l)):As.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return new ru({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Kt.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new ru({...this._def,unknownKeys:"strip"})}passthrough(){return new ru({...this._def,unknownKeys:"passthrough"})}extend(t){return new ru({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ru({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:tr.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new ru({...this._def,catchall:t})}pick(t){const r={};return Xr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new ru({...this._def,shape:()=>r})}omit(t){const r={};return Xr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new ru({...this._def,shape:()=>r})}deepPartial(){return lg(this)}partial(t){const r={};return Xr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new ru({...this._def,shape:()=>r})}required(t){const r={};return Xr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof wc;)i=i._def.innerType;r[n]=i}}),new ru({...this._def,shape:()=>r})}keyof(){return _G(Xr.objectKeys(this.shape))}};Ua.create=(e,t)=>new Ua({shape:()=>e,unknownKeys:"strip",catchall:Mc.create(),typeName:tr.ZodObject,..._r(t)});Ua.strictCreate=(e,t)=>new Ua({shape:()=>e,unknownKeys:"strict",catchall:Mc.create(),typeName:tr.ZodObject,..._r(t)});Ua.lazycreate=(e,t)=>new Ua({shape:e,unknownKeys:"strip",catchall:Mc.create(),typeName:tr.ZodObject,..._r(t)});let sv=class extends Nr{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function n(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return t.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(s=>new wu(s.ctx.common.issues));return Mt(t,{code:bt.invalid_union,unionErrors:o}),hr}if(t.common.async)return Promise.all(r.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(n);{let i;const o=[];for(const a of r){const l={...t,common:{...t.common,issues:[]},parent:null},c=a._parseSync({data:t.data,path:t.path,parent:l});if(c.status==="valid")return c;c.status==="dirty"&&!i&&(i={result:c,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const s=o.map(a=>new wu(a));return Mt(t,{code:bt.invalid_union,unionErrors:s}),hr}}get options(){return this._def.options}};sv.create=(e,t)=>new sv({options:e,typeName:tr.ZodUnion,..._r(t)});const g8=e=>e instanceof uv?g8(e.schema):e instanceof Au?g8(e.innerType()):e instanceof lv?[e.value]:e instanceof _w?e.options:e instanceof cv?Object.keys(e.enum):e instanceof fv?g8(e._def.innerType):e instanceof iv?[void 0]:e instanceof ov?[null]:null;let mG=class bG extends Nr{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.object)return Mt(r,{code:bt.invalid_type,expected:Pt.object,received:r.parsedType}),hr;const n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(Mt(r,{code:bt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),hr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const o of r){const s=g8(o.shape[t]);if(!s)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new bG({typeName:tr.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,..._r(n)})}};function $k(e,t){const r=Lf(e),n=Lf(t);if(e===t)return{valid:!0,data:e};if(r===Pt.object&&n===Pt.object){const i=Xr.objectKeys(t),o=Xr.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=$k(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(r===Pt.array&&n===Pt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=$k(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Pt.date&&n===Pt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let av=class extends Nr{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=(i,o)=>{if(jk(i)||jk(o))return hr;const s=$k(i.value,o.value);return s.valid?((Uk(i)||Uk(o))&&t.dirty(),{status:t.value,value:s.data}):(Mt(r,{code:bt.invalid_intersection_types}),hr)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>n(i,o)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};av.create=(e,t,r)=>new av({left:e,right:t,typeName:tr.ZodIntersection,..._r(r)});let fd=class vG extends Nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.array)return Mt(n,{code:bt.invalid_type,expected:Pt.array,received:n.parsedType}),hr;if(n.data.length<this._def.items.length)return Mt(n,{code:bt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),hr;!this._def.rest&&n.data.length>this._def.items.length&&(Mt(n,{code:bt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,s)=>{const a=this._def.items[s]||this._def.rest;return a?a._parse(new kl(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>As.mergeArray(r,o)):As.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new vG({...this._def,rest:t})}};fd.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fd({items:e,typeName:tr.ZodTuple,rest:null,..._r(t)})};let wG=class Fk extends Nr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.object)return Mt(n,{code:bt.invalid_type,expected:Pt.object,received:n.parsedType}),hr;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in n.data)i.push({key:o._parse(new kl(n,a,n.path,a)),value:s._parse(new kl(n,n.data[a],n.path,a))});return n.common.async?As.mergeObjectAsync(r,i):As.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Nr?new Fk({keyType:t,valueType:r,typeName:tr.ZodRecord,..._r(n)}):new Fk({keyType:Oy.create(),valueType:t,typeName:tr.ZodRecord,..._r(r)})}},Y1=class extends Nr{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Pt.map)return Mt(r,{code:bt.invalid_type,expected:Pt.map,received:r.parsedType}),hr;const n=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([s,a],l)=>({key:n._parse(new kl(r,s,r.path,[l,"key"])),value:i._parse(new kl(r,a,r.path,[l,"value"]))}));if(r.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const a of o){const l=await a.key,c=await a.value;if(l.status==="aborted"||c.status==="aborted")return hr;(l.status==="dirty"||c.status==="dirty")&&t.dirty(),s.set(l.value,c.value)}return{status:t.value,value:s}})}else{const s=new Map;for(const a of o){const l=a.key,c=a.value;if(l.status==="aborted"||c.status==="aborted")return hr;(l.status==="dirty"||c.status==="dirty")&&t.dirty(),s.set(l.value,c.value)}return{status:t.value,value:s}}}};Y1.create=(e,t,r)=>new Y1({valueType:t,keyType:e,typeName:tr.ZodMap,..._r(r)});let J1=class Dk extends Nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Pt.set)return Mt(n,{code:bt.invalid_type,expected:Pt.set,received:n.parsedType}),hr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(Mt(n,{code:bt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(Mt(n,{code:bt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return hr;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>o._parse(new kl(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,r){return new Dk({...this._def,minSize:{value:t,message:Kt.toString(r)}})}max(t,r){return new Dk({...this._def,maxSize:{value:t,message:Kt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};J1.create=(e,t)=>new J1({valueType:e,minSize:null,maxSize:null,typeName:tr.ZodSet,..._r(t)});let EG=class y8 extends Nr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Pt.function)return Mt(r,{code:bt.invalid_type,expected:Pt.function,received:r.parsedType}),hr;function n(a,l){return q1({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,W1(),J0].filter(c=>!!c),issueData:{code:bt.invalid_arguments,argumentsError:l}})}function i(a,l){return q1({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,W1(),J0].filter(c=>!!c),issueData:{code:bt.invalid_return_type,returnTypeError:l}})}const o={errorMap:r.common.contextualErrorMap},s=r.data;return this._def.returns instanceof Ty?Ko(async(...a)=>{const l=new wu([]),c=await this._def.args.parseAsync(a,o).catch(h=>{throw l.addIssue(n(a,h)),l}),u=await s(...c);return await this._def.returns._def.type.parseAsync(u,o).catch(h=>{throw l.addIssue(i(u,h)),l})}):Ko((...a)=>{const l=this._def.args.safeParse(a,o);if(!l.success)throw new wu([n(a,l.error)]);const c=s(...l.data),u=this._def.returns.safeParse(c,o);if(!u.success)throw new wu([i(c,u.error)]);return u.data})}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new y8({...this._def,args:fd.create(t).rest(Bh.create())})}returns(t){return new y8({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new y8({args:t||fd.create([]).rest(Bh.create()),returns:r||Bh.create(),typeName:tr.ZodFunction,..._r(n)})}},uv=class extends Nr{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};uv.create=(e,t)=>new uv({getter:e,typeName:tr.ZodLazy,..._r(t)});let lv=class extends Nr{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Mt(t,{received:t.data,code:bt.invalid_literal,expected:this._def.value}),hr}return{status:"valid",value:e.data}}get value(){return this._def.value}};lv.create=(e,t)=>new lv({value:e,typeName:tr.ZodLiteral,..._r(t)});function _G(e,t){return new _w({values:e,typeName:tr.ZodEnum,..._r(t)})}let _w=class Hk extends Nr{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Mt(r,{expected:Xr.joinValues(n),received:r.parsedType,code:bt.invalid_type}),hr}if(this._def.values.indexOf(t.data)===-1){const r=this._getOrReturnCtx(t),n=this._def.values;return Mt(r,{received:r.data,code:bt.invalid_enum_value,options:n}),hr}return Ko(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t){return Hk.create(t)}exclude(t){return Hk.create(this.options.filter(r=>!t.includes(r)))}};_w.create=_G;let cv=class extends Nr{_parse(e){const t=Xr.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Pt.string&&r.parsedType!==Pt.number){const n=Xr.objectValues(t);return Mt(r,{expected:Xr.joinValues(n),received:r.parsedType,code:bt.invalid_type}),hr}if(t.indexOf(e.data)===-1){const n=Xr.objectValues(t);return Mt(r,{received:r.data,code:bt.invalid_enum_value,options:n}),hr}return Ko(e.data)}get enum(){return this._def.values}};cv.create=(e,t)=>new cv({values:e,typeName:tr.ZodNativeEnum,..._r(t)});let Ty=class extends Nr{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Pt.promise&&t.common.async===!1)return Mt(t,{code:bt.invalid_type,expected:Pt.promise,received:t.parsedType}),hr;const r=t.parsedType===Pt.promise?t.data:Promise.resolve(t.data);return Ko(r.then(n=>this._def.type.parseAsync(n,{path:t.path,errorMap:t.common.contextualErrorMap})))}};Ty.create=(e,t)=>new Ty({type:e,typeName:tr.ZodPromise,..._r(t)});let Au=class extends Nr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===tr.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null;if(n.type==="preprocess"){const o=n.transform(r.data);return r.common.async?Promise.resolve(o).then(s=>this._def.schema._parseAsync({data:s,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}const i={addIssue:o=>{Mt(r,o),o.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),n.type==="refinement"){const o=s=>{const a=n.refinement(s,i);if(r.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?hr:(s.status==="dirty"&&t.dirty(),o(s.value),{status:t.value,value:s.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>s.status==="aborted"?hr:(s.status==="dirty"&&t.dirty(),o(s.value).then(()=>({status:t.value,value:s.value}))))}if(n.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Z1(o))return o;const s=n.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Z1(o)?Promise.resolve(n.transform(o.value,i)).then(s=>({status:t.value,value:s})):o);Xr.assertNever(n)}};Au.create=(e,t,r)=>new Au({schema:e,typeName:tr.ZodEffects,effect:t,..._r(r)});Au.createWithPreprocess=(e,t,r)=>new Au({schema:t,effect:{type:"preprocess",transform:e},typeName:tr.ZodEffects,..._r(r)});let wc=class extends Nr{_parse(e){return this._getType(e)===Pt.undefined?Ko(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};wc.create=(e,t)=>new wc({innerType:e,typeName:tr.ZodOptional,..._r(t)});let Gh=class extends Nr{_parse(e){return this._getType(e)===Pt.null?Ko(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Gh.create=(e,t)=>new Gh({innerType:e,typeName:tr.ZodNullable,..._r(t)});let fv=class extends Nr{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Pt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};fv.create=(e,t)=>new fv({innerType:e,typeName:tr.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,..._r(t)});let e4=class extends Nr{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return G1(n)?n.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new wu(r.common.issues)},input:r.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new wu(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};e4.create=(e,t)=>new e4({innerType:e,typeName:tr.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,..._r(t)});let t4=class extends Nr{_parse(e){if(this._getType(e)!==Pt.nan){const t=this._getOrReturnCtx(e);return Mt(t,{code:bt.invalid_type,expected:Pt.nan,received:t.parsedType}),hr}return{status:"valid",value:e.data}}};t4.create=e=>new t4({typeName:tr.ZodNaN,..._r(e)});const NPe=Symbol("zod_brand");let SG=class extends Nr{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}},dP=class kG extends Nr{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?hr:i.status==="dirty"?(r.dirty(),gG(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?hr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new kG({in:t,out:r,typeName:tr.ZodPipeline})}};const xG=(e,t={},r)=>e?Py.create().superRefine((n,i)=>{var o,s;if(!e(n)){const a=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,l=(s=(o=a.fatal)!==null&&o!==void 0?o:r)!==null&&s!==void 0?s:!0,c=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...c,fatal:l})}}):Py.create(),MPe={object:Ua.lazycreate};var tr;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"})(tr||(tr={}));const RPe=(e,t={message:`Input not instance of ${e.name}`})=>xG(r=>r instanceof e,t),AG=Oy.create,OG=ev.create,CPe=t4.create,jPe=tv.create,PG=rv.create,UPe=nv.create,zPe=X1.create,LPe=iv.create,$Pe=ov.create,FPe=Py.create,DPe=Bh.create,HPe=Mc.create,KPe=Q1.create,VPe=Zh.create,WPe=Ua.create,qPe=Ua.strictCreate,ZPe=sv.create,GPe=mG.create,XPe=av.create,QPe=fd.create,YPe=wG.create,JPe=Y1.create,eTe=J1.create,tTe=EG.create,rTe=uv.create,nTe=lv.create,iTe=_w.create,oTe=cv.create,sTe=Ty.create,Bj=Au.create,aTe=wc.create,uTe=Gh.create,lTe=Au.createWithPreprocess,cTe=dP.create,fTe=()=>AG().optional(),dTe=()=>OG().optional(),hTe=()=>PG().optional(),pTe={string:e=>Oy.create({...e,coerce:!0}),number:e=>ev.create({...e,coerce:!0}),boolean:e=>rv.create({...e,coerce:!0}),bigint:e=>tv.create({...e,coerce:!0}),date:e=>nv.create({...e,coerce:!0})},gTe=hr;var Ho=Object.freeze({__proto__:null,defaultErrorMap:J0,setErrorMap:vPe,getErrorMap:W1,makeIssue:q1,EMPTY_PATH:wPe,addIssueToContext:Mt,ParseStatus:As,INVALID:hr,DIRTY:gG,OK:Ko,isAborted:jk,isDirty:Uk,isValid:Z1,isAsync:G1,get util(){return Xr},get objectUtil(){return Ck},ZodParsedType:Pt,getParsedType:Lf,ZodType:Nr,ZodString:Oy,ZodNumber:ev,ZodBigInt:tv,ZodBoolean:rv,ZodDate:nv,ZodSymbol:X1,ZodUndefined:iv,ZodNull:ov,ZodAny:Py,ZodUnknown:Bh,ZodNever:Mc,ZodVoid:Q1,ZodArray:Zh,ZodObject:Ua,ZodUnion:sv,ZodDiscriminatedUnion:mG,ZodIntersection:av,ZodTuple:fd,ZodRecord:wG,ZodMap:Y1,ZodSet:J1,ZodFunction:EG,ZodLazy:uv,ZodLiteral:lv,ZodEnum:_w,ZodNativeEnum:cv,ZodPromise:Ty,ZodEffects:Au,ZodTransformer:Au,ZodOptional:wc,ZodNullable:Gh,ZodDefault:fv,ZodCatch:e4,ZodNaN:t4,BRAND:NPe,ZodBranded:SG,ZodPipeline:dP,custom:xG,Schema:Nr,ZodSchema:Nr,late:MPe,get ZodFirstPartyTypeKind(){return tr},coerce:pTe,any:FPe,array:VPe,bigint:jPe,boolean:PG,date:UPe,discriminatedUnion:GPe,effect:Bj,enum:iTe,function:tTe,instanceof:RPe,intersection:XPe,lazy:rTe,literal:nTe,map:JPe,nan:CPe,nativeEnum:oTe,never:HPe,null:$Pe,nullable:uTe,number:OG,object:WPe,oboolean:hTe,onumber:dTe,optional:aTe,ostring:fTe,pipeline:cTe,preprocess:lTe,promise:sTe,record:YPe,set:eTe,strictObject:qPe,string:AG,symbol:zPe,transformer:Bj,tuple:QPe,undefined:LPe,union:ZPe,unknown:DPe,void:KPe,NEVER:gTe,ZodIssueCode:bt,quotelessJson:bPe,ZodError:wu});const TG=Ho.string().regex(/^[a-fA-F0-9]$/),yTe=Ho.string().regex(/^[a-fA-F0-9]{64}$/),Iy=Ho.number().min(0).max(4294967295),mTe=Ho.bigint(),IG=Ho.instanceof(Uint8Array),bTe=Ho.union([TG,Iy,Ho.string(),IG]).array(),hP=Ho.union([bTe,TG,IG]),vTe=Ho.array(hP),BG=Ho.object({value:Ho.union([Iy,mTe]),scriptPubKey:hP}),wTe=Ho.object({txid:yTe,vout:Iy,scriptSig:hP,sequence:Iy,prevout:BG.optional(),witness:vTe});Ho.object({version:Iy,vin:Ho.array(wTe),vout:Ho.array(BG),locktime:Iy});nA(K4);const NG=async({contentBase64:e,mimeType:t,quantity:r=1,inscriptions:n,ordinalAddress:i,paymentAddress:o,paymentPublicKey:s,signPsbt:a,dataSourceManager:l,opReturn:c,network:u=wn})=>{if(!e&&!n)throw new Error("contentBase64 or inscriptions is required");if(!l)throw new Error("missing data source");if(!l.broadcastTransaction)throw new Error("missing broadcastTransaction");const h=await j8e(u),g=Fe.from(h).toString("hex"),k=n||Array(r).fill({content:e,mimeType:t}),R=await ETe({inscriptions:k,paymentAddress:o,paymentPublicKey:s,privKey:g,dataSourceManager:l,network:u});if(!R||!(R!=null&&R.psbtHex))throw new Error("couldn't get commit tx");const F=String(R==null?void 0:R.psbtHex),D=String(R==null?void 0:R.psbtBase64),$=await a({tx:F,psbtHex:F,psbtBase64:D,finalize:!0,broadcast:!1,network:u});if(!$)throw new Error("sign psbt failed");const B=Fr.fromHex(($==null?void 0:$.signedPsbtHex)||"").extractTransaction(),U=await l.broadcastTransaction(B.toHex());if(!U)throw new Error("commit tx failed");return await _Te({inscriptions:k,ordinalAddress:i,privKey:g,commitTxId:U,dataSourceManager:l,opReturn:c})},ETe=async({inscriptions:e,paymentAddress:t,paymentPublicKey:r,privKey:n,dataSourceManager:i,network:o})=>{const s=e.length,a=e.reduce((ae,re)=>ae+Fe.from(re.content).length,0);if(a>39e4)throw new Error("Content size is too large, must be less than 390kb");if(!i)throw new Error("missing data source");if(!i.getRecommendedFees)throw new Error("missing getRecommendedFees");if(!i.getAddressUtxos)throw new Error("missing getAddressUtxos");const{fastFee:l}=await i.getRecommendedFees(),c=gq(String(n),!0),u=new Fr({network:Vr(o)}),{inscriberAddress:h}=STe(c,e,o),g=5*34*s,k=Math.floor(g*l*s),R=Math.floor(a*l/3)+1e3+546*s,F=Math.floor(k+R),D=(await i.getAddressUtxos(t)).filter(ae=>ae.value>3e3).sort((ae,re)=>re.value-ae.value),$=U6(D);if($===0)throw new Error("insufficient funds");if($<F)throw new Error("insufficient funds");let B=0;const U=Ca(t,Vr(o));let q=0;for await(const ae of D){const re=q6(t,o);if(u.addInput({hash:ae.txid,index:ae.vout,witnessUtxo:{value:BigInt(ae.value),script:U}}),re===kh&&u.updateInput(q,{tapInternalKey:Ws(Fe.from(r,"hex"))}),re===zv){const K=uw(r,o);u.updateInput(q,{redeemScript:K})}if(q++,B+=ae.value,B>F)break}const ee=B-F;return u.addOutput({value:BigInt(R),address:h}),ee>546&&u.addOutput({value:BigInt(ee),address:t}),{psbtHex:u.toHex(),psbtBase64:u.toBase64()}},_Te=async({inscriptions:e,ordinalAddress:t,commitTxId:r,privKey:n,dataSourceManager:i,opReturn:o,isDry:s})=>{const a=qSe(n),l=gq(n,!0),c=MG(l,e),u=V1.encodeScript(c),[h,g]=V1.getPubKey(l,{target:u});if(!i)throw new Error("missing data source");if(!i.waitForTransaction)throw new Error("missing waitForTransaction");if(!i.getOutputValueByVOutIndex)throw new Error("missing waitForTransaction");if(!i.broadcastTransaction)throw new Error("missing broadcastTransaction");if(!await i.waitForTransaction(String(r)))throw new Error("ERROR WAITING FOR COMMIT TX");const k=await i.getOutputValueByVOutIndex(r,0);if(k===0||!k)throw new Error("ERROR GETTING FIRST INPUT VALUE");const R=ed.create({vin:[{txid:r,vout:0,prevout:{value:k,scriptPubKey:["OP_1",h]}}],vout:[...Array(e.length).fill({value:546,scriptPubKey:sG.toScriptPubKey(t)})],...o?{vout:[{value:0,scriptPubKey:["OP_RETURN",o]}]}:{}}),F=pPe.taproot.sign(a,R,0,{extension:u});return R.vin[0].witness=[F,c,g],s?ed.util.getTxid(R):await i.broadcastTransaction(ed.encode(R).hex)},MG=(e,t)=>{const r=new TextEncoder,n=r.encode("ord"),i=546,o=(a,l)=>{let c;if(l===R8e){const h=Fe.from(a,"base64").toString("utf-8");c=Fe.from(h,"utf-8")}else c=Fe.from(a,"base64");const u=[];for(let h=0;h<c.length;h+=520)u.push(c.slice(h,h+520));return u},s=[e,"OP_CHECKSIG"];return t.forEach((a,l)=>{const{content:c,mimeType:u}=a,h=o(c,u);if(s.push("OP_0","OP_IF",n,"01",r.encode(u),"OP_0"),l>0){const g=i*(l+1),k=Fe.from([g]);s.push(Fe.from([2])),s.push(k)}s.push(...h.map(g=>g),"OP_ENDIF")}),s},STe=(e,t,r=wn)=>{const n=MG(e,t),i=V1.encodeScript(n),[o]=V1.getPubKey(e,{target:i});return{inscriberAddress:sG.p2tr.fromPubKey(o,zwe(r)),tpubkey:o,tapleaf:i}};var kTe={},Sw={};Object.defineProperty(Sw,"__esModule",{value:!0});Sw.isRunestone=void 0;function xTe(e){return!("flaws"in e)}Sw.isRunestone=xTe;var ym={};Object.defineProperty(ym,"__esModule",{value:!0});ym.Flaw=void 0;var Nj;(function(e){e[e.EDICT_OUTPUT=0]="EDICT_OUTPUT",e[e.EDICT_RUNE_ID=1]="EDICT_RUNE_ID",e[e.INVALID_SCRIPT=2]="INVALID_SCRIPT",e[e.OPCODE=3]="OPCODE",e[e.SUPPLY_OVERFLOW=4]="SUPPLY_OVERFLOW",e[e.TRAILING_INTEGERS=5]="TRAILING_INTEGERS",e[e.TRUNCATED_FIELD=6]="TRUNCATED_FIELD",e[e.UNRECOGNIZED_EVEN_TAG=7]="UNRECOGNIZED_EVEN_TAG",e[e.UNRECOGNIZED_FLAG=8]="UNRECOGNIZED_FLAG",e[e.VARINT=9]="VARINT"})(Nj||(ym.Flaw=Nj={}));var mm={};Object.defineProperty(mm,"__esModule",{value:!0});mm.RuneId=void 0;const _f=ro,Qu=Ai;class c0{constructor(t,r){this.block=t,this.tx=r}static new(t,r){const n=new c0(t,r);return n.block===0n&&n.tx>0?_f.None:(0,_f.Some)(n)}static sort(t){return[...t].sort((r,n)=>Number(r.block-n.block||r.tx-n.tx))}delta(t){const r=Qu.u64.checkedSub(t.block,this.block);if(r.isNone())return _f.None;const n=r.unwrap();let i;if(n===0n){const o=Qu.u32.checkedSub(t.tx,this.tx);if(o.isNone())return _f.None;i=o.unwrap()}else i=t.tx;return(0,_f.Some)([(0,Qu.u128)(n),(0,Qu.u128)(i)])}next(t,r){const n=Qu.u128.tryIntoU64(t),i=Qu.u128.tryIntoU32(r);if(n.isNone()||i.isNone())return _f.None;const o=n.unwrap(),s=i.unwrap(),a=Qu.u64.checkedAdd(this.block,o);if(a.isNone())return _f.None;let l;if(o===0n){const c=Qu.u32.checkedAdd(this.tx,s);if(c.isNone())return _f.None;l=c.unwrap()}else l=s;return c0.new(a.unwrap(),l)}toString(){return`${this.block}:${this.tx}`}static fromString(t){const r=t.split(":");if(r.length!==2)throw new Error(`invalid rune ID: ${t}`);const[n,i]=r;if(!/^\d+$/.test(n)||!/^\d+$/.test(i))throw new Error(`invalid rune ID: ${t}`);return new c0((0,Qu.u64)(BigInt(n)),(0,Qu.u32)(BigInt(i)))}}mm.RuneId=c0;var pP={},pE={};Object.defineProperty(pE,"__esModule",{value:!0});pE.Instruction=void 0;var Mj;(function(e){function t(n){return typeof n=="number"}e.isNumber=t;function r(n){return typeof n!="number"}e.isBuffer=r})(Mj||(pE.Instruction=Mj={}));var gE={},yE={};Object.defineProperty(yE,"__esModule",{value:!0});yE.Edict=void 0;const k3=ro,ATe=Ai;var Rj;(function(e){function t(r,n,i,o){if(n.block===0n&&n.tx>0n)return k3.None;const s=ATe.u128.tryIntoU32(o);if(s.isNone())return k3.None;const a=s.unwrap();return a>r?k3.None:(0,k3.Some)({id:n,amount:i,output:a})}e.fromIntegers=t})(Rj||(yE.Edict=Rj={}));Object.defineProperty(gE,"__esModule",{value:!0});gE.Message=void 0;const OTe=yE,x3=ym,GS=Ai,PTe=mm,TTe=hp;class gP{constructor(t,r,n){this.flaws=t,this.edicts=r,this.fields=n}static fromIntegers(t,r){const n=[],i=new Map,o=[];for(const s of[...Array(Math.ceil(r.length/2)).keys()].map(a=>a*2)){const a=r[s];if((0,GS.u128)(TTe.Tag.BODY)===a){let u=new PTe.RuneId((0,GS.u64)(0),(0,GS.u32)(0));const h=4,g=r.slice(s+1);for(let k=0;k<g.length;k+=h){const R=g.slice(k,k+h);if(R.length!==h){o.push(x3.Flaw.TRAILING_INTEGERS);break}const F=u.next(R[0],R[1]);if(F.isNone()){o.push(x3.Flaw.EDICT_RUNE_ID);break}const D=F.unwrap(),$=OTe.Edict.fromIntegers(t,D,R[2],R[3]);if($.isNone()){o.push(x3.Flaw.EDICT_OUTPUT);break}const B=$.unwrap();u=D,n.push(B)}break}const l=r[s+1];if(l===void 0){o.push(x3.Flaw.TRUNCATED_FIELD);break}const c=i.get(a)??[];c.push(l),i.set(a,c)}return new gP(o,n,i)}}gE.Message=gP;var mE={};Object.defineProperty(mE,"__esModule",{value:!0});mE.Cenotaph=void 0;const Cj=ro;class ITe{constructor(t,r=Cj.None,n=Cj.None){this.flaws=t,this.etching=r,this.mint=n}}mE.Cenotaph=ITe;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Runestone=e.isValidPayload=e.MAX_SPACERS=void 0;const t=kn,r=am,n=pw,i=hp,o=Ai,s=ro,a=fm,l=lm,c=pE,u=mm,h=Nc,g=gE,k=ym,R=mE;e.MAX_SPACERS=134217727;function F($){return Fe.isBuffer($)}e.isValidPayload=F;class D{constructor(B,U,q,ee){this.mint=B,this.pointer=U,this.edicts=q,this.etching=ee}static decipher(B){const U=D.payload(B);if(U.isNone())return s.None;const q=U.unwrap();if(!F(q))return(0,s.Some)(new R.Cenotaph([q]));const ee=D.integers(q);if(ee.isNone())return(0,s.Some)(new R.Cenotaph([k.Flaw.VARINT]));const{flaws:ae,edicts:re,fields:K}=g.Message.fromIntegers(B.vout.length,ee.unwrap());let C=i.Tag.take(i.Tag.FLAGS,K,1,([w])=>(0,s.Some)(w)).unwrapOr((0,o.u128)(0));const G=l.Flag.take(C,l.Flag.ETCHING),v=G.set;C=G.flags;const I=v?(()=>{const w=i.Tag.take(i.Tag.DIVISIBILITY,K,1,([W])=>o.u128.tryIntoU8(W).andThen(se=>se<=t.MAX_DIVISIBILITY?(0,s.Some)(se):s.None)),S=i.Tag.take(i.Tag.RUNE,K,1,([W])=>(0,s.Some)(new a.Rune(W))),A=i.Tag.take(i.Tag.SPACERS,K,1,([W])=>o.u128.tryIntoU32(W).andThen(se=>se<=e.MAX_SPACERS?(0,s.Some)(se):s.None)),x=i.Tag.take(i.Tag.SYMBOL,K,1,([W])=>o.u128.tryIntoU32(W).andThen(se=>{try{return(0,s.Some)(String.fromCodePoint(Number(se)))}catch{return s.None}})),E=l.Flag.take(C,l.Flag.TERMS),T=E.set;C=E.flags;const M=T?(()=>{const W=i.Tag.take(i.Tag.AMOUNT,K,1,([pe])=>(0,s.Some)(pe)),se=i.Tag.take(i.Tag.CAP,K,1,([pe])=>(0,s.Some)(pe)),Z=[i.Tag.take(i.Tag.OFFSET_START,K,1,([pe])=>o.u128.tryIntoU64(pe)),i.Tag.take(i.Tag.OFFSET_END,K,1,([pe])=>o.u128.tryIntoU64(pe))],ie=[i.Tag.take(i.Tag.HEIGHT_START,K,1,([pe])=>o.u128.tryIntoU64(pe)),i.Tag.take(i.Tag.HEIGHT_END,K,1,([pe])=>o.u128.tryIntoU64(pe))];return(0,s.Some)({amount:W,cap:se,offset:Z,height:ie})})():s.None,Q=i.Tag.take(i.Tag.PREMINE,K,1,([W])=>(0,s.Some)(W)),he=l.Flag.take(C,l.Flag.TURBO),ue=G.set;return C=he.flags,(0,s.Some)(new r.Etching(w,S,A,x,M,Q,ue))})():s.None,p=i.Tag.take(i.Tag.MINT,K,2,([w,S])=>{const A=o.u128.tryIntoU64(w),x=o.u128.tryIntoU32(S);return A.isNone()||x.isNone()?s.None:u.RuneId.new(A.unwrap(),x.unwrap())}),_=i.Tag.take(i.Tag.POINTER,K,1,([w])=>o.u128.tryIntoU32(w).andThen(S=>S<B.vout.length?(0,s.Some)(S):s.None));return I.map(w=>w.supply.isNone()).unwrapOr(!1)&&ae.push(k.Flaw.SUPPLY_OVERFLOW),C!==0n&&ae.push(k.Flaw.UNRECOGNIZED_FLAG),[...K.keys()].find(w=>w%2n===0n)!==void 0&&ae.push(k.Flaw.UNRECOGNIZED_EVEN_TAG),ae.length!==0?(0,s.Some)(new R.Cenotaph(ae,I.andThen(w=>w.rune),p)):(0,s.Some)(new D(p,_,re,I))}encipher(){const B=[];if(this.etching.isSome()){const ee=this.etching.unwrap();let ae=(0,o.u128)(0);if(ae=l.Flag.set(ae,l.Flag.ETCHING),ee.terms.isSome()&&(ae=l.Flag.set(ae,l.Flag.TERMS)),ee.turbo&&(ae=l.Flag.set(ae,l.Flag.TURBO)),B.push(i.Tag.encode(i.Tag.FLAGS,[ae])),B.push(i.Tag.encodeOptionInt(i.Tag.RUNE,ee.rune.map(re=>re.value))),B.push(i.Tag.encodeOptionInt(i.Tag.DIVISIBILITY,ee.divisibility.map(o.u128))),B.push(i.Tag.encodeOptionInt(i.Tag.SPACERS,ee.spacers.map(o.u128))),B.push(i.Tag.encodeOptionInt(i.Tag.SYMBOL,ee.symbol.map(re=>(0,o.u128)(re.codePointAt(0))))),B.push(i.Tag.encodeOptionInt(i.Tag.PREMINE,ee.premine)),ee.terms.isSome()){const re=ee.terms.unwrap();B.push(i.Tag.encodeOptionInt(i.Tag.AMOUNT,re.amount)),B.push(i.Tag.encodeOptionInt(i.Tag.CAP,re.cap)),B.push(i.Tag.encodeOptionInt(i.Tag.HEIGHT_START,re.height[0])),B.push(i.Tag.encodeOptionInt(i.Tag.HEIGHT_END,re.height[1])),B.push(i.Tag.encodeOptionInt(i.Tag.OFFSET_START,re.offset[0])),B.push(i.Tag.encodeOptionInt(i.Tag.OFFSET_END,re.offset[1]))}}if(this.mint.isSome()){const ee=this.mint.unwrap();B.push(i.Tag.encode(i.Tag.MINT,[ee.block,ee.tx].map(o.u128)))}if(B.push(i.Tag.encodeOptionInt(i.Tag.POINTER,this.pointer.map(o.u128))),this.edicts.length){B.push(o.u128.encodeVarInt((0,o.u128)(i.Tag.BODY)));const ee=[...this.edicts].sort((re,K)=>Number(re.id.block-K.id.block||re.id.tx-K.id.tx));let ae=new u.RuneId((0,o.u64)(0),(0,o.u32)(0));for(const re of ee){const[K,C]=ae.delta(re.id).unwrap();B.push(o.u128.encodeVarInt(K)),B.push(o.u128.encodeVarInt(C)),B.push(o.u128.encodeVarInt(re.amount)),B.push(o.u128.encodeVarInt((0,o.u128)(re.output))),ae=re.id}}const U=[];U.push(t.OP_RETURN),U.push(t.MAGIC_NUMBER);const q=Fe.concat(B);for(let ee=0;ee<q.length;ee+=t.MAX_SCRIPT_ELEMENT_SIZE)U.push(q.subarray(ee,ee+t.MAX_SCRIPT_ELEMENT_SIZE));return h.script.compile(U)}static payload(B){for(const U of B.vout){const q=h.script.decompile(Fe.from(U.scriptPubKey.hex,"hex"));if(q===null)throw new Error("unable to decompile");let ee=q.next();if(ee.done||ee.value!==t.OP_RETURN||(ee=q.next(),ee.done||c.Instruction.isBuffer(ee.value)||ee.value!==t.MAGIC_NUMBER))continue;let ae=[];do{if(ee=q.next(),ee.done){if(!ee.value)return(0,s.Some)(k.Flaw.INVALID_SCRIPT);break}const re=ee.value;if(c.Instruction.isBuffer(re))ae.push(re);else return(0,s.Some)(k.Flaw.OPCODE)}while(!0);return(0,s.Some)(Fe.concat(ae))}return s.None}static integers(B){const U=[],q=new n.SeekBuffer(B);for(;!q.isFinished();){const ee=o.u128.decodeVarInt(q);if(ee.isNone())return s.None;U.push(ee.unwrap())}return(0,s.Some)(U)}}e.Runestone=D})(pP);var RG={},dv={},kw={};Object.defineProperty(kw,"__esModule",{value:!0});kw.RuneLocation=void 0;var jj;(function(e){function t(r){return`${r.block}:${r.tx}`}e.toString=t})(jj||(kw.RuneLocation=jj={}));Object.defineProperty(dv,"__esModule",{value:!0});dv.RuneUpdater=void 0;const sb=Sw,m8=kn,Er=Ai,Cs=ro,Uj=fm,BTe=pP,NTe=Nc,zj=cm,Xl=kw;function XS(e){return e&&Fe.from(e,"hex")[0]===m8.OP_RETURN}class MTe{constructor(t,r,n,i,o){this.reorg=n,this._storage=i,this._rpc=o,this.etchings=[],this.utxoBalances=[],this.spentBalances=[],this._mintCountsByRuneLocation=new Map,this._burnedBalancesByRuneLocation=new Map,this.block={height:r.height,hash:r.hash,previousblockhash:r.previousblockhash,time:r.time},this._minimum=Uj.Rune.getMinimumAtHeight(t,(0,Er.u128)(r.height))}get mintCounts(){return[...this._mintCountsByRuneLocation.values()]}get burnedBalances(){return[...this._burnedBalancesByRuneLocation.values()]}async indexRunes(t,r){const n=BTe.Runestone.decipher(t),i=await this.unallocated(t),o=[...new Array(t.vout.length)].map(()=>new Map);function s(u){const h=Xl.RuneLocation.toString(u),g=i.get(h)??{runeId:u,amount:0n};return i.set(h,g),g}function a(u,h){const g=Xl.RuneLocation.toString(h),k=o[u].get(g)??{runeId:h,amount:0n};return o[u].set(g,k),k}if(n.isSome()){const u=n.unwrap(),h=u.mint;if(h.isSome()){const k=h.unwrap(),R={block:Number(k.block),tx:Number(k.tx)},F=await this.mint(R,t.txid);if(F.isSome()){const D=F.unwrap(),$=s(R);$.amount=Er.u128.checkedAddThrow((0,Er.u128)($.amount),(0,Er.u128)(D))}}const g=await this.etched(r,t,u);if((0,sb.isRunestone)(u)){const k=u;if(g.isSome()){const R=g.unwrap(),F=s(R.runeId);F.amount=Er.u128.checkedAddThrow((0,Er.u128)(F.amount),k.etching.unwrap().premine.unwrapOr((0,Er.u128)(0)))}for(const{id:R,amount:F,output:D}of[...k.edicts]){if(D>t.vout.length)throw new Error("Runestone edict output should never exceed transaction output size");if(R.block===0n&&R.tx===0n&&g.isNone())continue;const $=R.block===0n&&R.tx===0n?g.unwrap().runeId:{block:Number(R.block),tx:Number(R.tx)},B=Xl.RuneLocation.toString($),U=i.get(B);if(U===void 0)continue;let q=(ee,ae)=>{if(ee>0n){const re=a(ae,$);U.amount=Er.u128.checkedSubThrow((0,Er.u128)(U.amount),ee),re.amount=Er.u128.checkedAddThrow((0,Er.u128)(re.amount),ee)}};if(Number(D)===t.vout.length){const ee=[...t.vout.entries()].filter(([ae,re])=>!XS(re.scriptPubKey.hex)).map(([ae])=>ae);if(ee.length!==0)if(F===0n){const ae=(0,Er.u128)((0,Er.u128)(U.amount)/(0,Er.u128)(ee.length)),re=(0,Er.u128)(U.amount)%(0,Er.u128)(ee.length);for(const[K,C]of ee.entries())q(K<re?Er.u128.checkedAddThrow(ae,(0,Er.u128)(1)):ae,C)}else for(const ae of ee)q(F<U.amount?F:(0,Er.u128)(U.amount),ae)}else q(F!==0n&&F<(0,Er.u128)(U.amount)?F:(0,Er.u128)(U.amount),Number(D))}}if(g.isSome()){const{runeId:k,rune:R}=g.unwrap();this.createEtching(t.txid,u,k,R)}}const l=new Map;function c(u){const h=Xl.RuneLocation.toString(u),g=l.get(h)??{runeId:u,amount:0n};return l.set(h,g),g}if(n.isSome()&&!(0,sb.isRunestone)(n.unwrap()))for(const u of i.values()){const h=c(u.runeId);h.amount=Er.u128.checkedAddThrow((0,Er.u128)(h.amount),(0,Er.u128)(u.amount))}else{const u=n.map(h=>{if(!(0,sb.isRunestone)(h))throw new Error("unreachable");return h.pointer}).unwrapOr(Cs.None).map(h=>Number(h)).inspect(h=>{if(h<0||h>=o.length)throw new Error("Pointer is invalid")}).orElse(()=>{const h=[...t.vout.entries()].find(([g,k])=>!XS(k.scriptPubKey.hex));return h!==void 0?(0,Cs.Some)(h[0]):Cs.None});if(u.isSome()){const h=u.unwrap();for(const g of i.values())if(g.amount>0){const k=a(h,g.runeId);k.amount=Er.u128.checkedAddThrow((0,Er.u128)(k.amount),(0,Er.u128)(g.amount))}}else for(const[h,g]of i)if(g.amount>0){const k=c(g.runeId);l.set(h,{runeId:g.runeId,amount:Er.u128.checkedAddThrow((0,Er.u128)(k.amount),(0,Er.u128)(g.amount))})}}for(const[u,h]of o.entries()){if(h.size===0)continue;const g=t.vout[u];if(XS(g.scriptPubKey.hex)){for(const[R,F]of h){const D=c(F.runeId);D.amount=Er.u128.checkedAddThrow((0,Er.u128)(D.amount),(0,Er.u128)(F.amount))}continue}const k=new Map(this.etchings.map(R=>[Xl.RuneLocation.toString(R.runeId),R]));for(const R of h.values()){const F=Xl.RuneLocation.toString(R.runeId),D=k.get(F)??await this._storage.getEtching(F);if(D===null)throw new Error("Rune should exist at this point");this.utxoBalances.push({runeId:R.runeId,runeTicker:D.runeTicker,amount:R.amount,scriptPubKey:Fe.from(g.scriptPubKey.hex),txid:t.txid,vout:u,address:g.scriptPubKey.address})}}for(const[u,h]of l)this._burnedBalancesByRuneLocation.set(u,h)}async etched(t,r,n){let i;if((0,sb.isRunestone)(n)){const s=n;if(s.etching.isNone())return Cs.None;i=s.etching.unwrap().rune}else{const s=n;if(s.etching.isNone())return Cs.None;i=s.etching}let o;if(i.isSome()){if(o=i.unwrap(),o.value<this._minimum.value||o.reserved||this.etchings.find(a=>zj.SpacedRune.fromString(a.runeName).rune.toString()===o.toString()))return Cs.None;const s=await this._storage.getRuneLocation(o.toString());if(s&&s.block<this.block.height||!await this.txCommitsToRune(r,o))return Cs.None}else o=Uj.Rune.getReserved((0,Er.u64)(this.block.height),(0,Er.u32)(t));return(0,Cs.Some)({runeId:{block:this.block.height,tx:t},rune:o})}async mint(t,r){var n,i,o,s;const a=Xl.RuneLocation.toString(t),l=new Map(this.etchings.map(U=>[Xl.RuneLocation.toString(U.runeId),U])).get(a)??await this._storage.getEtching(a);if(l===null||!l.valid||!l.terms)return Cs.None;const c=l.terms,u=((n=c.offset)==null?void 0:n.start)!==void 0?l.runeId.block+Number(c.offset.start):null,h=((i=c.height)==null?void 0:i.start)!==void 0?Number(c.height.start):null,g=u!==null||h!==null?Math.max(u??-1/0,h??-1/0):null;if(g!==null&&this.block.height<g)return Cs.None;const k=((o=c.offset)==null?void 0:o.end)!==void 0?l.runeId.block+Number(c.offset.end):null,R=((s=c.height)==null?void 0:s.end)!==void 0?Number(c.height.end):null,F=k!==null||R!==null?Math.max(k??-1/0,R??-1/0):null;if(F!==null&&this.block.height>=F)return Cs.None;const D=c.cap??0n,$=this._mintCountsByRuneLocation.get(a)??{mint:t,count:0};if(this._mintCountsByRuneLocation.set(a,$),$.count+await this._storage.getValidMintCount(a,this.block.height-1)>=D)return Cs.None;const B=c.amount??0n;return $.count++,(0,Cs.Some)(B)}async unallocated(t){const r=new Map,n=new Map;for(const i of this.utxoBalances){const o=`${i.txid}:${i.vout}`,s=n.get(o)??[];s.push(i),n.set(o,s)}for(const i of t.vin){if("coinbase"in i)continue;const o=n.get(`${i.txid}:${i.vout}`)??await this._storage.getUtxoBalance(i.txid,i.vout);for(const s of o){const a=s.runeId,l=Xl.RuneLocation.toString(a),c=r.get(l)??{runeId:a,amount:0n};r.set(l,c),c.amount=Er.u128.checkedAddThrow((0,Er.u128)(c.amount),(0,Er.u128)(s.amount)),this.spentBalances.push({txid:i.txid,vout:i.vout,address:s.address,scriptPubKey:s.scriptPubKey,runeId:s.runeId,runeTicker:s.runeTicker,amount:s.amount,spentTxid:t.txid})}}return r}async txCommitsToRune(t,r){const n=r.commitment;for(const i of t.vin){if("coinbase"in i)continue;const o=i.txinwitness.map(u=>Fe.from(u,"hex")),s=o[o.length-1],a=o.length>=2&&s[0]===m8.TAPROOT_ANNEX_PREFIX?3:2;if(a>o.length)continue;const l=o[o.length-a];if(l===void 0)continue;const c=NTe.script.decompile(l);for(const u of c){if(!Fe.isBuffer(u)||Fe.compare(u,n)!==0)continue;const h=await this._rpc.getrawtransaction({txid:i.txid,verbose:!0});if(h.error!==null)throw h.error;const g=h.result;if(g.vout[i.vout].scriptPubKey.type!==m8.TAPROOT_SCRIPT_PUBKEY_TYPE)continue;const k=await this._rpc.getblock({blockhash:g.blockhash});if(k.error!==null)throw k.error;const R=k.result.height;if(Er.u128.checkedSubThrow((0,Er.u128)(this.block.height),(0,Er.u128)(R))+1n>=m8.COMMIT_CONFIRMATIONS)return!0}}return!1}createEtching(t,r,n,i){if((0,sb.isRunestone)(r)){const{divisibility:o,terms:s,premine:a,spacers:l,symbol:c}=r.etching.unwrap();this.etchings.push({valid:!0,runeTicker:i.toString(),runeName:new zj.SpacedRune(i,Number(l.map(Number).unwrapOr(0))).toString(),runeId:n,txid:t,...o.isSome()?{divisibility:o.map(Number).unwrap()}:{},...a.isSome()?{premine:a.unwrap()}:{},...c.isSome()?{symbol:c.unwrap()}:{},...s.isSome()?{terms:(()=>{const u=s.unwrap();return{...u.amount.isSome()?{amount:u.amount.unwrap()}:{},...u.cap.isSome()?{cap:u.cap.unwrap()}:{},...u.height.filter(h=>h.isSome()).length?{height:{...u.height[0].isSome()?{start:u.height[0].unwrap()}:{},...u.height[1].isSome()?{end:u.height[1].unwrap()}:{}}}:{},...u.offset.filter(h=>h.isSome()).length?{offset:{...u.offset[0].isSome()?{start:u.offset[0].unwrap()}:{},...u.offset[1].isSome()?{end:u.offset[1].unwrap()}:{}}}:{}}})()}:{}})}else this.etchings.push({valid:!1,runeId:n,txid:t,runeTicker:i.toString(),runeName:i.toString()})}}dv.RuneUpdater=MTe;(function(e){var t=He&&He.__createBinding||(Object.create?function(l,c,u,h){h===void 0&&(h=u);var g=Object.getOwnPropertyDescriptor(c,u);(!g||("get"in g?!c.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(l,h,g)}:function(l,c,u,h){h===void 0&&(h=u),l[h]=c[u]}),r=He&&He.__exportStar||function(l,c){for(var u in l)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,l,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.RunestoneIndexer=e.RuneUpdater=void 0;const n=pp,i=dv,o=Ai;r(kw,e);var s=dv;Object.defineProperty(e,"RuneUpdater",{enumerable:!0,get:function(){return s.RuneUpdater}});class a{constructor(c){this._started=!1,this._updateInProgress=!1,this._rpc=c.bitcoinRpcClient,this._storage=c.storage,this._network=c.network}async start(){this._started||(await this._storage.connect(),this._started=!0,this._network===n.Network.MAINNET&&this._storage.seedEtchings([{runeTicker:"UNCOMMONGOODS",runeName:"UNCOMMONGOODS",runeId:{block:1,tx:0},txid:"0000000000000000000000000000000000000000000000000000000000000000",valid:!0,symbol:"",terms:{amount:1n,cap:o.u128.MAX,height:{start:840000n,end:1050000n}}}]))}async stop(){this._started&&(await this._storage.disconnect(),this._started=!1)}async updateRuneUtxoBalances(){if(!this._started)throw new Error("Runestone indexer is not started");if(!this._updateInProgress){this._updateInProgress=!0;try{await this.updateRuneUtxoBalancesImpl()}finally{this._updateInProgress=!1}}}async updateRuneUtxoBalancesImpl(){const c=await this._storage.getCurrentBlock();if(c){const g=[];let k=c.height,R=(await this._rpc.getblockhash({height:k})).result,F=c.hash;for(;F!==R;)R&&g.push(R),k--,R=(await this._rpc.getblockhash({height:k})).result,F=await this._storage.getBlockhash(k);g.reverse();for(const D of g){const $=await this._rpc.getblock({blockhash:D,verbosity:2});if($.error!==null)throw $.error;const B=$.result,U=new i.RuneUpdater(this._network,B,!0,this._storage,this._rpc);for(const[q,ee]of B.tx.entries())await U.indexRunes(ee,q);await this._storage.saveBlockIndex(U)}}let u=Math.max(n.Network.getFirstRuneHeight(this._network),c?c.height+1:0),h=(await this._rpc.getblockhash({height:u})).result;for(;h!==null;){const g=await this._rpc.getblock({blockhash:h,verbosity:2});if(g.error!==null)throw g.error;const k=g.result,R=new i.RuneUpdater(this._network,k,!1,this._storage,this._rpc);for(const[F,D]of k.tx.entries())await R.indexRunes(D,F);await this._storage.saveBlockIndex(R),u++,h=(await this._rpc.getblockhash({height:u})).result}}}e.RunestoneIndexer=a})(RG);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.tryDecodeRunestone=e.isRunestone=e.encodeRunestone=e.Network=e.RunestoneIndexer=e.RuneUpdater=e.RuneLocation=void 0;const t=Sw,r=kn,n=am,i=ym,o=Ai,s=ro,a=mm,l=pP,c=cm;var u=RG;Object.defineProperty(e,"RuneLocation",{enumerable:!0,get:function(){return u.RuneLocation}}),Object.defineProperty(e,"RuneUpdater",{enumerable:!0,get:function(){return u.RuneUpdater}}),Object.defineProperty(e,"RunestoneIndexer",{enumerable:!0,get:function(){return u.RunestoneIndexer}});var h=pp;Object.defineProperty(e,"Network",{enumerable:!0,get:function(){return h.Network}});function g(q){switch(q){case i.Flaw.EDICT_OUTPUT:return"edict_output";case i.Flaw.EDICT_RUNE_ID:return"edict_rune_id";case i.Flaw.INVALID_SCRIPT:return"invalid_script";case i.Flaw.OPCODE:return"opcode";case i.Flaw.SUPPLY_OVERFLOW:return"supply_overflow";case i.Flaw.TRAILING_INTEGERS:return"trailing_integers";case i.Flaw.TRUNCATED_FIELD:return"truncated_field";case i.Flaw.UNRECOGNIZED_EVEN_TAG:return"unrecognized_even_tag";case i.Flaw.UNRECOGNIZED_FLAG:return"unrecognized_flag";case i.Flaw.VARINT:return"varint"}}const k=q=>{const ee=BigInt(q);if(ee<0n||ee>o.u8.MAX)throw Error("u8 overflow");return(0,o.u8)(ee)},R=q=>{const ee=BigInt(q);if(ee<0n||ee>o.u32.MAX)throw Error("u32 overflow");return(0,o.u32)(ee)},F=q=>{const ee=BigInt(q);if(ee<0n||ee>o.u64.MAX)throw Error("u64 overflow");return(0,o.u64)(ee)},D=q=>{const ee=BigInt(q);if(ee<0n||ee>o.u128.MAX)throw Error("u128 overflow");return(0,o.u128)(ee)};function $(q){const ee=q.mint?(0,s.Some)(new a.RuneId(F(q.mint.block),R(q.mint.tx))):s.None,ae=q.pointer!==void 0?(0,s.Some)(q.pointer).map(R):s.None,re=(q.edicts??[]).map(G=>({id:new a.RuneId(F(G.id.block),R(G.id.tx)),amount:D(G.amount),output:R(G.output)}));let K=s.None,C;if(q.etching){const G=q.etching,v=G.runeName?c.SpacedRune.fromString(G.runeName):void 0,I=(v==null?void 0:v.rune)!==void 0?(0,s.Some)(v.rune):s.None;if(G.symbol&&!(G.symbol.length===1||G.symbol.length===2&&G.symbol.codePointAt(0)>=65536))throw Error("Symbol must be one code point");const p=G.divisibility!==void 0?(0,s.Some)(G.divisibility).map(k):s.None,_=G.premine!==void 0?(0,s.Some)(G.premine).map(D):s.None,w=(v==null?void 0:v.spacers)!==void 0&&v.spacers!==0?(0,s.Some)(R(v.spacers)):s.None,S=G.symbol?(0,s.Some)(G.symbol):s.None;if(p.isSome()&&p.unwrap()>r.MAX_DIVISIBILITY)throw Error(`Divisibility is greater than protocol max ${r.MAX_DIVISIBILITY}`);let A=s.None;if(G.terms){const E=G.terms,T=E.amount!==void 0?(0,s.Some)(E.amount).map(D):s.None,M=E.cap!==void 0?(0,s.Some)(E.cap).map(D):s.None,Q=E.height?[E.height.start!==void 0?(0,s.Some)(E.height.start).map(F):s.None,E.height.end!==void 0?(0,s.Some)(E.height.end).map(F):s.None]:[s.None,s.None],he=E.offset?[E.offset.start!==void 0?(0,s.Some)(E.offset.start).map(F):s.None,E.offset.end!==void 0?(0,s.Some)(E.offset.end).map(F):s.None]:[s.None,s.None];if(T.isSome()&&M.isSome()&&T.unwrap()*M.unwrap()>o.u128.MAX)throw Error("Terms overflow with amount times cap");A=(0,s.Some)({amount:T,cap:M,height:Q,offset:he})}const x=G.turbo??!1;K=(0,s.Some)(new n.Etching(p,I,w,S,A,_,x)),C=I.isSome()?I.unwrap().commitment:void 0}return{encodedRunestone:new l.Runestone(ee,ae,re,K).encipher(),etchingCommitment:C}}e.encodeRunestone=$;function B(q){return!("flaws"in q)}e.isRunestone=B;function U(q){const ee=l.Runestone.decipher(q);if(ee.isNone())return null;const ae=ee.unwrap();if((0,t.isRunestone)(ae)){const re=ae,K=()=>re.etching.unwrap(),C=()=>K().terms.unwrap();return{...re.etching.isSome()?{etching:{...K().divisibility.isSome()?{divisibility:K().divisibility.map(Number).unwrap()}:{},...K().premine.isSome()?{premine:K().premine.unwrap()}:{},...K().rune.isSome()?{runeName:new c.SpacedRune(K().rune.unwrap(),K().spacers.map(Number).unwrapOr(0)).toString()}:{},...K().symbol.isSome()?{symbol:K().symbol.unwrap()}:{},...K().terms.isSome()?{terms:{...C().amount.isSome()?{amount:C().amount.unwrap()}:{},...C().cap.isSome()?{cap:C().cap.unwrap()}:{},...C().height.find(G=>G.isSome())?{height:{...C().height[0].isSome()?{start:C().height[0].unwrap()}:{},...C().height[1].isSome()?{end:C().height[1].unwrap()}:{}}}:{},...C().offset.find(G=>G.isSome())?{offset:{...C().offset[0].isSome()?{start:C().offset[0].unwrap()}:{},...C().offset[1].isSome()?{end:C().offset[1].unwrap()}:{}}}:{}}}:{},turbo:K().turbo}}:{},...re.mint.isSome()?{mint:{block:re.mint.unwrap().block,tx:Number(re.mint.unwrap().tx)}}:{},...re.pointer.isSome()?{pointer:Number(re.pointer.unwrap())}:{},...re.edicts.length?{edicts:re.edicts.map(G=>({id:{block:G.id.block,tx:Number(G.id.tx)},amount:G.amount,output:Number(G.output)}))}:{}}}else{const re=ae;return{flaws:re.flaws.map(g),...re.etching.isSome()?{etching:re.etching.unwrap().toString()}:{},...re.mint.isSome()?{mint:{block:re.mint.unwrap().block,tx:Number(re.mint.unwrap().tx)}}:{}}}}e.tryDecodeRunestone=U})(kTe);const RTe=({runeId:e,amount:t,divisibility:r=0,sendOutputIndex:n=1,pointer:i=0})=>{r===0&&(t=Math.floor(t));const o=Kd(BigInt(22)).varint,s=Kd(BigInt(i)).varint,a=Kd(BigInt(0)).varint,l=Kd(BigInt(t*10**r)).varint,c=Kd(BigInt(n)).varint,u=e.split(":"),h=Number(u[0]),g=Number(u[1]),k=Kd(BigInt(h)).varint,R=Kd(BigInt(g)).varint,F=Fe.concat([o,s,a,k,R,l,c]);let D=F.byteLength.toString(16);return D.length%2!==0&&(D="0"+F.byteLength.toString(16)),Fe.concat([Fe.from("6a","hex"),Fe.from("5d","hex"),Fe.from(D,"hex"),F])},bE=async(e,t)=>{const r=JSON.stringify({jsonrpc:"2.0",id:e,method:e,params:t});return await cn.post(`${gV}/${Wg}`,r,{headers:{"content-type":"application/json"}}).then(n=>n.data).catch(n=>{throw n})},CTe=async e=>(await bE("ord_address",[e])).result,CG=async e=>(await bE("ord_rune",[e])).result,jTe=async e=>(await bE("ord_rune",[e])).result,UTe=async({outpoints:e,rune_name:t})=>{const r=[];for(let n=0;n<e.length;n+=1e3){const i=e.slice(n,n+1e3),o=i.map(l=>["ord_output",[l]]),{result:s}=await bE("sandshrew_multicall",o);for(let l=0;l<s.length;l++)s[l].result.output=i[l];const a=s.filter(l=>Object.keys(l.result.runes).includes(t));r.push(...a)}return r},zTe=async({ordOutputs:e})=>{var t;const r=[];for(let n=0;n<e.length;n++){const i=e[n],{result:o}=i;if(!((t=o.output)!=null&&t.split(":")))throw new Error("No output found");const{output:s,address:a,runes:l}=o,c={output:s,wallet_addr:a,script:"",balances:[],decimals:[],rune_ids:[],value:o.value},[u,h]=s.split(":");if(console.log(u,h,s),c.script=Fe.from(zV(a,wn)).toString("hex"),typeof l=="object"&&!Array.isArray(l))for(const g in l)c.balances.push(l[g].amount),c.decimals.push(l[g].divisibility),c.rune_ids.push((await jTe(g)).id);r.push(c)}return r},LTe=async({address:e,runeId:t})=>{const r=await CTe(e),{entry:n}=await CG(t),i=n.spaced_rune,o=await UTe({outpoints:r.outputs,rune_name:i});return await zTe({ordOutputs:o})},$Te=async({runeId:e,amount:t,ordinalAddress:r,ordinalPublicKey:n,paymentAddress:i,paymentPublicKey:o,toAddress:s,signPsbt:a,network:l=wn})=>{try{const c=await FTe({fromAddress:r,fromAddressPublicKey:n,fromPaymentAddress:i,fromPaymentPublicKey:o,toAddress:s,runeId:e,amount:t,network:l});if(!c||!(c!=null&&c.psbtHex))throw new Error("couldn't get commit tx");const u=String(c==null?void 0:c.psbtHex),h=String(c==null?void 0:c.psbtBase64),g=await a({tx:u,psbtHex:u,psbtBase64:h,finalize:!0,broadcast:!1,network:l});if(!g)throw new Error("sign psbt failed");const k=Fr.fromHex((g==null?void 0:g.signedPsbtHex)||"").extractTransaction();return await z6(k.toHex(),l)}catch(c){throw c}},FTe=async({fromAddress:e,fromAddressPublicKey:t,fromPaymentAddress:r,fromPaymentPublicKey:n,toAddress:i,runeId:o,amount:s,network:a})=>{try{const{fastestFee:l}=await UV(a);let c=(await aO(r,a)).sort((ae,re)=>re.value-ae.value).filter(ae=>ae.value>3e3);if(c.length===0)throw new Error("No utxos found");let u=new Fr({network:Vr(a)}),h=0;const g=await CG(o),k=await LTe({runeId:o,address:e}),R=U6(c),F=sO(k.length,2,4);let D=F*l<250?250:F*l,$=0;for await(const ae of k){const{output:re,value:K,script:C}=ae,G=re.split(":"),v=G[0],I=G[1];u.addInput({hash:v,index:parseInt(I),witnessUtxo:{value:BigInt(K),script:Fe.from(C,"hex")},tapInternalKey:Ws(Fe.from(t,"hex"))}),$++,h+=K}const B=q6(r,a);for(let ae=0;ae<c.length;ae++){const re=Ca(r,Vr(wn)),K=c[ae];if(B===kh&&u.addInput({hash:K.txid,index:K.vout,witnessUtxo:{value:BigInt(K.value),script:re},tapInternalKey:Ws(Fe.from(n,"hex"))}),B===zv){let C=uw(n,a);u.addInput({hash:K.txid,index:K.vout,witnessUtxo:{value:BigInt(K.value),script:re},redeemScript:C})}B==="p2wpkh"&&u.addInput({hash:K.txid,index:K.vout,witnessUtxo:{value:BigInt(K.value),script:re}})}const U={script:RTe({runeId:g.id,amount:s,divisibility:g.entry.divisibility,sendOutputIndex:2,pointer:1}),value:BigInt(0)};u.addOutput(U);const q=546,ee=R-(D+q*2);return u.addOutput({value:BigInt(q),address:e}),u.addOutput({value:BigInt(q),address:i}),u.addOutput({address:r,value:BigInt(ee)}),{psbtBase64:u.toBase64(),psbtHex:u.toHex()}}catch(l){throw l}},DTe=(e,t)=>`{"p":"brc-20","op":"transfer","tick":"${e}","amt":"${t}"}`,HTe=async({ticker:e,amount:t,ordinalAddress:r,ordinalPublicKey:n,paymentAddress:i,paymentPublicKey:o,toAddress:s,signPsbt:a,dataSourceManager:l,network:c=wn})=>{let u;if(l?u=l:u=Th.getInstance(),!u)throw new Error("Data source not found");if(!(u!=null&&u.getAddressBrc20Balances))throw new Error("Data source not found");if(!await(u==null?void 0:u.getAddressBrc20Balances(r)))throw new Error("Address balance not found");const h=DTe(e,t),g=await NG({contentBase64:btoa(h),mimeType:"text/plain",ordinalAddress:r,paymentAddress:i,paymentPublicKey:o,signPsbt:a,dataSourceManager:u,network:c});await u.waitForTransaction(g);const{fastFee:k}=await u.getRecommendedFees(),R=5*34*1,F=Math.floor(R*k*1);await new Promise(G=>setTimeout(G,1e4));const D=(await u.getAddressUtxos(i)).filter(G=>G.value>3e3).sort((G,v)=>v.value-G.value);if(U6(D)<F)throw new Error("insufficient funds");console.log("inscriptionTxId",g);const $=new Fr({network:Vr(c)}),B=Ca(r,Vr(c));$.addInput({hash:g,index:0,witnessUtxo:{script:B,value:BigInt(546)},tapInternalKey:Ws(Fe.from(n,"hex"))}),$.addOutput({address:s,value:BigInt(546)});let U=0,q=0;for await(const G of D){const v=Ca(i,Vr(c)),I=q6(i,c);if($.addInput({hash:G.txid,index:G.vout,witnessUtxo:{value:BigInt(G.value),script:v},tapInternalKey:Ws(Fe.from(o,"hex"))}),I===zv){const p=uw(o,c);$.updateInput(U,{redeemScript:p})}if(U++,q+=G.value,q>F){console.log("BREAKING");break}}const ee=q-F;ee>546&&$.addOutput({value:BigInt(ee),address:i});const ae=$==null?void 0:$.toHex(),re=$==null?void 0:$.toBase64(),K=await a({tx:"",psbtHex:ae,psbtBase64:re,finalize:!0,broadcast:!0,network:c});if(!K)throw new Error("sign psbt failed");const C=Fr.fromHex((K==null?void 0:K.signedPsbtHex)||"").extractTransaction();return await z6(C.toHex(),c)},KTe=async({inscriptionIds:e,ordinalAddress:t,ordinalPublicKey:r,paymentAddress:n,paymentPublicKey:i,toAddress:o,signPsbt:s,dataSourceManager:a,network:l=wn})=>{try{const c=await VTe({inscriptionIds:e,fromAddress:t,fromAddressPublicKey:r,fromPaymentAddress:n,fromPaymentPublicKey:i,dataSourceManager:a,toAddress:o,network:l});if(!c||!(c!=null&&c.psbtHex))throw new Error("couldn't get commit tx");const u=String(c==null?void 0:c.psbtHex),h=String(c==null?void 0:c.psbtBase64),g=await s({tx:"",psbtHex:u,psbtBase64:h,finalize:!0,broadcast:!1,network:l});if(!g)throw new Error("sign psbt failed");const k=Fr.fromHex((g==null?void 0:g.signedPsbtHex)||"").extractTransaction();return await z6(k.toHex(),l)}catch(c){throw c}},VTe=async({fromAddress:e,fromAddressPublicKey:t,fromPaymentAddress:r,fromPaymentPublicKey:n,toAddress:i,inscriptionIds:o,dataSourceManager:s,network:a})=>{try{const{fastestFee:l}=await UV(a);let c=(await s.getAddressUtxos(r)).sort((U,q)=>q.value-U.value).filter(U=>U.value>3e3);if(c.length===0)throw new Error("No utxos found");const u=s.getSource("sandshrew");if(!u||!u.batchOrdInscriptionInfo)throw new Error("Sandshrew data source not found");const h=await(u==null?void 0:u.batchOrdInscriptionInfo(o));console.log(h);let g=new Fr({network:Vr(a)});const k=U6(c),R=sO(h.length,2,4);let F=R*l<250?250:R*l,D=0;for await(const U of h){const{value:q,satpoint:ee}=U,[ae,re]=ee.split(":");if(!q||!ae||!re)throw new Error("Invalid satpoint or value");const K=Ca(e,Vr(wn));g.addInput({hash:ae,index:parseInt(re),witnessUtxo:{value:BigInt(q),script:K},tapInternalKey:Ws(Fe.from(t,"hex"))}),g.addOutput({value:BigInt(q),address:i}),D++}const $=q6(r,a);for(let U=0;U<c.length;U++){const q=Ca(r,Vr(wn)),ee=c[U];if($===kh&&g.addInput({hash:ee.txid,index:ee.vout,witnessUtxo:{value:BigInt(ee.value),script:q},tapInternalKey:Ws(Fe.from(n,"hex"))}),$===zv){let ae=uw(n,a);g.addInput({hash:ee.txid,index:ee.vout,witnessUtxo:{value:BigInt(ee.value),script:q},redeemScript:ae})}$==="p2wpkh"&&g.addInput({hash:ee.txid,index:ee.vout,witnessUtxo:{value:BigInt(ee.value),script:q}})}const B=k-F;return g.addOutput({address:e,value:BigInt(B)}),{psbtBase64:g.toBase64(),psbtHex:g.toHex()}}catch(l){throw l}},Lj=new Error("The connected wallet doesn't support this method..."),WTe=new Error("Wallet is not installed");class ia{constructor(t,r,n){vt(this,"$store"),vt(this,"$network"),vt(this,"dataSourceManager"),vt(this,"send",async(i,o)=>{switch(i){case GR:{const s=o;return await this.sendBTC(s.toAddress,s.amount)}case QR:{if(this.$network.get()!==wn)throw new Error("Unsupported network");const s=o;if(!s.runeId||!s.amount||!s.toAddress)throw new Error("Missing required parameters");return await $Te({runeId:s.runeId,amount:s.amount,ordinalAddress:this.$store.get().address,ordinalPublicKey:this.$store.get().publicKey,paymentAddress:this.$store.get().paymentAddress,paymentPublicKey:this.$store.get().paymentPublicKey,toAddress:s.toAddress,signPsbt:this.signPsbt.bind(this),network:this.$network.get()})}case XR:{if(this.$network.get()!==wn)throw new Error("Unsupported network");const s=o;if(!s.ticker||!s.amount||!s.toAddress)throw new Error("Missing required parameters");return await HTe({ticker:s.ticker,amount:s.amount,ordinalAddress:this.$store.get().address,ordinalPublicKey:this.$store.get().publicKey,paymentAddress:this.$store.get().paymentAddress,paymentPublicKey:this.$store.get().paymentPublicKey,signPsbt:this.signPsbt.bind(this),toAddress:s.toAddress,dataSourceManager:this.dataSourceManager,network:this.$network.get()})}case YR:{const s=o;if(!s.id||!s.amount||!s.toAddress)throw new Error("Missing required parameters");return await new VW(this.parent).send(s.id,s.amount,s.toAddress)}default:throw new Error("Unsupported protocol")}}),this.parent=r,this.config=n,this.$store=t.$store,this.$network=t.$network,this.config=n;try{this.dataSourceManager=Th.getInstance()}catch{Th.init(n),this.dataSourceManager=Th.getInstance()}this.initialize()}disconnect(){}async requestAccounts(){return this.$store.get().accounts}async switchNetwork(t){throw this.parent.disconnect(),Lj}async getNetwork(){const{address:t}=this.$store.get();return t.slice(0,1)==="t"&&[_o,hs,qs,ps].includes(this.$network.get())?this.$network.get():wn}async getPublicKey(){return this.$store.get().publicKey}async getBalance(){if(!this.dataSourceManager.getAddressBtcBalance)throw new Error("Method not found on data source");return await this.dataSourceManager.getAddressBtcBalance(this.$store.get().paymentAddress)}async getMetaBalances(t){switch(t){case GR:return await this.getBalance();case QR:{if(this.$network.get()!==wn)throw new Error("Unsupported network");if(!this.dataSourceManager.getAddressRunesBalances)throw new Error("Method not found on data source");return await this.dataSourceManager.getAddressRunesBalances(this.$store.get().address)}case XR:if(!this.dataSourceManager.getAddressBrc20Balances)throw new Error("Method not found on data source");return await this.dataSourceManager.getAddressBrc20Balances(this.$store.get().address);case YR:if(!this.dataSourceManager.getAddressAlkanesBalances)throw new Error("Method not found on data source");return await this.dataSourceManager.getAddressAlkanesBalances(this.$store.get().address);default:throw new Error("Unsupported protocol")}}async getInscriptions(t,r){if(!this.dataSourceManager.getAddressInscriptions)throw new Error("Method not found on data source");return await this.dataSourceManager.getAddressInscriptions(this.$store.get().address,t,r)}async signPsbts(t){throw Lj}async pushPsbt(t){let r=t;return r.startsWith("02")||(r=Fr.fromHex(r).extractTransaction().toHex()),await z6(r,this.$network.get())}async inscribe(t,r,n,i){return await NG({contentBase64:t,mimeType:r,ordinalAddress:this.$store.get().address,paymentAddress:this.$store.get().paymentAddress,paymentPublicKey:this.$store.get().paymentPublicKey,signPsbt:this.signPsbt.bind(this),dataSourceManager:n||this.dataSourceManager,opReturn:i,network:this.$network.get()})}async sendInscriptions(t,r){if((await this.getInscriptions()).filter(n=>t.includes(n.id)).length!==t.length)throw new Error("Missing inscriptions");return await KTe({inscriptionIds:t,ordinalAddress:this.$store.get().address,ordinalPublicKey:this.$store.get().publicKey,paymentAddress:this.$store.get().paymentAddress,paymentPublicKey:this.$store.get().paymentPublicKey,toAddress:r,signPsbt:this.signPsbt.bind(this),dataSourceManager:this.dataSourceManager,network:this.$network.get()})}getDeviceInfo(){const t=navigator.userAgent.toLowerCase(),r=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(t),n=/ipad|android(?!.*mobile)|tablet/i.test(t),i="ontouchstart"in window||navigator.maxTouchPoints>0,o=window.innerWidth<=768;let s;return n?s="tablet":r||i&&o?s="mobile":s="desktop",{isMobile:s==="mobile"||s==="tablet",isDesktop:s==="desktop",deviceType:s,userAgent:navigator.userAgent}}isMobile(){return this.getDeviceInfo().isMobile}isDesktop(){return this.getDeviceInfo().isDesktop}getSuggestedConnectionMethod(){const t=this.getDeviceInfo();return t.deviceType==="mobile"?"deep-link":t.deviceType==="tablet"?"qr-code":"browser-extension"}}class qTe extends ia{constructor(){super(...arguments),vt(this,"observer"),vt(this,"handleNetworkChanged",t=>{const r=t==="mainnet"?mt.MAINNET:t==="testnet"?mt.TESTNET:mt.SIGNET;this.network!==r&&this.connect(Pg)})}get library(){var t;return((t=window.keplr)==null?void 0:t.bitcoin)??window.bitcoin_keplr}get network(){return this.$network.get()}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;(this.library||this.isMobile())&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Pg]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{var r;if(t.provider!==Pg){this==null||this.removeListeners();return}(r=this.library)==null||r.getAccounts().then(n=>{this.handleAccountsChanged(n)}),this.addListeners()})}addListeners(){var t,r;(t=this.library)==null||t.on("accountsChanged",this.handleAccountsChanged.bind(this)),(r=this.library)==null||r.on("networkChanged",this.handleNetworkChanged.bind(this))}removeListeners(){var t,r;(t=this.library)==null||t.off("accountsChanged",this.handleAccountsChanged.bind(this)),(r=this.library)==null||r.off("networkChanged",this.handleNetworkChanged.bind(this))}dispose(){var t;(t=this.observer)==null||t.disconnect(),this.removeListeners()}handleAccountsChanged(t){if(!t.length){this.parent.disconnect();return}this.$store.get().accounts[0]!==t[0]&&(this.$store.setKey("accounts",t),t.length>0?this.parent.connect(Pg):this.parent.disconnect())}async connect(t){if(!this.library)if(this.isMobile()){const o=`https://deeplink.keplr.app/web-browser?url=${window.location.href}`,s=window.open(o);if(!s)throw new Error("Keplr wallet not found");return s.focus(),!1}else throw new Error("Keplr wallet not found");const r=await this.library.requestAccounts();if(!r)throw new Error("No accounts found");const n=await this.library.getPublicKey();if(!n)throw new Error("No public key found");this.$store.setKey("accounts",r),this.$store.setKey("address",r[0]),this.$store.setKey("paymentAddress",r[0]),this.$store.setKey("publicKey",n),this.$store.setKey("paymentPublicKey",n);const i=await this.getNetwork();this.$network.set(i)}async getNetwork(){var t;const r=await((t=this.library)==null?void 0:t.getChain());return r?Lwe(r.enum):this.network}async sendBTC(t,r){var n;const i=await((n=this.library)==null?void 0:n.sendBitcoin(t,r));if(!i)throw new Error("Transaction failed");return i}async signMessage(t,r){if(!this.library)throw new Error("Keplr isn't installed");const n=(r==null?void 0:r.protocol)===W6?aw:r==null?void 0:r.protocol;return await this.library.signMessage(t,n)}async signPsbt({psbtHex:t,broadcast:r,finalize:n,inputsToSign:i}){if(!this.library)throw new Error("Keplr isn't installed");const o=await this.library.signPsbt(t,Wh({autoFinalized:n,toSignInputs:i})),s=Fr.fromHex(o);if(n&&r){const a=await this.pushPsbt(o);return{signedPsbtHex:s.toHex(),signedPsbtBase64:s.toBase64(),txId:a}}return{signedPsbtHex:s.toHex(),signedPsbtBase64:s.toBase64(),txId:void 0}}async getPublicKey(){var t;return await((t=this.library)==null?void 0:t.getPublicKey())}async getBalance(){if(!this.library)throw new Error("Keplr isn't installed");return(await this.library.getBalance()).total}async requestAccounts(){if(!this.library)throw new Error("Keplr isn't installed");return await this.library.requestAccounts()}async switchNetwork(t){if(!this.library)throw new Error("Keplr isn't installed");const r=[mt.MAINNET,mt.TESTNET,mt.SIGNET];if(!r.includes(t))throw new Error(`Invalid network: ${t}. Keplr supports ${r.join(", ")}`);const n=Uwe(t);await this.library.switchChain(n)}}var qr;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(qr||(qr={}));var Kk;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Kk||(Kk={}));const Tt=qr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),cc=e=>{switch(typeof e){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return isNaN(e)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(e)?Tt.array:e===null?Tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Tt.promise:typeof Map<"u"&&e instanceof Map?Tt.map:typeof Set<"u"&&e instanceof Set?Tt.set:typeof Date<"u"&&e instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},ht=qr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ZTe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Zs extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let a=n,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(r(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),n}static assert(t){if(!(t instanceof Zs))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,qr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Zs.create=e=>new Zs(e);const By=(e,t)=>{let r;switch(e.code){case ht.invalid_type:e.received===Tt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case ht.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,qr.jsonStringifyReplacer)}`;break;case ht.unrecognized_keys:r=`Unrecognized key(s) in object: ${qr.joinValues(e.keys,", ")}`;break;case ht.invalid_union:r="Invalid input";break;case ht.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${qr.joinValues(e.options)}`;break;case ht.invalid_enum_value:r=`Invalid enum value. Expected ${qr.joinValues(e.options)}, received '${e.received}'`;break;case ht.invalid_arguments:r="Invalid function arguments";break;case ht.invalid_return_type:r="Invalid function return type";break;case ht.invalid_date:r="Invalid date";break;case ht.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:qr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case ht.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case ht.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case ht.custom:r="Invalid input";break;case ht.invalid_intersection_types:r="Intersection results could not be merged";break;case ht.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ht.not_finite:r="Number must be finite";break;default:r=t.defaultError,qr.assertNever(e)}return{message:r}};let jG=By;function GTe(e){jG=e}function r4(){return jG}const n4=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,o=[...r,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}},XTe=[];function kt(e,t){const r=r4(),n=n4({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===By?void 0:By].filter(i=>!!i)});e.common.issues.push(n)}class Po{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return nr;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const o=await i.key,s=await i.value;n.push({key:o,value:s})}return Po.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return nr;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[o.value]=s.value)}return{status:t.value,value:n}}}const nr=Object.freeze({status:"aborted"}),i4=e=>({status:"dirty",value:e}),Vo=e=>({status:"valid",value:e}),Vk=e=>e.status==="aborted",Wk=e=>e.status==="dirty",Xh=e=>e.status==="valid",hv=e=>typeof Promise<"u"&&e instanceof Promise;function o4(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function UG(e,t,r,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var Lt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Lt||(Lt={}));var Nb,Mb;class xl{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const $j=(e,t)=>{if(Xh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Zs(e.common.issues);return this._error=r,this._error}}};function yr(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,s)=>{var a,l;const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??s.defaultError}:typeof s.data>"u"?{message:(a=c??n)!==null&&a!==void 0?a:s.defaultError}:o.code!=="invalid_type"?{message:s.defaultError}:{message:(l=c??r)!==null&&l!==void 0?l:s.defaultError}},description:i}}class Or{get description(){return this._def.description}_getType(t){return cc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:cc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Po,ctx:{common:t.parent.common,data:t.data,parsedType:cc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(hv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cc(t)},o=this._parseSync({data:t,path:i.path,parent:i});return $j(i,o)}"~validate"(t){var r,n;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cc(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:i});return Xh(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((n=(r=o==null?void 0:o.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>Xh(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:cc(t)},i=this._parse({data:t,path:n.path,parent:n}),o=await(hv(i)?i:Promise.resolve(i));return $j(n,o)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:ht.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new Ou({schema:this,typeName:er.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ml.create(this,this._def)}nullable(){return gd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Eu.create(this)}promise(){return My.create(this,this._def)}or(t){return mv.create([this,t],this._def)}and(t){return bv.create(this,t,this._def)}transform(t){return new Ou({...yr(this._def),schema:this,typeName:er.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Sv({...yr(this._def),innerType:this,defaultValue:r,typeName:er.ZodDefault})}brand(){return new yP({typeName:er.ZodBranded,type:this,...yr(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new kv({...yr(this._def),innerType:this,catchValue:r,typeName:er.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return xw.create(this,t)}readonly(){return xv.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const QTe=/^c[^\s-]{8,}$/i,YTe=/^[0-9a-z]+$/,JTe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eIe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,tIe=/^[a-z0-9_-]{21}$/i,rIe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,nIe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,iIe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,oIe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let QS;const sIe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,aIe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,uIe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lIe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,cIe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,fIe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zG="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dIe=new RegExp(`^${zG}$`);function LG(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function hIe(e){return new RegExp(`^${LG(e)}$`)}function $G(e){let t=`${zG}T${LG(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function pIe(e,t){return!!((t==="v4"||!t)&&sIe.test(e)||(t==="v6"||!t)&&uIe.test(e))}function gIe(e,t){if(!rIe.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function yIe(e,t){return!!((t==="v4"||!t)&&aIe.test(e)||(t==="v6"||!t)&&lIe.test(e))}class pu extends Or{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Tt.string){const i=this._getOrReturnCtx(t);return kt(i,{code:ht.invalid_type,expected:Tt.string,received:i.parsedType}),nr}const r=new Po;let n;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,s=t.data.length<i.value;(o||s)&&(n=this._getOrReturnCtx(t,n),o?kt(n,{code:ht.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):s&&kt(n,{code:ht.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")iIe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"email",code:ht.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")QS||(QS=new RegExp(oIe,"u")),QS.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"emoji",code:ht.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")eIe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"uuid",code:ht.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")tIe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"nanoid",code:ht.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")QTe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"cuid",code:ht.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")YTe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"cuid2",code:ht.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")JTe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"ulid",code:ht.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{n=this._getOrReturnCtx(t,n),kt(n,{validation:"url",code:ht.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"regex",code:ht.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?$G(i).test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?dIe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?hIe(i).test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?nIe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"duration",code:ht.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?pIe(t.data,i.version)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"ip",code:ht.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?gIe(t.data,i.alg)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"jwt",code:ht.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?yIe(t.data,i.version)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"cidr",code:ht.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?cIe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"base64",code:ht.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?fIe.test(t.data)||(n=this._getOrReturnCtx(t,n),kt(n,{validation:"base64url",code:ht.invalid_string,message:i.message}),r.dirty()):qr.assertNever(i);return{status:r.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:ht.invalid_string,...Lt.errToObj(n)})}_addCheck(t){return new pu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Lt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Lt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Lt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Lt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Lt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Lt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Lt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Lt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Lt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Lt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Lt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Lt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Lt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Lt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Lt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Lt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Lt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Lt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Lt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Lt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Lt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Lt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Lt.errToObj(r)})}nonempty(t){return this.min(1,Lt.errToObj(t))}trim(){return new pu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new pu({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new pu({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pu.create=e=>{var t;return new pu({checks:[],typeName:er.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...yr(e)})};function mIe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class dd extends Or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Tt.number){const i=this._getOrReturnCtx(t);return kt(i,{code:ht.invalid_type,expected:Tt.number,received:i.parsedType}),nr}let r;const n=new Po;for(const i of this._def.checks)i.kind==="int"?qr.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.invalid_type,expected:"integer",received:"float",message:i.message}),n.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),n.dirty()):i.kind==="multipleOf"?mIe(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.not_finite,message:i.message}),n.dirty()):qr.assertNever(i);return{status:n.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Lt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Lt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Lt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Lt.toString(r))}setLimit(t,r,n,i){return new dd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Lt.toString(i)}]})}_addCheck(t){return new dd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Lt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Lt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Lt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Lt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Lt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Lt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Lt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Lt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Lt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&qr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}dd.create=e=>new dd({checks:[],typeName:er.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...yr(e)});class hd extends Or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Tt.bigint)return this._getInvalidInput(t);let r;const n=new Po;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),n.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),kt(r,{code:ht.not_multiple_of,multipleOf:i.value,message:i.message}),n.dirty()):qr.assertNever(i);return{status:n.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.bigint,received:r.parsedType}),nr}gte(t,r){return this.setLimit("min",t,!0,Lt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Lt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Lt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Lt.toString(r))}setLimit(t,r,n,i){return new hd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Lt.toString(i)}]})}_addCheck(t){return new hd({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Lt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Lt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Lt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Lt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Lt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}hd.create=e=>{var t;return new hd({checks:[],typeName:er.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...yr(e)})};class pv extends Or{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Tt.boolean){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.boolean,received:r.parsedType}),nr}return Vo(t.data)}}pv.create=e=>new pv({typeName:er.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...yr(e)});class Qh extends Or{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Tt.date){const i=this._getOrReturnCtx(t);return kt(i,{code:ht.invalid_type,expected:Tt.date,received:i.parsedType}),nr}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return kt(i,{code:ht.invalid_date}),nr}const r=new Po;let n;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(n=this._getOrReturnCtx(t,n),kt(n,{code:ht.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):qr.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Qh({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Lt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Lt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}Qh.create=e=>new Qh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:er.ZodDate,...yr(e)});class s4 extends Or{_parse(t){if(this._getType(t)!==Tt.symbol){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.symbol,received:r.parsedType}),nr}return Vo(t.data)}}s4.create=e=>new s4({typeName:er.ZodSymbol,...yr(e)});class gv extends Or{_parse(t){if(this._getType(t)!==Tt.undefined){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.undefined,received:r.parsedType}),nr}return Vo(t.data)}}gv.create=e=>new gv({typeName:er.ZodUndefined,...yr(e)});class yv extends Or{_parse(t){if(this._getType(t)!==Tt.null){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.null,received:r.parsedType}),nr}return Vo(t.data)}}yv.create=e=>new yv({typeName:er.ZodNull,...yr(e)});class Ny extends Or{constructor(){super(...arguments),this._any=!0}_parse(t){return Vo(t.data)}}Ny.create=e=>new Ny({typeName:er.ZodAny,...yr(e)});class Nh extends Or{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Vo(t.data)}}Nh.create=e=>new Nh({typeName:er.ZodUnknown,...yr(e)});class Rc extends Or{_parse(t){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.never,received:r.parsedType}),nr}}Rc.create=e=>new Rc({typeName:er.ZodNever,...yr(e)});class a4 extends Or{_parse(t){if(this._getType(t)!==Tt.undefined){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.void,received:r.parsedType}),nr}return Vo(t.data)}}a4.create=e=>new a4({typeName:er.ZodVoid,...yr(e)});class Eu extends Or{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Tt.array)return kt(r,{code:ht.invalid_type,expected:Tt.array,received:r.parsedType}),nr;if(i.exactLength!==null){const s=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(s||a)&&(kt(r,{code:s?ht.too_big:ht.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(kt(r,{code:ht.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(kt(r,{code:ht.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,a)=>i.type._parseAsync(new xl(r,s,r.path,a)))).then(s=>Po.mergeArray(n,s));const o=[...r.data].map((s,a)=>i.type._parseSync(new xl(r,s,r.path,a)));return Po.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new Eu({...this._def,minLength:{value:t,message:Lt.toString(r)}})}max(t,r){return new Eu({...this._def,maxLength:{value:t,message:Lt.toString(r)}})}length(t,r){return new Eu({...this._def,exactLength:{value:t,message:Lt.toString(r)}})}nonempty(t){return this.min(1,t)}}Eu.create=(e,t)=>new Eu({type:e,minLength:null,maxLength:null,exactLength:null,typeName:er.ZodArray,...yr(t)});function cg(e){if(e instanceof Cn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ml.create(cg(n))}return new Cn({...e._def,shape:()=>t})}else return e instanceof Eu?new Eu({...e._def,type:cg(e.element)}):e instanceof ml?ml.create(cg(e.unwrap())):e instanceof gd?gd.create(cg(e.unwrap())):e instanceof Al?Al.create(e.items.map(t=>cg(t))):e}class Cn extends Or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=qr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Tt.object){const l=this._getOrReturnCtx(t);return kt(l,{code:ht.invalid_type,expected:Tt.object,received:l.parsedType}),nr}const{status:r,ctx:n}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),s=[];if(!(this._def.catchall instanceof Rc&&this._def.unknownKeys==="strip"))for(const l in n.data)o.includes(l)||s.push(l);const a=[];for(const l of o){const c=i[l],u=n.data[l];a.push({key:{status:"valid",value:l},value:c._parse(new xl(n,u,n.path,l)),alwaysSet:l in n.data})}if(this._def.catchall instanceof Rc){const l=this._def.unknownKeys;if(l==="passthrough")for(const c of s)a.push({key:{status:"valid",value:c},value:{status:"valid",value:n.data[c]}});else if(l==="strict")s.length>0&&(kt(n,{code:ht.unrecognized_keys,keys:s}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const c of s){const u=n.data[c];a.push({key:{status:"valid",value:c},value:l._parse(new xl(n,u,n.path,c)),alwaysSet:c in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const l=[];for(const c of a){const u=await c.key,h=await c.value;l.push({key:u,value:h,alwaysSet:c.alwaysSet})}return l}).then(l=>Po.mergeObjectSync(r,l)):Po.mergeObjectSync(r,a)}get shape(){return this._def.shape()}strict(t){return Lt.errToObj,new Cn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=Lt.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Cn({...this._def,unknownKeys:"strip"})}passthrough(){return new Cn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Cn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Cn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:er.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Cn({...this._def,catchall:t})}pick(t){const r={};return qr.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Cn({...this._def,shape:()=>r})}omit(t){const r={};return qr.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new Cn({...this._def,shape:()=>r})}deepPartial(){return cg(this)}partial(t){const r={};return qr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new Cn({...this._def,shape:()=>r})}required(t){const r={};return qr.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof ml;)i=i._def.innerType;r[n]=i}}),new Cn({...this._def,shape:()=>r})}keyof(){return FG(qr.objectKeys(this.shape))}}Cn.create=(e,t)=>new Cn({shape:()=>e,unknownKeys:"strip",catchall:Rc.create(),typeName:er.ZodObject,...yr(t)});Cn.strictCreate=(e,t)=>new Cn({shape:()=>e,unknownKeys:"strict",catchall:Rc.create(),typeName:er.ZodObject,...yr(t)});Cn.lazycreate=(e,t)=>new Cn({shape:e,unknownKeys:"strip",catchall:Rc.create(),typeName:er.ZodObject,...yr(t)});class mv extends Or{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Zs(a.ctx.common.issues));return kt(r,{code:ht.invalid_union,unionErrors:s}),nr}if(r.common.async)return Promise.all(n.map(async o=>{const s={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Zs(l));return kt(r,{code:ht.invalid_union,unionErrors:a}),nr}}get options(){return this._def.options}}mv.create=(e,t)=>new mv({options:e,typeName:er.ZodUnion,...yr(t)});const Pf=e=>e instanceof wv?Pf(e.schema):e instanceof Ou?Pf(e.innerType()):e instanceof Ev?[e.value]:e instanceof pd?e.options:e instanceof _v?qr.objectValues(e.enum):e instanceof Sv?Pf(e._def.innerType):e instanceof gv?[void 0]:e instanceof yv?[null]:e instanceof ml?[void 0,...Pf(e.unwrap())]:e instanceof gd?[null,...Pf(e.unwrap())]:e instanceof yP||e instanceof xv?Pf(e.unwrap()):e instanceof kv?Pf(e._def.innerType):[];class vE extends Or{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.object)return kt(r,{code:ht.invalid_type,expected:Tt.object,received:r.parsedType}),nr;const n=this.discriminator,i=r.data[n],o=this.optionsMap.get(i);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(kt(r,{code:ht.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),nr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const i=new Map;for(const o of r){const s=Pf(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new vE({typeName:er.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...yr(n)})}}function qk(e,t){const r=cc(e),n=cc(t);if(e===t)return{valid:!0,data:e};if(r===Tt.object&&n===Tt.object){const i=qr.objectKeys(t),o=qr.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=qk(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(r===Tt.array&&n===Tt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=qk(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return r===Tt.date&&n===Tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class bv extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(o,s)=>{if(Vk(o)||Vk(s))return nr;const a=qk(o.value,s.value);return a.valid?((Wk(o)||Wk(s))&&r.dirty(),{status:r.value,value:a.data}):(kt(n,{code:ht.invalid_intersection_types}),nr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}bv.create=(e,t,r)=>new bv({left:e,right:t,typeName:er.ZodIntersection,...yr(r)});class Al extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.array)return kt(n,{code:ht.invalid_type,expected:Tt.array,received:n.parsedType}),nr;if(n.data.length<this._def.items.length)return kt(n,{code:ht.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),nr;!this._def.rest&&n.data.length>this._def.items.length&&(kt(n,{code:ht.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,s)=>{const a=this._def.items[s]||this._def.rest;return a?a._parse(new xl(n,o,n.path,s)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Po.mergeArray(r,o)):Po.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Al({...this._def,rest:t})}}Al.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Al({items:e,typeName:er.ZodTuple,rest:null,...yr(t)})};class vv extends Or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.object)return kt(n,{code:ht.invalid_type,expected:Tt.object,received:n.parsedType}),nr;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in n.data)i.push({key:o._parse(new xl(n,a,n.path,a)),value:s._parse(new xl(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Po.mergeObjectAsync(r,i):Po.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Or?new vv({keyType:t,valueType:r,typeName:er.ZodRecord,...yr(n)}):new vv({keyType:pu.create(),valueType:t,typeName:er.ZodRecord,...yr(r)})}}class u4 extends Or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.map)return kt(n,{code:ht.invalid_type,expected:Tt.map,received:n.parsedType}),nr;const i=this._def.keyType,o=this._def.valueType,s=[...n.data.entries()].map(([a,l],c)=>({key:i._parse(new xl(n,a,n.path,[c,"key"])),value:o._parse(new xl(n,l,n.path,[c,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return nr;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return nr;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(c.value,u.value)}return{status:r.value,value:a}}}}u4.create=(e,t,r)=>new u4({valueType:t,keyType:e,typeName:er.ZodMap,...yr(r)});class Yh extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.set)return kt(n,{code:ht.invalid_type,expected:Tt.set,received:n.parsedType}),nr;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(kt(n,{code:ht.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(kt(n,{code:ht.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return nr;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}const a=[...n.data.values()].map((l,c)=>o._parse(new xl(n,l,n.path,c)));return n.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,r){return new Yh({...this._def,minSize:{value:t,message:Lt.toString(r)}})}max(t,r){return new Yh({...this._def,maxSize:{value:t,message:Lt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Yh.create=(e,t)=>new Yh({valueType:e,minSize:null,maxSize:null,typeName:er.ZodSet,...yr(t)});class Jg extends Or{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.function)return kt(r,{code:ht.invalid_type,expected:Tt.function,received:r.parsedType}),nr;function n(a,l){return n4({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,r4(),By].filter(c=>!!c),issueData:{code:ht.invalid_arguments,argumentsError:l}})}function i(a,l){return n4({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,r4(),By].filter(c=>!!c),issueData:{code:ht.invalid_return_type,returnTypeError:l}})}const o={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof My){const a=this;return Vo(async function(...l){const c=new Zs([]),u=await a._def.args.parseAsync(l,o).catch(g=>{throw c.addIssue(n(l,g)),c}),h=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(h,o).catch(g=>{throw c.addIssue(i(h,g)),c})})}else{const a=this;return Vo(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new Zs([n(l,c.error)]);const u=Reflect.apply(s,this,c.data),h=a._def.returns.safeParse(u,o);if(!h.success)throw new Zs([i(u,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Jg({...this._def,args:Al.create(t).rest(Nh.create())})}returns(t){return new Jg({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new Jg({args:t||Al.create([]).rest(Nh.create()),returns:r||Nh.create(),typeName:er.ZodFunction,...yr(n)})}}class wv extends Or{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wv.create=(e,t)=>new wv({getter:e,typeName:er.ZodLazy,...yr(t)});class Ev extends Or{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return kt(r,{received:r.data,code:ht.invalid_literal,expected:this._def.value}),nr}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ev.create=(e,t)=>new Ev({value:e,typeName:er.ZodLiteral,...yr(t)});function FG(e,t){return new pd({values:e,typeName:er.ZodEnum,...yr(t)})}class pd extends Or{constructor(){super(...arguments),Nb.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return kt(r,{expected:qr.joinValues(n),received:r.parsedType,code:ht.invalid_type}),nr}if(o4(this,Nb)||UG(this,Nb,new Set(this._def.values)),!o4(this,Nb).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return kt(r,{received:r.data,code:ht.invalid_enum_value,options:n}),nr}return Vo(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return pd.create(t,{...this._def,...r})}exclude(t,r=this._def){return pd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}Nb=new WeakMap;pd.create=FG;class _v extends Or{constructor(){super(...arguments),Mb.set(this,void 0)}_parse(t){const r=qr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Tt.string&&n.parsedType!==Tt.number){const i=qr.objectValues(r);return kt(n,{expected:qr.joinValues(i),received:n.parsedType,code:ht.invalid_type}),nr}if(o4(this,Mb)||UG(this,Mb,new Set(qr.getValidEnumValues(this._def.values))),!o4(this,Mb).has(t.data)){const i=qr.objectValues(r);return kt(n,{received:n.data,code:ht.invalid_enum_value,options:i}),nr}return Vo(t.data)}get enum(){return this._def.values}}Mb=new WeakMap;_v.create=(e,t)=>new _v({values:e,typeName:er.ZodNativeEnum,...yr(t)});class My extends Or{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.promise&&r.common.async===!1)return kt(r,{code:ht.invalid_type,expected:Tt.promise,received:r.parsedType}),nr;const n=r.parsedType===Tt.promise?r.data:Promise.resolve(r.data);return Vo(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}My.create=(e,t)=>new My({type:e,typeName:er.ZodPromise,...yr(t)});class Ou extends Or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===er.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{kt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(n.data,o);if(n.common.async)return Promise.resolve(s).then(async a=>{if(r.value==="aborted")return nr;const l=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return l.status==="aborted"?nr:l.status==="dirty"||r.value==="dirty"?i4(l.value):l});{if(r.value==="aborted")return nr;const a=this._def.schema._parseSync({data:s,path:n.path,parent:n});return a.status==="aborted"?nr:a.status==="dirty"||r.value==="dirty"?i4(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?nr:(a.status==="dirty"&&r.dirty(),s(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?nr:(a.status==="dirty"&&r.dirty(),s(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Xh(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Xh(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:r.value,value:a})):s);qr.assertNever(i)}}Ou.create=(e,t,r)=>new Ou({schema:e,typeName:er.ZodEffects,effect:t,...yr(r)});Ou.createWithPreprocess=(e,t,r)=>new Ou({schema:t,effect:{type:"preprocess",transform:e},typeName:er.ZodEffects,...yr(r)});class ml extends Or{_parse(t){return this._getType(t)===Tt.undefined?Vo(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ml.create=(e,t)=>new ml({innerType:e,typeName:er.ZodOptional,...yr(t)});class gd extends Or{_parse(t){return this._getType(t)===Tt.null?Vo(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}gd.create=(e,t)=>new gd({innerType:e,typeName:er.ZodNullable,...yr(t)});class Sv extends Or{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Sv.create=(e,t)=>new Sv({innerType:e,typeName:er.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...yr(t)});class kv extends Or{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return hv(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Zs(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Zs(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}kv.create=(e,t)=>new kv({innerType:e,typeName:er.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...yr(t)});class l4 extends Or{_parse(t){if(this._getType(t)!==Tt.nan){const r=this._getOrReturnCtx(t);return kt(r,{code:ht.invalid_type,expected:Tt.nan,received:r.parsedType}),nr}return{status:"valid",value:t.data}}}l4.create=e=>new l4({typeName:er.ZodNaN,...yr(e)});const bIe=Symbol("zod_brand");class yP extends Or{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class xw extends Or{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nr:i.status==="dirty"?(r.dirty(),i4(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?nr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new xw({in:t,out:r,typeName:er.ZodPipeline})}}class xv extends Or{_parse(t){const r=this._def.innerType._parse(t),n=i=>(Xh(i)&&(i.value=Object.freeze(i.value)),i);return hv(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}xv.create=(e,t)=>new xv({innerType:e,typeName:er.ZodReadonly,...yr(t)});function Fj(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function DG(e,t={},r){return e?Ny.create().superRefine((n,i)=>{var o,s;const a=e(n);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const h=Fj(t,n),g=(u=(c=h.fatal)!==null&&c!==void 0?c:r)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...h,fatal:g})}});if(!a){const l=Fj(t,n),c=(s=(o=l.fatal)!==null&&o!==void 0?o:r)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...l,fatal:c})}}):Ny.create()}const vIe={object:Cn.lazycreate};var er;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(er||(er={}));const wIe=(e,t={message:`Input not instance of ${e.name}`})=>DG(r=>r instanceof e,t),HG=pu.create,KG=dd.create,EIe=l4.create,_Ie=hd.create,VG=pv.create,SIe=Qh.create,kIe=s4.create,xIe=gv.create,AIe=yv.create,OIe=Ny.create,PIe=Nh.create,TIe=Rc.create,IIe=a4.create,BIe=Eu.create,NIe=Cn.create,MIe=Cn.strictCreate,RIe=mv.create,CIe=vE.create,jIe=bv.create,UIe=Al.create,zIe=vv.create,LIe=u4.create,$Ie=Yh.create,FIe=Jg.create,DIe=wv.create,HIe=Ev.create,KIe=pd.create,VIe=_v.create,WIe=My.create,Dj=Ou.create,qIe=ml.create,ZIe=gd.create,GIe=Ou.createWithPreprocess,XIe=xw.create,QIe=()=>HG().optional(),YIe=()=>KG().optional(),JIe=()=>VG().optional(),eBe={string:e=>pu.create({...e,coerce:!0}),number:e=>dd.create({...e,coerce:!0}),boolean:e=>pv.create({...e,coerce:!0}),bigint:e=>hd.create({...e,coerce:!0}),date:e=>Qh.create({...e,coerce:!0})},tBe=nr;var ke=Object.freeze({__proto__:null,defaultErrorMap:By,setErrorMap:GTe,getErrorMap:r4,makeIssue:n4,EMPTY_PATH:XTe,addIssueToContext:kt,ParseStatus:Po,INVALID:nr,DIRTY:i4,OK:Vo,isAborted:Vk,isDirty:Wk,isValid:Xh,isAsync:hv,get util(){return qr},get objectUtil(){return Kk},ZodParsedType:Tt,getParsedType:cc,ZodType:Or,datetimeRegex:$G,ZodString:pu,ZodNumber:dd,ZodBigInt:hd,ZodBoolean:pv,ZodDate:Qh,ZodSymbol:s4,ZodUndefined:gv,ZodNull:yv,ZodAny:Ny,ZodUnknown:Nh,ZodNever:Rc,ZodVoid:a4,ZodArray:Eu,ZodObject:Cn,ZodUnion:mv,ZodDiscriminatedUnion:vE,ZodIntersection:bv,ZodTuple:Al,ZodRecord:vv,ZodMap:u4,ZodSet:Yh,ZodFunction:Jg,ZodLazy:wv,ZodLiteral:Ev,ZodEnum:pd,ZodNativeEnum:_v,ZodPromise:My,ZodEffects:Ou,ZodTransformer:Ou,ZodOptional:ml,ZodNullable:gd,ZodDefault:Sv,ZodCatch:kv,ZodNaN:l4,BRAND:bIe,ZodBranded:yP,ZodPipeline:xw,ZodReadonly:xv,custom:DG,Schema:Or,ZodSchema:Or,late:vIe,get ZodFirstPartyTypeKind(){return er},coerce:eBe,any:OIe,array:BIe,bigint:_Ie,boolean:VG,date:SIe,discriminatedUnion:CIe,effect:Dj,enum:KIe,function:FIe,instanceof:wIe,intersection:jIe,lazy:DIe,literal:HIe,map:LIe,nan:EIe,nativeEnum:VIe,never:TIe,null:AIe,nullable:ZIe,number:KG,object:NIe,oboolean:JIe,onumber:YIe,optional:qIe,ostring:QIe,pipeline:XIe,preprocess:GIe,promise:WIe,record:zIe,set:$Ie,strictObject:MIe,string:HG,symbol:kIe,transformer:Dj,tuple:UIe,undefined:xIe,union:RIe,unknown:PIe,void:IIe,NEVER:tBe,ZodIssueCode:ht,quotelessJson:ZTe,ZodError:Zs}),rBe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,YS=Math.ceil,ba=Math.floor,is="[BigNumber Error] ",Hj=is+"Number primitive has more than 15 significant digits: ",Ya=1e14,dr=14,JS=9007199254740991,e7=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Sf=1e7,Ii=1e9;function WG(e){var t,r,n,i=B.prototype={constructor:B,toString:null,valueOf:null},o=new B(1),s=20,a=4,l=-7,c=21,u=-1e7,h=1e7,g=!1,k=1,R=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},D="0123456789abcdefghijklmnopqrstuvwxyz",$=!0;function B(K,C){var G,v,I,p,_,w,S,A,x=this;if(!(x instanceof B))return new B(K,C);if(C==null){if(K&&K._isBigNumber===!0){x.s=K.s,!K.c||K.e>h?x.c=x.e=null:K.e<u?x.c=[x.e=0]:(x.e=K.e,x.c=K.c.slice());return}if((w=typeof K=="number")&&K*0==0){if(x.s=1/K<0?(K=-K,-1):1,K===~~K){for(p=0,_=K;_>=10;_/=10,p++);p>h?x.c=x.e=null:(x.e=p,x.c=[K]);return}A=String(K)}else{if(!rBe.test(A=String(K)))return n(x,A,w);x.s=A.charCodeAt(0)==45?(A=A.slice(1),-1):1}(p=A.indexOf("."))>-1&&(A=A.replace(".","")),(_=A.search(/e/i))>0?(p<0&&(p=_),p+=+A.slice(_+1),A=A.substring(0,_)):p<0&&(p=A.length)}else{if(Rn(C,2,D.length,"Base"),C==10&&$)return x=new B(K),ae(x,s+x.e+1,a);if(A=String(K),w=typeof K=="number"){if(K*0!=0)return n(x,A,w,C);if(x.s=1/K<0?(A=A.slice(1),-1):1,B.DEBUG&&A.replace(/^0\.0*|\./,"").length>15)throw Error(Hj+K)}else x.s=A.charCodeAt(0)===45?(A=A.slice(1),-1):1;for(G=D.slice(0,C),p=_=0,S=A.length;_<S;_++)if(G.indexOf(v=A.charAt(_))<0){if(v=="."){if(_>p){p=S;continue}}else if(!I&&(A==A.toUpperCase()&&(A=A.toLowerCase())||A==A.toLowerCase()&&(A=A.toUpperCase()))){I=!0,_=-1,p=0;continue}return n(x,String(K),w,C)}w=!1,A=r(A,C,10,x.s),(p=A.indexOf("."))>-1?A=A.replace(".",""):p=A.length}for(_=0;A.charCodeAt(_)===48;_++);for(S=A.length;A.charCodeAt(--S)===48;);if(A=A.slice(_,++S)){if(S-=_,w&&B.DEBUG&&S>15&&(K>JS||K!==ba(K)))throw Error(Hj+x.s*K);if((p=p-_-1)>h)x.c=x.e=null;else if(p<u)x.c=[x.e=0];else{if(x.e=p,x.c=[],_=(p+1)%dr,p<0&&(_+=dr),_<S){for(_&&x.c.push(+A.slice(0,_)),S-=dr;_<S;)x.c.push(+A.slice(_,_+=dr));_=dr-(A=A.slice(_)).length}else _-=S;for(;_--;A+="0");x.c.push(+A)}}else x.c=[x.e=0]}B.clone=WG,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(K){var C,G;if(K!=null)if(typeof K=="object"){if(K.hasOwnProperty(C="DECIMAL_PLACES")&&(G=K[C],Rn(G,0,Ii,C),s=G),K.hasOwnProperty(C="ROUNDING_MODE")&&(G=K[C],Rn(G,0,8,C),a=G),K.hasOwnProperty(C="EXPONENTIAL_AT")&&(G=K[C],G&&G.pop?(Rn(G[0],-Ii,0,C),Rn(G[1],0,Ii,C),l=G[0],c=G[1]):(Rn(G,-Ii,Ii,C),l=-(c=G<0?-G:G))),K.hasOwnProperty(C="RANGE"))if(G=K[C],G&&G.pop)Rn(G[0],-Ii,-1,C),Rn(G[1],1,Ii,C),u=G[0],h=G[1];else if(Rn(G,-Ii,Ii,C),G)u=-(h=G<0?-G:G);else throw Error(is+C+" cannot be zero: "+G);if(K.hasOwnProperty(C="CRYPTO"))if(G=K[C],G===!!G)if(G)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))g=G;else throw g=!G,Error(is+"crypto unavailable");else g=G;else throw Error(is+C+" not true or false: "+G);if(K.hasOwnProperty(C="MODULO_MODE")&&(G=K[C],Rn(G,0,9,C),k=G),K.hasOwnProperty(C="POW_PRECISION")&&(G=K[C],Rn(G,0,Ii,C),R=G),K.hasOwnProperty(C="FORMAT"))if(G=K[C],typeof G=="object")F=G;else throw Error(is+C+" not an object: "+G);if(K.hasOwnProperty(C="ALPHABET"))if(G=K[C],typeof G=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(G))$=G.slice(0,10)=="0123456789",D=G;else throw Error(is+C+" invalid: "+G)}else throw Error(is+"Object expected: "+K);return{DECIMAL_PLACES:s,ROUNDING_MODE:a,EXPONENTIAL_AT:[l,c],RANGE:[u,h],CRYPTO:g,MODULO_MODE:k,POW_PRECISION:R,FORMAT:F,ALPHABET:D}},B.isBigNumber=function(K){if(!K||K._isBigNumber!==!0)return!1;if(!B.DEBUG)return!0;var C,G,v=K.c,I=K.e,p=K.s;e:if({}.toString.call(v)=="[object Array]"){if((p===1||p===-1)&&I>=-Ii&&I<=Ii&&I===ba(I)){if(v[0]===0){if(I===0&&v.length===1)return!0;break e}if(C=(I+1)%dr,C<1&&(C+=dr),String(v[0]).length==C){for(C=0;C<v.length;C++)if(G=v[C],G<0||G>=Ya||G!==ba(G))break e;if(G!==0)return!0}}}else if(v===null&&I===null&&(p===null||p===1||p===-1))return!0;throw Error(is+"Invalid BigNumber: "+K)},B.maximum=B.max=function(){return q(arguments,-1)},B.minimum=B.min=function(){return q(arguments,1)},B.random=function(){var K=9007199254740992,C=Math.random()*K&2097151?function(){return ba(Math.random()*K)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(G){var v,I,p,_,w,S=0,A=[],x=new B(o);if(G==null?G=s:Rn(G,0,Ii),_=YS(G/dr),g)if(crypto.getRandomValues){for(v=crypto.getRandomValues(new Uint32Array(_*=2));S<_;)w=v[S]*131072+(v[S+1]>>>11),w>=9e15?(I=crypto.getRandomValues(new Uint32Array(2)),v[S]=I[0],v[S+1]=I[1]):(A.push(w%1e14),S+=2);S=_/2}else if(crypto.randomBytes){for(v=crypto.randomBytes(_*=7);S<_;)w=(v[S]&31)*281474976710656+v[S+1]*1099511627776+v[S+2]*4294967296+v[S+3]*16777216+(v[S+4]<<16)+(v[S+5]<<8)+v[S+6],w>=9e15?crypto.randomBytes(7).copy(v,S):(A.push(w%1e14),S+=7);S=_/7}else throw g=!1,Error(is+"crypto unavailable");if(!g)for(;S<_;)w=C(),w<9e15&&(A[S++]=w%1e14);for(_=A[--S],G%=dr,_&&G&&(w=e7[dr-G],A[S]=ba(_/w)*w);A[S]===0;A.pop(),S--);if(S<0)A=[p=0];else{for(p=-1;A[0]===0;A.splice(0,1),p-=dr);for(S=1,w=A[0];w>=10;w/=10,S++);S<dr&&(p-=dr-S)}return x.e=p,x.c=A,x}}(),B.sum=function(){for(var K=1,C=arguments,G=new B(C[0]);K<C.length;)G=G.plus(C[K++]);return G},r=function(){var K="0123456789";function C(G,v,I,p){for(var _,w=[0],S,A=0,x=G.length;A<x;){for(S=w.length;S--;w[S]*=v);for(w[0]+=p.indexOf(G.charAt(A++)),_=0;_<w.length;_++)w[_]>I-1&&(w[_+1]==null&&(w[_+1]=0),w[_+1]+=w[_]/I|0,w[_]%=I)}return w.reverse()}return function(G,v,I,p,_){var w,S,A,x,E,T,M,Q,he=G.indexOf("."),ue=s,W=a;for(he>=0&&(x=R,R=0,G=G.replace(".",""),Q=new B(v),T=Q.pow(G.length-he),R=x,Q.c=C(Ql(ma(T.c),T.e,"0"),10,I,K),Q.e=Q.c.length),M=C(G,v,I,_?(w=D,K):(w=K,D)),A=x=M.length;M[--x]==0;M.pop());if(!M[0])return w.charAt(0);if(he<0?--A:(T.c=M,T.e=A,T.s=p,T=t(T,Q,ue,W,I),M=T.c,E=T.r,A=T.e),S=A+ue+1,he=M[S],x=I/2,E=E||S<0||M[S+1]!=null,E=W<4?(he!=null||E)&&(W==0||W==(T.s<0?3:2)):he>x||he==x&&(W==4||E||W==6&&M[S-1]&1||W==(T.s<0?8:7)),S<1||!M[0])G=E?Ql(w.charAt(1),-ue,w.charAt(0)):w.charAt(0);else{if(M.length=S,E)for(--I;++M[--S]>I;)M[S]=0,S||(++A,M=[1].concat(M));for(x=M.length;!M[--x];);for(he=0,G="";he<=x;G+=w.charAt(M[he++]));G=Ql(G,A,w.charAt(0))}return G}}(),t=function(){function K(v,I,p){var _,w,S,A,x=0,E=v.length,T=I%Sf,M=I/Sf|0;for(v=v.slice();E--;)S=v[E]%Sf,A=v[E]/Sf|0,_=M*S+A*T,w=T*S+_%Sf*Sf+x,x=(w/p|0)+(_/Sf|0)+M*A,v[E]=w%p;return x&&(v=[x].concat(v)),v}function C(v,I,p,_){var w,S;if(p!=_)S=p>_?1:-1;else for(w=S=0;w<p;w++)if(v[w]!=I[w]){S=v[w]>I[w]?1:-1;break}return S}function G(v,I,p,_){for(var w=0;p--;)v[p]-=w,w=v[p]<I[p]?1:0,v[p]=w*_+v[p]-I[p];for(;!v[0]&&v.length>1;v.splice(0,1));}return function(v,I,p,_,w){var S,A,x,E,T,M,Q,he,ue,W,se,Z,ie,pe,Ee,Oe,Re,Ce=v.s==I.s?1:-1,P=v.c,Y=I.c;if(!P||!P[0]||!Y||!Y[0])return new B(!v.s||!I.s||(P?Y&&P[0]==Y[0]:!Y)?NaN:P&&P[0]==0||!Y?Ce*0:Ce/0);for(he=new B(Ce),ue=he.c=[],A=v.e-I.e,Ce=p+A+1,w||(w=Ya,A=va(v.e/dr)-va(I.e/dr),Ce=Ce/dr|0),x=0;Y[x]==(P[x]||0);x++);if(Y[x]>(P[x]||0)&&A--,Ce<0)ue.push(1),E=!0;else{for(pe=P.length,Oe=Y.length,x=0,Ce+=2,T=ba(w/(Y[0]+1)),T>1&&(Y=K(Y,T,w),P=K(P,T,w),Oe=Y.length,pe=P.length),ie=Oe,W=P.slice(0,Oe),se=W.length;se<Oe;W[se++]=0);Re=Y.slice(),Re=[0].concat(Re),Ee=Y[0],Y[1]>=w/2&&Ee++;do{if(T=0,S=C(Y,W,Oe,se),S<0){if(Z=W[0],Oe!=se&&(Z=Z*w+(W[1]||0)),T=ba(Z/Ee),T>1)for(T>=w&&(T=w-1),M=K(Y,T,w),Q=M.length,se=W.length;C(M,W,Q,se)==1;)T--,G(M,Oe<Q?Re:Y,Q,w),Q=M.length,S=1;else T==0&&(S=T=1),M=Y.slice(),Q=M.length;if(Q<se&&(M=[0].concat(M)),G(W,M,se,w),se=W.length,S==-1)for(;C(Y,W,Oe,se)<1;)T++,G(W,Oe<se?Re:Y,se,w),se=W.length}else S===0&&(T++,W=[0]);ue[x++]=T,W[0]?W[se++]=P[ie]||0:(W=[P[ie]],se=1)}while((ie++<pe||W[0]!=null)&&Ce--);E=W[0]!=null,ue[0]||ue.splice(0,1)}if(w==Ya){for(x=1,Ce=ue[0];Ce>=10;Ce/=10,x++);ae(he,p+(he.e=x+A*dr-1)+1,_,E)}else he.e=A,he.r=+E;return he}}();function U(K,C,G,v){var I,p,_,w,S;if(G==null?G=a:Rn(G,0,8),!K.c)return K.toString();if(I=K.c[0],_=K.e,C==null)S=ma(K.c),S=v==1||v==2&&(_<=l||_>=c)?O3(S,_):Ql(S,_,"0");else if(K=ae(new B(K),C,G),p=K.e,S=ma(K.c),w=S.length,v==1||v==2&&(C<=p||p<=l)){for(;w<C;S+="0",w++);S=O3(S,p)}else if(C-=_,S=Ql(S,p,"0"),p+1>w){if(--C>0)for(S+=".";C--;S+="0");}else if(C+=p-w,C>0)for(p+1==w&&(S+=".");C--;S+="0");return K.s<0&&I?"-"+S:S}function q(K,C){for(var G,v,I=1,p=new B(K[0]);I<K.length;I++)v=new B(K[I]),(!v.s||(G=Vd(p,v))===C||G===0&&p.s===C)&&(p=v);return p}function ee(K,C,G){for(var v=1,I=C.length;!C[--I];C.pop());for(I=C[0];I>=10;I/=10,v++);return(G=v+G*dr-1)>h?K.c=K.e=null:G<u?K.c=[K.e=0]:(K.e=G,K.c=C),K}n=function(){var K=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,G=/^\.([^.]+)$/,v=/^-?(Infinity|NaN)$/,I=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(p,_,w,S){var A,x=w?_:_.replace(I,"");if(v.test(x))p.s=isNaN(x)?null:x<0?-1:1;else{if(!w&&(x=x.replace(K,function(E,T,M){return A=(M=M.toLowerCase())=="x"?16:M=="b"?2:8,!S||S==A?T:E}),S&&(A=S,x=x.replace(C,"$1").replace(G,"0.$1")),_!=x))return new B(x,A);if(B.DEBUG)throw Error(is+"Not a"+(S?" base "+S:"")+" number: "+_);p.s=null}p.c=p.e=null}}();function ae(K,C,G,v){var I,p,_,w,S,A,x,E=K.c,T=e7;if(E){e:{for(I=1,w=E[0];w>=10;w/=10,I++);if(p=C-I,p<0)p+=dr,_=C,S=E[A=0],x=ba(S/T[I-_-1]%10);else if(A=YS((p+1)/dr),A>=E.length)if(v){for(;E.length<=A;E.push(0));S=x=0,I=1,p%=dr,_=p-dr+1}else break e;else{for(S=w=E[A],I=1;w>=10;w/=10,I++);p%=dr,_=p-dr+I,x=_<0?0:ba(S/T[I-_-1]%10)}if(v=v||C<0||E[A+1]!=null||(_<0?S:S%T[I-_-1]),v=G<4?(x||v)&&(G==0||G==(K.s<0?3:2)):x>5||x==5&&(G==4||v||G==6&&(p>0?_>0?S/T[I-_]:0:E[A-1])%10&1||G==(K.s<0?8:7)),C<1||!E[0])return E.length=0,v?(C-=K.e+1,E[0]=T[(dr-C%dr)%dr],K.e=-C||0):E[0]=K.e=0,K;if(p==0?(E.length=A,w=1,A--):(E.length=A+1,w=T[dr-p],E[A]=_>0?ba(S/T[I-_]%T[_])*w:0),v)for(;;)if(A==0){for(p=1,_=E[0];_>=10;_/=10,p++);for(_=E[0]+=w,w=1;_>=10;_/=10,w++);p!=w&&(K.e++,E[0]==Ya&&(E[0]=1));break}else{if(E[A]+=w,E[A]!=Ya)break;E[A--]=0,w=1}for(p=E.length;E[--p]===0;E.pop());}K.e>h?K.c=K.e=null:K.e<u&&(K.c=[K.e=0])}return K}function re(K){var C,G=K.e;return G===null?K.toString():(C=ma(K.c),C=G<=l||G>=c?O3(C,G):Ql(C,G,"0"),K.s<0?"-"+C:C)}return i.absoluteValue=i.abs=function(){var K=new B(this);return K.s<0&&(K.s=1),K},i.comparedTo=function(K,C){return Vd(this,new B(K,C))},i.decimalPlaces=i.dp=function(K,C){var G,v,I,p=this;if(K!=null)return Rn(K,0,Ii),C==null?C=a:Rn(C,0,8),ae(new B(p),K+p.e+1,C);if(!(G=p.c))return null;if(v=((I=G.length-1)-va(this.e/dr))*dr,I=G[I])for(;I%10==0;I/=10,v--);return v<0&&(v=0),v},i.dividedBy=i.div=function(K,C){return t(this,new B(K,C),s,a)},i.dividedToIntegerBy=i.idiv=function(K,C){return t(this,new B(K,C),0,1)},i.exponentiatedBy=i.pow=function(K,C){var G,v,I,p,_,w,S,A,x,E=this;if(K=new B(K),K.c&&!K.isInteger())throw Error(is+"Exponent not an integer: "+re(K));if(C!=null&&(C=new B(C)),w=K.e>14,!E.c||!E.c[0]||E.c[0]==1&&!E.e&&E.c.length==1||!K.c||!K.c[0])return x=new B(Math.pow(+re(E),w?K.s*(2-A3(K)):+re(K))),C?x.mod(C):x;if(S=K.s<0,C){if(C.c?!C.c[0]:!C.s)return new B(NaN);v=!S&&E.isInteger()&&C.isInteger(),v&&(E=E.mod(C))}else{if(K.e>9&&(E.e>0||E.e<-1||(E.e==0?E.c[0]>1||w&&E.c[1]>=24e7:E.c[0]<8e13||w&&E.c[0]<=9999975e7)))return p=E.s<0&&A3(K)?-0:0,E.e>-1&&(p=1/p),new B(S?1/p:p);R&&(p=YS(R/dr+2))}for(w?(G=new B(.5),S&&(K.s=1),A=A3(K)):(I=Math.abs(+re(K)),A=I%2),x=new B(o);;){if(A){if(x=x.times(E),!x.c)break;p?x.c.length>p&&(x.c.length=p):v&&(x=x.mod(C))}if(I){if(I=ba(I/2),I===0)break;A=I%2}else if(K=K.times(G),ae(K,K.e+1,1),K.e>14)A=A3(K);else{if(I=+re(K),I===0)break;A=I%2}E=E.times(E),p?E.c&&E.c.length>p&&(E.c.length=p):v&&(E=E.mod(C))}return v?x:(S&&(x=o.div(x)),C?x.mod(C):p?ae(x,R,a,_):x)},i.integerValue=function(K){var C=new B(this);return K==null?K=a:Rn(K,0,8),ae(C,C.e+1,K)},i.isEqualTo=i.eq=function(K,C){return Vd(this,new B(K,C))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(K,C){return Vd(this,new B(K,C))>0},i.isGreaterThanOrEqualTo=i.gte=function(K,C){return(C=Vd(this,new B(K,C)))===1||C===0},i.isInteger=function(){return!!this.c&&va(this.e/dr)>this.c.length-2},i.isLessThan=i.lt=function(K,C){return Vd(this,new B(K,C))<0},i.isLessThanOrEqualTo=i.lte=function(K,C){return(C=Vd(this,new B(K,C)))===-1||C===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(K,C){var G,v,I,p,_=this,w=_.s;if(K=new B(K,C),C=K.s,!w||!C)return new B(NaN);if(w!=C)return K.s=-C,_.plus(K);var S=_.e/dr,A=K.e/dr,x=_.c,E=K.c;if(!S||!A){if(!x||!E)return x?(K.s=-C,K):new B(E?_:NaN);if(!x[0]||!E[0])return E[0]?(K.s=-C,K):new B(x[0]?_:a==3?-0:0)}if(S=va(S),A=va(A),x=x.slice(),w=S-A){for((p=w<0)?(w=-w,I=x):(A=S,I=E),I.reverse(),C=w;C--;I.push(0));I.reverse()}else for(v=(p=(w=x.length)<(C=E.length))?w:C,w=C=0;C<v;C++)if(x[C]!=E[C]){p=x[C]<E[C];break}if(p&&(I=x,x=E,E=I,K.s=-K.s),C=(v=E.length)-(G=x.length),C>0)for(;C--;x[G++]=0);for(C=Ya-1;v>w;){if(x[--v]<E[v]){for(G=v;G&&!x[--G];x[G]=C);--x[G],x[v]+=Ya}x[v]-=E[v]}for(;x[0]==0;x.splice(0,1),--A);return x[0]?ee(K,x,A):(K.s=a==3?-1:1,K.c=[K.e=0],K)},i.modulo=i.mod=function(K,C){var G,v,I=this;return K=new B(K,C),!I.c||!K.s||K.c&&!K.c[0]?new B(NaN):!K.c||I.c&&!I.c[0]?new B(I):(k==9?(v=K.s,K.s=1,G=t(I,K,0,3),K.s=v,G.s*=v):G=t(I,K,0,k),K=I.minus(G.times(K)),!K.c[0]&&k==1&&(K.s=I.s),K)},i.multipliedBy=i.times=function(K,C){var G,v,I,p,_,w,S,A,x,E,T,M,Q,he,ue,W=this,se=W.c,Z=(K=new B(K,C)).c;if(!se||!Z||!se[0]||!Z[0])return!W.s||!K.s||se&&!se[0]&&!Z||Z&&!Z[0]&&!se?K.c=K.e=K.s=null:(K.s*=W.s,!se||!Z?K.c=K.e=null:(K.c=[0],K.e=0)),K;for(v=va(W.e/dr)+va(K.e/dr),K.s*=W.s,S=se.length,E=Z.length,S<E&&(Q=se,se=Z,Z=Q,I=S,S=E,E=I),I=S+E,Q=[];I--;Q.push(0));for(he=Ya,ue=Sf,I=E;--I>=0;){for(G=0,T=Z[I]%ue,M=Z[I]/ue|0,_=S,p=I+_;p>I;)A=se[--_]%ue,x=se[_]/ue|0,w=M*A+x*T,A=T*A+w%ue*ue+Q[p]+G,G=(A/he|0)+(w/ue|0)+M*x,Q[p--]=A%he;Q[p]=G}return G?++v:Q.splice(0,1),ee(K,Q,v)},i.negated=function(){var K=new B(this);return K.s=-K.s||null,K},i.plus=function(K,C){var G,v=this,I=v.s;if(K=new B(K,C),C=K.s,!I||!C)return new B(NaN);if(I!=C)return K.s=-C,v.minus(K);var p=v.e/dr,_=K.e/dr,w=v.c,S=K.c;if(!p||!_){if(!w||!S)return new B(I/0);if(!w[0]||!S[0])return S[0]?K:new B(w[0]?v:I*0)}if(p=va(p),_=va(_),w=w.slice(),I=p-_){for(I>0?(_=p,G=S):(I=-I,G=w),G.reverse();I--;G.push(0));G.reverse()}for(I=w.length,C=S.length,I-C<0&&(G=S,S=w,w=G,C=I),I=0;C;)I=(w[--C]=w[C]+S[C]+I)/Ya|0,w[C]=Ya===w[C]?0:w[C]%Ya;return I&&(w=[I].concat(w),++_),ee(K,w,_)},i.precision=i.sd=function(K,C){var G,v,I,p=this;if(K!=null&&K!==!!K)return Rn(K,1,Ii),C==null?C=a:Rn(C,0,8),ae(new B(p),K,C);if(!(G=p.c))return null;if(I=G.length-1,v=I*dr+1,I=G[I]){for(;I%10==0;I/=10,v--);for(I=G[0];I>=10;I/=10,v++);}return K&&p.e+1>v&&(v=p.e+1),v},i.shiftedBy=function(K){return Rn(K,-JS,JS),this.times("1e"+K)},i.squareRoot=i.sqrt=function(){var K,C,G,v,I,p=this,_=p.c,w=p.s,S=p.e,A=s+4,x=new B("0.5");if(w!==1||!_||!_[0])return new B(!w||w<0&&(!_||_[0])?NaN:_?p:1/0);if(w=Math.sqrt(+re(p)),w==0||w==1/0?(C=ma(_),(C.length+S)%2==0&&(C+="0"),w=Math.sqrt(+C),S=va((S+1)/2)-(S<0||S%2),w==1/0?C="5e"+S:(C=w.toExponential(),C=C.slice(0,C.indexOf("e")+1)+S),G=new B(C)):G=new B(w+""),G.c[0]){for(S=G.e,w=S+A,w<3&&(w=0);;)if(I=G,G=x.times(I.plus(t(p,I,A,1))),ma(I.c).slice(0,w)===(C=ma(G.c)).slice(0,w))if(G.e<S&&--w,C=C.slice(w-3,w+1),C=="9999"||!v&&C=="4999"){if(!v&&(ae(I,I.e+s+2,0),I.times(I).eq(p))){G=I;break}A+=4,w+=4,v=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&(ae(G,G.e+s+2,1),K=!G.times(G).eq(p));break}}return ae(G,G.e+s+1,a,K)},i.toExponential=function(K,C){return K!=null&&(Rn(K,0,Ii),K++),U(this,K,C,1)},i.toFixed=function(K,C){return K!=null&&(Rn(K,0,Ii),K=K+this.e+1),U(this,K,C)},i.toFormat=function(K,C,G){var v,I=this;if(G==null)K!=null&&C&&typeof C=="object"?(G=C,C=null):K&&typeof K=="object"?(G=K,K=C=null):G=F;else if(typeof G!="object")throw Error(is+"Argument not an object: "+G);if(v=I.toFixed(K,C),I.c){var p,_=v.split("."),w=+G.groupSize,S=+G.secondaryGroupSize,A=G.groupSeparator||"",x=_[0],E=_[1],T=I.s<0,M=T?x.slice(1):x,Q=M.length;if(S&&(p=w,w=S,S=p,Q-=p),w>0&&Q>0){for(p=Q%w||w,x=M.substr(0,p);p<Q;p+=w)x+=A+M.substr(p,w);S>0&&(x+=A+M.slice(p)),T&&(x="-"+x)}v=E?x+(G.decimalSeparator||"")+((S=+G.fractionGroupSize)?E.replace(new RegExp("\\d{"+S+"}\\B","g"),"$&"+(G.fractionGroupSeparator||"")):E):x}return(G.prefix||"")+v+(G.suffix||"")},i.toFraction=function(K){var C,G,v,I,p,_,w,S,A,x,E,T,M=this,Q=M.c;if(K!=null&&(w=new B(K),!w.isInteger()&&(w.c||w.s!==1)||w.lt(o)))throw Error(is+"Argument "+(w.isInteger()?"out of range: ":"not an integer: ")+re(w));if(!Q)return new B(M);for(C=new B(o),A=G=new B(o),v=S=new B(o),T=ma(Q),p=C.e=T.length-M.e-1,C.c[0]=e7[(_=p%dr)<0?dr+_:_],K=!K||w.comparedTo(C)>0?p>0?C:A:w,_=h,h=1/0,w=new B(T),S.c[0]=0;x=t(w,C,0,1),I=G.plus(x.times(v)),I.comparedTo(K)!=1;)G=v,v=I,A=S.plus(x.times(I=A)),S=I,C=w.minus(x.times(I=C)),w=I;return I=t(K.minus(G),v,0,1),S=S.plus(I.times(A)),G=G.plus(I.times(v)),S.s=A.s=M.s,p=p*2,E=t(A,v,p,a).minus(M).abs().comparedTo(t(S,G,p,a).minus(M).abs())<1?[A,v]:[S,G],h=_,E},i.toNumber=function(){return+re(this)},i.toPrecision=function(K,C){return K!=null&&Rn(K,1,Ii),U(this,K,C,2)},i.toString=function(K){var C,G=this,v=G.s,I=G.e;return I===null?v?(C="Infinity",v<0&&(C="-"+C)):C="NaN":(K==null?C=I<=l||I>=c?O3(ma(G.c),I):Ql(ma(G.c),I,"0"):K===10&&$?(G=ae(new B(G),s+I+1,a),C=Ql(ma(G.c),G.e,"0")):(Rn(K,2,D.length,"Base"),C=r(Ql(ma(G.c),I,"0"),10,K,v,!0)),v<0&&G.c[0]&&(C="-"+C)),C},i.valueOf=i.toJSON=function(){return re(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,e!=null&&B.set(e),B}function va(e){var t=e|0;return e>0||e===t?t:t-1}function ma(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=dr-t.length;r--;t="0"+t);o+=t}for(i=o.length;o.charCodeAt(--i)===48;);return o.slice(0,i+1||1)}function Vd(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,l=e.e,c=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=l==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return l>c^r?1:-1;for(a=(l=i.length)<(c=o.length)?l:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return l==c?0:l>c^r?1:-1}function Rn(e,t,r,n){if(e<t||e>r||e!==ba(e))throw Error(is+(n||"Argument")+(typeof e=="number"?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function A3(e){var t=e.c.length-1;return va(e.e/dr)==t&&e.c[t]%2!=0}function O3(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function Ql(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}WG();var nBe=["mainnet","testnet"],iBe=["testnet","regtest","signet"],oBe=["mainnet","testnet3","testnet4","regtest","signet"],sBe=ke.enum([...nBe,...iBe]),aBe=ke.enum([...oBe]);ke.object({name:ke.string(),id:ke.string(),chain:ke.object({bitcoin:ke.object({blockchain:ke.literal("bitcoin"),bitcoinUrl:ke.string(),bitcoinNetwork:aBe,mode:sBe}),stacks:ke.object({blockchain:ke.literal("stacks"),url:ke.string(),chainId:ke.number(),subnetChainId:ke.number().optional()})})});ke.string().email({message:"Invalid email address"});var uBe=ke.object({fingerprint:ke.string()}),lBe=uBe.merge(ke.object({accountIndex:ke.number()})),cBe=ke.object({taprootDescriptor:ke.string(),nativeSegwitDescriptor:ke.string()}),fBe=ke.object({stxAddress:ke.string()});ke.object({id:lBe,bitcoin:cBe.optional(),stacks:fBe.optional()});/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:qG,setPrototypeOf:Kj,isFrozen:dBe,getPrototypeOf:hBe,getOwnPropertyDescriptor:pBe}=Object;let{freeze:Wo,seal:za,create:ZG}=Object,{apply:Zk,construct:Gk}=typeof Reflect<"u"&&Reflect;Wo||(Wo=function(e){return e});za||(za=function(e){return e});Zk||(Zk=function(e,t,r){return e.apply(t,r)});Gk||(Gk=function(e,t){return new e(...t)});const P3=qo(Array.prototype.forEach),gBe=qo(Array.prototype.lastIndexOf),Vj=qo(Array.prototype.pop),ab=qo(Array.prototype.push),yBe=qo(Array.prototype.splice),b8=qo(String.prototype.toLowerCase),t7=qo(String.prototype.toString),Wj=qo(String.prototype.match),ub=qo(String.prototype.replace),mBe=qo(String.prototype.indexOf),bBe=qo(String.prototype.trim),nu=qo(Object.prototype.hasOwnProperty),Mo=qo(RegExp.prototype.test),lb=vBe(TypeError);function qo(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Zk(e,t,n)}}function vBe(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Gk(e,r)}}function Cr(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:b8;Kj&&Kj(e,null);let n=t.length;for(;n--;){let i=t[n];if(typeof i=="string"){const o=r(i);o!==i&&(dBe(t)||(t[n]=o),i=o)}e[i]=!0}return e}function wBe(e){for(let t=0;t<e.length;t++)nu(e,t)||(e[t]=null);return e}function rh(e){const t=ZG(null);for(const[r,n]of qG(e))nu(e,r)&&(Array.isArray(n)?t[r]=wBe(n):n&&typeof n=="object"&&n.constructor===Object?t[r]=rh(n):t[r]=n);return t}function cb(e,t){for(;e!==null;){const n=pBe(e,t);if(n){if(n.get)return qo(n.get);if(typeof n.value=="function")return qo(n.value)}e=hBe(e)}function r(){return null}return r}const qj=Wo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),r7=Wo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),n7=Wo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),EBe=Wo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),i7=Wo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_Be=Wo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Zj=Wo(["#text"]),Gj=Wo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),o7=Wo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xj=Wo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),T3=Wo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),SBe=za(/\{\{[\w\W]*|[\w\W]*\}\}/gm),kBe=za(/<%[\w\W]*|[\w\W]*%>/gm),xBe=za(/\$\{[\w\W]*/gm),ABe=za(/^data-[\-\w.\u00B7-\uFFFF]+$/),OBe=za(/^aria-[\-\w]+$/),GG=za(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),PBe=za(/^(?:\w+script|data):/i),TBe=za(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),XG=za(/^html$/i),IBe=za(/^[a-z][.\w]*(-[.\w]+)+$/i);var Qj=Object.freeze({__proto__:null,ARIA_ATTR:OBe,ATTR_WHITESPACE:TBe,CUSTOM_ELEMENT:IBe,DATA_ATTR:ABe,DOCTYPE_NAME:XG,ERB_EXPR:kBe,IS_ALLOWED_URI:GG,IS_SCRIPT_OR_DATA:PBe,MUSTACHE_EXPR:SBe,TMPLIT_EXPR:xBe});const fb={element:1,text:3,progressingInstruction:7,comment:8,document:9},BBe=function(){return typeof window>"u"?null:window},NBe=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Yj=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function QG(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:BBe();const t=Ie=>QG(Ie);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==fb.document||!e.Element)return t.isSupported=!1,t;let{document:r}=e;const n=r,i=n.currentScript,{DocumentFragment:o,HTMLTemplateElement:s,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:h,DOMParser:g,trustedTypes:k}=e,R=l.prototype,F=cb(R,"cloneNode"),D=cb(R,"remove"),$=cb(R,"nextSibling"),B=cb(R,"childNodes"),U=cb(R,"parentNode");if(typeof s=="function"){const Ie=r.createElement("template");Ie.content&&Ie.content.ownerDocument&&(r=Ie.content.ownerDocument)}let q,ee="";const{implementation:ae,createNodeIterator:re,createDocumentFragment:K,getElementsByTagName:C}=r,{importNode:G}=n;let v=Yj();t.isSupported=typeof qG=="function"&&typeof U=="function"&&ae&&ae.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:p,TMPLIT_EXPR:_,DATA_ATTR:w,ARIA_ATTR:S,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:x,CUSTOM_ELEMENT:E}=Qj;let{IS_ALLOWED_URI:T}=Qj,M=null;const Q=Cr({},[...qj,...r7,...n7,...i7,...Zj]);let he=null;const ue=Cr({},[...Gj,...o7,...Xj,...T3]);let W=Object.seal(ZG(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),se=null,Z=null,ie=!0,pe=!0,Ee=!1,Oe=!0,Re=!1,Ce=!0,P=!1,Y=!1,be=!1,Ue=!1,Ke=!1,rt=!1,We=!0,Qe=!1;const d="user-content-";let b=!0,H=!1,te={},ce=null;const z=Cr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let X=null;const oe=Cr({},["audio","video","img","source","image","track"]);let N=null;const L=Cr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),J="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",le="http://www.w3.org/1999/xhtml";let Me=le,De=!1,nt=null;const gt=Cr({},[J,ge,le],t7);let jt=Cr({},["mi","mo","mn","ms","mtext"]),Ze=Cr({},["annotation-xml"]);const xt=Cr({},["title","style","font","a","script"]);let mr=null;const Hr=["application/xhtml+xml","text/html"],Wt="text/html";let Ut=null,Yt=null;const Ft=r.createElement("form"),Ur=function(Ie){return Ie instanceof RegExp||Ie instanceof Function},Se=function(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Yt&&Yt===Ie)){if((!Ie||typeof Ie!="object")&&(Ie={}),Ie=rh(Ie),mr=Hr.indexOf(Ie.PARSER_MEDIA_TYPE)===-1?Wt:Ie.PARSER_MEDIA_TYPE,Ut=mr==="application/xhtml+xml"?t7:b8,M=nu(Ie,"ALLOWED_TAGS")?Cr({},Ie.ALLOWED_TAGS,Ut):Q,he=nu(Ie,"ALLOWED_ATTR")?Cr({},Ie.ALLOWED_ATTR,Ut):ue,nt=nu(Ie,"ALLOWED_NAMESPACES")?Cr({},Ie.ALLOWED_NAMESPACES,t7):gt,N=nu(Ie,"ADD_URI_SAFE_ATTR")?Cr(rh(L),Ie.ADD_URI_SAFE_ATTR,Ut):L,X=nu(Ie,"ADD_DATA_URI_TAGS")?Cr(rh(oe),Ie.ADD_DATA_URI_TAGS,Ut):oe,ce=nu(Ie,"FORBID_CONTENTS")?Cr({},Ie.FORBID_CONTENTS,Ut):z,se=nu(Ie,"FORBID_TAGS")?Cr({},Ie.FORBID_TAGS,Ut):{},Z=nu(Ie,"FORBID_ATTR")?Cr({},Ie.FORBID_ATTR,Ut):{},te=nu(Ie,"USE_PROFILES")?Ie.USE_PROFILES:!1,ie=Ie.ALLOW_ARIA_ATTR!==!1,pe=Ie.ALLOW_DATA_ATTR!==!1,Ee=Ie.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=Ie.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Re=Ie.SAFE_FOR_TEMPLATES||!1,Ce=Ie.SAFE_FOR_XML!==!1,P=Ie.WHOLE_DOCUMENT||!1,Ue=Ie.RETURN_DOM||!1,Ke=Ie.RETURN_DOM_FRAGMENT||!1,rt=Ie.RETURN_TRUSTED_TYPE||!1,be=Ie.FORCE_BODY||!1,We=Ie.SANITIZE_DOM!==!1,Qe=Ie.SANITIZE_NAMED_PROPS||!1,b=Ie.KEEP_CONTENT!==!1,H=Ie.IN_PLACE||!1,T=Ie.ALLOWED_URI_REGEXP||GG,Me=Ie.NAMESPACE||le,jt=Ie.MATHML_TEXT_INTEGRATION_POINTS||jt,Ze=Ie.HTML_INTEGRATION_POINTS||Ze,W=Ie.CUSTOM_ELEMENT_HANDLING||{},Ie.CUSTOM_ELEMENT_HANDLING&&Ur(Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(W.tagNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&Ur(Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(W.attributeNameCheck=Ie.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Ie.CUSTOM_ELEMENT_HANDLING&&typeof Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(W.allowCustomizedBuiltInElements=Ie.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Re&&(pe=!1),Ke&&(Ue=!0),te&&(M=Cr({},Zj),he=[],te.html===!0&&(Cr(M,qj),Cr(he,Gj)),te.svg===!0&&(Cr(M,r7),Cr(he,o7),Cr(he,T3)),te.svgFilters===!0&&(Cr(M,n7),Cr(he,o7),Cr(he,T3)),te.mathMl===!0&&(Cr(M,i7),Cr(he,Xj),Cr(he,T3))),Ie.ADD_TAGS&&(M===Q&&(M=rh(M)),Cr(M,Ie.ADD_TAGS,Ut)),Ie.ADD_ATTR&&(he===ue&&(he=rh(he)),Cr(he,Ie.ADD_ATTR,Ut)),Ie.ADD_URI_SAFE_ATTR&&Cr(N,Ie.ADD_URI_SAFE_ATTR,Ut),Ie.FORBID_CONTENTS&&(ce===z&&(ce=rh(ce)),Cr(ce,Ie.FORBID_CONTENTS,Ut)),b&&(M["#text"]=!0),P&&Cr(M,["html","head","body"]),M.table&&(Cr(M,["tbody"]),delete se.tbody),Ie.TRUSTED_TYPES_POLICY){if(typeof Ie.TRUSTED_TYPES_POLICY.createHTML!="function")throw lb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Ie.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw lb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');q=Ie.TRUSTED_TYPES_POLICY,ee=q.createHTML("")}else q===void 0&&(q=NBe(k,i)),q!==null&&typeof ee=="string"&&(ee=q.createHTML(""));Wo&&Wo(Ie),Yt=Ie}},ye=Cr({},[...r7,...n7,...EBe]),xe=Cr({},[...i7,..._Be]),Be=function(Ie){let yt=U(Ie);(!yt||!yt.tagName)&&(yt={namespaceURI:Me,tagName:"template"});const at=b8(Ie.tagName),Jt=b8(yt.tagName);return nt[Ie.namespaceURI]?Ie.namespaceURI===ge?yt.namespaceURI===le?at==="svg":yt.namespaceURI===J?at==="svg"&&(Jt==="annotation-xml"||jt[Jt]):!!ye[at]:Ie.namespaceURI===J?yt.namespaceURI===le?at==="math":yt.namespaceURI===ge?at==="math"&&Ze[Jt]:!!xe[at]:Ie.namespaceURI===le?yt.namespaceURI===ge&&!Ze[Jt]||yt.namespaceURI===J&&!jt[Jt]?!1:!xe[at]&&(xt[at]||!ye[at]):!!(mr==="application/xhtml+xml"&&nt[Ie.namespaceURI]):!1},je=function(Ie){ab(t.removed,{element:Ie});try{U(Ie).removeChild(Ie)}catch{D(Ie)}},Ge=function(Ie,yt){try{ab(t.removed,{attribute:yt.getAttributeNode(Ie),from:yt})}catch{ab(t.removed,{attribute:null,from:yt})}if(yt.removeAttribute(Ie),Ie==="is")if(Ue||Ke)try{je(yt)}catch{}else try{yt.setAttribute(Ie,"")}catch{}},lt=function(Ie){let yt=null,at=null;if(be)Ie="<remove></remove>"+Ie;else{const Tr=Wj(Ie,/^[\r\n\t ]+/);at=Tr&&Tr[0]}mr==="application/xhtml+xml"&&Me===le&&(Ie='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Ie+"</body></html>");const Jt=q?q.createHTML(Ie):Ie;if(Me===le)try{yt=new g().parseFromString(Jt,mr)}catch{}if(!yt||!yt.documentElement){yt=ae.createDocument(Me,"template",null);try{yt.documentElement.innerHTML=De?ee:Jt}catch{}}const ve=yt.body||yt.documentElement;return Ie&&at&&ve.insertBefore(r.createTextNode(at),ve.childNodes[0]||null),Me===le?C.call(yt,P?"html":"body")[0]:P?yt.documentElement:ve},Ye=function(Ie){return re.call(Ie.ownerDocument||Ie,Ie,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Et=function(Ie){return Ie instanceof h&&(typeof Ie.nodeName!="string"||typeof Ie.textContent!="string"||typeof Ie.removeChild!="function"||!(Ie.attributes instanceof u)||typeof Ie.removeAttribute!="function"||typeof Ie.setAttribute!="function"||typeof Ie.namespaceURI!="string"||typeof Ie.insertBefore!="function"||typeof Ie.hasChildNodes!="function")},wt=function(Ie){return typeof a=="function"&&Ie instanceof a};function ft(Ie,yt,at){P3(Ie,Jt=>{Jt.call(t,yt,at,Yt)})}const It=function(Ie){let yt=null;if(ft(v.beforeSanitizeElements,Ie,null),Et(Ie))return je(Ie),!0;const at=Ut(Ie.nodeName);if(ft(v.uponSanitizeElement,Ie,{tagName:at,allowedTags:M}),Ie.hasChildNodes()&&!wt(Ie.firstElementChild)&&Mo(/<[/\w]/g,Ie.innerHTML)&&Mo(/<[/\w]/g,Ie.textContent)||Ie.nodeType===fb.progressingInstruction||Ce&&Ie.nodeType===fb.comment&&Mo(/<[/\w]/g,Ie.data))return je(Ie),!0;if(!M[at]||se[at]){if(!se[at]&&Ct(at)&&(W.tagNameCheck instanceof RegExp&&Mo(W.tagNameCheck,at)||W.tagNameCheck instanceof Function&&W.tagNameCheck(at)))return!1;if(b&&!ce[at]){const Jt=U(Ie)||Ie.parentNode,ve=B(Ie)||Ie.childNodes;if(ve&&Jt){const Tr=ve.length;for(let or=Tr-1;or>=0;--or){const sr=F(ve[or],!0);sr.__removalCount=(Ie.__removalCount||0)+1,Jt.insertBefore(sr,$(Ie))}}}return je(Ie),!0}return Ie instanceof l&&!Be(Ie)||(at==="noscript"||at==="noembed"||at==="noframes")&&Mo(/<\/no(script|embed|frames)/i,Ie.innerHTML)?(je(Ie),!0):(Re&&Ie.nodeType===fb.text&&(yt=Ie.textContent,P3([I,p,_],Jt=>{yt=ub(yt,Jt," ")}),Ie.textContent!==yt&&(ab(t.removed,{element:Ie.cloneNode()}),Ie.textContent=yt)),ft(v.afterSanitizeElements,Ie,null),!1)},Bt=function(Ie,yt,at){if(We&&(yt==="id"||yt==="name")&&(at in r||at in Ft))return!1;if(!(pe&&!Z[yt]&&Mo(w,yt))&&!(ie&&Mo(S,yt))){if(!he[yt]||Z[yt]){if(!(Ct(Ie)&&(W.tagNameCheck instanceof RegExp&&Mo(W.tagNameCheck,Ie)||W.tagNameCheck instanceof Function&&W.tagNameCheck(Ie))&&(W.attributeNameCheck instanceof RegExp&&Mo(W.attributeNameCheck,yt)||W.attributeNameCheck instanceof Function&&W.attributeNameCheck(yt))||yt==="is"&&W.allowCustomizedBuiltInElements&&(W.tagNameCheck instanceof RegExp&&Mo(W.tagNameCheck,at)||W.tagNameCheck instanceof Function&&W.tagNameCheck(at))))return!1}else if(!N[yt]&&!Mo(T,ub(at,x,""))&&!((yt==="src"||yt==="xlink:href"||yt==="href")&&Ie!=="script"&&mBe(at,"data:")===0&&X[Ie])&&!(Ee&&!Mo(A,ub(at,x,"")))&&at)return!1}return!0},Ct=function(Ie){return Ie!=="annotation-xml"&&Wj(Ie,E)},et=function(Ie){ft(v.beforeSanitizeAttributes,Ie,null);const{attributes:yt}=Ie;if(!yt||Et(Ie))return;const at={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:he,forceKeepAttr:void 0};let Jt=yt.length;for(;Jt--;){const ve=yt[Jt],{name:Tr,namespaceURI:or,value:sr}=ve,At=Ut(Tr);let on=Tr==="value"?sr:bBe(sr);if(at.attrName=At,at.attrValue=on,at.keepAttr=!0,at.forceKeepAttr=void 0,ft(v.uponSanitizeAttribute,Ie,at),on=at.attrValue,Qe&&(At==="id"||At==="name")&&(Ge(Tr,Ie),on=d+on),Ce&&Mo(/((--!?|])>)|<\/(style|title)/i,on)){Ge(Tr,Ie);continue}if(at.forceKeepAttr||(Ge(Tr,Ie),!at.keepAttr))continue;if(!Oe&&Mo(/\/>/i,on)){Ge(Tr,Ie);continue}Re&&P3([I,p,_],m=>{on=ub(on,m," ")});const Di=Ut(Ie.nodeName);if(Bt(Di,At,on)){if(q&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!or)switch(k.getAttributeType(Di,At)){case"TrustedHTML":{on=q.createHTML(on);break}case"TrustedScriptURL":{on=q.createScriptURL(on);break}}try{or?Ie.setAttributeNS(or,Tr,on):Ie.setAttribute(Tr,on),Et(Ie)?je(Ie):Vj(t.removed)}catch{}}}ft(v.afterSanitizeAttributes,Ie,null)},_t=function Ie(yt){let at=null;const Jt=Ye(yt);for(ft(v.beforeSanitizeShadowDOM,yt,null);at=Jt.nextNode();)ft(v.uponSanitizeShadowNode,at,null),It(at),et(at),at.content instanceof o&&Ie(at.content);ft(v.afterSanitizeShadowDOM,yt,null)};return t.sanitize=function(Ie){let yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},at=null,Jt=null,ve=null,Tr=null;if(De=!Ie,De&&(Ie="<!-->"),typeof Ie!="string"&&!wt(Ie))if(typeof Ie.toString=="function"){if(Ie=Ie.toString(),typeof Ie!="string")throw lb("dirty is not a string, aborting")}else throw lb("toString is not a function");if(!t.isSupported)return Ie;if(Y||Se(yt),t.removed=[],typeof Ie=="string"&&(H=!1),H){if(Ie.nodeName){const At=Ut(Ie.nodeName);if(!M[At]||se[At])throw lb("root node is forbidden and cannot be sanitized in-place")}}else if(Ie instanceof a)at=lt("<!---->"),Jt=at.ownerDocument.importNode(Ie,!0),Jt.nodeType===fb.element&&Jt.nodeName==="BODY"||Jt.nodeName==="HTML"?at=Jt:at.appendChild(Jt);else{if(!Ue&&!Re&&!P&&Ie.indexOf("<")===-1)return q&&rt?q.createHTML(Ie):Ie;if(at=lt(Ie),!at)return Ue?null:rt?ee:""}at&&be&&je(at.firstChild);const or=Ye(H?Ie:at);for(;ve=or.nextNode();)It(ve),et(ve),ve.content instanceof o&&_t(ve.content);if(H)return Ie;if(Ue){if(Ke)for(Tr=K.call(at.ownerDocument);at.firstChild;)Tr.appendChild(at.firstChild);else Tr=at;return(he.shadowroot||he.shadowrootmode)&&(Tr=G.call(n,Tr,!0)),Tr}let sr=P?at.outerHTML:at.innerHTML;return P&&M["!doctype"]&&at.ownerDocument&&at.ownerDocument.doctype&&at.ownerDocument.doctype.name&&Mo(XG,at.ownerDocument.doctype.name)&&(sr="<!DOCTYPE "+at.ownerDocument.doctype.name+`>
`+sr),Re&&P3([I,p,_],At=>{sr=ub(sr,At," ")}),q&&rt?q.createHTML(sr):sr},t.setConfig=function(){let Ie=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Se(Ie),Y=!0},t.clearConfig=function(){Yt=null,Y=!1},t.isValidAttribute=function(Ie,yt,at){Yt||Se({});const Jt=Ut(Ie),ve=Ut(yt);return Bt(Jt,ve,at)},t.addHook=function(Ie,yt){typeof yt=="function"&&ab(v[Ie],yt)},t.removeHook=function(Ie,yt){if(yt!==void 0){const at=gBe(v[Ie],yt);return at===-1?void 0:yBe(v[Ie],at,1)[0]}return Vj(v[Ie])},t.removeHooks=function(Ie){v[Ie]=[]},t.removeAllHooks=function(){v=Yj()},t}QG();var MBe=[{name:"US Dollar",symbol:"$",symbolNative:"$",decimalDigits:2,rounding:0,code:"USD",namePlural:"US dollars"},{name:"Canadian Dollar",symbol:"CA$",symbolNative:"$",decimalDigits:2,rounding:0,code:"CAD",namePlural:"Canadian dollars"},{name:"Euro",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"EUR",namePlural:"euros"},{name:"United Arab Emirates Dirham",symbol:"AED",symbolNative:"..",decimalDigits:2,rounding:0,code:"AED",namePlural:"UAE dirhams"},{name:"Afghan Afghani",symbol:"Af",symbolNative:"",decimalDigits:0,rounding:0,code:"AFN",namePlural:"Afghan Afghanis"},{name:"Albanian Lek",symbol:"ALL",symbolNative:"Lek",decimalDigits:0,rounding:0,code:"ALL",namePlural:"Albanian lek"},{name:"Armenian Dram",symbol:"AMD",symbolNative:".",decimalDigits:0,rounding:0,code:"AMD",namePlural:"Armenian drams"},{name:"Argentine Peso",symbol:"AR$",symbolNative:"$",decimalDigits:2,rounding:0,code:"ARS",namePlural:"Argentine pesos"},{name:"Australian Dollar",symbol:"AU$",symbolNative:"$",decimalDigits:2,rounding:0,code:"AUD",namePlural:"Australian dollars"},{name:"Azerbaijani Manat",symbol:"man.",symbolNative:".",decimalDigits:2,rounding:0,code:"AZN",namePlural:"Azerbaijani manats"},{name:"Bosnia-Herzegovina Convertible Mark",symbol:"KM",symbolNative:"KM",decimalDigits:2,rounding:0,code:"BAM",namePlural:"Bosnia-Herzegovina convertible marks"},{name:"Bangladeshi Taka",symbol:"Tk",symbolNative:"",decimalDigits:2,rounding:0,code:"BDT",namePlural:"Bangladeshi takas"},{name:"Bulgarian Lev",symbol:"BGN",symbolNative:".",decimalDigits:2,rounding:0,code:"BGN",namePlural:"Bulgarian leva"},{name:"Bahraini Dinar",symbol:"BD",symbolNative:"..",decimalDigits:3,rounding:0,code:"BHD",namePlural:"Bahraini dinars"},{name:"Burundian Franc",symbol:"FBu",symbolNative:"FBu",decimalDigits:0,rounding:0,code:"BIF",namePlural:"Burundian francs"},{name:"Brunei Dollar",symbol:"BN$",symbolNative:"$",decimalDigits:2,rounding:0,code:"BND",namePlural:"Brunei dollars"},{name:"Bolivian Boliviano",symbol:"Bs",symbolNative:"Bs",decimalDigits:2,rounding:0,code:"BOB",namePlural:"Bolivian bolivianos"},{name:"Brazilian Real",symbol:"R$",symbolNative:"R$",decimalDigits:2,rounding:0,code:"BRL",namePlural:"Brazilian reals"},{name:"Botswanan Pula",symbol:"BWP",symbolNative:"P",decimalDigits:2,rounding:0,code:"BWP",namePlural:"Botswanan pulas"},{name:"Belarusian Ruble",symbol:"Br",symbolNative:".",decimalDigits:2,rounding:0,code:"BYN",namePlural:"Belarusian rubles"},{name:"Belize Dollar",symbol:"BZ$",symbolNative:"$",decimalDigits:2,rounding:0,code:"BZD",namePlural:"Belize dollars"},{name:"Congolese Franc",symbol:"CDF",symbolNative:"FrCD",decimalDigits:2,rounding:0,code:"CDF",namePlural:"Congolese francs"},{name:"Swiss Franc",symbol:"CHF",symbolNative:"CHF",decimalDigits:2,rounding:.05,code:"CHF",namePlural:"Swiss francs"},{name:"Chilean Peso",symbol:"CL$",symbolNative:"$",decimalDigits:0,rounding:0,code:"CLP",namePlural:"Chilean pesos"},{name:"Chinese Yuan",symbol:"CN",symbolNative:"CN",decimalDigits:2,rounding:0,code:"CNY",namePlural:"Chinese yuan"},{name:"Colombian Peso",symbol:"CO$",symbolNative:"$",decimalDigits:0,rounding:0,code:"COP",namePlural:"Colombian pesos"},{name:"Costa Rican Coln",symbol:"",symbolNative:"",decimalDigits:0,rounding:0,code:"CRC",namePlural:"Costa Rican colns"},{name:"Cape Verdean Escudo",symbol:"CV$",symbolNative:"CV$",decimalDigits:2,rounding:0,code:"CVE",namePlural:"Cape Verdean escudos"},{name:"Czech Republic Koruna",symbol:"K",symbolNative:"K",decimalDigits:2,rounding:0,code:"CZK",namePlural:"Czech Republic korunas"},{name:"Djiboutian Franc",symbol:"Fdj",symbolNative:"Fdj",decimalDigits:0,rounding:0,code:"DJF",namePlural:"Djiboutian francs"},{name:"Danish Krone",symbol:"Dkr",symbolNative:"kr",decimalDigits:2,rounding:0,code:"DKK",namePlural:"Danish kroner"},{name:"Dominican Peso",symbol:"RD$",symbolNative:"RD$",decimalDigits:2,rounding:0,code:"DOP",namePlural:"Dominican pesos"},{name:"Algerian Dinar",symbol:"DA",symbolNative:"..",decimalDigits:2,rounding:0,code:"DZD",namePlural:"Algerian dinars"},{name:"Estonian Kroon",symbol:"Ekr",symbolNative:"kr",decimalDigits:2,rounding:0,code:"EEK",namePlural:"Estonian kroons"},{name:"Egyptian Pound",symbol:"EGP",symbolNative:"..",decimalDigits:2,rounding:0,code:"EGP",namePlural:"Egyptian pounds"},{name:"Eritrean Nakfa",symbol:"Nfk",symbolNative:"Nfk",decimalDigits:2,rounding:0,code:"ERN",namePlural:"Eritrean nakfas"},{name:"Ethiopian Birr",symbol:"Br",symbolNative:"Br",decimalDigits:2,rounding:0,code:"ETB",namePlural:"Ethiopian birrs"},{name:"British Pound Sterling",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"GBP",namePlural:"British pounds sterling"},{name:"Georgian Lari",symbol:"GEL",symbolNative:"GEL",decimalDigits:2,rounding:0,code:"GEL",namePlural:"Georgian laris"},{name:"Ghanaian Cedi",symbol:"GH",symbolNative:"GH",decimalDigits:2,rounding:0,code:"GHS",namePlural:"Ghanaian cedis"},{name:"Guinean Franc",symbol:"FG",symbolNative:"FG",decimalDigits:0,rounding:0,code:"GNF",namePlural:"Guinean francs"},{name:"Guatemalan Quetzal",symbol:"GTQ",symbolNative:"Q",decimalDigits:2,rounding:0,code:"GTQ",namePlural:"Guatemalan quetzals"},{name:"Hong Kong Dollar",symbol:"HK$",symbolNative:"$",decimalDigits:2,rounding:0,code:"HKD",namePlural:"Hong Kong dollars"},{name:"Honduran Lempira",symbol:"HNL",symbolNative:"L",decimalDigits:2,rounding:0,code:"HNL",namePlural:"Honduran lempiras"},{name:"Croatian Kuna",symbol:"kn",symbolNative:"kn",decimalDigits:2,rounding:0,code:"HRK",namePlural:"Croatian kunas"},{name:"Hungarian Forint",symbol:"Ft",symbolNative:"Ft",decimalDigits:0,rounding:0,code:"HUF",namePlural:"Hungarian forints"},{name:"Indonesian Rupiah",symbol:"Rp",symbolNative:"Rp",decimalDigits:0,rounding:0,code:"IDR",namePlural:"Indonesian rupiahs"},{name:"Israeli New Sheqel",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"ILS",namePlural:"Israeli new sheqels"},{name:"Indian Rupee",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"INR",namePlural:"Indian rupees"},{name:"Iraqi Dinar",symbol:"IQD",symbolNative:"..",decimalDigits:0,rounding:0,code:"IQD",namePlural:"Iraqi dinars"},{name:"Iranian Rial",symbol:"IRR",symbolNative:"",decimalDigits:0,rounding:0,code:"IRR",namePlural:"Iranian rials"},{name:"Icelandic Krna",symbol:"Ikr",symbolNative:"kr",decimalDigits:0,rounding:0,code:"ISK",namePlural:"Icelandic krnur"},{name:"Jamaican Dollar",symbol:"J$",symbolNative:"$",decimalDigits:2,rounding:0,code:"JMD",namePlural:"Jamaican dollars"},{name:"Jordanian Dinar",symbol:"JD",symbolNative:"..",decimalDigits:3,rounding:0,code:"JOD",namePlural:"Jordanian dinars"},{name:"Japanese Yen",symbol:"",symbolNative:"",decimalDigits:0,rounding:0,code:"JPY",namePlural:"Japanese yen"},{name:"Kenyan Shilling",symbol:"Ksh",symbolNative:"Ksh",decimalDigits:2,rounding:0,code:"KES",namePlural:"Kenyan shillings"},{name:"Cambodian Riel",symbol:"KHR",symbolNative:"",decimalDigits:2,rounding:0,code:"KHR",namePlural:"Cambodian riels"},{name:"Comorian Franc",symbol:"CF",symbolNative:"FC",decimalDigits:0,rounding:0,code:"KMF",namePlural:"Comorian francs"},{name:"South Korean Won",symbol:"",symbolNative:"",decimalDigits:0,rounding:0,code:"KRW",namePlural:"South Korean won"},{name:"Kuwaiti Dinar",symbol:"KD",symbolNative:"..",decimalDigits:3,rounding:0,code:"KWD",namePlural:"Kuwaiti dinars"},{name:"Kazakhstani Tenge",symbol:"KZT",symbolNative:".",decimalDigits:2,rounding:0,code:"KZT",namePlural:"Kazakhstani tenges"},{name:"Lebanese Pound",symbol:"LB",symbolNative:"..",decimalDigits:0,rounding:0,code:"LBP",namePlural:"Lebanese pounds"},{name:"Sri Lankan Rupee",symbol:"SLRs",symbolNative:"SL Re",decimalDigits:2,rounding:0,code:"LKR",namePlural:"Sri Lankan rupees"},{name:"Lithuanian Litas",symbol:"Lt",symbolNative:"Lt",decimalDigits:2,rounding:0,code:"LTL",namePlural:"Lithuanian litai"},{name:"Latvian Lats",symbol:"Ls",symbolNative:"Ls",decimalDigits:2,rounding:0,code:"LVL",namePlural:"Latvian lati"},{name:"Libyan Dinar",symbol:"LD",symbolNative:"..",decimalDigits:3,rounding:0,code:"LYD",namePlural:"Libyan dinars"},{name:"Moroccan Dirham",symbol:"MAD",symbolNative:"..",decimalDigits:2,rounding:0,code:"MAD",namePlural:"Moroccan dirhams"},{name:"Moldovan Leu",symbol:"MDL",symbolNative:"MDL",decimalDigits:2,rounding:0,code:"MDL",namePlural:"Moldovan lei"},{name:"Malagasy Ariary",symbol:"MGA",symbolNative:"MGA",decimalDigits:0,rounding:0,code:"MGA",namePlural:"Malagasy Ariaries"},{name:"Macedonian Denar",symbol:"MKD",symbolNative:"MKD",decimalDigits:2,rounding:0,code:"MKD",namePlural:"Macedonian denari"},{name:"Myanma Kyat",symbol:"MMK",symbolNative:"K",decimalDigits:0,rounding:0,code:"MMK",namePlural:"Myanma kyats"},{name:"Macanese Pataca",symbol:"MOP$",symbolNative:"MOP$",decimalDigits:2,rounding:0,code:"MOP",namePlural:"Macanese patacas"},{name:"Mauritian Rupee",symbol:"MURs",symbolNative:"MURs",decimalDigits:0,rounding:0,code:"MUR",namePlural:"Mauritian rupees"},{name:"Mexican Peso",symbol:"MX$",symbolNative:"$",decimalDigits:2,rounding:0,code:"MXN",namePlural:"Mexican pesos"},{name:"Malaysian Ringgit",symbol:"RM",symbolNative:"RM",decimalDigits:2,rounding:0,code:"MYR",namePlural:"Malaysian ringgits"},{name:"Mozambican Metical",symbol:"MTn",symbolNative:"MTn",decimalDigits:2,rounding:0,code:"MZN",namePlural:"Mozambican meticals"},{name:"Namibian Dollar",symbol:"N$",symbolNative:"N$",decimalDigits:2,rounding:0,code:"NAD",namePlural:"Namibian dollars"},{name:"Nigerian Naira",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"NGN",namePlural:"Nigerian nairas"},{name:"Nicaraguan Crdoba",symbol:"C$",symbolNative:"C$",decimalDigits:2,rounding:0,code:"NIO",namePlural:"Nicaraguan crdobas"},{name:"Norwegian Krone",symbol:"Nkr",symbolNative:"kr",decimalDigits:2,rounding:0,code:"NOK",namePlural:"Norwegian kroner"},{name:"Nepalese Rupee",symbol:"NPRs",symbolNative:"",decimalDigits:2,rounding:0,code:"NPR",namePlural:"Nepalese rupees"},{name:"New Zealand Dollar",symbol:"NZ$",symbolNative:"$",decimalDigits:2,rounding:0,code:"NZD",namePlural:"New Zealand dollars"},{name:"Omani Rial",symbol:"OMR",symbolNative:"..",decimalDigits:3,rounding:0,code:"OMR",namePlural:"Omani rials"},{name:"Panamanian Balboa",symbol:"B/.",symbolNative:"B/.",decimalDigits:2,rounding:0,code:"PAB",namePlural:"Panamanian balboas"},{name:"Peruvian Nuevo Sol",symbol:"S/.",symbolNative:"S/.",decimalDigits:2,rounding:0,code:"PEN",namePlural:"Peruvian nuevos soles"},{name:"Philippine Peso",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"PHP",namePlural:"Philippine pesos"},{name:"Pakistani Rupee",symbol:"PKRs",symbolNative:"",decimalDigits:0,rounding:0,code:"PKR",namePlural:"Pakistani rupees"},{name:"Polish Zloty",symbol:"z",symbolNative:"z",decimalDigits:2,rounding:0,code:"PLN",namePlural:"Polish zlotys"},{name:"Paraguayan Guarani",symbol:"",symbolNative:"",decimalDigits:0,rounding:0,code:"PYG",namePlural:"Paraguayan guaranis"},{name:"Qatari Rial",symbol:"QR",symbolNative:"..",decimalDigits:2,rounding:0,code:"QAR",namePlural:"Qatari rials"},{name:"Romanian Leu",symbol:"RON",symbolNative:"RON",decimalDigits:2,rounding:0,code:"RON",namePlural:"Romanian lei"},{name:"Serbian Dinar",symbol:"din.",symbolNative:".",decimalDigits:0,rounding:0,code:"RSD",namePlural:"Serbian dinars"},{name:"Russian Ruble",symbol:"RUB",symbolNative:".",decimalDigits:2,rounding:0,code:"RUB",namePlural:"Russian rubles"},{name:"Rwandan Franc",symbol:"RWF",symbolNative:"FR",decimalDigits:0,rounding:0,code:"RWF",namePlural:"Rwandan francs"},{name:"Saudi Riyal",symbol:"SR",symbolNative:"..",decimalDigits:2,rounding:0,code:"SAR",namePlural:"Saudi riyals"},{name:"Sudanese Pound",symbol:"SDG",symbolNative:"SDG",decimalDigits:2,rounding:0,code:"SDG",namePlural:"Sudanese pounds"},{name:"Swedish Krona",symbol:"Skr",symbolNative:"kr",decimalDigits:2,rounding:0,code:"SEK",namePlural:"Swedish kronor"},{name:"Singapore Dollar",symbol:"S$",symbolNative:"$",decimalDigits:2,rounding:0,code:"SGD",namePlural:"Singapore dollars"},{name:"Somali Shilling",symbol:"Ssh",symbolNative:"Ssh",decimalDigits:0,rounding:0,code:"SOS",namePlural:"Somali shillings"},{name:"Syrian Pound",symbol:"SY",symbolNative:"..",decimalDigits:0,rounding:0,code:"SYP",namePlural:"Syrian pounds"},{name:"Thai Baht",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"THB",namePlural:"Thai baht"},{name:"Tunisian Dinar",symbol:"DT",symbolNative:"..",decimalDigits:3,rounding:0,code:"TND",namePlural:"Tunisian dinars"},{name:"Tongan Paanga",symbol:"T$",symbolNative:"T$",decimalDigits:2,rounding:0,code:"TOP",namePlural:"Tongan paanga"},{name:"Turkish Lira",symbol:"TL",symbolNative:"TL",decimalDigits:2,rounding:0,code:"TRY",namePlural:"Turkish Lira"},{name:"Trinidad and Tobago Dollar",symbol:"TT$",symbolNative:"$",decimalDigits:2,rounding:0,code:"TTD",namePlural:"Trinidad and Tobago dollars"},{name:"New Taiwan Dollar",symbol:"NT$",symbolNative:"NT$",decimalDigits:2,rounding:0,code:"TWD",namePlural:"New Taiwan dollars"},{name:"Tanzanian Shilling",symbol:"TSh",symbolNative:"TSh",decimalDigits:0,rounding:0,code:"TZS",namePlural:"Tanzanian shillings"},{name:"Ukrainian Hryvnia",symbol:"",symbolNative:"",decimalDigits:2,rounding:0,code:"UAH",namePlural:"Ukrainian hryvnias"},{name:"Ugandan Shilling",symbol:"USh",symbolNative:"USh",decimalDigits:0,rounding:0,code:"UGX",namePlural:"Ugandan shillings"},{name:"Uruguayan Peso",symbol:"$U",symbolNative:"$",decimalDigits:2,rounding:0,code:"UYU",namePlural:"Uruguayan pesos"},{name:"Uzbekistan Som",symbol:"UZS",symbolNative:"UZS",decimalDigits:0,rounding:0,code:"UZS",namePlural:"Uzbekistan som"},{name:"Venezuelan Bolvar",symbol:"Bs.F.",symbolNative:"Bs.F.",decimalDigits:2,rounding:0,code:"VEF",namePlural:"Venezuelan bolvars"},{name:"Vietnamese Dong",symbol:"",symbolNative:"",decimalDigits:0,rounding:0,code:"VND",namePlural:"Vietnamese dong"},{name:"CFA Franc BEAC",symbol:"FCFA",symbolNative:"FCFA",decimalDigits:0,rounding:0,code:"XAF",namePlural:"CFA francs BEAC"},{name:"CFA Franc BCEAO",symbol:"CFA",symbolNative:"CFA",decimalDigits:0,rounding:0,code:"XOF",namePlural:"CFA francs BCEAO"},{name:"Yemeni Rial",symbol:"YR",symbolNative:"..",decimalDigits:0,rounding:0,code:"YER",namePlural:"Yemeni rials"},{name:"South African Rand",symbol:"R",symbolNative:"R",decimalDigits:2,rounding:0,code:"ZAR",namePlural:"South African rand"},{name:"Zambian Kwacha",symbol:"ZK",symbolNative:"ZK",decimalDigits:0,rounding:0,code:"ZMK",namePlural:"Zambian kwachas"},{name:"Zimbabwean Dollar",symbol:"ZWL$",symbolNative:"ZWL$",decimalDigits:0,rounding:0,code:"ZWL",namePlural:"Zimbabwean Dollar"}];new Set(MBe.map(e=>e.code));function Jj(e){return typeof e=="number"}function RBe(e){return typeof e>"u"}function CBe(e){return Array.isArray(e)?e.every(t=>Jj(t)):Jj(e)}var jBe=ke.string().array(),UBe=ke.record(ke.string(),ke.unknown());ke.union([jBe,UBe,ke.undefined()]);var c4=ke.object({jsonrpc:ke.literal("2.0"),id:ke.string()});function eU(e,t){return t?c4.extend({method:ke.literal(e),params:t}):c4.extend({method:ke.literal(e)})}var mP=(e=>(e[e.PARSE_ERROR=-32700]="PARSE_ERROR",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",e[e.SERVER_ERROR=-32e3]="SERVER_ERROR",e[e.USER_REJECTION=4001]="USER_REJECTION",e[e.METHOD_NOT_SUPPORTED=4002]="METHOD_NOT_SUPPORTED",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e))(mP||{}),zBe=ke.nativeEnum(mP);function LBe(e){return ke.object({code:ke.union([ke.number(),zBe]),message:ke.string(),data:e.optional()})}function $Be(e){return c4.extend({error:e})}var FBe=LBe(ke.any());function DBe(e){return c4.extend({result:e})}function tU(e,t){return ke.union([DBe(e),$Be(t)])}function Oi(e){const t=e.error??FBe;return"params"in e?{method:e.method,params:e.params,result:e.result,error:t,request:eU(e.method,e.params),response:tU(e.result,t)}:{method:e.method,result:e.result,error:t,request:eU(e.method),response:tU(e.result,t)}}var HBe=ke.object({account:ke.number().optional(),address:ke.string(),amount:ke.coerce.string(),network:ke.string()}),KBe=ke.object({address:ke.string(),amount:ke.coerce.string()}),VBe=ke.object({account:ke.number().optional(),recipients:ke.array(KBe),network:ke.string()}),WBe=ke.union([HBe,VBe]);Oi({method:"sendTransfer",params:WBe,result:ke.object({txid:ke.string()})});var qBe=ke.enum(["legacy","bip322"]),ZBe=ke.enum(["p2tr","p2wpkh"]),GBe=ke.object({type:qBe.optional(),account:ke.number().optional(),message:ke.string(),paymentType:ZBe}).passthrough();Oi({method:"signMessage",params:GBe,result:ke.object({signature:ke.string(),address:ke.string()}).passthrough()});function XBe(e){return RBe(e)?!0:CBe(e)}var QBe=ke.object({account:ke.number().optional(),allowedSighash:ke.array(ke.any()).optional(),broadcast:ke.boolean().optional(),hex:ke.string(),network:ke.string().optional(),signAtIndex:ke.union([ke.number(),ke.array(ke.number())]).optional().refine(XBe)}),YBe=ke.object({hex:ke.string(),txid:ke.string().optional()});Oi({method:"signPsbt",params:QBe,result:YBe});var JBe=ke.enum(["p2pkh","p2sh","p2wpkh-p2sh","p2wpkh","p2tr"]),YG=ke.object({symbol:ke.literal("BTC"),type:JBe,address:ke.string(),publicKey:ke.string(),derivationPath:ke.string()}),eNe=YG.extend({type:ke.literal("p2wpkh")}).passthrough(),tNe=YG.extend({type:ke.literal("p2tr"),tweakedPublicKey:ke.string()}).passthrough(),rNe=ke.discriminatedUnion("type",[eNe,tNe]),nNe=ke.object({symbol:ke.literal("STX"),address:ke.string(),publicKey:ke.string()}).passthrough(),iNe=ke.union([rNe,nNe]),oNe=ke.object({addresses:ke.array(iNe)}).passthrough();Oi({method:"getAddresses",params:ke.object({network:ke.string().optional()}).optional(),result:oNe});var sNe=ke.object({version:ke.string(),supportedMethods:ke.array(ke.string()).optional(),platform:ke.union([ke.literal("mobile"),ke.literal("extension")])});Oi({method:"getInfo",result:sNe});Oi({method:"open",params:ke.object({mode:ke.enum(["fullpage","popup"])}).default({mode:"popup"}),result:ke.object({success:ke.literal(!0)})});var aNe=ke.object({base:ke.string(),quote:ke.string()}),uNe=ke.object({message:ke.string()});Oi({method:"openSwap",params:aNe,result:uNe});var bm=ke.object({txid:ke.string(),transaction:ke.string()}),Aw=ke.object({address:ke.string().optional(),network:ke.union([ke.literal("mainnet"),ke.literal("testnet"),ke.literal("regtest"),ke.literal("devnet"),ke.literal("mocknet"),ke.string()]).optional(),fee:ke.coerce.number().optional(),nonce:ke.coerce.number().optional(),postConditions:ke.array(ke.string()).optional(),postConditionMode:ke.union([ke.literal("allow"),ke.literal("deny")]).optional(),sponsored:ke.boolean().optional()});Oi({method:"stx_callContract",params:ke.intersection(ke.object({contract:ke.string(),functionName:ke.string(),functionArgs:ke.array(ke.string()).optional()}),Aw),result:bm});var lNe=bm;Oi({method:"stx_deployContract",params:ke.intersection(ke.object({name:ke.string(),clarityCode:ke.string(),clarityVersion:ke.coerce.number().optional()}),Aw),result:lNe});var cNe=ke.object({address:ke.string(),publicKey:ke.string(),derivationPath:ke.string()}),fNe=ke.array(cNe);Oi({method:"stx_getAddresses",params:ke.object({network:ke.string().optional()}).optional(),result:fNe});Oi({method:"stx_getNetworks",result:ke.object({active:ke.string(),networks:ke.array(ke.object({id:ke.string(),chainId:ke.string(),transactionVersion:ke.string()}).passthrough())})});var dNe=ke.enum(["utf8","structured"]),JG=ke.object({messageType:dNe.optional().default("utf8"),network:ke.optional(ke.enum(["mainnet","testnet","devnet","mocknet"]))}),hNe=JG.merge(ke.object({messageType:ke.literal("utf8").default("utf8"),message:ke.string()})),pNe=JG.merge(ke.object({messageType:ke.literal("structured"),domain:ke.string(),message:ke.string()}));Oi({method:"stx_signMessage",params:ke.union([hNe,pNe]),result:ke.object({signature:ke.string(),publicKey:ke.string()})});Oi({method:"stx_signStructuredMessage",params:ke.object({domain:ke.string(),message:ke.string()}),result:ke.object({signature:ke.string(),publicKey:ke.string()})});var gNe=ke.object({txHex:ke.string(),stxAddress:ke.string().optional(),attachment:ke.string().optional(),accountIndex:ke.string().optional(),network:ke.string().optional()}),yNe=ke.object({transaction:ke.string(),network:ke.string().optional()});Oi({method:"stx_signTransaction",params:ke.union([gNe,yNe]),result:ke.object({transaction:ke.string(),txHex:ke.string()})});Oi({method:"stx_transferSip9Nft",params:ke.intersection(ke.object({recipient:ke.string(),asset:ke.string(),assetId:ke.string()}).passthrough(),Aw),result:bm});Oi({method:"stx_transferSip10Ft",params:ke.intersection(ke.object({recipient:ke.string(),asset:ke.string(),amount:ke.coerce.number()}).passthrough(),Aw),result:bm});Oi({method:"stx_transferStx",params:ke.intersection(ke.object({recipient:ke.string(),amount:ke.coerce.number().int("Amount must be an integer describing STX"),memo:ke.string().optional()}).passthrough(),Aw),result:bm});var mNe=ke.object({person:ke.object({}).passthrough()}),bNe=bm;Oi({method:"stx_updateProfile",params:mNe,result:bNe});var vNe=ke.object({name:ke.string(),docsUrl:ke.union([ke.string(),ke.array(ke.string())])});Oi({method:"supportedMethods",result:ke.object({documentation:ke.string(),methods:ke.array(vNe)})});var wNe=ke.object({type:ke.literal("int"),value:ke.coerce.string()}),ENe=ke.object({type:ke.literal("uint"),value:ke.coerce.string()}),_Ne=ke.object({type:ke.literal("buffer"),value:ke.string()}),SNe=ke.object({type:ke.literal("true")}),kNe=ke.object({type:ke.literal("false")}),xNe=ke.object({type:ke.literal("address"),value:ke.string()}),ANe=ke.object({type:ke.literal("contract"),value:ke.string().refine(e=>e.includes("."),{message:"Stacks contract principals are denoted with a dot"})}),ONe=ke.object({type:ke.literal("ascii"),value:ke.string()}),PNe=ke.object({type:ke.literal("utf8"),value:ke.string()}),TNe=ke.object({type:ke.literal("ok"),value:ke.lazy(()=>Ow)}).transform(e=>e),INe=ke.object({type:ke.literal("err"),value:ke.lazy(()=>Ow)}),BNe=ke.object({type:ke.literal("none")}),NNe=ke.object({type:ke.literal("some"),value:ke.lazy(()=>Ow)}),MNe=ke.object({type:ke.literal("list"),value:ke.array(ke.lazy(()=>Ow))}),RNe=ke.object({type:ke.literal("tuple"),value:ke.record(ke.lazy(()=>Ow))}),Ow=ke.union([wNe,ENe,_Ne,SNe,kNe,xNe,ANe,TNe,INe,BNe,NNe,MNe,RNe,ONe,PNe]);let rU=e=>e,Rb={},Tf={addEventListener(){},removeEventListener(){}};function CNe(){try{return typeof localStorage<"u"}catch{return!1}}CNe()&&(Rb=localStorage);let jNe={addEventListener(e,t,r){window.addEventListener("storage",t),window.addEventListener("pageshow",r)},removeEventListener(e,t,r){window.removeEventListener("storage",t),window.removeEventListener("pageshow",r)}};typeof window<"u"&&(Tf=jNe);function vp(e,t={},r={}){let n=r.encode||rU,i=r.decode||rU,o=Q$(),s=o.setKey,a=(h,g)=>{typeof g>"u"?(r.listen!==!1&&Tf.perKey&&Tf.removeEventListener(e+h,c,u),delete Rb[e+h]):(r.listen!==!1&&Tf.perKey&&!(h in o.value)&&Tf.addEventListener(e+h,c,u),Rb[e+h]=n(g))};o.setKey=(h,g)=>{a(h,g),s(h,g)};let l=o.set;o.set=function(h){for(let g in h)a(g,h[g]);for(let g in o.value)g in h||a(g,void 0);l(h)};function c(h){h.key?h.key.startsWith(e)&&(h.newValue===null?s(h.key.slice(e.length),void 0):s(h.key.slice(e.length),i(h.newValue))):l({})}function u(){let h={...t};for(let g in Rb)g.startsWith(e)&&(h[g.slice(e.length)]=i(Rb[g]));for(let g in h)o.setKey(g,h[g])}return Sce(o,()=>{if(u(),r.listen!==!1)return Tf.addEventListener(e,c,u),()=>{Tf.removeEventListener(e,c,u);for(let h in o.value)Tf.removeEventListener(e+h,c,u)}}),o}function UNe(e){typeof window<"u"&&typeof localStorage<"u"&&setTimeout(()=>{const t=document.createTextNode(" ");document.body.appendChild(t),t.remove(),Promise.resolve().then(e)},1500)}function eX(){return{$store:Q$({provider:void 0,address:"",paymentAddress:"",publicKey:"",paymentPublicKey:"",connected:!1,isConnecting:!1,isInitializing:!0,accounts:[],balance:void 0,hasProvider:{[Wb]:!1,[fh]:!1,[Nf]:!1,[qb]:!1,[Ag]:!1,[nh]:!1,[Sg]:!1,[Og]:!0,[Gb]:!1,[xg]:!1,[Zb]:!1,[kg]:!1,[Pg]:!1}}),$network:p9(wn),$library:p9(void 0)}}function zNe(e){if(e)return{...e}}const Td=["address","paymentAddress","publicKey","paymentPublicKey","balance"];function wp(e,t,r,n){var i,o,s;t.provider===e&&(r?r==="balance"?n.setKey("balance",((i=t.balance)==null?void 0:i.toString())??""):Td.includes(r)&&n.setKey(r,((o=t[r])==null?void 0:o.toString())??""):n.set({address:t.address,paymentAddress:t.paymentAddress,paymentPublicKey:t.paymentPublicKey,publicKey:t.publicKey,balance:((s=t.balance)==null?void 0:s.toString())??""}))}const LNe=e=>{const t=e.match(/.{1,2}/g);if(!t)throw new Error("Invalid hex string");return Uint8Array.from(t.map(r=>Number.parseInt(r,16)))},$Ne="LEATHER_CONNECTED_WALLET_STATE";class FNe extends ia{constructor(){super(...arguments),vt(this,"observer"),vt(this,"$valueStore",vp($Ne,{address:"",publicKey:"",paymentAddress:"",paymentPublicKey:"",balance:""})),vt(this,"removeSubscriber")}get library(){return window==null?void 0:window.LeatherProvider}get network(){return this.$network.get()}restorePersistedValues(){const t=this.$valueStore.get();for(const r of Td)r==="balance"&&this.$store.setKey(r,BigInt(t[r])),this.$store.setKey(r,t[r]);this.$store.setKey("accounts",[t.address,t.paymentAddress].filter(Boolean))}watchStateChange(t,r,n){wp(Wb,t,n,this.$valueStore)}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;window!=null&&window.LeatherProvider&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Wb]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{t.provider!==Wb?this.removeSubscriber&&(this.$valueStore.set({address:"",publicKey:"",paymentAddress:"",paymentPublicKey:"",balance:""}),this.removeSubscriber(),this.removeSubscriber=void 0):this.removeSubscriber=this.$store.subscribe(this.watchStateChange.bind(this))})}dispose(){var t;(t=this.observer)==null||t.disconnect()}async connect(t){var r;const{address:n,paymentAddress:i}=this.$valueStore.get();if(n)if(n.startsWith("tb1")&&L6(this.network))this.disconnect();else{this.restorePersistedValues(),vy(i,this.network).then(c=>{this.$store.setKey("balance",c)});return}if(!this.library)throw new Error("Leather isn't installed");const o=(await this.library.request("getAddresses",{network:((r=this.config)==null?void 0:r.network)??this.network})).result.addresses;if(!o)throw new Error("No accounts found");const s=o.map(c=>c.address),a=o.find(c=>c.type===kh),l=o.find(c=>c.type===X3);if(!(a!=null&&a.publicKey)||!(l!=null&&l.publicKey))throw new Error("No accounts found");this.$store.setKey("accounts",s),this.$store.setKey("address",a.address),this.$store.setKey("paymentAddress",l.address),this.$store.setKey("publicKey",a.publicKey),this.$store.setKey("paymentPublicKey",l.publicKey)}async getNetwork(){return this.network}async switchNetwork(t){if(t!==this.network){if(!this.library)throw new Error("Leather isn't installed");const r=(await this.library.request("getAddresses",{network:t})).result.addresses;if(!r)throw new Error("Failed to get new network details");const n=r.map(s=>s.address),i=r.find(s=>s.type===kh),o=r.find(s=>s.type===X3);if(!(i!=null&&i.publicKey)||!(o!=null&&o.publicKey))throw new Error("Failed to get new network details");this.$store.setKey("accounts",n),this.$store.setKey("address",i.address),this.$store.setKey("paymentAddress",o.address),this.$store.setKey("publicKey",i.publicKey),this.$store.setKey("paymentPublicKey",o.publicKey),this.$network.set(t)}}async sendBTC(t,r){var n,i;try{const o=await((n=this.library)==null?void 0:n.request("sendTransfer",{recipients:[{address:t,amount:String(r)}],network:this.network}));if(o!=null&&o.result.txid)return o==null?void 0:o.result.txid;throw new Error("Error sending BTC")}catch(o){if((i=o.error)!=null&&i.code){const s=o.error;throw s.code===mP.USER_REJECTION?new Error("User rejected the request"):new Error(`Error sending BTC: ${s.message}`)}throw new Error("Error sending BTC")}}async signMessage(t,r){var n,i;const o=r==null?void 0:r.toSignAddress;if((r==null?void 0:r.protocol)===sw)throw new Error("Leather doesn't support ECDSA message signing");const s=o===this.$store.get().address?kh:X3;if(o!==this.$store.get().address&&o!==this.$store.get().paymentAddress)throw new Error("Invalid address to sign message");const a=await((n=this.library)==null?void 0:n.request("signMessage",{message:t,paymentType:s}));return((i=a==null?void 0:a.result)==null?void 0:i.signature)??""}async signPsbt({psbtHex:t,broadcast:r,finalize:n,inputsToSign:i}){var o;const s={hex:t,broadcast:!1,network:this.network,signAtIndex:i==null?void 0:i.map(u=>u.index)},a=await((o=this.library)==null?void 0:o.request("signPsbt",s));if(!a)throw new Error("No response from Leather");const l=a.result.hex,c=Fr.fromHex(String(l));if(n&&r){const u=c.finalizeAllInputs(),h=await this.pushPsbt(u.toHex());return{signedPsbtHex:c.toHex(),signedPsbtBase64:c.toBase64(),txId:h}}if(n){const u=c.finalizeAllInputs();return{signedPsbtHex:u.toHex(),signedPsbtBase64:u.toBase64(),txId:void 0}}return{signedPsbtHex:c.toHex(),signedPsbtBase64:c.toBase64(),txId:void 0}}async getPublicKey(){return this.$store.get().publicKey}async getBalance(){const t=await vy(this.$store.get().paymentAddress,this.network);return this.$store.setKey("balance",t),t.toString()}async requestAccounts(){var t;const{accounts:r}=this.$store.get();if(r.length>0)return r;const n=await((t=this.library)==null?void 0:t.request("getAddresses",{network:this.network}));if(!n)throw new Error("No accounts found");const i=n.result.addresses.map(o=>o.address);return this.$store.setKey("accounts",i),i}}const DNe="MAGIC_EDEN_CONNECTED_WALLET_STATE";class HNe extends ia{constructor(t,r,n){super(t,r,n),vt(this,"observer"),vt(this,"$valueStore",vp(DNe,{address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""})),vt(this,"removeSubscriber")}get library(){var t;return(t=window==null?void 0:window.magicEden)==null?void 0:t.bitcoin}get network(){return this.$network.get()}restorePersistedValues(){const t=this.$valueStore.get();for(const r of Td){if(r==="balance"){this.$store.setKey(r,BigInt(t[r]));continue}this.$store.setKey(r,t[r])}this.$store.setKey("accounts",[t.address,t.paymentAddress].filter(Boolean))}watchStateChange(t,r,n){wp(Nf,t,n,this.$valueStore)}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t,r;(t=window==null?void 0:window.magicEden)!=null&&t.bitcoin&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Nf]:!0}),(r=this.observer)==null||r.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{t.provider!==Nf?this.removeSubscriber&&(this.$valueStore.set({address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""}),this.removeSubscriber(),this.removeSubscriber=void 0):this.removeSubscriber=this.$store.subscribe(this.watchStateChange.bind(this))})}dispose(){var t;(t=this.observer)==null||t.disconnect()}async connect(){const{address:t,paymentAddress:r}=this.$valueStore.get();if(t)if(t.startsWith("tb1")&&L6(this.network))this.disconnect();else{vy(r,this.network).then(i=>{this.$store.setKey("balance",i)}),this.restorePersistedValues();return}if(mV(this.network))throw new Error(`${this.network} is not supported by ${Nf}`);const n=iS(this.network||wn);await yve({getProvider:async()=>this.library,payload:{purposes:["ordinals","payment"],message:"Connecting with lasereyes",network:{type:n}},onFinish:i=>{const o=y1(i.addresses),s=m1(i.addresses);if(!o||!s)throw new Error("No address found");o&&s&&(this.$store.setKey("address",o.address),this.$store.setKey("paymentAddress",s.address),this.$store.setKey("accounts",i.addresses.map(a=>a.address))),this.$store.setKey("publicKey",String(i.addresses[0].publicKey)),this.$store.setKey("paymentPublicKey",String(i.addresses[1].publicKey))},onCancel:()=>{throw new Error(`User canceled lasereyes to ${Nf} wallet`)},onError:()=>{throw new Error(`Can't lasereyes to ${Nf} wallet`)}})}async sendBTC(t,r){let n;if(await Cwe({getProvider:async()=>this.library,payload:{network:{type:iS(this.network)},recipients:[{address:t,amountSats:BigInt(r)}],senderAddress:this.$store.get().paymentAddress},onFinish:i=>{n=i},onCancel:()=>{throw console.error("Request canceled"),new Error("User canceled the request")}}),!n||!n.txid)throw new Error("Error sending BTC");return n.txid}async signMessage(t,r){const n=(r==null?void 0:r.toSignAddress)||this.$store.get().paymentAddress;let i="";return await Mwe({getProvider:async()=>this.library,payload:{network:{type:ui.Mainnet},address:n,message:t,protocol:(r==null?void 0:r.protocol)===sw?Hh.ECDSA:Hh.BIP322},onFinish:o=>{i=o},onCancel:()=>{throw console.error("Request canceled"),new Error("User canceled the request")}}),i}async signPsbt({psbtBase64:t,broadcast:r,finalize:n,inputsToSign:i}){const o=Fr.fromBase64(String(t),{network:Vr(this.network)}),s=o.data.inputs;let a=[];if(i){const R=i.reduce((F,D)=>({...F,[D.address]:[...F[D.address]||[],D.index]}),{});a=Object.entries(R).map(([F,D])=>({address:F,signingIndexes:D}))}else{const{address:R,paymentAddress:F}=this.$store.get(),D={address:R,signingIndexes:[]},$={address:F,signingIndexes:[]};for(const B of s.keys()){const U=s[B];if(U.witnessUtxo===void 0){$.signingIndexes.push(Number(B));continue}const{script:q}=U.witnessUtxo,ee=Uv(q,Vr(this.network));ee===F?($.signingIndexes.push(Number(B)),U.sighashType&&(console.log("Updating sigHash for paymentsAddressData"),$.sigHash=U.sighashType)):ee===R&&(D.signingIndexes.push(Number(B)),U.sighashType&&(console.log("Updating sigHash for ordinalAddressData"),D.sigHash=U.sighashType))}D.signingIndexes.length>0&&a.push(D),$.signingIndexes.length>0&&a.push($)}let l,c,u,h;const g=iS(this.network),k={getProvider:async()=>this.library,payload:{network:{type:g},message:"Sign Transaction",psbtBase64:o.toBase64(),broadcast:r,inputsToSign:a},onFinish:async R=>{R.psbtBase64&&(h=Fr.fromBase64(String(R.psbtBase64),{network:Vr(this.network)}),c=h.toHex(),u=h.toBase64())},onCancel:()=>{throw console.log("Canceled"),new Error("User canceled the request")},onError:R=>{throw console.log("error",R),R}};if(await jwe(k),!h)throw new Error("signature failed");return n||r?(h.finalizeAllInputs(),{signedPsbtHex:h.toHex(),signedPsbtBase64:u,txId:l}):{signedPsbtHex:c,signedPsbtBase64:u,txId:l}}}const KNe="OKX_CONNECTED_WALLET_STATE";class VNe extends ia{constructor(t,r,n){super(t,r,n),vt(this,"observer"),vt(this,"$valueStore",vp(KNe,{address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""})),vt(this,"removeSubscriber")}get library(){var t,r;let n;return this.network===_o||this.network===hs||this.network===qs||this.network===ps?n=(t=window==null?void 0:window.okxwallet)==null?void 0:t.bitcoinTestnet:(this.network===wn||this.network===Lc)&&(n=(r=window==null?void 0:window.okxwallet)==null?void 0:r.bitcoin),n}get network(){return this.$network.get()}restorePersistedValues(){const t=this.$valueStore.get();for(const r of Td)r==="balance"&&this.$store.setKey(r,BigInt(t[r])),this.$store.setKey(r,t[r]);this.$store.setKey("accounts",[t.address,t.paymentAddress].filter(Boolean))}watchStateChange(t,r,n){wp(qb,t,n,this.$valueStore)}initialize(){var t;typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var r;this.library&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[qb]:!0}),(r=this.observer)==null||r.disconnect())}),(t=this.observer)==null||t.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],r=>{r.provider!==qb?this.removeSubscriber&&(this.$valueStore.set({address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""}),this.removeSubscriber(),this.removeSubscriber=void 0):this.removeSubscriber=this.$store.subscribe(this.watchStateChange.bind(this))})}dispose(){var t;(t=this.observer)==null||t.disconnect()}async connect(t){const{address:r,paymentAddress:n}=this.$valueStore.get();if(r)if(r.startsWith("tb1")&&L6(this.network))this.disconnect();else{this.restorePersistedValues(),vy(n,this.network).then(i=>{this.$store.setKey("balance",i)});return}try{const i=await this.library.connect();if(!i)throw new Error("No accounts found");this.$store.setKey("address",i.address),this.$store.setKey("paymentAddress",i.address),this.$store.setKey("publicKey",i.publicKey),this.$store.setKey("paymentPublicKey",i.publicKey),this.$store.setKey("accounts",[i.address])}catch(i){throw i}}async requestAccounts(){const t=this.library,r=this.network;return r===_o||r===hs||r===ps?await t.connect():await t.requestAccounts()}async getNetwork(){const{address:t}=this.$store.get(),r=this.network;if(t.slice(0,1)==="t")return r===_o?_o:r===hs?hs:r===qs?qs:r===ps?ps:_o;const n=await this.library.getNetwork();return $we(n)}async getPublicKey(){const t=this.library;return await(t==null?void 0:t.getPublicKey())}async getInscriptions(t,r){const n=t||0,i=r||10;return(await this.library.getInscriptions(n,i)).list.map(o=>qg(o,void 0,this.network))}async sendBTC(t,r){const n=await this.library.sendBitcoin(t,r);if(!n)throw new Error("Transaction failed");return n}async signMessage(t,r){const n=this.library,i=(r==null?void 0:r.protocol)===sw?aw:r==null?void 0:r.protocol;return await(n==null?void 0:n.signMessage(t,i))}async signPsbt({psbtHex:t,broadcast:r,finalize:n,inputsToSign:i}){const o=await this.library.signPsbt(t,Wh({autoFinalized:n,toSignInputs:i})),s=Fr.fromHex(o);if(n&&r){const a=await this.pushPsbt(o);return{signedPsbtHex:s.toHex(),signedPsbtBase64:s.toBase64(),txId:a}}return{signedPsbtHex:s.toHex(),signedPsbtBase64:s.toBase64(),txId:void 0}}}class WNe extends ia{constructor(t,r,n){super(t,r,n),vt(this,"observer")}get library(){return window==null?void 0:window.opnet}get network(){return this.$network.get()}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;this.library&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Ag]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{if(t.provider!==Ag){this.removeListeners();return}this.library.getAccounts().then(r=>{this.handleAccountsChanged(r)}),this.addListeners()})}addListeners(){var t,r;(t=this.library)==null||t.on("accountsChanged",this.handleAccountsChanged.bind(this)),(r=this.library)==null||r.on("networkChanged",this.handleNetworkChanged.bind(this))}removeListeners(){var t,r;!this.library||!this.library.removeListener||((t=this.library)==null||t.removeListener("accountsChanged",this.handleAccountsChanged.bind(this)),(r=this.library)==null||r.removeListener("networkChanged",this.handleNetworkChanged.bind(this)))}dispose(){var t;(t=this.observer)==null||t.disconnect(),this.removeListeners()}handleAccountsChanged(t){if(!t.length){this.parent.disconnect();return}this.$store.get().accounts[0]!==t[0]&&(this.$store.setKey("accounts",t),t.length>0?this.parent.connect(Ag):this.parent.disconnect())}handleNetworkChanged(t){const r=d1(t);this.network!==r&&this.switchNetwork(r),this.parent.connect(Ag)}async connect(t){if(!this.library)throw new Error("OP_NET isn't installed");const r=await this.library.requestAccounts();if(!r)throw new Error("No accounts found");const n=await this.library.getPublicKey();if(!n)throw new Error("No public key found");this.$store.setKey("accounts",r),this.$store.setKey("address",r[0]),this.$store.setKey("paymentAddress",r[0]),this.$store.setKey("publicKey",n),this.$store.setKey("paymentPublicKey",n),await this.getNetwork().then(i=>{var o;((o=this.config)==null?void 0:o.network)!==i&&this.switchNetwork(i)})}async getNetwork(){var t;const r=await((t=this.library)==null?void 0:t.getChain());return r?d1(r.enum):this.network}async sendBTC(t,r){var n;const i=await((n=this.library)==null?void 0:n.sendBitcoin(t,r));if(!i)throw new Error("Transaction failed");return i}async signMessage(t,r){var n;const i=(r==null?void 0:r.protocol)===W6?aw:r==null?void 0:r.protocol;return await((n=this.library)==null?void 0:n.signMessage(t,i))}async signPsbt({psbtHex:t,broadcast:r,finalize:n,inputsToSign:i}){var o;const s=await((o=this.library)==null?void 0:o.signPsbt(t,Wh({autoFinalized:n,toSignInputs:i}))),a=Fr.fromHex(s);if(n&&r){const l=await this.pushPsbt(s);return{signedPsbtHex:a.toHex(),signedPsbtBase64:a.toBase64(),txId:l}}return{signedPsbtHex:a.toHex(),signedPsbtBase64:a.toBase64(),txId:void 0}}async getPublicKey(){var t;return await((t=this.library)==null?void 0:t.getPublicKey())}async getBalance(){return(await this.library.getBalance()).total}async getInscriptions(t,r){return await this.library.getInscriptions(t,r)}async requestAccounts(){return await this.library.requestAccounts()}async switchNetwork(t){var r;const n=HK(t);await((r=this.library)==null?void 0:r.switchChain(n)),this.$network.set(t)}}var f0={},tX={},Ru={},rX={};Object.defineProperty(rX,"__esModule",{value:!0});(function(e){var t=He&&He.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),r=He&&He.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.getProviderById=e.getProviders=e.getProviderOrThrow=void 0;async function n(s){var a,l;if(s){const u=await s();if(u)return u}const c=window.OrangeBitcoinProvider||((a=window.OrangecryptoProviders)==null?void 0:a.BitcoinProvider)||((l=window.OrangeWalletProviders)==null?void 0:l.OrangeBitcoinProvider);if(!c)throw new Error("No Orange Bitcoin wallet installed");return c}e.getProviderOrThrow=n;function i(){return window.btc_providers||(window.btc_providers=[]),window.btc_providers}e.getProviders=i;function o(s){var a;if(Array.isArray(window.btc_providers)){const l=window.btc_providers.find(c=>c.id===s);return(a=l==null?void 0:l.id)==null?void 0:a.split(".").reduce((c,u)=>c==null?void 0:c[u],window)}else{console.log("window.btc_providers is not defined or not an array");return}}e.getProviderById=o,r(rX,e)})(Ru);var nX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AddressType=e.AddressPurpose=void 0,function(t){t.Ordinals="ordinals",t.Payment="payment",t.Stacks="stacks"}(e.AddressPurpose||(e.AddressPurpose={})),function(t){t.p2pkh="p2pkh",t.p2sh="p2sh",t.p2wpkh="p2wpkh",t.p2wsh="p2wsh",t.p2tr="p2tr",t.stacks="stacks"}(e.AddressType||(e.AddressType={}))})(nX);(function(e){var t=He&&He.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),r=He&&He.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.getAddress=void 0;const n=ta,i=Ru,o=async s=>{var a,l;const c=await(0,i.getProviderOrThrow)(s.getProvider),{purposes:u}=s.payload;if(!u)throw new Error("Address purposes are required");try{const h=(0,n.createUnsecuredToken)(s.payload),g=await c.connect(h);(a=s.onFinish)==null||a.call(s,g)}catch(h){console.error("[Connect] Error during address request",h),(l=s.onCancel)==null||l.call(s)}};e.getAddress=o,r(nX,e)})(tX);var iX={},oX={},sX={};Object.defineProperty(sX,"__esModule",{value:!0});var aX={};Object.defineProperty(aX,"__esModule",{value:!0});(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(sX,e),r(aX,e)})(oX);(function(e){var t=He&&He.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),r=He&&He.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.request=void 0;const n=Ru,i=async(s,a,l)=>{var c;let u=((c=window.OrangecryptoProviders)==null?void 0:c.BitcoinProvider)||window.OrangeBitcoinProvider;if(l&&(u=await(0,n.getProviderById)(l)),!u)throw new Error("no wallet provider was found");if(!s)throw new Error("A wallet method is required");const h=await u.request(s,a);return o(h)?{status:"success",result:h.result}:{status:"error",error:h.error}};e.request=i;const o=s=>Object.hasOwn(s,"result")&&!!s.result;r(oX,e)})(iX);var uX={},lX={};Object.defineProperty(lX,"__esModule",{value:!0});(function(e){var t=He&&He.__createBinding||(Object.create?function(a,l,c,u){u===void 0&&(u=c);var h=Object.getOwnPropertyDescriptor(l,c);(!h||("get"in h?!l.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return l[c]}}),Object.defineProperty(a,u,h)}:function(a,l,c,u){u===void 0&&(u=c),a[u]=l[c]}),r=He&&He.__exportStar||function(a,l){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(l,c)&&t(l,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.getCapabilities=void 0;const n=ta,i=Ru,o=(a,l)=>{const c=h=>!(!a[h]||l&&!l.has(h)),u={request:c("request"),connect:c("connect"),signMessage:c("signMessage"),signTransaction:c("signTransaction"),sendBtcTransaction:c("sendBtcTransaction"),signMultipleTransactions:c("signMultipleTransactions")};return Object.entries(u).reduce((h,[g,k])=>k?[...h,g]:h,[])},s=async a=>{var l,c,u;const h=await(0,i.getProviderOrThrow)(a.getProvider),g=(0,n.createUnsecuredToken)(a.payload);if(h.getCapabilities)try{const k=await h.getCapabilities(g);(l=a.onFinish)==null||l.call(a,o(h,new Set(k)))}catch(k){console.error("[Connect] Error during capabilities request",k)}try{const k=o(h);(c=a.onFinish)==null||c.call(a,k)}catch(k){console.error("[Connect] Error during capabilities request",k),(u=a.onCancel)==null||u.call(a)}};e.getCapabilities=s,r(lX,e)})(uX);var cX={},wE={},Pw={};Object.defineProperty(Pw,"__esModule",{value:!0});Pw.validateInscriptionPayload=void 0;const qNe=4e5,ZNe=6e4,GNe=e=>{const{contentType:t,content:r,payloadType:n,network:i,appFeeAddress:o,appFee:s}=e;if(!/^[a-z]+\/[a-z0-9\-\.\+]+(?=;.*|$)/.test(t))throw new Error("Invalid content type detected");if(!r||r.length===0)throw new Error("Empty content not allowed");if(!n||n!=="BASE_64"&&n!=="PLAIN_TEXT")throw new Error("Empty invalid payloadType specified");if(r.length>(i.type==="Mainnet"?qNe:ZNe))throw new Error("Content too large");if(((o==null?void 0:o.length)??0)>0&&(s??0)<=0)throw new Error("Invalid combination of app fee address and fee provided")};Pw.validateInscriptionPayload=GNe;Object.defineProperty(wE,"__esModule",{value:!0});wE.createInscription=void 0;const XNe=ta,QNe=Ru,YNe=Pw,JNe=async e=>{var t,r;const{getProvider:n}=e,i=await(0,QNe.getProviderOrThrow)(n);(0,YNe.validateInscriptionPayload)(e.payload);try{const o=(0,XNe.createUnsecuredToken)(e.payload);if(i.createInscription){const s=await i.createInscription(o);(t=e.onFinish)==null||t.call(e,s)}}catch(o){console.error("[Connect] Error during create inscription",o),(r=e.onCancel)==null||r.call(e)}};wE.createInscription=JNe;var EE={};Object.defineProperty(EE,"__esModule",{value:!0});EE.createRepeatInscriptions=void 0;const eMe=Ru,tMe=ta,rMe=Pw,nMe=async e=>{var t,r;const{getProvider:n}=e,i=await(0,eMe.getProviderOrThrow)(n);(0,rMe.validateInscriptionPayload)(e.payload);try{const o=(0,tMe.createUnsecuredToken)(e.payload);if(i.createRepeatInscriptions){const s=await i.createRepeatInscriptions(o);(t=e.onFinish)==null||t.call(e,s)}}catch(o){console.error("[Connect] Error during create repeat inscriptions",o),(r=e.onCancel)==null||r.call(e)}};EE.createRepeatInscriptions=nMe;var fX={};Object.defineProperty(fX,"__esModule",{value:!0});(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(wE,e),r(EE,e),r(fX,e)})(cX);var dX={},hX={};Object.defineProperty(hX,"__esModule",{value:!0});(function(e){var t=He&&He.__createBinding||(Object.create?function(s,a,l,c){c===void 0&&(c=l);var u=Object.getOwnPropertyDescriptor(a,l);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(s,c,u)}:function(s,a,l,c){c===void 0&&(c=l),s[c]=a[l]}),r=He&&He.__exportStar||function(s,a){for(var l in s)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&t(a,s,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.signMessage=void 0;const n=ta,i=Ru,o=async s=>{var a,l;const c=await(0,i.getProviderOrThrow)(s.getProvider),{address:u,message:h}=s.payload;if(!u)throw new Error("An address is required to sign a message");if(!h)throw new Error("A message to be signed is required");try{const g=(0,n.createUnsecuredToken)(s.payload),k=await c.signMessage(g);(a=s.onFinish)==null||a.call(s,k)}catch(g){console.error("[Connect] Error during sign message request",g),(l=s.onCancel)==null||l.call(s)}};e.signMessage=o,r(hX,e)})(dX);var pX={},_E={};Object.defineProperty(_E,"__esModule",{value:!0});_E.sendBtcTransaction=void 0;const iMe=ta,oMe=Ru,sMe=e=>e.map(t=>{const{address:r,amountSats:n}=t;return{address:r,amountSats:n.toString()}}),aMe=async e=>{var t,r;const n=await(0,oMe.getProviderOrThrow)(e.getProvider),{recipients:i,senderAddress:o,network:s,message:a}=e.payload;if(!i||i.length===0)throw new Error("At least one recipient is required");if(i.some(l=>typeof l.address!="string"||typeof l.amountSats!="bigint"))throw new Error("Incorrect recipient format");if(!o)throw new Error("The sender address is required");try{const l=sMe(i),c={network:s,senderAddress:o,message:a,recipients:l},u=(0,iMe.createUnsecuredToken)(c),h=await n.sendBtcTransaction(u);(t=e.onFinish)==null||t.call(e,h)}catch(l){console.error("[Connect] Error during send BTC transaction request",l),(r=e.onCancel)==null||r.call(e)}};_E.sendBtcTransaction=aMe;var SE={};Object.defineProperty(SE,"__esModule",{value:!0});SE.signTransaction=void 0;const uMe=ta,lMe=Ru,cMe=async e=>{var t,r;const n=await(0,lMe.getProviderOrThrow)(e.getProvider),{psbtBase64:i,inputsToSign:o}=e.payload;if(!i)throw new Error("A value for psbtBase64 representing the tx hash is required");if(!o)throw new Error("An array specifying the inputs to be signed by the wallet is required");try{const s=(0,uMe.createUnsecuredToken)(e.payload),a=await n.signTransaction(s);(t=e.onFinish)==null||t.call(e,a)}catch(s){console.error("[Connect] Error during sign transaction request",s),(r=e.onCancel)==null||r.call(e)}};SE.signTransaction=cMe;var kE={};Object.defineProperty(kE,"__esModule",{value:!0});kE.signMultipleTransactions=void 0;const fMe=ta,dMe=Ru,hMe=async e=>{var t,r;const n=await(0,dMe.getProviderOrThrow)(e.getProvider),{psbts:i}=e.payload;if(!i||!i.length)throw new Error("psbts array is required");if(i.length>100)throw new Error("psbts array must contain less than 100 psbts");try{const o=(0,fMe.createUnsecuredToken)(e.payload),s=await n.signMultipleTransactions(o);(t=e.onFinish)==null||t.call(e,s)}catch(o){console.error("[Connect] Error during sign Multiple transactions request",o),(r=e.onCancel)==null||r.call(e)}};kE.signMultipleTransactions=hMe;var gX={};Object.defineProperty(gX,"__esModule",{value:!0});(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(_E,e),r(SE,e),r(kE,e),r(gX,e)})(pX);var yX={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.RpcErrorCode=e.BitcoinNetworkType=void 0,function(t){t.Mainnet="Mainnet",t.Testnet="Testnet"}(e.BitcoinNetworkType||(e.BitcoinNetworkType={})),function(t){t[t.PARSE_ERROR=-32700]="PARSE_ERROR",t[t.INVALID_REQUEST=-32600]="INVALID_REQUEST",t[t.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",t[t.INVALID_PARAMS=-32602]="INVALID_PARAMS",t[t.INTERNAL_ERROR=-32603]="INTERNAL_ERROR",t[t.USER_REJECTION=-32e3]="USER_REJECTION",t[t.METHOD_NOT_SUPPORTED=-32001]="METHOD_NOT_SUPPORTED"}(e.RpcErrorCode||(e.RpcErrorCode={}))})(yX);(function(e){var t=He&&He.__createBinding||(Object.create?function(n,i,o,s){s===void 0&&(s=o);var a=Object.getOwnPropertyDescriptor(i,o);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[o]}}),Object.defineProperty(n,s,a)}:function(n,i,o,s){s===void 0&&(s=o),n[s]=i[o]}),r=He&&He.__exportStar||function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&t(i,n,o)};Object.defineProperty(e,"__esModule",{value:!0}),r(tX,e),r(iX,e),r(uX,e),r(cX,e),r(dX,e),r(Ru,e),r(pX,e),r(yX,e)})(f0);const f4=a$(f0),pMe=f4==null?void 0:f4.signMessage,gMe=f4==null?void 0:f4.sendBtcTransaction,yMe="ORANGE_CONNECTED_WALLET_STATE";class mMe extends ia{constructor(){super(...arguments),vt(this,"observer"),vt(this,"$valueStore",vp(yMe,{address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""})),vt(this,"removeSubscriber")}get library(){var t;return(t=window==null?void 0:window.OrangeWalletProviders)==null?void 0:t.OrangeBitcoinProvider}get network(){return this.$network.get()}restorePersistedValues(){const t=this.$valueStore.get();for(const r of Td)r==="balance"&&this.$store.setKey(r,BigInt(t[r])),this.$store.setKey(r,t[r]);this.$store.setKey("accounts",[t.address,t.paymentAddress].filter(Boolean))}watchStateChange(t,r,n){wp(nh,t,n,this.$valueStore)}initialize(){var t;typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var r;window.OrangeBitcoinProvider&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[nh]:!0}),(r=this.observer)==null||r.disconnect())}),(t=this.observer)==null||t.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],r=>{r.provider!==nh?this.removeSubscriber&&(this.$valueStore.set({address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""}),this.removeSubscriber(),this.removeSubscriber=void 0):this.removeSubscriber=this.$store.subscribe(this.watchStateChange.bind(this))})}dispose(){var t;(t=this.observer)==null||t.disconnect()}async connect(t){const{address:r,paymentAddress:n}=this.$valueStore.get();if(r){this.restorePersistedValues(),vy(n,this.network).then(s=>{this.$store.setKey("balance",s)});return}const i=oS(this.network||wn),o={payload:{purposes:["ordinals","payment"],message:"Address for receiving Ordinals and payments",network:{type:i}},onFinish:s=>{const a=y1(s.addresses),l=m1(s.addresses);if(!a||!(l!=null&&l.address))throw new Error("Could not find addresses");a&&l&&(this.$store.setKey("provider",nh),this.$store.setKey("address",a.address),this.$store.setKey("paymentAddress",l.address)),this.$store.setKey("publicKey",String(a.publicKey)),this.$store.setKey("paymentPublicKey",String(l.publicKey)),this.$store.setKey("accounts",s.addresses.map(c=>c.address))},onCancel:()=>{throw new Error(`User canceled lasereyes to ${nh} wallet`)}};await f0.getAddress(o),this.$store.setKey("connected",!0)}async getNetwork(){const{address:t}=this.$store.get();return t.slice(0,1)==="t"&&[_o,hs,qs,ps].includes(this.network)?this.network:wn}async sendBTC(t,r){let n="";const i={payload:{network:{type:oS(this.network)},recipients:[{address:t,amountSats:BigInt(r)}],senderAddress:this.$store.get().paymentAddress},onFinish:o=>{n=o},onCancel:()=>{throw new Error("User canceled the request")}};return await gMe(i),n}async signMessage(t,r){let n="";const i=(r==null?void 0:r.toSignAddress)||this.$store.get().paymentAddress,o={payload:{network:{type:oS(this.network)},address:i,message:t},onFinish:s=>{n=s},onCancel:()=>{throw new Error("User canceled the request")}};return await pMe(o),n}async signPsbt({psbtBase64:t,broadcast:r,finalize:n,inputsToSign:i}){try{const o=Fr.fromBase64(String(t),{network:Vr(this.network)}).data.inputs;let s={};if(i)s=i.reduce((g,k)=>(g[k.address]=[...g[k.address]||[],k.index],g),{});else{const{address:g,paymentAddress:k}=this.$store.get(),R={[g]:[]},F={[k]:[]};for(const D of o.keys()){const $=o[D];if($.witnessUtxo===void 0){F[k].push(Number(D));continue}const{script:B}=$.witnessUtxo,U=Uv(B,Vr(this.network));U===k?F[k].push(Number(D)):U===g&&R[g].push(Number(D))}R[g].length>0&&(s={...s,...R}),F[k].length>0&&(s={...s,...F})}let a,l,c,u;const h=await f0.request("signPsbt",{psbt:t,broadcast:!!r,signInputs:s});if(h.status==="success")u=Fr.fromBase64(h.result.psbt,{network:Vr(this.network)}),a=h.result.txid;else throw h.error.code===f0.RpcErrorCode.USER_REJECTION?new Error("User canceled the request"):new Error("Error signing psbt");if(!u)throw new Error("Error signing psbt");return n&&!a?(u.finalizeAllInputs(),l=u.toHex(),c=u.toBase64()):(l=u.toHex(),c=u.toBase64()),{signedPsbtHex:l,signedPsbtBase64:c,txId:a}}catch(o){throw console.error(o),o}}}const bMe="OYL_CONNECTED_WALLET_STATE";class vMe extends ia{constructor(t,r,n){super(t,r,n),vt(this,"observer"),vt(this,"$valueStore",vp(bMe,{address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""})),vt(this,"removeSubscriber")}get library(){return window.oyl}get network(){return this.$network.get()}restorePersistedValues(){const t=this.$valueStore.get();for(const r of Td)r==="balance"&&this.$store.setKey(r,BigInt(t[r])),this.$store.setKey(r,t[r]);this.$store.setKey("accounts",[t.address,t.paymentAddress].filter(Boolean))}watchStateChange(t,r,n){wp(Sg,t,n,this.$valueStore)}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;window!=null&&window.oyl&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Sg]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{t.provider!==Sg?this.removeSubscriber&&(this.$valueStore.set({address:"",publicKey:"",paymentAddress:"",paymentPublicKey:"",balance:""}),this.removeSubscriber(),this.removeSubscriber=void 0):this.removeSubscriber=this.$store.subscribe(this.watchStateChange.bind(this))})}dispose(){var t;(t=this.observer)==null||t.disconnect()}async connect(t){if(!this.library)throw new Error("Oyl isn't installed");const{nativeSegwit:r,taproot:n,nestedSegwit:i,legacy:o}=await this.library.getAddresses();if(!r||!n)throw new Error("No accounts found");this.$store.setKey("address",n.address),this.$store.setKey("paymentAddress",r.address),this.$store.setKey("publicKey",n.publicKey),this.$store.setKey("paymentPublicKey",r.publicKey),this.$store.setKey("accounts",[n.address,r.address,i.address,o.address])}async getNetwork(){var t;return(t=this.library)==null?void 0:t.getNetwork()}async sendBTC(t,r){const{psbtHex:n,psbtBase64:i}=await j6(this.$store.get().address,this.$store.get().paymentAddress,t,r,this.$store.get().paymentPublicKey,this.network,7),o=await this.signPsbt({psbtBase64:i,psbtHex:n,tx:n,broadcast:!0,finalize:!0});if(!o||!o.txId)throw new Error("Error sending BTC");return o.txId}async signMessage(t,r){if(!this.library)throw new Error("Oyl isn't installed");const n=(r==null?void 0:r.toSignAddress)||this.$store.get().paymentAddress;return(await this.library.signMessage({address:n,message:t,protocol:r==null?void 0:r.protocol})).signature}async signPsbt({psbtHex:t,broadcast:r,finalize:n}){if(!this.library)throw new Error("Oyl isn't installed");const{psbt:i,txid:o}=await this.library.signPsbt({psbt:t,finalize:n,broadcast:r}),s=Fr.fromHex(i);return{signedPsbtHex:s.toHex(),signedPsbtBase64:s.toBase64(),txId:o}}async signPsbts(t){if(!this.library)throw new Error("Oyl isn't installed");const{psbts:r,finalize:n,broadcast:i}=t,o=r.map(a=>({psbt:a,finalize:n,broadcast:i})),s=await this.library.signPsbts(o);return{signedPsbts:s.map((a,l)=>{const c=Fr.fromHex(a.psbt);return{signedPsbtHex:c.toHex(),signedPsbtBase64:c.toBase64(),txId:s[l].txid}})||[]}}async pushPsbt(t){if(!this.library)throw new Error("Oyl isn't installed");return(await this.library.pushPsbt({psbt:t})).txid}async getPublicKey(){if(!this.library)throw new Error("Oyl isn't installed");const{nativeSegwit:t,taproot:r}=await this.library.getAddresses();if(!t||!r)throw new Error("No accounts found");return this.$store.setKey("publicKey",r.publicKey),this.$store.setKey("paymentPublicKey",t.publicKey),r.publicKey}async getBalance(){if(!this.library)throw new Error("Oyl isn't installed");const{total:t}=await this.library.getBalance();return this.$store.setKey("balance",BigInt(t)),t}async requestAccounts(){return[this.$store.get().address,this.$store.get().paymentAddress]}async switchNetwork(t){if(!this.library)throw new Error("Oyl isn't installed");await this.library.switchNetwork(t),this.$network.set(t),await this.parent.connect(Sg)}}class wMe extends ia{constructor(t,r,n){super(t,r,n),vt(this,"observer")}get library(){var t;return(t=window==null?void 0:window.phantom)==null?void 0:t.bitcoin}get network(){return this.$network.get()}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;this.library&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[xg]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{t.provider===xg&&this.library.requestAccounts().then(r=>{this.handleAccountsChanged(r)})})}dispose(){var t;(t=this.observer)==null||t.disconnect()}handleAccountsChanged(t){if(!t.length){this.parent.disconnect();return}this.$store.get().accounts[0]!==t[0]&&(this.$store.setKey("accounts",t),t.length>0?this.parent.connect(xg):this.parent.disconnect())}async connect(t){if(!this.library)throw new Error("Phantom isn't installed");if(mV(this.network))throw new Error(`${this.network} is not supported by ${xg}`);const r=await this.library.requestAccounts();if(!r)throw new Error("No accounts found");this.$store.setKey("accounts",r);const n=r.find(o=>o.purpose==="ordinals"),i=r.find(o=>o.purpose==="payment");this.$store.setKey("address",n.address),this.$store.setKey("paymentAddress",i.address),this.$store.setKey("publicKey",n.publicKey),this.$store.setKey("paymentPublicKey",i.publicKey),this.$store.setKey("accounts",r.map(o=>o.address))}async getNetwork(){return this.$store.get().address.slice(0,1)==="t"?_o:wn}async sendBTC(t,r){const{psbtHex:n,psbtBase64:i}=await j6(this.$store.get().address,this.$store.get().paymentAddress,t,r,this.$store.get().paymentPublicKey,this.network,7),o=await this.signPsbt({psbtBase64:i,psbtHex:n,tx:n,broadcast:!0,finalize:!0});if(!o||!o.txId)throw new Error("Error sending BTC");return o.txId}async signMessage(t,r){var n;if((r==null?void 0:r.protocol)===sw)throw new Error("ECDSA signing is not supported by Phantom");const i=new TextEncoder().encode(t),o=new Uint8Array(i),s=(r==null?void 0:r.toSignAddress)||this.$store.get().paymentAddress,a=await((n=this.library)==null?void 0:n.signMessage(s,o)),l=String.fromCharCode(...a.signature);return btoa(l)}async signPsbt({psbtHex:t,broadcast:r,finalize:n,inputsToSign:i}){const o=Fr.fromHex(String(t),{network:Vr(this.network)}).data.inputs;let s=[];if(i){const c=i.reduce((u,h)=>({...u,[h.address]:[...u[h.address]||[],h.index]}),{});s=Object.entries(c).map(([u,h])=>({address:u,signingIndexes:h}))}else{const{address:c,paymentAddress:u}=this.$store.get(),h={address:c,signingIndexes:[]},g={address:u,signingIndexes:[]};for(let k of o.keys()){const R=o[k];if(R.witnessUtxo===void 0){g.signingIndexes.push(Number(k));continue}const{script:F}=R.witnessUtxo,D=Uv(F,Vr(this.network));D===u?g.signingIndexes.push(Number(k)):D===c&&h.signingIndexes.push(Number(k))}h.signingIndexes.length>0&&s.push(h),g.signingIndexes.length>0&&s.push(g)}const a=await this.library.signPSBT(LNe(t),{inputsToSign:s}),l=Fr.fromBuffer(a);if(n&&s.forEach(c=>{c.signingIndexes.forEach(u=>{l.finalizeInput(u)})}),r){const c=await this.pushPsbt(l.toHex());return{signedPsbtHex:l.toHex(),signedPsbtBase64:l.toBase64(),txId:c}}return{signedPsbtHex:l.toHex(),signedPsbtBase64:l.toBase64(),txId:void 0}}async requestAccounts(){return await this.library.requestAccounts()}}const db={},s7=console.log;function hb(e){if(db[e])return console.warn(`Multiple requests for "${e}" detected`),db[e];const t=new Promise((r,n)=>{const i=setTimeout(()=>{console.log=s7,db[e]=void 0,n(new Error(`Timeout waiting for "${e}" value`))},6e4);console.log=(...o)=>{o.length>0&&typeof o[0]=="string"&&(clearTimeout(i),console.log=s7,db[e]=void 0,r(o[0]))},s7(`Please log a value for "${e}" using 
 console.log('<your-value>') 
 to continue.`)});return db[e]=t,t}class EMe{async requestAccounts(t){const r=await hb(`address_${t||"mainnet"}`);if(!r)throw new Error("No address provided");const n=await hb(`paymentAddress_${t||"mainnet"}`);if(!n)throw new Error("No payment address provided");return[r,n]}async signMessage(t){return console.log("sign this message in sparrow wallet:"),console.log(""),console.log(`${t}`),console.log(""),await hb("message to sign")}async signPsbt(t){return console.log("sign this in sparrow wallet:"),console.log(""),console.log(`${t}`),console.log(""),await hb("signed psbt hex")}async getPublicKey(t){const r=await hb(`publicKey_${t||"mainnet"}`);if(!r)throw new Error("No public key provided");return r}async getNetwork(){return"mainnet"}async switchNetwork(t){const[r,n]=await this.requestAccounts(),i=await this.getPublicKey();return{address:r,paymentAddress:n,publicKey:i}}}const _Me="SPARROW_CONNECTED_WALLET_STATE";class SMe extends ia{constructor(){super(...arguments),vt(this,"observer"),vt(this,"$valueStore",vp(_Me,{address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""})),vt(this,"removeSubscriber")}get library(){return window==null?void 0:window.SparrowWalletProvider}get network(){return this.$network.get()}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;this.library||(window.SparrowWalletProvider=new EMe),this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Og]:!0}),(t=this.observer)==null||t.disconnect()}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{t.provider!==Og?this.removeSubscriber&&(this.$valueStore.set({address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""}),this.removeSubscriber(),this.removeSubscriber=void 0):this.removeSubscriber=this.$store.subscribe(this.watchStateChange.bind(this))})}watchStateChange(t,r,n){wp(Og,t,n,this.$valueStore)}restorePersistedValues(){const t=this.$valueStore.get();for(const r of Td)r==="balance"&&this.$store.setKey(r,BigInt(t[r])),this.$store.setKey(r,t[r]);this.$store.setKey("accounts",[t.address,t.paymentAddress].filter(Boolean))}dispose(){var t;(t=this.observer)==null||t.disconnect()}async connect(t){try{const{address:r,paymentAddress:n}=this.$valueStore.get();if(r&&n)if(r.startsWith("tb1")&&L6(this.network))this.disconnect();else{this.restorePersistedValues();return}if(!this.library)throw new Error("Sparrow wallet isn't supported");const i=await this.library.requestAccounts();if(!i)throw new Error("No accounts found");await this.getNetwork().then(s=>{this.network!==s&&this.switchNetwork(this.network)});const o=await this.library.getPublicKey();if(!o)throw new Error("No public key found");this.$store.setKey("accounts",i),this.$store.setKey("address",i[0]),this.$store.setKey("paymentAddress",i[1]),this.$store.setKey("publicKey",o),this.$store.setKey("paymentPublicKey",o)}catch(r){throw console.error("Error during sparrow connect:",r),r}}async getNetwork(){return this.network}async switchNetwork(t){if(!this.library)throw new Error("Sparrow wallet isn't supported");try{const r=await this.library.switchNetwork(t);if(!r)throw new Error("No result returned from switchNetwork");const{address:n,paymentAddress:i,publicKey:o}=r;this.$store.setKey("address",n),this.$store.setKey("paymentAddress",i),this.$store.setKey("publicKey",o),this.$store.setKey("paymentPublicKey",o),this.$network.set(t)}catch(r){throw console.error("Error during sparrow switchNetwork:",r),r}}async sendBTC(t,r){const{psbtBase64:n}=await j6(this.$store.get().address,this.$store.get().paymentAddress,t,r,this.$store.get().paymentPublicKey,this.network,7),i=await this.library.signPsbt(n);if(!i)throw new Error("No signed PSBT provided");const o=await this.pushPsbt(i);if(!o)throw new Error("send failed, no txid returned");return o}async signMessage(t){return await this.library.signMessage(t)}async signPsbt({psbtBase64:t,broadcast:r,finalize:n}){const i=Fr.fromBase64(t),o=await this.library.signPsbt(t);if(n&&r){const s=await this.pushPsbt(o);return{signedPsbtHex:o,signedPsbtBase64:i.toBase64(),txId:s}}return{signedPsbtHex:o,signedPsbtBase64:i.toBase64(),txId:void 0}}async getPublicKey(){const t=await this.library.getPublicKey();return this.$store.setKey("publicKey",t),t}async getBalance(){const t=await vy(this.$store.get().paymentAddress,this.network);return this.$store.setKey("balance",t),t.toString()}async requestAccounts(){return await this.connect(Og),this.$store.get().accounts}}const kMe="TOKEO_CONNECTED_WALLET_STATE";class xMe extends ia{constructor(){super(...arguments),vt(this,"observer"),vt(this,"$valueStore",vp(kMe,{address:"",paymentAddress:"",paymentPublicKey:"",publicKey:"",balance:""})),vt(this,"removeSubscriber")}get library(){var t;return(t=window.tokeo)==null?void 0:t.bitcoin}get network(){return this.$network.get()}restorePersistedValues(){const t=this.$valueStore.get();for(const r of Td)r==="balance"&&this.$store.setKey(r,BigInt(t[r])),this.$store.setKey(r,t[r]);this.$store.setKey("accounts",[t.address,t.paymentAddress].filter(Boolean))}watchStateChange(t,r,n){wp(Gb,t,n,this.$valueStore)}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;(this.library||this.isMobile())&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Gb]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{t.provider!==Gb?this.removeSubscriber&&(this.$valueStore.set({address:"",publicKey:"",paymentAddress:"",paymentPublicKey:"",balance:""}),this.removeSubscriber(),this.removeSubscriber=void 0):this.removeSubscriber=this.$store.subscribe(this.watchStateChange.bind(this))})}dispose(){var t;(t=this.observer)==null||t.disconnect()}async connect(t){try{if(!this.library)if(this.isMobile()){const o=`tokeo://open-url?url=${encodeURIComponent(window.location.href)}`,s=window.open(o);if(!s)throw new Error("Tokeo wallet not found");return s.focus(),!1}else throw new Error("Tokeo wallet not found");await this.library.requestAccounts();const r=(await this.library.getAccounts()).accounts;if(!r||r.length===0)throw new Error("No accounts found");const n=r.find(o=>o.type==="p2tr"),i=r.find(o=>o.type==="p2wpkh");if(!n)throw new Error("No p2tr address found");this.$store.setKey("address",n.address),this.$store.setKey("paymentAddress",(i==null?void 0:i.address)??n.address),this.$store.setKey("publicKey",n.publicKey),this.$store.setKey("paymentPublicKey",(i==null?void 0:i.publicKey)??n.publicKey),this.$store.setKey("accounts",r.map(o=>o.address))}catch(r){throw console.error(r),r}}async getNetwork(){return wn}async sendBTC(t,r){const{psbtHex:n,psbtBase64:i}=await j6(this.$store.get().address,this.$store.get().paymentAddress,t,r,this.$store.get().paymentPublicKey,this.network,7),o=await this.signPsbt({psbtBase64:i,psbtHex:n,tx:n,broadcast:!0,finalize:!0});if(!o||!o.txId)throw new Error("Error sending BTC");return o.txId}async signMessage(t,r){return await this.library.signMessage(t,r==null?void 0:r.protocol)}async signPsbt({psbtBase64:t,broadcast:r,finalize:n,inputsToSign:i}){const o={autoFinalize:n,inputs:i==null?void 0:i.map(c=>({index:c.index,address:c.address}))},s=await this.library.signPsbt(t,Wh(o)),a=Fr.fromBase64(s);let l;return r&&(l=await this.pushPsbt(s)),{signedPsbtHex:a.toHex(),signedPsbtBase64:a.toBase64(),txId:l}}async getPublicKey(){return this.$store.get().publicKey}async requestAccounts(){return await this.library.requestAccounts(),(await this.library.getAccounts()).accounts.map(t=>t.address)}}class AMe extends ia{constructor(t,r,n){super(t,r,n),vt(this,"observer")}get library(){return window.unisat}get network(){return this.$network.get()}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;this.library&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[fh]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0})),ea(this.$store,["provider"],t=>{var r;if(t.provider!==fh){this==null||this.removeListeners();return}(r=this.library)==null||r.getAccounts().then(n=>{this.handleAccountsChanged(n)}),this.addListeners()})}addListeners(){var t,r;(t=this.library)==null||t.on("accountsChanged",this.handleAccountsChanged.bind(this)),(r=this.library)==null||r.on("networkChanged",this.handleNetworkChanged.bind(this))}removeListeners(){var t,r;!this.library||!this.library.removeListener||((t=this.library)==null||t.removeListener("accountsChanged",this.handleAccountsChanged.bind(this)),(r=this.library)==null||r.removeListener("networkChanged",this.handleNetworkChanged.bind(this)))}dispose(){var t;(t=this.observer)==null||t.disconnect(),this.removeListeners()}handleAccountsChanged(t){if(!t.length){this.parent.disconnect();return}this.$store.get().accounts[0]!==t[0]&&(this.$store.setKey("accounts",t),t.length>0?this.parent.connect(fh):this.parent.disconnect())}handleNetworkChanged(t){const r=d1(t);this.network!==r&&this.switchNetwork(r),this.parent.connect(fh)}async connect(t){if(!this.library)throw new Error("Unisat isn't installed");const r=await this.library.requestAccounts();if(!r)throw new Error("No accounts found");const n=await this.library.getPublicKey();if(!n)throw new Error("No public key found");this.$store.setKey("accounts",r),this.$store.setKey("address",r[0]),this.$store.setKey("paymentAddress",r[0]),this.$store.setKey("publicKey",n),this.$store.setKey("paymentPublicKey",n)}async getNetwork(){var t;const r=await((t=this.library)==null?void 0:t.getChain());return r?d1(r.enum):this.network}async sendBTC(t,r){var n;const i=await((n=this.library)==null?void 0:n.sendBitcoin(t,r));if(!i)throw new Error("Transaction failed");return i}async signMessage(t,r){var n;const i=(r==null?void 0:r.protocol)===W6?aw:r==null?void 0:r.protocol;return await((n=this.library)==null?void 0:n.signMessage(t,i))}async signPsbt({psbtHex:t,broadcast:r,finalize:n,inputsToSign:i}){var o;const s=await((o=this.library)==null?void 0:o.signPsbt(t,Wh({autoFinalized:n,toSignInputs:i}))),a=Fr.fromHex(s);if(n&&r){const l=await this.pushPsbt(s);return{signedPsbtHex:a.toHex(),signedPsbtBase64:a.toBase64(),txId:l}}return{signedPsbtHex:a.toHex(),signedPsbtBase64:a.toBase64(),txId:void 0}}async signPsbts(t){const{psbts:r,finalize:n,broadcast:i,inputsToSign:o}=t,s=await this.library.signPsbts(r,Wh({autoFinalized:n,toSignInputs:o}));return{signedPsbts:await Promise.all(s.map(async a=>{const l=Fr.fromHex(a);let c;return n&&i&&(c=await this.pushPsbt(a)),{signedPsbtHex:l.toHex(),signedPsbtBase64:l.toBase64(),txId:c}}))}}async getPublicKey(){var t;return await((t=this.library)==null?void 0:t.getPublicKey())}async getBalance(){return(await this.library.getBalance()).total}async getInscriptions(t,r){const n=t||0,i=r||10;return(await this.library.getInscriptions(n,i)).list.map(o=>qg(o,void 0,this.network))}async requestAccounts(){return await this.library.requestAccounts()}async switchNetwork(t){var r;const n=HK(t);await((r=this.library)==null?void 0:r.switchChain(n)),this.$network.set(t)}}class OMe extends ia{constructor(t,r,n){super(t,r,n),vt(this,"observer")}get library(){return window.wizz}get network(){return this.$network.get()}handleNetworkChanged(t){this.parent.connect(Zb)}handleAccountsChanged(t){if(!t.length){this.parent.disconnect();return}this.$store.get().accounts[0]!==t[0]&&this.$store.setKey("accounts",t)}initialize(){ea(this.$store,["provider"],t=>{t.provider===Zb?this.addLibraryListeners():this.removeLibraryListeners()}),typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;this.library&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[Zb]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0}))}removeLibraryListeners(){var t,r;!this.library||!this.library.removeListener||((t=this.library)==null||t.removeListener("networkChanged",this.handleNetworkChanged.bind(this)),(r=this.library)==null||r.removeListener("accountsChanged",this.handleAccountsChanged.bind(this)))}addLibraryListeners(){var t,r;(t=this.library)==null||t.on("networkChanged",this.handleNetworkChanged.bind(this)),(r=this.library)==null||r.on("accountsChanged",this.handleAccountsChanged.bind(this))}dispose(){var t;(t=this.observer)==null||t.disconnect(),this.removeLibraryListeners()}async connect(){if(!this.library)throw WTe;const t=await this.library.requestAccounts();if(!t)throw new Error("No accounts found");const r=await this.library.getPublicKey();if(!r)throw new Error("No public key found");this.$store.setKey("accounts",t),this.$store.setKey("address",t[0]),this.$store.setKey("paymentAddress",t[0]),this.$store.setKey("publicKey",r),this.$store.setKey("paymentPublicKey",r),await this.getNetwork().then(n=>{var i;n&&((i=this.config)==null?void 0:i.network)!==n&&this.parent.switchNetwork(n)})}async requestAccounts(){return await this.library.requestAccounts()}async getNetwork(){var t;const r=await((t=this.library)==null?void 0:t.getNetwork());return r?PR(r):void 0}async switchNetwork(t){var r;if(t===ps||t===Lc)return await this.library.switchNetwork(Tg.MAINNET);const n=PR(t);await((r=this.library)==null?void 0:r.switchNetwork(n)),this.$network.set(t),await this.parent.getBalance()}async getPublicKey(){var t;return await((t=this.library)==null?void 0:t.getPublicKey())}async getBalance(){return(await this.library.getBalance()).total}async getInscriptions(t,r){const n=t||0,i=r||10;return(await this.library.getInscriptions(n,i)).list.map(o=>qg(o,void 0,this.network))}async sendBTC(t,r){var n;const i=await((n=this.library)==null?void 0:n.sendBitcoin(t,r));if(i)return i;throw new Error("Error sending BTC")}async signMessage(t,r){var n;const i=(r==null?void 0:r.protocol)===W6?aw:r==null?void 0:r.protocol;return await((n=this.library)==null?void 0:n.signMessage(t,i))}async signPsbt({psbtHex:t,broadcast:r,finalize:n,inputsToSign:i}){var o;const s=await((o=this.library)==null?void 0:o.signPsbt(t,Wh({autoFinalized:n,broadcast:!1,toSignInputs:i}))),a=Fr.fromHex(s);let l;return n&&r&&(l=await this.pushPsbt(s)),{signedPsbtHex:a.toHex(),signedPsbtBase64:a.toBase64(),txId:l}}}const PMe=e=>e===wn?ui.Mainnet:e===_o?ui.Testnet:e===qs?ui.Signet:e===ps?ui.Testnet:e===Lc?ui.Mainnet:e===hs?ui.Testnet4:ui.Mainnet;class TMe extends ia{constructor(){super(...arguments),vt(this,"observer")}get network(){return this.$network.get()}get library(){var t;return(t=window==null?void 0:window.XverseProviders)==null?void 0:t.BitcoinProvider}initialize(){typeof window<"u"&&typeof document<"u"&&(this.observer=new window.MutationObserver(()=>{var t;(this.library||this.isMobile())&&(this.$store.setKey("hasProvider",{...this.$store.get().hasProvider,[kg]:!0}),(t=this.observer)==null||t.disconnect())}),this.observer.observe(document,{childList:!0,subtree:!0}))}dispose(){var t;(t=this.observer)==null||t.disconnect(),this.removeListeners()}addListeners(){OR("accountChange",()=>{}),OR("networkChange",t=>{t.type==="networkChange"&&this.handleNetworkChanged(t.bitcoin.name)})}removeListeners(){console.log("removeListeners")}handleNetworkChanged(t){const r=sS(t);this.$network.set(r),this.parent.connect(kg)}async connect(t){if(this.isMobile()&&!this.library){const s=`xverse://browser?url=${encodeURIComponent(window.location.href)}`;window.location.href=s;return}let r,n,i,o=[];try{const s=await Hd("wallet_getAccount",null);if(s.status==="success")r=y1(s.result.addresses),n=m1(s.result.addresses),i=s.result.network.bitcoin.name,o=s.result.addresses.map(a=>a.address);else throw new Error(`Error getting account: ${s.error.message}`)}catch(s){if(s instanceof Error&&(s.message.toLowerCase().includes("failed to get")||s.message.toLowerCase().includes("access denied"))){const a=await Hd("wallet_connect",{addresses:[Dh.Ordinals,Dh.Payment],message:"Connecting with lasereyes"});if(a.status==="success")r=y1(a.result.addresses),n=m1(a.result.addresses),i=a.result.network.bitcoin.name,o=a.result.addresses.map(l=>l.address);else throw a.error.code===Ib.USER_REJECTION?new Error(`User canceled lasereyes to ${kg} wallet`):new Error(a.error.message)}else throw console.error(s),new Error(`Error connecting to ${kg} wallet`)}if(!r||!n)throw new Error("Could not find the addresses");this.$store.setKey("address",r.address),this.$store.setKey("paymentAddress",n.address),this.$store.setKey("publicKey",String(r.publicKey)),this.$store.setKey("paymentPublicKey",String(n.publicKey)),this.$store.setKey("accounts",o),i&&this.$network.set(sS(i))}async getNetwork(){try{const t=await Hd("wallet_getNetwork",null);if(t.status==="success")return sS(t.result.bitcoin.name);throw new Error("Error getting network")}catch(t){return console.error(t),this.network}}async switchNetwork(t){if((await Hd("wallet_changeNetwork",{name:PMe(t)})).status==="success")this.handleNetworkChanged(t);else throw new Error("Error switching network")}async sendBTC(t,r){const n=await Hd("sendTransfer",{recipients:[{address:t,amount:r}]});if(n.status==="success")return n.result.txid;throw n.error.code===Ib.USER_REJECTION?new Error("User rejected the request"):new Error(`Error sending BTC: ${n.error.message}`)}async signMessage(t,{toSignAddress:r,protocol:n}){const i=r||this.$store.get().paymentAddress,o=await Hd("signMessage",{address:i,message:t,protocol:n===sw?Hh.ECDSA:Hh.BIP322});if(o.status==="success")return o.result.signature;throw o.error.code===Ib.USER_REJECTION?new Error("User rejected the request"):new Error(`Error signing message: ${o.error.message}`)}async signPsbt({psbtBase64:t,broadcast:r,finalize:n,inputsToSign:i}){try{const o=Fr.fromBase64(String(t),{network:Vr(this.network)}).data.inputs;let s={};if(i)s=i.reduce((g,k)=>(g[k.address]=[...g[k.address]||[],k.index],g),{});else{const{address:g,paymentAddress:k}=this.$store.get(),R={[g]:[]},F={[k]:[]};for(const D of o.keys()){const $=o[D];if($.witnessUtxo===void 0){F[k].push(Number(D));continue}const{script:B}=$.witnessUtxo,U=Uv(B,Vr(this.network));U===k?F[k].push(Number(D)):U===g&&R[g].push(Number(D))}R[g].length>0&&(s={...s,...R}),F[k].length>0&&(s={...s,...F})}let a,l,c,u;const h=await Hd("signPsbt",{psbt:t,broadcast:!!r,signInputs:s});if(h.status==="success")u=Fr.fromBase64(h.result.psbt,{network:Vr(this.network)}),a=h.result.txid;else throw h.error.code===Ib.USER_REJECTION?new Error("User canceled the request"):new Error("Error signing psbt");if(!u)throw new Error("Error signing psbt");return n&&!a?(u.finalizeAllInputs(),l=u.toHex(),c=u.toBase64()):(l=u.toHex(),c=u.toBase64()),{signedPsbtHex:l,signedPsbtBase64:c,txId:a}}catch(o){throw console.error(o),o}}}class IMe{constructor(t,r){vt(this,"$store"),vt(this,"$network"),vt(this,"$providerMap"),vt(this,"disposed",!1),vt(this,"dataSourceManager"),vt(this,"modules"),this.config=r,this.$store=t.$store,this.$network=t.$network,kce(this.$store),this.$providerMap={[Wb]:new FNe(t,this,r),[Nf]:new HNe(t,this,r),[qb]:new VNe(t,this,r),[Ag]:new WNe(t,this,r),[nh]:new mMe(t,this,r),[Sg]:new vMe(t,this,r),[xg]:new wMe(t,this,r),[Og]:new SMe(t,this,r),[Gb]:new xMe(t,this,r),[fh]:new AMe(t,this,r),[kg]:new TMe(t,this,r),[Zb]:new OMe(t,this,r),[Pg]:new qTe(t,this,r)},this.modules={alkanes:new VW(this)};try{this.dataSourceManager=Th.getInstance()}catch{Th.init(r),this.dataSourceManager=Th.getInstance()}}dispose(){this.disposed=!0;for(const t of Object.values(this.$providerMap))t.dispose()}initialize(){this.$network.listen(this.watchNetworkChange.bind(this)),ea(this.$store,["isInitializing"],(t,r)=>{if(!this.disposed&&t.isInitializing!==r.isInitializing)return this.handleIsInitializingChanged(t.isInitializing)}),UNe(()=>{this.$store.setKey("isInitializing",!1),this.checkNetwork()})}async checkNetwork(){var t;const{provider:r,isInitializing:n}=this.$store.get();if(!r||n)return;const i=await this.getNetwork();i&&(this.dataSourceManager.updateNetwork(i),this.$network.set(i));try{(t=this.config)!=null&&t.network&&this.config.network!==i&&await this.switchNetwork(this.config.network)}catch(o){console.error("Couldn't enforce config network",o),this.disconnect()}}handleIsInitializingChanged(t){if(typeof window<"u"&&typeof localStorage<"u"&&!t){const r=localStorage==null?void 0:localStorage.getItem(w_);r&&this.connect(r)}}async connect(t){if(this.disposed){console.warn("Client disposed, cannot connect");return}this.$store.setKey("isConnecting",!0);try{if(localStorage==null||localStorage.setItem(w_,t),!this.$providerMap[t])throw new Error("Unsupported wallet provider");const r=this.$providerMap[t];if(await(r==null?void 0:r.connect(t))===!1){this.$store.setKey("isConnecting",!1),this.disconnect();return}this.$store.setKey("provider",t),await this.checkNetwork(),this.$store.setKey("connected",!0)}catch(r){throw console.error("Error during connect:",r),this.$store.setKey("isConnecting",!1),this.disconnect(),r}finally{this.$store.setKey("isConnecting",!1)}}async requestAccounts(){var t;const r=this.$store.get().provider;if(!r)throw new Error("No wallet provider connected");try{return await((t=this.$providerMap[r])==null?void 0:t.requestAccounts())}catch(n){throw n instanceof Error&&n.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support this method"):n}}disconnect(){this.$store.set({provider:void 0,address:"",paymentAddress:"",publicKey:"",paymentPublicKey:"",balance:void 0,accounts:[],connected:!1,isConnecting:!1,isInitializing:!1,hasProvider:this.$store.get().hasProvider}),localStorage==null||localStorage.removeItem(w_)}async switchNetwork(t){var r;try{const n=this.$store.get().provider;n&&(console.log("switchNetwork",t),await((r=this.$providerMap[n])==null?void 0:r.switchNetwork(t)),this.dataSourceManager.updateNetwork(t))}catch(n){throw n instanceof Error&&n.message.toLowerCase().includes("not implemented")?(this.disconnect(),new Error("The connected wallet doesn't support programmatic network changes..")):n}}watchNetworkChange(){this.$store.setKey("balance",void 0),this.getBalance()}async getNetwork(){var t;const r=this.$store.get().provider;return r&&this.$providerMap[r]?await((t=this.$providerMap[r])==null?void 0:t.getNetwork()):this.$network.get()}async sendBTC(t,r){var n;if(r<=0)throw new Error("Amount must be greater than 0");if(!Number.isInteger(r))throw new Error("Amount must be an integer");const i=this.$store.get().provider;if(!i)throw new Error("No wallet connected");if(i&&this.$providerMap[i])try{return await((n=this.$providerMap[i])==null?void 0:n.sendBTC(t,r))}catch(o){throw o instanceof Error&&o.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support sending BTC..."):o}throw new Error("Something went wrong")}async signMessage(t,r){let n={};typeof r=="string"?n={toSignAddress:r}:r&&(n=r);const i=this.$store.get().provider;if(!i)throw new Error("No wallet connected");if(i&&this.$providerMap[i])try{return await this.$providerMap[i].signMessage(t,n)}catch(o){throw o instanceof Error&&o.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support message signing..."):o}throw new Error("Something went wrong")}async signPsbt(t,r,n){var i;let o,s,a,l;typeof t=="string"?(o=t,s=r??!1,a=n??!1):(o=t.tx,s=t.finalize??!1,a=t.broadcast??!1,l=t.inputsToSign);let c,u;if(!o)throw new Error("No PSBT provided");if(P5e(o))u=Fr.fromHex(o).toBase64(),c=o;else if(O5e(o))u=o,c=Fr.fromBase64(o).toHex();else throw new Error("Invalid PSBT format");const h=this.$store.get().provider;if(h&&this.$providerMap[h])try{return await((i=this.$providerMap[h])==null?void 0:i.signPsbt({psbtHex:c,psbtBase64:u,tx:o,broadcast:a,finalize:s,inputsToSign:l}))}catch(g){throw g instanceof Error&&g.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support PSBT signing..."):g}else throw new Error("No wallet provider connected")}async signPsbts(t){var r;const{psbts:n,finalize:i=!1,broadcast:o=!1,inputsToSign:s}=t;if(!n||n.length===0)throw new Error("No PSBTs provided");const a=this.$store.get().provider;if(a&&this.$providerMap[a])try{return await((r=this.$providerMap[a])==null?void 0:r.signPsbts({psbts:n,finalize:i,broadcast:o,inputsToSign:s}))}catch(l){throw l instanceof Error&&l.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support PSBT signing..."):l}else throw new Error("No wallet provider connected")}async pushPsbt(t){var r;const n=this.$store.get().provider;if(n&&n&&this.$providerMap[n])try{return await((r=this.$providerMap[n])==null?void 0:r.pushPsbt(t))}catch(i){throw i instanceof Error&&i.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support PSBT signing..."):i}}async inscribe(t,r,n){var i;const o=this.$store.get().provider;if(o&&o&&this.$providerMap[o])try{return await((i=this.$providerMap[o])==null?void 0:i.inscribe(t,r,this.dataSourceManager,n))}catch(s){throw s instanceof Error&&s.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support inscribing..."):s}}async send(t,r){var n;const i=this.$store.get().provider;if(i&&i&&this.$providerMap[i])try{return await((n=this.$providerMap[i])==null?void 0:n.send(t,r))}catch(o){throw o instanceof Error&&o.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support sending stuff..."):o}}async getPublicKey(){var t;const r=this.$store.get().provider;if(r&&r&&this.$providerMap[r])try{return await((t=this.$providerMap[r])==null?void 0:t.getPublicKey())}catch(n){throw n instanceof Error&&n.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support getPublicKey"):n}}async getBalance(){const t=this.$store.get().provider;if(t&&t&&this.$providerMap[t])try{const r=await this.$providerMap[t].getBalance();return this.$store.setKey("balance",BigInt(r)),r}catch(r){throw r instanceof Error&&r.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support getBalance"):r}}async getMetaBalances(t){const r=this.$store.get().provider;if(r&&r&&this.$providerMap[r])try{if(!t)throw new Error("No protocol provided");return await this.$providerMap[r].getMetaBalances(t)}catch(n){throw n instanceof Error&&n.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support getBalance"):n}}async getInscriptions(t,r){var n;const i=this.$store.get().provider;if(i&&i&&this.$providerMap[i])try{return await((n=this.$providerMap[i])==null?void 0:n.getInscriptions(t,r))}catch(o){throw o instanceof Error&&o.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support this method"):o}}async sendInscriptions(t,r){var n;const i=this.$store.get().provider;if(i&&i&&this.$providerMap[i])try{return await((n=this.$providerMap[i])==null?void 0:n.sendInscriptions(t,r))}catch(o){throw o instanceof Error&&o.message.toLowerCase().includes("not implemented")?new Error("The connected wallet doesn't support this method"):o}}}const{$store:BMe,$network:NMe}=eX(),Bi={connect:async()=>{},disconnect:()=>{},getBalance:async()=>"",getMetaBalances:async()=>[],getInscriptions:async()=>[],getNetwork:async()=>"",getPublicKey:async()=>"",pushPsbt:async()=>"",signMessage:async()=>"",requestAccounts:async()=>[],sendBTC:async()=>"",signPsbt:async()=>({signedPsbtBase64:"",signedPsbtHex:""}),signPsbts:async()=>({signedPsbts:[]}),switchNetwork:async()=>{},inscribe:async()=>"",send:async()=>"",sendInscriptions:async()=>"",getUtxos:async()=>[]},mX=$r.createContext({$store:BMe,$network:NMe,client:null,methods:Bi});function nU(e,t){return Object.keys(e).every(function(r){return Object.prototype.hasOwnProperty.call(t,r)&&(t[r]===e[r]||typeof e[r]=="number"&&typeof t[r]=="number"&&isNaN(t[r])&&isNaN(e[r]))})}function MMe(e,t){return typeof e=="object"&&typeof t=="object"?nU(e,t)&&nU(t,e):e===t}let Ja=[],kf=0;const I3=4;let v8=0,RMe=e=>{let t=[],r={get(){return r.lc||r.listen(()=>{})(),r.value},lc:0,listen(n){return r.lc=t.push(n),()=>{for(let o=kf+I3;o<Ja.length;)Ja[o]===n?Ja.splice(o,I3):o+=I3;let i=t.indexOf(n);~i&&(t.splice(i,1),--r.lc||r.off())}},notify(n,i){v8++;let o=!Ja.length;for(let s of t)Ja.push(s,r.value,n,i);if(o){for(kf=0;kf<Ja.length;kf+=I3)Ja[kf](Ja[kf+1],Ja[kf+2],Ja[kf+3]);Ja.length=0}},off(){},set(n){let i=r.value;i!==n&&(r.value=n,r.notify(i))},subscribe(n){let i=r.listen(n);return n(r.value),i},value:e};return r};const CMe=5,B3=6,N3=10;let jMe=(e,t,r,n)=>(e.events=e.events||{},e.events[r+N3]||(e.events[r+N3]=n(i=>{e.events[r].reduceRight((o,s)=>(s(o),o),{shared:{},...i})})),e.events[r]=e.events[r]||[],e.events[r].push(t),()=>{let i=e.events[r],o=i.indexOf(t);i.splice(o,1),i.length||(delete e.events[r],e.events[r+N3](),delete e.events[r+N3])}),UMe=1e3,zMe=(e,t)=>jMe(e,r=>{let n=t(r);n&&e.events[B3].push(n)},CMe,r=>{let n=e.listen;e.listen=(...o)=>(!e.lc&&!e.active&&(e.active=!0,r()),n(...o));let i=e.off;return e.events[B3]=[],e.off=()=>{i(),setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let o of e.events[B3])o();e.events[B3]=[]}},UMe)},()=>{e.listen=n,e.off=i}}),LMe=(e,t,r)=>{Array.isArray(e)||(e=[e]);let n,i,o=()=>{if(i===v8)return;i=v8;let u=e.map(h=>h.get());if(!n||u.some((h,g)=>h!==n[g])){n=u;let h=t(...u);h&&h.then&&h.t?h.then(g=>{n===u&&s.set(g)}):(s.set(h),i=v8)}},s=RMe(void 0),a=s.get;s.get=()=>(o(),a());let l,c=()=>{clearTimeout(l),l=setTimeout(o)};return zMe(s,()=>{let u=e.map(h=>h.listen(c));return o(),()=>{for(let h of u)h()}}),s},$Me=(e,t)=>LMe(e,t),FMe=e=>{e.listen(()=>{})};const DMe=e=>({...e});function HMe(e){const{$network:t,$store:r,methods:n,client:i}=$r.useContext(mX),o=DMe,s=$r.useCallback((u,h)=>({paymentAddress:u.paymentAddress,address:u.address,publicKey:u.publicKey,paymentPublicKey:u.paymentPublicKey,library:{},network:h,client:i,accounts:u.accounts,balance:u.balance?Number(u.balance):void 0,connected:u.connected,isConnecting:u.isConnecting,isInitializing:u.isInitializing,provider:u.provider,hasLeather:u.hasProvider.leather??!1,hasMagicEden:u.hasProvider["magic-eden"]??!1,hasOkx:u.hasProvider.okx??!1,hasOyl:u.hasProvider.oyl??!1,hasOrange:u.hasProvider.orange??!1,hasOpNet:u.hasProvider.op_net??!1,hasPhantom:u.hasProvider.phantom??!1,hasUnisat:u.hasProvider.unisat??!1,hasSparrow:u.hasProvider.sparrow??!1,hasWizz:u.hasProvider.wizz??!1,hasXverse:u.hasProvider.xverse??!1,hasTokeo:u.hasProvider.tokeo??!1,hasKeplr:u.hasProvider.keplr??!1,...n}),[i,n]),a=$r.useMemo(()=>{const u=$Me([r,t],s);return FMe(u),u},[r,t,s]),[l,c]=$r.useState(()=>o(a.get()));return $r.useEffect(()=>{const u=a.listen(h=>{const g=o(h);MMe(g,l)||c(g)});return()=>u()},[a,o,l]),l}var xE=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},AE=typeof window>"u"||"Deno"in globalThis;function su(){}function KMe(e,t){return typeof e=="function"?e(t):e}function VMe(e){return typeof e=="number"&&e>=0&&e!==1/0}function WMe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Xk(e,t){return typeof e=="function"?e(t):e}function qMe(e,t){return typeof e=="function"?e(t):e}function iU(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s){if(n){if(t.queryHash!==bP(s,t.options))return!1}else if(!Ov(t.queryKey,s))return!1}if(r!=="all"){const l=t.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||o&&!o(t))}function oU(e,t){const{exact:r,status:n,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(Av(t.options.mutationKey)!==Av(o))return!1}else if(!Ov(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function bP(e,t){return((t==null?void 0:t.queryKeyHashFn)||Av)(e)}function Av(e){return JSON.stringify(e,(t,r)=>Qk(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ov(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ov(e[r],t[r])):!1}function bX(e,t){if(e===t)return e;const r=sU(e)&&sU(t);if(r||Qk(e)&&Qk(t)){const n=r?e:Object.keys(e),i=n.length,o=r?t:Object.keys(t),s=o.length,a=r?[]:{},l=new Set(n);let c=0;for(let u=0;u<s;u++){const h=r?u:o[u];(!r&&l.has(h)||r)&&e[h]===void 0&&t[h]===void 0?(a[h]=void 0,c++):(a[h]=bX(e[h],t[h]),a[h]===e[h]&&e[h]!==void 0&&c++)}return i===s&&c===i?e:a}return t}function sU(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Qk(e){if(!aU(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!aU(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function aU(e){return Object.prototype.toString.call(e)==="[object Object]"}function ZMe(e){return new Promise(t=>{setTimeout(t,e)})}function GMe(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?bX(e,t):t}function XMe(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function QMe(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var vP=Symbol();function vX(e,t){return!e.queryFn&&t!=null&&t.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===vP?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Yp,Wd,pb,uU,YMe=(uU=class extends xE{constructor(){super(),Jr(this,Yp),Jr(this,Wd),Jr(this,pb),pr(this,pb,e=>{if(!AE&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){ot(this,Wd)||this.setEventListener(ot(this,pb))}onUnsubscribe(){var e;this.hasListeners()||((e=ot(this,Wd))==null||e.call(this),pr(this,Wd,void 0))}setEventListener(e){var t;pr(this,pb,e),(t=ot(this,Wd))==null||t.call(this),pr(this,Wd,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ot(this,Yp)!==e&&(pr(this,Yp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof ot(this,Yp)=="boolean"?ot(this,Yp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Yp=new WeakMap,Wd=new WeakMap,pb=new WeakMap,uU),wX=new YMe,gb,qd,yb,lU,JMe=(lU=class extends xE{constructor(){super(),Jr(this,gb,!0),Jr(this,qd),Jr(this,yb),pr(this,yb,e=>{if(!AE&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}})}onSubscribe(){ot(this,qd)||this.setEventListener(ot(this,yb))}onUnsubscribe(){var e;this.hasListeners()||((e=ot(this,qd))==null||e.call(this),pr(this,qd,void 0))}setEventListener(e){var t;pr(this,yb,e),(t=ot(this,qd))==null||t.call(this),pr(this,qd,e(this.setOnline.bind(this)))}setOnline(e){ot(this,gb)!==e&&(pr(this,gb,e),this.listeners.forEach(t=>{t(e)}))}isOnline(){return ot(this,gb)}},gb=new WeakMap,qd=new WeakMap,yb=new WeakMap,lU),d4=new JMe;function eRe(){let e,t;const r=new Promise((i,o)=>{e=i,t=o});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function tRe(e){return Math.min(1e3*2**e,3e4)}function EX(e){return(e??"online")==="online"?d4.isOnline():!0}var _X=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function a7(e){return e instanceof _X}function SX(e){let t=!1,r=0,n=!1,i;const o=eRe(),s=F=>{var D;n||(g(new _X(F)),(D=e.abort)==null||D.call(e))},a=()=>{t=!0},l=()=>{t=!1},c=()=>wX.isFocused()&&(e.networkMode==="always"||d4.isOnline())&&e.canRun(),u=()=>EX(e.networkMode)&&e.canRun(),h=F=>{var D;n||(n=!0,(D=e.onSuccess)==null||D.call(e,F),i==null||i(),o.resolve(F))},g=F=>{var D;n||(n=!0,(D=e.onError)==null||D.call(e,F),i==null||i(),o.reject(F))},k=()=>new Promise(F=>{var D;i=$=>{(n||c())&&F($)},(D=e.onPause)==null||D.call(e)}).then(()=>{var F;i=void 0,n||(F=e.onContinue)==null||F.call(e)}),R=()=>{if(n)return;let F;const D=r===0?e.initialPromise:void 0;try{F=D??e.fn()}catch($){F=Promise.reject($)}Promise.resolve(F).then(h).catch($=>{var B;if(n)return;const U=e.retry??(AE?0:3),q=e.retryDelay??tRe,ee=typeof q=="function"?q(r,$):q,ae=U===!0||typeof U=="number"&&r<U||typeof U=="function"&&U(r,$);if(t||!ae){g($);return}r++,(B=e.onFail)==null||B.call(e,r,$),ZMe(ee).then(()=>c()?void 0:k()).then(()=>{t?g($):R()})})};return{promise:o,cancel:s,continue:()=>(i==null||i(),o),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?R():k().then(R),o)}}var rRe=e=>setTimeout(e,0);function nRe(){let e=[],t=0,r=a=>{a()},n=a=>{a()},i=rRe;const o=a=>{t?e.push(a):i(()=>{r(a)})},s=()=>{const a=e;e=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||s()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var zo=nRe(),Jp,cU,kX=(cU=class{constructor(){Jr(this,Jp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VMe(this.gcTime)&&pr(this,Jp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(AE?1/0:5*60*1e3))}clearGcTimeout(){ot(this,Jp)&&(clearTimeout(ot(this,Jp)),pr(this,Jp,void 0))}},Jp=new WeakMap,cU),mb,eg,eu,tg,Ro,M3,rg,Yu,Yl,fU,iRe=(fU=class extends kX{constructor(e){super(),Jr(this,Yu),Jr(this,mb),Jr(this,eg),Jr(this,eu),Jr(this,tg),Jr(this,Ro),Jr(this,M3),Jr(this,rg),pr(this,rg,!1),pr(this,M3,e.defaultOptions),this.setOptions(e.options),this.observers=[],pr(this,tg,e.client),pr(this,eu,ot(this,tg).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,pr(this,mb,sRe(this.options)),this.state=e.state??ot(this,mb),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ot(this,Ro))==null?void 0:e.promise}setOptions(e){this.options={...ot(this,M3),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ot(this,eu).remove(this)}setData(e,t){const r=GMe(this.state.data,e,this.options);return Uo(this,Yu,Yl).call(this,{data:r,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),r}setState(e,t){Uo(this,Yu,Yl).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t,r;const n=(t=ot(this,Ro))==null?void 0:t.promise;return(r=ot(this,Ro))==null||r.cancel(e),n?n.then(su).catch(su):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ot(this,mb))}isActive(){return this.observers.some(e=>qMe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===vP||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Xk(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!WMe(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(e=ot(this,Ro))==null||e.continue()}onOnline(){var e;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(e=ot(this,Ro))==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ot(this,eu).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(ot(this,Ro)&&(ot(this,rg)?ot(this,Ro).cancel({revert:!0}):ot(this,Ro).cancelRetry()),this.scheduleGc()),ot(this,eu).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Uo(this,Yu,Yl).call(this,{type:"invalidate"})}fetch(e,t){var r,n,i;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t!=null&&t.cancelRefetch)this.cancel({silent:!0});else if(ot(this,Ro))return ot(this,Ro).continueRetry(),ot(this,Ro).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(h=>h.options.queryFn);u&&this.setOptions(u.options)}const o=new AbortController,s=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(pr(this,rg,!0),o.signal)})},a=()=>{const u=vX(this.options,t),h=(()=>{const g={client:ot(this,tg),queryKey:this.queryKey,meta:this.meta};return s(g),g})();return pr(this,rg,!1),this.options.persister?this.options.persister(u,h,this):u(h)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:ot(this,tg),state:this.state,fetchFn:a};return s(u),u})();(r=this.options.behavior)==null||r.onFetch(l,this),pr(this,eg,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((n=l.fetchOptions)==null?void 0:n.meta))&&Uo(this,Yu,Yl).call(this,{type:"fetch",meta:(i=l.fetchOptions)==null?void 0:i.meta});const c=u=>{var h,g,k,R;a7(u)&&u.silent||Uo(this,Yu,Yl).call(this,{type:"error",error:u}),a7(u)||((g=(h=ot(this,eu).config).onError)==null||g.call(h,u,this),(R=(k=ot(this,eu).config).onSettled)==null||R.call(k,this.state.data,u,this)),this.scheduleGc()};return pr(this,Ro,SX({initialPromise:t==null?void 0:t.initialPromise,fn:l.fetchFn,abort:o.abort.bind(o),onSuccess:u=>{var h,g,k,R;if(u===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(F){c(F);return}(g=(h=ot(this,eu).config).onSuccess)==null||g.call(h,u,this),(R=(k=ot(this,eu).config).onSettled)==null||R.call(k,u,this.state.error,this),this.scheduleGc()},onError:c,onFail:(u,h)=>{Uo(this,Yu,Yl).call(this,{type:"failed",failureCount:u,error:h})},onPause:()=>{Uo(this,Yu,Yl).call(this,{type:"pause"})},onContinue:()=>{Uo(this,Yu,Yl).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),ot(this,Ro).start()}},mb=new WeakMap,eg=new WeakMap,eu=new WeakMap,tg=new WeakMap,Ro=new WeakMap,M3=new WeakMap,rg=new WeakMap,Yu=new WeakSet,Yl=function(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...oRe(r.data,this.options),fetchMeta:e.meta??null};case"success":return pr(this,eg,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return a7(n)&&n.revert&&ot(this,eg)?{...ot(this,eg),fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),zo.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ot(this,eu).notify({query:this,type:"updated",action:e})})},fU);function oRe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:EX(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function sRe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Jl,dU,aRe=(dU=class extends xE{constructor(e={}){super(),Jr(this,Jl),this.config=e,pr(this,Jl,new Map)}build(e,t,r){const n=t.queryKey,i=t.queryHash??bP(n,t);let o=this.get(i);return o||(o=new iRe({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){ot(this,Jl).has(e.queryHash)||(ot(this,Jl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=ot(this,Jl).get(e.queryHash);t&&(e.destroy(),t===e&&ot(this,Jl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){zo.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ot(this,Jl).get(e)}getAll(){return[...ot(this,Jl).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>iU(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>iU(e,r)):t}notify(e){zo.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){zo.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){zo.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Jl=new WeakMap,dU),ec,rs,ng,tc,xf,hU,uRe=(hU=class extends kX{constructor(e){super(),Jr(this,tc),Jr(this,ec),Jr(this,rs),Jr(this,ng),this.mutationId=e.mutationId,pr(this,rs,e.mutationCache),pr(this,ec,[]),this.state=e.state||lRe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ot(this,ec).includes(e)||(ot(this,ec).push(e),this.clearGcTimeout(),ot(this,rs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){pr(this,ec,ot(this,ec).filter(t=>t!==e)),this.scheduleGc(),ot(this,rs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ot(this,ec).length||(this.state.status==="pending"?this.scheduleGc():ot(this,rs).remove(this))}continue(){var e;return((e=ot(this,ng))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var t,r,n,i,o,s,a,l,c,u,h,g,k,R,F,D,$,B,U,q;const ee=()=>{Uo(this,tc,xf).call(this,{type:"continue"})};pr(this,ng,SX({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(K,C)=>{Uo(this,tc,xf).call(this,{type:"failed",failureCount:K,error:C})},onPause:()=>{Uo(this,tc,xf).call(this,{type:"pause"})},onContinue:ee,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ot(this,rs).canRun(this)}));const ae=this.state.status==="pending",re=!ot(this,ng).canStart();try{if(ae)ee();else{Uo(this,tc,xf).call(this,{type:"pending",variables:e,isPaused:re}),await((r=(t=ot(this,rs).config).onMutate)==null?void 0:r.call(t,e,this));const C=await((i=(n=this.options).onMutate)==null?void 0:i.call(n,e));C!==this.state.context&&Uo(this,tc,xf).call(this,{type:"pending",context:C,variables:e,isPaused:re})}const K=await ot(this,ng).start();return await((s=(o=ot(this,rs).config).onSuccess)==null?void 0:s.call(o,K,e,this.state.context,this)),await((l=(a=this.options).onSuccess)==null?void 0:l.call(a,K,e,this.state.context)),await((u=(c=ot(this,rs).config).onSettled)==null?void 0:u.call(c,K,null,this.state.variables,this.state.context,this)),await((g=(h=this.options).onSettled)==null?void 0:g.call(h,K,null,e,this.state.context)),Uo(this,tc,xf).call(this,{type:"success",data:K}),K}catch(K){try{throw await((R=(k=ot(this,rs).config).onError)==null?void 0:R.call(k,K,e,this.state.context,this)),await((D=(F=this.options).onError)==null?void 0:D.call(F,K,e,this.state.context)),await((B=($=ot(this,rs).config).onSettled)==null?void 0:B.call($,void 0,K,this.state.variables,this.state.context,this)),await((q=(U=this.options).onSettled)==null?void 0:q.call(U,void 0,K,e,this.state.context)),K}finally{Uo(this,tc,xf).call(this,{type:"error",error:K})}}finally{ot(this,rs).runNext(this)}}},ec=new WeakMap,rs=new WeakMap,ng=new WeakMap,tc=new WeakSet,xf=function(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),zo.batch(()=>{ot(this,ec).forEach(r=>{r.onMutationUpdate(e)}),ot(this,rs).notify({mutation:this,type:"updated",action:e})})},hU);function lRe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Af,Ju,R3,pU,cRe=(pU=class extends xE{constructor(e={}){super(),Jr(this,Af),Jr(this,Ju),Jr(this,R3),this.config=e,pr(this,Af,new Set),pr(this,Ju,new Map),pr(this,R3,0)}build(e,t,r){const n=new uRe({mutationCache:this,mutationId:++t9(this,R3)._,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){ot(this,Af).add(e);const t=C3(e);if(typeof t=="string"){const r=ot(this,Ju).get(t);r?r.push(e):ot(this,Ju).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ot(this,Af).delete(e)){const t=C3(e);if(typeof t=="string"){const r=ot(this,Ju).get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&ot(this,Ju).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=C3(e);if(typeof t=="string"){const r=ot(this,Ju).get(t),n=r==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){var t;const r=C3(e);if(typeof r=="string"){const n=(t=ot(this,Ju).get(r))==null?void 0:t.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){zo.batch(()=>{ot(this,Af).forEach(e=>{this.notify({type:"removed",mutation:e})}),ot(this,Af).clear(),ot(this,Ju).clear()})}getAll(){return Array.from(ot(this,Af))}find(e){const t={exact:!0,...e};return this.getAll().find(r=>oU(t,r))}findAll(e={}){return this.getAll().filter(t=>oU(e,t))}notify(e){zo.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return zo.batch(()=>Promise.all(e.map(t=>t.continue().catch(su))))}},Af=new WeakMap,Ju=new WeakMap,R3=new WeakMap,pU);function C3(e){var t;return(t=e.options.scope)==null?void 0:t.id}function gU(e){return{onFetch:(t,r)=>{var n,i,o,s,a;const l=t.options,c=(o=(i=(n=t.fetchOptions)==null?void 0:n.meta)==null?void 0:i.fetchMore)==null?void 0:o.direction,u=((s=t.state.data)==null?void 0:s.pages)||[],h=((a=t.state.data)==null?void 0:a.pageParams)||[];let g={pages:[],pageParams:[]},k=0;const R=async()=>{let F=!1;const D=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(t.signal.aborted?F=!0:t.signal.addEventListener("abort",()=>{F=!0}),t.signal)})},$=vX(t.options,t.fetchOptions),B=async(U,q,ee)=>{if(F)return Promise.reject();if(q==null&&U.pages.length)return Promise.resolve(U);const ae=(()=>{const G={client:t.client,queryKey:t.queryKey,pageParam:q,direction:ee?"backward":"forward",meta:t.options.meta};return D(G),G})(),re=await $(ae),{maxPages:K}=t.options,C=ee?QMe:XMe;return{pages:C(U.pages,re,K),pageParams:C(U.pageParams,q,K)}};if(c&&u.length){const U=c==="backward",q=U?fRe:yU,ee={pages:u,pageParams:h},ae=q(l,ee);g=await B(ee,ae,U)}else{const U=e??u.length;do{const q=k===0?h[0]??l.initialPageParam:yU(l,g);if(k>0&&q==null)break;g=await B(g,q),k++}while(k<U)}return g};t.options.persister?t.fetchFn=()=>{var F,D;return(D=(F=t.options).persister)==null?void 0:D.call(F,R,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=R}}}function yU(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function fRe(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Jn,Zd,Gd,bb,vb,Xd,wb,Eb,mU,dRe=(mU=class{constructor(e={}){Jr(this,Jn),Jr(this,Zd),Jr(this,Gd),Jr(this,bb),Jr(this,vb),Jr(this,Xd),Jr(this,wb),Jr(this,Eb),pr(this,Jn,e.queryCache||new aRe),pr(this,Zd,e.mutationCache||new cRe),pr(this,Gd,e.defaultOptions||{}),pr(this,bb,new Map),pr(this,vb,new Map),pr(this,Xd,0)}mount(){t9(this,Xd)._++,ot(this,Xd)===1&&(pr(this,wb,wX.subscribe(async e=>{e&&(await this.resumePausedMutations(),ot(this,Jn).onFocus())})),pr(this,Eb,d4.subscribe(async e=>{e&&(await this.resumePausedMutations(),ot(this,Jn).onOnline())})))}unmount(){var e,t;t9(this,Xd)._--,ot(this,Xd)===0&&((e=ot(this,wb))==null||e.call(this),pr(this,wb,void 0),(t=ot(this,Eb))==null||t.call(this),pr(this,Eb,void 0))}isFetching(e){return ot(this,Jn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return ot(this,Zd).findAll({...e,status:"pending"}).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=ot(this,Jn).get(r.queryHash))==null?void 0:t.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=ot(this,Jn).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Xk(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return ot(this,Jn).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),i=ot(this,Jn).get(n.queryHash),o=i==null?void 0:i.state.data,s=KMe(t,o);if(s!==void 0)return ot(this,Jn).build(this,n).setData(s,{...r,manual:!0})}setQueriesData(e,t,r){return zo.batch(()=>ot(this,Jn).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return(t=ot(this,Jn).get(r.queryHash))==null?void 0:t.state}removeQueries(e){const t=ot(this,Jn);zo.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=ot(this,Jn);return zo.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=zo.batch(()=>ot(this,Jn).findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(su).catch(su)}invalidateQueries(e,t={}){return zo.batch(()=>(ot(this,Jn).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=zo.batch(()=>ot(this,Jn).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,r);return r.throwOnError||(o=o.catch(su)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(su)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=ot(this,Jn).build(this,t);return r.isStaleByTime(Xk(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(su).catch(su)}fetchInfiniteQuery(e){return e.behavior=gU(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(su).catch(su)}ensureInfiniteQueryData(e){return e.behavior=gU(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return d4.isOnline()?ot(this,Zd).resumePausedMutations():Promise.resolve()}getQueryCache(){return ot(this,Jn)}getMutationCache(){return ot(this,Zd)}getDefaultOptions(){return ot(this,Gd)}setDefaultOptions(e){pr(this,Gd,e)}setQueryDefaults(e,t){ot(this,bb).set(Av(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...ot(this,bb).values()],r={};return t.forEach(n=>{Ov(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){ot(this,vb).set(Av(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...ot(this,vb).values()],r={};return t.forEach(n=>{Ov(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...ot(this,Gd).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=bP(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===vP&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...ot(this,Gd).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){ot(this,Jn).clear(),ot(this,Zd).clear()}},Jn=new WeakMap,Zd=new WeakMap,Gd=new WeakMap,bb=new WeakMap,vb=new WeakMap,Xd=new WeakMap,wb=new WeakMap,Eb=new WeakMap,mU),hRe=$r.createContext(void 0),pRe=({client:e,children:t})=>($r.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Fs.jsx(hRe.Provider,{value:e,children:t})),gRe=$r.createContext(!1);gRe.Provider;function yRe(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}$r.createContext(yRe());const mRe=new dRe;function bRe({config:e,children:t}){const r=$r.useMemo(()=>eX(),[]),n=$r.useMemo(()=>zNe(e),[e]),[i,o]=$r.useState(null);$r.useEffect(()=>{n!=null&&n.network&&r.$network.set(n.network);const C=new IMe(r,n);return o(()=>C),C.initialize(),()=>C.dispose()},[n,r]);const s=$r.useCallback(async C=>await(i==null?void 0:i.connect(C)),[i]),a=$r.useCallback(()=>i==null?void 0:i.disconnect(),[i]),l=$r.useCallback(async()=>{var C;return((C=await((i==null?void 0:i.getBalance())??Bi.getBalance()))==null?void 0:C.toString())??""},[i]),c=$r.useCallback(async C=>await(i==null?void 0:i.getMetaBalances(C))??Bi.getMetaBalances(),[i]),u=$r.useCallback(async(C,G)=>await(i==null?void 0:i.getInscriptions(C,G))??Bi.getInscriptions(),[i]),h=$r.useCallback(()=>(i==null?void 0:i.getNetwork())??Bi.getNetwork(),[i]),g=$r.useCallback(async()=>await(i==null?void 0:i.getPublicKey())??Bi.getPublicKey(),[i]),k=$r.useCallback(C=>(i==null?void 0:i.pushPsbt(C))??Bi.pushPsbt(),[i]),R=$r.useCallback(async(C,G)=>{let v={};return typeof G=="string"?v={toSignAddress:G}:G&&(v=G),await(i==null?void 0:i.signMessage(C,v))??Bi.signMessage()},[i]),F=$r.useCallback(async()=>await(i==null?void 0:i.requestAccounts())??Bi.requestAccounts(),[i]),D=$r.useCallback(async(C,G)=>await(i==null?void 0:i.sendBTC.call(i,C,G))??Bi.sendBTC(),[i]),$=$r.useCallback(async(...C)=>{var G,v;if(typeof C[0]=="string"){const[p,_,w]=C;return await((G=i==null?void 0:i.signPsbt)==null?void 0:G.call(i,p,_??!1,w??!1))??Bi.signPsbt()}const[I]=C;return await((v=i==null?void 0:i.signPsbt)==null?void 0:v.call(i,I))??Bi.signPsbt()},[i]),B=$r.useCallback(async C=>{var G;return await((G=i==null?void 0:i.signPsbts)==null?void 0:G.call(i,C))??Bi.signPsbts()},[i]),U=$r.useCallback(async C=>await(i==null?void 0:i.switchNetwork.call(i,C)),[i]),q=$r.useCallback(async(C,G)=>await(i==null?void 0:i.inscribe.call(i,C,G))??Bi.inscribe(),[i]),ee=$r.useCallback(async(C,G)=>await(i==null?void 0:i.send.call(i,C,G))??Bi.send(),[i]),ae=$r.useCallback(async(C,G)=>await(i==null?void 0:i.sendInscriptions.call(i,C,G))??Bi.sendInscriptions(),[i]),re=$r.useCallback(async C=>await(i==null?void 0:i.dataSourceManager.getAddressUtxos(C))??Bi.getUtxos(),[i]),K=$r.useMemo(()=>i?{connect:s,disconnect:a,getBalance:l,getMetaBalances:c,getInscriptions:u,getNetwork:h,getPublicKey:g,pushPsbt:k,signMessage:R,requestAccounts:F,sendBTC:D,signPsbt:$,signPsbts:B,switchNetwork:U,inscribe:q,send:ee,sendInscriptions:ae,getUtxos:re}:Bi,[i,s,a,l,u,c,h,g,q,k,F,ee,D,ae,R,$,B,U,re]);return Fs.jsx(pRe,{client:mRe,children:Fs.jsx(mX.Provider,{value:{$store:r.$store,$network:r.$network,client:i,methods:K},children:t})})}function vRe(){const{connect:e,disconnect:t,connected:r,address:n}=HMe(),i=async()=>{try{await e(fh)}catch(s){console.error("Failed to connect wallet:",s)}},o=async()=>{try{await t()}catch(s){console.error("Failed to disconnect wallet:",s)}};return Fs.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[Fs.jsx("h1",{children:"BTC Quest Wallet Connect"}),r?Fs.jsxs("div",{children:[Fs.jsxs("p",{children:["Connected: ",n]}),Fs.jsx("button",{onClick:o,style:bU,children:"Disconnect"})]}):Fs.jsx("button",{onClick:i,style:bU,children:"Connect Wallet"})]})}const bU={padding:"12px 24px",fontSize:"16px",cursor:"pointer",backgroundColor:"#f7931a",color:"white",border:"none",borderRadius:"8px",marginTop:"20px"};function wRe(){return Fs.jsx(bRe,{children:Fs.jsx(vRe,{})})}u7.createRoot(document.getElementById("root")).render(Fs.jsx($ne.StrictMode,{children:Fs.jsx(wRe,{})}));
